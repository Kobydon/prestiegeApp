var fh=Object.defineProperty,gh=(Ea,fr,cn)=>fr in Ea?fh(Ea,fr,{enumerable:!0,configurable:!0,writable:!0,value:cn}):Ea[fr]=cn,ao=(Ea,fr,cn)=>(gh(Ea,"symbol"!=typeof fr?fr+"":fr,cn),cn);(self.webpackChunkpd_free_angularcli=self.webpackChunkpd_free_angularcli||[]).push([[562],{6562:(Ea,fr,cn)=>{"use strict";cn.r(fr),cn.d(fr,{AdminLayoutModule:()=>bd});var Gt=cn(2504),be=cn(6895),b=cn(433),Y=cn(5861),He=cn(655),rs=cn(8332),he=cn.n(rs),ae=cn(5033),P=cn(7418),ee=cn(9742),pe=cn(1863),te=cn(2785),e=cn(8256),me=cn(7185),Ne=cn(529);function Ie(c,n){1&c&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"p",5),e._UZ(5,"i",6),e._uU(6," TRENDS "),e.qZA()(),e.TgZ(7,"div",7),e._UZ(8,"canvas",8),e.qZA()()()())}class Ee{constructor(n,t,s,p,C,O,qe){this.toastr=n,this.fb=t,this.http=s,this.roomService=p,this.guestService=C,this.paymentService=O,this.userService=qe,this.page=1,this.pageSize=16,this.monthlyPayments={},this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}ngOnInit(){this.getPaymentList(),this.getUser()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t,"admin"===n.user[0]?.roles&&n.initializePaymentChart())}catch(s){console.log(s)}finally{console.log("success")}})()}ngOnChanges(n){n.user&&"admin"===this.user[0]?.roles&&this.initializePaymentChart()}ngAfterViewInit(){"admin"===this.user[0]?.roles&&this.initializePaymentChart()}getPaymentList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getIncomeList();t&&(n.paymentList=t,n.processMonthlyPayments(),n.initializePaymentChart())}catch(t){console.error("Error fetching payments:",t)}})()}processMonthlyPayments(){this.monthlyPayments=this.months.reduce((n,t)=>(n[t]=0,n),{}),this.paymentList.forEach(n=>{const t=new Date(n.date),s=this.months[t.getMonth()],p=parseInt(n.amount,10);this.monthlyPayments[s]+=p})}initializePaymentChart(){const t=document.getElementById("paymentChart").getContext("2d");this.paymentChart&&this.paymentChart.destroy(),this.paymentChart=new(he())(t,{type:"line",data:{labels:this.months,datasets:[{label:"Monthly Payments (GHS)",data:Object.values(this.monthlyPayments),borderColor:"#6bd098",backgroundColor:"rgba(107, 208, 152, 0.2)",borderWidth:2,pointRadius:1,pointHoverRadius:1,fill:!0}]},options:{responsive:!0,plugins:{legend:{display:!0,position:"top"},tooltip:{enabled:!0}},scales:{x:{title:{display:!0,text:"Month"}},y:{title:{display:!0,text:"Amount (GHS)"},beginAtZero:!0}}}})}getExchangeRates(){this.http.get("https://api.exchangerate-api.com/v4/latest/USD").subscribe(t=>{t&&t.rates?(this.usdRate=t.rates.USD||1,this.gbpRate=t.rates.GBP,this.eurRate=t.rates.EUR,this.ghsRate=t.rates.GHS,console.log("Exchange Rates:",t.rates)):console.warn("Unexpected API response:",t)},t=>{console.error("Failed to fetch exchange rates:",t),0===t.status&&console.error("Network or CORS issue. Ensure the API endpoint is accessible.")})}getBookingList(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.roomService.getBookingListNew();t&&(n.bookings=t)}catch{}})()}checkOut(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.checkout(n))&&t.getBookingList(),t.getRoom()}catch{t.toastr.info(null,"kindly pay all pending bills  before checkout")}finally{t.loading.stop()}})()}getRoom(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.roomService.getrooms();t&&(n.rooms=t)}catch{}})()}getGust(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.guestService.getGuests();t&&(n.guestList=t)}catch{}})()}canGlow(n){const t=new Date,s=new Date(n),p=s.getFullYear()===t.getFullYear()&&s.getMonth()===t.getMonth()&&s.getDate()===t.getDate(),C=s.getHours()>=12;return p&&C}}function tt(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),e._UZ(4,"img",5),e.qZA(),e.TgZ(5,"div",6)(6,"div",7)(7,"a",8),e._UZ(8,"img",9),e.TgZ(9,"h5",10),e._uU(10),e.qZA()(),e.TgZ(11,"p",11),e._uU(12),e.qZA()(),e._UZ(13,"p",12),e.qZA(),e.TgZ(14,"div",13),e._UZ(15,"hr"),e.TgZ(16,"div",14)(17,"div",1),e._UZ(18,"div",15),e.TgZ(19,"div",16),e._UZ(20,"br"),e.qZA(),e.TgZ(21,"div",17),e._UZ(22,"br"),e.qZA()()()()()(),e.TgZ(23,"div",18)(24,"div",3)(25,"div",19)(26,"h5",20),e._uU(27,"Edit Profile"),e.qZA()(),e.TgZ(28,"div",6)(29,"form",21)(30,"div",1)(31,"div",22)(32,"div",23)(33,"label"),e._uU(34,"Role (disabled)"),e.qZA(),e._UZ(35,"input",24),e.qZA()(),e.TgZ(36,"div",25)(37,"div",23)(38,"label"),e._uU(39,"Username"),e.qZA(),e._UZ(40,"input",26),e.qZA()(),e.TgZ(41,"div",25)(42,"div",23)(43,"label"),e._uU(44,"Password"),e.qZA(),e._UZ(45,"input",27),e.qZA()(),e.TgZ(46,"div",28)(47,"div",23)(48,"label"),e._uU(49,"Email"),e.qZA(),e._UZ(50,"input",29),e.qZA()()(),e.TgZ(51,"div",1)(52,"div",30)(53,"div",23)(54,"label"),e._uU(55,"First Name"),e.qZA(),e._UZ(56,"input",31),e.qZA()(),e.TgZ(57,"div",32)(58,"div",23)(59,"label"),e._uU(60,"Last Name"),e.qZA(),e._UZ(61,"input",33),e.qZA()()(),e.TgZ(62,"div",1)(63,"div",28)(64,"div",23)(65,"label"),e._uU(66,"Address"),e.qZA(),e._UZ(67,"input",34),e.qZA()()(),e.TgZ(68,"div",1)(69,"div",35)(70,"div",23)(71,"label"),e._uU(72,"City"),e.qZA(),e._UZ(73,"input",36),e.qZA()(),e.TgZ(74,"div",37)(75,"div",23)(76,"label"),e._uU(77,"Country"),e.qZA(),e._UZ(78,"input",38),e.qZA()(),e.TgZ(79,"div",39)(80,"div",23)(81,"label"),e._uU(82," Phone Number"),e.qZA(),e._UZ(83,"input",40),e.qZA()()(),e.TgZ(84,"div",1)(85,"div",28)(86,"div",23)(87,"label"),e._uU(88,"About Me"),e.qZA(),e._UZ(89,"textarea",41),e.qZA()()(),e.TgZ(90,"div",1)(91,"div",42)(92,"button",43),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updateProfile(p.userForm.value))}),e._uU(93," Update Profile"),e.qZA()()()()()()()()}if(2&c){const t=e.oxw();e.xp6(10),e.Oqu(t.user_info[0].firstname+" "+t.user_info[0].lastname),e.xp6(2),e.hij(" @",t.user_info[0].username," "),e.xp6(17),e.Q6J("formGroup",t.userForm)}}Ee.\u0275fac=function(n){return new(n||Ee)(e.Y36(me._W),e.Y36(b.qu),e.Y36(Ne.eN),e.Y36(P.X),e.Y36(ee.Q),e.Y36(pe.t),e.Y36(te.W))},Ee.\u0275cmp=e.Xpm({type:Ee,selectors:[["dashboard-cmp"]],features:[e.TTD],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-md-12"],[1,"card","card-chart"],[1,"card-header",2,"background-color","#333","color","white"],[1,"card-title"],[1,"fa","fa-line-chart","me-2","text-danger"],[1,"card-body"],["id","paymentChart"]],template:function(n,t){1&n&&e.YNc(0,Ie,9,0,"div",0),2&n&&e.Q6J("ngIf","admin"==(null==t.user[0]?null:t.user[0].roles))},dependencies:[be.O5],styles:[".card-header[_ngcontent-%COMP%] {\n  background-color: #333;\n  color: white;\n}\n\n.card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n  margin-right: 10px;\n}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Ee.prototype,"loading",void 0);class Ke{constructor(n,t,s){this.userService=n,this.fb=t,this.toastr=s,this.userForm=this.fb.group({id:["",b.kI.required],firstname:["",b.kI.required],about:["",b.kI.required],lastname:["",b.kI.required],phone:["",b.kI.required],username:["",b.kI.required],password:["",b.kI.required],role:["",b.kI.required],country:["",b.kI.required],city:["",b.kI.required],address:["",b.kI.required],email:["",b.kI.required]})}ngOnInit(){this.getUserDetail()}errorMessage(){try{throw new Error("username or password is wrong")}catch(n){this.toastr.error(n.message)}}getUserDetail(){var n=this;return(0,Y.Z)(function*(){var t=yield n.userService.getUser();t&&(n.user_info=t),n.userForm.patchValue({id:t[0].id,firstname:t[0].firstname,username:t[0].username,about:t[0].about,lastname:t[0].lastname,country:t[0].country,city:t[0].city,role:t[0].roles,email:t[0].email,address:t[0].address,phone:t[0].phone})})()}updateProfile(n){var t=this;return(0,Y.Z)(function*(){const s={id:n.id,firstname:n.firstname,about:n.about,lastname:n.lastname,phone:n.phone,username:n.username,password:n.password,country:n.country,city:n.city,address:n.address,email:n.email};try{t.loading.start(),(yield t.userService.updateUserProfile(s))&&t.getUserDetail()}catch{t.errorMessage()}finally{t.loading.start()}})()}}Ke.\u0275fac=function(n){return new(n||Ke)(e.Y36(te.W),e.Y36(b.qu),e.Y36(me._W))},Ke.\u0275cmp=e.Xpm({type:Ke,selectors:[["user-cmp"]],decls:1,vars:1,consts:[["class","row",4,"blockUI"],[1,"row"],[1,"col-md-4"],[1,"card","card-user"],[1,"image"],["src","assets/img/damir-bosnjak.jpg","alt","..."],[1,"card-body"],[1,"author"],["href","#"],["src","../../","alt","...",1,"avatar","border-gray"],[1,"title"],[1,"description"],[1,"description","text-center"],[1,"card-footer"],[1,"button-container"],[1,"col-lg-3","col-md-6","col-6","ml-auto"],[1,"col-lg-4","col-md-6","col-6","ml-auto","mr-auto"],[1,"col-lg-3","mr-auto"],[1,"col-md-8"],[1,"card-header"],[1,"card-title"],[3,"formGroup"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","role","disabled","","placeholder","Company","value","Creative Code Inc.",1,"form-control"],[1,"col-md-3","px-1"],["type","text","formControlName","username","placeholder","Username","value","michael23",1,"form-control"],["type","text","formControlName","password","placeholder","password",1,"form-control"],[1,"col-md-12"],["type","text","formControlName","email","placeholder","",1,"form-control"],[1,"col-md-6","pr-1"],["type","text","formControlName","firstname","placeholder","Company","value","Chet",1,"form-control"],[1,"col-md-6","pl-1"],["type","text","formControlName","lastname","placeholder","Last Name","value","Faker",1,"form-control"],["type","text","formControlName","address","placeholder","Home Address","value","Melbourne, Australia",1,"form-control"],[1,"col-md-4","pr-1"],["type","text","formControlName","city","placeholder","City","value","Melbourne",1,"form-control"],[1,"col-md-4","px-1"],["type","text","formControlName","country","placeholder","Country","value","Australia",1,"form-control"],[1,"col-md-4","pl-1"],["type","text","formControlName","phone","placeholder","phone number",1,"form-control"],["formControlName","about",1,"form-control","textarea"],[1,"update","ml-auto","mr-auto"],["type","button",1,"btn","btn-primary","btn-round",3,"click"]],template:function(n,t){1&n&&e.YNc(0,tt,94,3,"div",0),2&n&&e.Q6J("blockUI","loading")},dependencies:[b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,ae.PC],encapsulation:2}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Ke.prototype,"loading",void 0);let ot=(()=>{class c{ngOnInit(){this.tableData1={headerRow:["ID","Name","Country","City","Salary"],dataRows:[["1","Dakota Rice","Niger","Oud-Turnhout","$36,738"],["2","Minerva Hooper","Cura\xe7ao","Sinaai-Waas","$23,789"],["3","Sage Rodriguez","Netherlands","Baileux","$56,142"],["4","Philip Chaney","Korea, South","Overland Park","$38,735"],["5","Doris Greene","Malawi","Feldkirchen in K\xe4rnten","$63,542"],["6","Mason Porter","Chile","Gloucester","$78,615"]]},this.tableData2={headerRow:["ID","Name","Salary","Country","City"],dataRows:[["1","Dakota Rice","$36,738","Niger","Oud-Turnhout"],["2","Minerva Hooper","$23,789","Cura\xe7ao","Sinaai-Waas"],["3","Sage Rodriguez","$56,142","Netherlands","Baileux"],["4","Philip Chaney","$38,735","Korea, South","Overland Park"],["5","Doris Greene","$63,542","Malawi","Feldkirchen in K\xe4rnten"],["6","Mason Porter","$78,615","Chile","Gloucester"]]}}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["table-cmp"]],decls:165,vars:0,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[1,"text-primary"],[1,"text-right"],[1,"card","card-plain"],[1,"card-category"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5," Simple Table"),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"table",7)(9,"thead",8)(10,"th"),e._uU(11," Name "),e.qZA(),e.TgZ(12,"th"),e._uU(13," Country "),e.qZA(),e.TgZ(14,"th"),e._uU(15," City "),e.qZA(),e.TgZ(16,"th",9),e._uU(17," Salary "),e.qZA()(),e.TgZ(18,"tbody")(19,"tr")(20,"td"),e._uU(21," Dakota Rice "),e.qZA(),e.TgZ(22,"td"),e._uU(23," Niger "),e.qZA(),e.TgZ(24,"td"),e._uU(25," Oud-Turnhout "),e.qZA(),e.TgZ(26,"td",9),e._uU(27," $36,738 "),e.qZA()(),e.TgZ(28,"tr")(29,"td"),e._uU(30," Minerva Hooper "),e.qZA(),e.TgZ(31,"td"),e._uU(32," Cura\xe7ao "),e.qZA(),e.TgZ(33,"td"),e._uU(34," Sinaai-Waas "),e.qZA(),e.TgZ(35,"td",9),e._uU(36," $23,789 "),e.qZA()(),e.TgZ(37,"tr")(38,"td"),e._uU(39," Sage Rodriguez "),e.qZA(),e.TgZ(40,"td"),e._uU(41," Netherlands "),e.qZA(),e.TgZ(42,"td"),e._uU(43," Baileux "),e.qZA(),e.TgZ(44,"td",9),e._uU(45," $56,142 "),e.qZA()(),e.TgZ(46,"tr")(47,"td"),e._uU(48," Philip Chaney "),e.qZA(),e.TgZ(49,"td"),e._uU(50," Korea, South "),e.qZA(),e.TgZ(51,"td"),e._uU(52," Overland Park "),e.qZA(),e.TgZ(53,"td",9),e._uU(54," $38,735 "),e.qZA()(),e.TgZ(55,"tr")(56,"td"),e._uU(57," Doris Greene "),e.qZA(),e.TgZ(58,"td"),e._uU(59," Malawi "),e.qZA(),e.TgZ(60,"td"),e._uU(61," Feldkirchen in K\xe4rnten "),e.qZA(),e.TgZ(62,"td",9),e._uU(63," $63,542 "),e.qZA()(),e.TgZ(64,"tr")(65,"td"),e._uU(66," Mason Porter "),e.qZA(),e.TgZ(67,"td"),e._uU(68," Chile "),e.qZA(),e.TgZ(69,"td"),e._uU(70," Gloucester "),e.qZA(),e.TgZ(71,"td",9),e._uU(72," $78,615 "),e.qZA()(),e.TgZ(73,"tr")(74,"td"),e._uU(75," Jon Porter "),e.qZA(),e.TgZ(76,"td"),e._uU(77," Portugal "),e.qZA(),e.TgZ(78,"td"),e._uU(79," Gloucester "),e.qZA(),e.TgZ(80,"td",9),e._uU(81," $98,615 "),e.qZA()()()()()()()(),e.TgZ(82,"div",1)(83,"div",10)(84,"div",3)(85,"h4",4),e._uU(86," Table on Plain Background"),e.qZA(),e.TgZ(87,"p",11),e._uU(88," Here is a subtitle for this table"),e.qZA()(),e.TgZ(89,"div",5)(90,"div",6)(91,"table",7)(92,"thead",8)(93,"th"),e._uU(94," Name "),e.qZA(),e.TgZ(95,"th"),e._uU(96," Country "),e.qZA(),e.TgZ(97,"th"),e._uU(98," City "),e.qZA(),e.TgZ(99,"th",9),e._uU(100," Salary "),e.qZA()(),e.TgZ(101,"tbody")(102,"tr")(103,"td"),e._uU(104," Dakota Rice "),e.qZA(),e.TgZ(105,"td"),e._uU(106," Niger "),e.qZA(),e.TgZ(107,"td"),e._uU(108," Oud-Turnhout "),e.qZA(),e.TgZ(109,"td",9),e._uU(110," $36,738 "),e.qZA()(),e.TgZ(111,"tr")(112,"td"),e._uU(113," Minerva Hooper "),e.qZA(),e.TgZ(114,"td"),e._uU(115," Cura\xe7ao "),e.qZA(),e.TgZ(116,"td"),e._uU(117," Sinaai-Waas "),e.qZA(),e.TgZ(118,"td",9),e._uU(119," $23,789 "),e.qZA()(),e.TgZ(120,"tr")(121,"td"),e._uU(122," Sage Rodriguez "),e.qZA(),e.TgZ(123,"td"),e._uU(124," Netherlands "),e.qZA(),e.TgZ(125,"td"),e._uU(126," Baileux "),e.qZA(),e.TgZ(127,"td",9),e._uU(128," $56,142 "),e.qZA()(),e.TgZ(129,"tr")(130,"td"),e._uU(131," Philip Chaney "),e.qZA(),e.TgZ(132,"td"),e._uU(133," Korea, South "),e.qZA(),e.TgZ(134,"td"),e._uU(135," Overland Park "),e.qZA(),e.TgZ(136,"td",9),e._uU(137," $38,735 "),e.qZA()(),e.TgZ(138,"tr")(139,"td"),e._uU(140," Doris Greene "),e.qZA(),e.TgZ(141,"td"),e._uU(142," Malawi "),e.qZA(),e.TgZ(143,"td"),e._uU(144," Feldkirchen in K\xe4rnten "),e.qZA(),e.TgZ(145,"td",9),e._uU(146," $63,542 "),e.qZA()(),e.TgZ(147,"tr")(148,"td"),e._uU(149," Mason Porter "),e.qZA(),e.TgZ(150,"td"),e._uU(151," Chile "),e.qZA(),e.TgZ(152,"td"),e._uU(153," Gloucester "),e.qZA(),e.TgZ(154,"td",9),e._uU(155," $78,615 "),e.qZA()(),e.TgZ(156,"tr")(157,"td"),e._uU(158," Jon Porter "),e.qZA(),e.TgZ(159,"td"),e._uU(160," Portugal "),e.qZA(),e.TgZ(161,"td"),e._uU(162," Gloucester "),e.qZA(),e.TgZ(163,"td",9),e._uU(164," $98,615 "),e.qZA()()()()()()()()())},encapsulation:2}),c})(),yt=(()=>{class c{}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["typography-cmp"]],decls:92,vars:0,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"title"],[1,"category"],[1,"card-body"],[1,"typography-line"],[1,"blockquote","blockquote-primary"],[1,"text-muted"],[1,"text-primary"],[1,"text-info"],[1,"text-success"],[1,"text-warning"],[1,"text-danger"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Paper Table Heading"),e.qZA(),e.TgZ(6,"p",5),e._uU(7,"Created using Montserrat Font Family"),e.qZA()(),e.TgZ(8,"div",6)(9,"div",7)(10,"h1")(11,"span"),e._uU(12,"Header 1"),e.qZA(),e._uU(13,"The Life of Paper Dashboard "),e.qZA()(),e.TgZ(14,"div",7)(15,"h2")(16,"span"),e._uU(17,"Header 2"),e.qZA(),e._uU(18,"The Life of Paper Dashboard "),e.qZA()(),e.TgZ(19,"div",7)(20,"h3")(21,"span"),e._uU(22,"Header 3"),e.qZA(),e._uU(23,"The Life of Paper Dashboard "),e.qZA()(),e.TgZ(24,"div",7)(25,"h4")(26,"span"),e._uU(27,"Header 4"),e.qZA(),e._uU(28,"The Life of Paper Dashboard "),e.qZA()(),e.TgZ(29,"div",7)(30,"h5")(31,"span"),e._uU(32,"Header 5"),e.qZA(),e._uU(33,"The Life of Paper Dashboard "),e.qZA()(),e.TgZ(34,"div",7)(35,"h6")(36,"span"),e._uU(37,"Header 6"),e.qZA(),e._uU(38,"The Life of Paper Dashboard "),e.qZA()(),e.TgZ(39,"div",7)(40,"p")(41,"span"),e._uU(42,"Paragraph"),e.qZA(),e._uU(43," I will be the leader of a company that ends up being worth billions of dollars, because I got the answers. I understand culture. I am the nucleus. I think that\u2019s a responsibility that I have, to push possibilities, to show people, this is the level that things could be at. "),e.qZA()(),e.TgZ(44,"div",7)(45,"span"),e._uU(46,"Quote"),e.qZA(),e.TgZ(47,"blockquote")(48,"p",8),e._uU(49,' "I will be the leader of a company that ends up being worth billions of dollars, because I got the answers. I understand culture. I am the nucleus. I think that\u2019s a responsibility that I have, to push possibilities, to show people, this is the level that things could be at." '),e._UZ(50,"br")(51,"br"),e.TgZ(52,"small"),e._uU(53," - Noaa "),e.qZA()()()(),e.TgZ(54,"div",7)(55,"span"),e._uU(56,"Muted Text"),e.qZA(),e.TgZ(57,"p",9),e._uU(58," I will be the leader of a company that ends up being worth billions of dollars, because I got the answers... "),e.qZA()(),e.TgZ(59,"div",7)(60,"span"),e._uU(61,"Primary Text"),e.qZA(),e.TgZ(62,"p",10),e._uU(63," I will be the leader of a company that ends up being worth billions of dollars, because I got the answers..."),e.qZA()(),e.TgZ(64,"div",7)(65,"span"),e._uU(66,"Info Text"),e.qZA(),e.TgZ(67,"p",11),e._uU(68," I will be the leader of a company that ends up being worth billions of dollars, because I got the answers... "),e.qZA()(),e.TgZ(69,"div",7)(70,"span"),e._uU(71,"Success Text"),e.qZA(),e.TgZ(72,"p",12),e._uU(73," I will be the leader of a company that ends up being worth billions of dollars, because I got the answers... "),e.qZA()(),e.TgZ(74,"div",7)(75,"span"),e._uU(76,"Warning Text"),e.qZA(),e.TgZ(77,"p",13),e._uU(78," I will be the leader of a company that ends up being worth billions of dollars, because I got the answers... "),e.qZA()(),e.TgZ(79,"div",7)(80,"span"),e._uU(81,"Danger Text"),e.qZA(),e.TgZ(82,"p",14),e._uU(83," I will be the leader of a company that ends up being worth billions of dollars, because I got the answers... "),e.qZA()(),e.TgZ(84,"div",7)(85,"h2")(86,"span"),e._uU(87,"Small Tag"),e.qZA(),e._uU(88," Header with small subtitle "),e._UZ(89,"br"),e.TgZ(90,"small"),e._uU(91,'Use "small" tag for the headers'),e.qZA()()()()()()())},encapsulation:2}),c})(),Rt=(()=>{class c{}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["icons-cmp"]],decls:414,vars:0,consts:[[1,"row"],[1,"col-md-12"],[1,"card","demo-icons"],[1,"card-header"],[1,"card-title"],[1,"card-category"],["href","https://nucleoapp.com/?ref=1712"],[1,"card-body","all-icons"],["id","icons-wrapper"],[1,"nc-icon","nc-air-baloon"],[1,"nc-icon","nc-album-2"],[1,"nc-icon","nc-alert-circle-i"],[1,"nc-icon","nc-align-center"],[1,"nc-icon","nc-align-left-2"],[1,"nc-icon","nc-ambulance"],[1,"nc-icon","nc-app"],[1,"nc-icon","nc-atom"],[1,"nc-icon","nc-badge"],[1,"nc-icon","nc-bag-16"],[1,"nc-icon","nc-bank"],[1,"nc-icon","nc-basket"],[1,"nc-icon","nc-bell-55"],[1,"nc-icon","nc-bold"],[1,"nc-icon","nc-book-bookmark"],[1,"nc-icon","nc-bookmark-2"],[1,"nc-icon","nc-box-2"],[1,"nc-icon","nc-box"],[1,"nc-icon","nc-briefcase-24"],[1,"nc-icon","nc-bulb-63"],[1,"nc-icon","nc-bullet-list-67"],[1,"nc-icon","nc-bus-front-12"],[1,"nc-icon","nc-button-pause"],[1,"nc-icon","nc-button-play"],[1,"nc-icon","nc-button-power"],[1,"nc-icon","nc-calendar-60"],[1,"nc-icon","nc-camera-compact"],[1,"nc-icon","nc-caps-small"],[1,"nc-icon","nc-cart-simple"],[1,"nc-icon","nc-chart-bar-32"],[1,"nc-icon","nc-chart-pie-36"],[1,"nc-icon","nc-chat-33"],[1,"nc-icon","nc-check-2"],[1,"nc-icon","nc-circle-10"],[1,"nc-icon","nc-cloud-download-93"],[1,"nc-icon","nc-cloud-upload-94"],[1,"nc-icon","nc-compass-05"],[1,"nc-icon","nc-controller-modern"],[1,"nc-icon","nc-credit-card"],[1,"nc-icon","nc-delivery-fast"],[1,"nc-icon","nc-diamond"],[1,"nc-icon","nc-email-85"],[1,"nc-icon","nc-favourite-28"],[1,"nc-icon","nc-glasses-2"],[1,"nc-icon","nc-globe-2"],[1,"nc-icon","nc-globe"],[1,"nc-icon","nc-hat-3"],[1,"nc-icon","nc-headphones"],[1,"nc-icon","nc-html5"],[1,"nc-icon","nc-image"],[1,"nc-icon","nc-istanbul"],[1,"nc-icon","nc-key-25"],[1,"nc-icon","nc-laptop"],[1,"nc-icon","nc-layout-11"],[1,"nc-icon","nc-lock-circle-open"],[1,"nc-icon","nc-map-big"],[1,"nc-icon","nc-minimal-down"],[1,"nc-icon","nc-minimal-left"],[1,"nc-icon","nc-minimal-right"],[1,"nc-icon","nc-minimal-up"],[1,"nc-icon","nc-mobile"],[1,"nc-icon","nc-money-coins"],[1,"nc-icon","nc-note-03"],[1,"nc-icon","nc-palette"],[1,"nc-icon","nc-paper"],[1,"nc-icon","nc-pin-3"],[1,"nc-icon","nc-planet"],[1,"nc-icon","nc-refresh-69"],[1,"nc-icon","nc-ruler-pencil"],[1,"nc-icon","nc-satisfied"],[1,"nc-icon","nc-scissors"],[1,"nc-icon","nc-send"],[1,"nc-icon","nc-settings-gear-65"],[1,"nc-icon","nc-settings"],[1,"nc-icon","nc-share-66"],[1,"nc-icon","nc-shop"],[1,"nc-icon","nc-simple-add"],[1,"nc-icon","nc-simple-delete"],[1,"nc-icon","nc-simple-remove"],[1,"nc-icon","nc-single-02"],[1,"nc-icon","nc-single-copy-04"],[1,"nc-icon","nc-sound-wave"],[1,"nc-icon","nc-spaceship"],[1,"nc-icon","nc-sun-fog-29"],[1,"nc-icon","nc-support-17"],[1,"nc-icon","nc-tablet-2"],[1,"nc-icon","nc-tag-content"],[1,"nc-icon","nc-tap-01"],[1,"nc-icon","nc-tie-bow"],[1,"nc-icon","nc-tile-56"],[1,"nc-icon","nc-time-alarm"],[1,"nc-icon","nc-touch-id"],[1,"nc-icon","nc-trophy"],[1,"nc-icon","nc-tv-2"],[1,"nc-icon","nc-umbrella-13"],[1,"nc-icon","nc-user-run"],[1,"nc-icon","nc-vector"],[1,"nc-icon","nc-watch-time"],[1,"nc-icon","nc-world-2"],[1,"nc-icon","nc-zoom-split"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"100 Awesome Nucleo Icons"),e.qZA(),e.TgZ(6,"p",5),e._uU(7,"Handcrafted by our friends from "),e.TgZ(8,"a",6),e._uU(9,"NucleoApp"),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"section")(13,"ul")(14,"li"),e._UZ(15,"i",9),e.TgZ(16,"p"),e._uU(17,"nc-air-baloon"),e.qZA()(),e.TgZ(18,"li"),e._UZ(19,"i",10),e.TgZ(20,"p"),e._uU(21,"nc-album-2"),e.qZA()(),e.TgZ(22,"li"),e._UZ(23,"i",11),e.TgZ(24,"p"),e._uU(25,"nc-alert-circle-i"),e.qZA()(),e.TgZ(26,"li"),e._UZ(27,"i",12),e.TgZ(28,"p"),e._uU(29,"nc-align-center"),e.qZA()(),e.TgZ(30,"li"),e._UZ(31,"i",13),e.TgZ(32,"p"),e._uU(33,"nc-align-left-2"),e.qZA()(),e.TgZ(34,"li"),e._UZ(35,"i",14),e.TgZ(36,"p"),e._uU(37,"nc-ambulance"),e.qZA()(),e.TgZ(38,"li"),e._UZ(39,"i",15),e.TgZ(40,"p"),e._uU(41,"nc-app"),e.qZA()(),e.TgZ(42,"li"),e._UZ(43,"i",16),e.TgZ(44,"p"),e._uU(45,"nc-atom"),e.qZA()(),e.TgZ(46,"li"),e._UZ(47,"i",17),e.TgZ(48,"p"),e._uU(49,"nc-badge"),e.qZA()(),e.TgZ(50,"li"),e._UZ(51,"i",18),e.TgZ(52,"p"),e._uU(53,"nc-bag-16"),e.qZA()(),e.TgZ(54,"li"),e._UZ(55,"i",19),e.TgZ(56,"p"),e._uU(57,"nc-bank"),e.qZA()(),e.TgZ(58,"li"),e._UZ(59,"i",20),e.TgZ(60,"p"),e._uU(61,"nc-basket"),e.qZA()(),e.TgZ(62,"li"),e._UZ(63,"i",21),e.TgZ(64,"p"),e._uU(65,"nc-bell-55"),e.qZA()(),e.TgZ(66,"li"),e._UZ(67,"i",22),e.TgZ(68,"p"),e._uU(69,"nc-bold"),e.qZA()(),e.TgZ(70,"li"),e._UZ(71,"i",23),e.TgZ(72,"p"),e._uU(73,"nc-book-bookmark"),e.qZA()(),e.TgZ(74,"li"),e._UZ(75,"i",24),e.TgZ(76,"p"),e._uU(77,"nc-bookmark-2"),e.qZA()(),e.TgZ(78,"li"),e._UZ(79,"i",25),e.TgZ(80,"p"),e._uU(81,"nc-box-2"),e.qZA()(),e.TgZ(82,"li"),e._UZ(83,"i",26),e.TgZ(84,"p"),e._uU(85,"nc-box"),e.qZA()(),e.TgZ(86,"li"),e._UZ(87,"i",27),e.TgZ(88,"p"),e._uU(89,"nc-briefcase-24"),e.qZA()(),e.TgZ(90,"li"),e._UZ(91,"i",28),e.TgZ(92,"p"),e._uU(93,"nc-bulb-63"),e.qZA()(),e.TgZ(94,"li"),e._UZ(95,"i",29),e.TgZ(96,"p"),e._uU(97,"nc-bullet-list-67"),e.qZA()(),e.TgZ(98,"li"),e._UZ(99,"i",30),e.TgZ(100,"p"),e._uU(101,"nc-bus-front-12"),e.qZA()(),e.TgZ(102,"li"),e._UZ(103,"i",31),e.TgZ(104,"p"),e._uU(105,"nc-button-pause"),e.qZA()(),e.TgZ(106,"li"),e._UZ(107,"i",32),e.TgZ(108,"p"),e._uU(109,"nc-button-play"),e.qZA()(),e.TgZ(110,"li"),e._UZ(111,"i",33),e.TgZ(112,"p"),e._uU(113,"nc-button-power"),e.qZA()(),e.TgZ(114,"li"),e._UZ(115,"i",34),e.TgZ(116,"p"),e._uU(117,"nc-calendar-60"),e.qZA()(),e.TgZ(118,"li"),e._UZ(119,"i",35),e.TgZ(120,"p"),e._uU(121,"nc-camera-compact"),e.qZA()(),e.TgZ(122,"li"),e._UZ(123,"i",36),e.TgZ(124,"p"),e._uU(125,"nc-caps-small"),e.qZA()(),e.TgZ(126,"li"),e._UZ(127,"i",37),e.TgZ(128,"p"),e._uU(129,"nc-cart-simple"),e.qZA()(),e.TgZ(130,"li"),e._UZ(131,"i",38),e.TgZ(132,"p"),e._uU(133,"nc-chart-bar-32"),e.qZA()(),e.TgZ(134,"li"),e._UZ(135,"i",39),e.TgZ(136,"p"),e._uU(137,"nc-chart-pie-36"),e.qZA()(),e.TgZ(138,"li"),e._UZ(139,"i",40),e.TgZ(140,"p"),e._uU(141,"nc-chat-33"),e.qZA()(),e.TgZ(142,"li"),e._UZ(143,"i",41),e.TgZ(144,"p"),e._uU(145,"nc-check-2"),e.qZA()(),e.TgZ(146,"li"),e._UZ(147,"i",42),e.TgZ(148,"p"),e._uU(149,"nc-circle-10"),e.qZA()(),e.TgZ(150,"li"),e._UZ(151,"i",43),e.TgZ(152,"p"),e._uU(153,"nc-cloud-download-93"),e.qZA()(),e.TgZ(154,"li"),e._UZ(155,"i",44),e.TgZ(156,"p"),e._uU(157,"nc-cloud-upload-94"),e.qZA()(),e.TgZ(158,"li"),e._UZ(159,"i",45),e.TgZ(160,"p"),e._uU(161,"nc-compass-05"),e.qZA()(),e.TgZ(162,"li"),e._UZ(163,"i",46),e.TgZ(164,"p"),e._uU(165,"nc-controller-modern"),e.qZA()(),e.TgZ(166,"li"),e._UZ(167,"i",47),e.TgZ(168,"p"),e._uU(169,"nc-credit-card"),e.qZA()(),e.TgZ(170,"li"),e._UZ(171,"i",48),e.TgZ(172,"p"),e._uU(173,"nc-delivery-fast"),e.qZA()(),e.TgZ(174,"li"),e._UZ(175,"i",49),e.TgZ(176,"p"),e._uU(177,"nc-diamond"),e.qZA()(),e.TgZ(178,"li"),e._UZ(179,"i",50),e.TgZ(180,"p"),e._uU(181,"nc-email-85"),e.qZA()(),e.TgZ(182,"li"),e._UZ(183,"i",51),e.TgZ(184,"p"),e._uU(185,"nc-favourite-28"),e.qZA()(),e.TgZ(186,"li"),e._UZ(187,"i",52),e.TgZ(188,"p"),e._uU(189,"nc-glasses-2"),e.qZA()(),e.TgZ(190,"li"),e._UZ(191,"i",53),e.TgZ(192,"p"),e._uU(193,"nc-globe-2"),e.qZA()(),e.TgZ(194,"li"),e._UZ(195,"i",54),e.TgZ(196,"p"),e._uU(197,"nc-globe"),e.qZA()(),e.TgZ(198,"li"),e._UZ(199,"i",55),e.TgZ(200,"p"),e._uU(201,"nc-hat-3"),e.qZA()(),e.TgZ(202,"li"),e._UZ(203,"i",56),e.TgZ(204,"p"),e._uU(205,"nc-headphones"),e.qZA()(),e.TgZ(206,"li"),e._UZ(207,"i",57),e.TgZ(208,"p"),e._uU(209,"nc-html5"),e.qZA()(),e.TgZ(210,"li"),e._UZ(211,"i",58),e.TgZ(212,"p"),e._uU(213,"nc-image"),e.qZA()(),e.TgZ(214,"li"),e._UZ(215,"i",59),e.TgZ(216,"p"),e._uU(217,"nc-istanbul"),e.qZA()(),e.TgZ(218,"li"),e._UZ(219,"i",60),e.TgZ(220,"p"),e._uU(221,"nc-key-25"),e.qZA()(),e.TgZ(222,"li"),e._UZ(223,"i",61),e.TgZ(224,"p"),e._uU(225,"nc-laptop"),e.qZA()(),e.TgZ(226,"li"),e._UZ(227,"i",62),e.TgZ(228,"p"),e._uU(229,"nc-layout-11"),e.qZA()(),e.TgZ(230,"li"),e._UZ(231,"i",63),e.TgZ(232,"p"),e._uU(233,"nc-lock-circle-open"),e.qZA()(),e.TgZ(234,"li"),e._UZ(235,"i",64),e.TgZ(236,"p"),e._uU(237,"nc-map-big"),e.qZA()(),e.TgZ(238,"li"),e._UZ(239,"i",65),e.TgZ(240,"p"),e._uU(241,"nc-minimal-down"),e.qZA()(),e.TgZ(242,"li"),e._UZ(243,"i",66),e.TgZ(244,"p"),e._uU(245,"nc-minimal-left"),e.qZA()(),e.TgZ(246,"li"),e._UZ(247,"i",67),e.TgZ(248,"p"),e._uU(249,"nc-minimal-right"),e.qZA()(),e.TgZ(250,"li"),e._UZ(251,"i",68),e.TgZ(252,"p"),e._uU(253,"nc-minimal-up"),e.qZA()(),e.TgZ(254,"li"),e._UZ(255,"i",69),e.TgZ(256,"p"),e._uU(257,"nc-mobile"),e.qZA()(),e.TgZ(258,"li"),e._UZ(259,"i",70),e.TgZ(260,"p"),e._uU(261,"nc-money-coins"),e.qZA()(),e.TgZ(262,"li"),e._UZ(263,"i",71),e.TgZ(264,"p"),e._uU(265,"nc-note-03"),e.qZA()(),e.TgZ(266,"li"),e._UZ(267,"i",72),e.TgZ(268,"p"),e._uU(269,"nc-palette"),e.qZA()(),e.TgZ(270,"li"),e._UZ(271,"i",73),e.TgZ(272,"p"),e._uU(273,"nc-paper"),e.qZA()(),e.TgZ(274,"li"),e._UZ(275,"i",74),e.TgZ(276,"p"),e._uU(277,"nc-pin-3"),e.qZA()(),e.TgZ(278,"li"),e._UZ(279,"i",75),e.TgZ(280,"p"),e._uU(281,"nc-planet"),e.qZA()(),e.TgZ(282,"li"),e._UZ(283,"i",76),e.TgZ(284,"p"),e._uU(285,"nc-refresh-69"),e.qZA()(),e.TgZ(286,"li"),e._UZ(287,"i",77),e.TgZ(288,"p"),e._uU(289,"nc-ruler-pencil"),e.qZA()(),e.TgZ(290,"li"),e._UZ(291,"i",78),e.TgZ(292,"p"),e._uU(293,"nc-satisfied"),e.qZA()(),e.TgZ(294,"li"),e._UZ(295,"i",79),e.TgZ(296,"p"),e._uU(297,"nc-scissors"),e.qZA()(),e.TgZ(298,"li"),e._UZ(299,"i",80),e.TgZ(300,"p"),e._uU(301,"nc-send"),e.qZA()(),e.TgZ(302,"li"),e._UZ(303,"i",81),e.TgZ(304,"p"),e._uU(305,"nc-settings-gear-65"),e.qZA()(),e.TgZ(306,"li"),e._UZ(307,"i",82),e.TgZ(308,"p"),e._uU(309,"nc-settings"),e.qZA()(),e.TgZ(310,"li"),e._UZ(311,"i",83),e.TgZ(312,"p"),e._uU(313,"nc-share-66"),e.qZA()(),e.TgZ(314,"li"),e._UZ(315,"i",84),e.TgZ(316,"p"),e._uU(317,"nc-shop"),e.qZA()(),e.TgZ(318,"li"),e._UZ(319,"i",85),e.TgZ(320,"p"),e._uU(321,"nc-simple-add"),e.qZA()(),e.TgZ(322,"li"),e._UZ(323,"i",86),e.TgZ(324,"p"),e._uU(325,"nc-simple-delete"),e.qZA()(),e.TgZ(326,"li"),e._UZ(327,"i",87),e.TgZ(328,"p"),e._uU(329,"nc-simple-remove"),e.qZA()(),e.TgZ(330,"li"),e._UZ(331,"i",88),e.TgZ(332,"p"),e._uU(333,"nc-single-02"),e.qZA()(),e.TgZ(334,"li"),e._UZ(335,"i",89),e.TgZ(336,"p"),e._uU(337,"nc-single-copy-04"),e.qZA()(),e.TgZ(338,"li"),e._UZ(339,"i",90),e.TgZ(340,"p"),e._uU(341,"nc-sound-wave"),e.qZA()(),e.TgZ(342,"li"),e._UZ(343,"i",91),e.TgZ(344,"p"),e._uU(345,"nc-spaceship"),e.qZA()(),e.TgZ(346,"li"),e._UZ(347,"i",92),e.TgZ(348,"p"),e._uU(349,"nc-sun-fog-29"),e.qZA()(),e.TgZ(350,"li"),e._UZ(351,"i",93),e.TgZ(352,"p"),e._uU(353,"nc-support-17"),e.qZA()(),e.TgZ(354,"li"),e._UZ(355,"i",94),e.TgZ(356,"p"),e._uU(357,"nc-tablet-2"),e.qZA()(),e.TgZ(358,"li"),e._UZ(359,"i",95),e.TgZ(360,"p"),e._uU(361,"nc-tag-content"),e.qZA()(),e.TgZ(362,"li"),e._UZ(363,"i",96),e.TgZ(364,"p"),e._uU(365,"nc-tap-01"),e.qZA()(),e.TgZ(366,"li"),e._UZ(367,"i",97),e.TgZ(368,"p"),e._uU(369,"nc-tie-bow"),e.qZA()(),e.TgZ(370,"li"),e._UZ(371,"i",98),e.TgZ(372,"p"),e._uU(373,"nc-tile-56"),e.qZA()(),e.TgZ(374,"li"),e._UZ(375,"i",99),e.TgZ(376,"p"),e._uU(377,"nc-time-alarm"),e.qZA()(),e.TgZ(378,"li"),e._UZ(379,"i",100),e.TgZ(380,"p"),e._uU(381,"nc-touch-id"),e.qZA()(),e.TgZ(382,"li"),e._UZ(383,"i",101),e.TgZ(384,"p"),e._uU(385,"nc-trophy"),e.qZA()(),e.TgZ(386,"li"),e._UZ(387,"i",102),e.TgZ(388,"p"),e._uU(389,"nc-tv-2"),e.qZA()(),e.TgZ(390,"li"),e._UZ(391,"i",103),e.TgZ(392,"p"),e._uU(393,"nc-umbrella-13"),e.qZA()(),e.TgZ(394,"li"),e._UZ(395,"i",104),e.TgZ(396,"p"),e._uU(397,"nc-user-run"),e.qZA()(),e.TgZ(398,"li"),e._UZ(399,"i",105),e.TgZ(400,"p"),e._uU(401,"nc-vector"),e.qZA()(),e.TgZ(402,"li"),e._UZ(403,"i",106),e.TgZ(404,"p"),e._uU(405,"nc-watch-time"),e.qZA()(),e.TgZ(406,"li"),e._UZ(407,"i",107),e.TgZ(408,"p"),e._uU(409,"nc-world-2"),e.qZA()(),e.TgZ(410,"li"),e._UZ(411,"i",108),e.TgZ(412,"p"),e._uU(413,"nc-zoom-split"),e.qZA()()()()()()()()())},encapsulation:2}),c})(),Wt=(()=>{class c{ngOnInit(){var t=new google.maps.LatLng(40.748817,-73.985428),s={zoom:13,center:t,scrollwheel:!1,styles:[{featureType:"water",stylers:[{saturation:43},{lightness:-11},{hue:"#0088ff"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#ff0000"},{saturation:-100},{lightness:99}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#808080"},{lightness:54}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ece2d9"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#ccdca1"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#767676"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#b8cb93"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"on"}]},{featureType:"poi.medical",stylers:[{visibility:"on"}]},{featureType:"poi.business",stylers:[{visibility:"simplified"}]}]},p=new google.maps.Map(document.getElementById("map"),s);new google.maps.Marker({position:t,title:"Hello World!"}).setMap(p)}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["maps-cmp"]],decls:7,vars:0,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],["id","map",1,"map"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4," Google Maps "),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"div",5),e.qZA()()()())},encapsulation:2}),c})(),tn=(()=>{class c{constructor(t){this.toastr=t}showNotification(t,s){switch(Math.floor(5*Math.random()+1)){case 1:this.toastr.info('<span data-notify="icon" class="nc-icon nc-bell-55"></span><span data-notify="message">Welcome to <b>Paper Dashboard Angular</b> - a beautiful bootstrap dashboard for every web developer.</span>',"",{timeOut:4e3,closeButton:!0,enableHtml:!0,toastClass:"alert alert-info alert-with-icon",positionClass:"toast-"+t+"-"+s});break;case 2:this.toastr.success('<span data-notify="icon" class="nc-icon nc-bell-55"></span><span data-notify="message">Welcome to <b>Paper Dashboard Angular</b> - a beautiful bootstrap dashboard for every web developer.</span>',"",{timeOut:4e3,closeButton:!0,enableHtml:!0,toastClass:"alert alert-success alert-with-icon",positionClass:"toast-"+t+"-"+s});break;case 3:this.toastr.warning('<span data-notify="icon" class="nc-icon nc-bell-55"></span><span data-notify="message">Welcome to <b>Paper Dashboard Angular</b> - a beautiful bootstrap dashboard for every web developer.</span>',"",{timeOut:4e3,closeButton:!0,enableHtml:!0,toastClass:"alert alert-warning alert-with-icon",positionClass:"toast-"+t+"-"+s});break;case 4:this.toastr.error('<span data-notify="icon" class="nc-icon nc-bell-55"></span><span data-notify="message">Welcome to <b>Paper Dashboard Angular</b> - a beautiful bootstrap dashboard for every web developer.</span>',"",{timeOut:4e3,enableHtml:!0,closeButton:!0,toastClass:"alert alert-danger alert-with-icon",positionClass:"toast-"+t+"-"+s});break;case 5:this.toastr.show('<span data-notify="icon" class="nc-icon nc-bell-55"></span><span data-notify="message">Welcome to <b>Paper Dashboard Angular</b> - a beautiful bootstrap dashboard for every web developer.</span>',"",{timeOut:4e3,closeButton:!0,enableHtml:!0,toastClass:"alert alert-primary alert-with-icon",positionClass:"toast-"+t+"-"+s})}}}return c.\u0275fac=function(t){return new(t||c)(e.Y36(me._W))},c.\u0275cmp=e.Xpm({type:c,selectors:[["notifications-cmp"]],decls:117,vars:0,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-category"],["target","_blank","href","https://github.com/mouse0270"],["href","http://bootstrap-notify.remabledesigns.com/","target","_blank"],[1,"card-body"],[1,"col-md-6"],[1,"card","card-plain"],[1,"alert","alert-info"],[1,"alert","alert-info","alert-dismissible","fade","show"],["type","button","aria-hidden","true","data-dismiss","alert","aria-label","Close",1,"close"],[1,"nc-icon","nc-simple-remove"],["data-notify","container",1,"alert","alert-info","alert-with-icon","alert-dismissible","fade","show"],["data-notify","icon",1,"nc-icon","nc-bell-55"],["data-notify","message"],["data-notify","icon",1,"nc-icon","nc-chart-pie-36"],[1,"alert","alert-primary","alert-dismissible","fade","show"],[1,"alert","alert-success","alert-dismissible","fade","show"],[1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"places-buttons"],[1,"col-md-6","ml-auto","mr-auto","text-center"],[1,"category"],[1,"col-lg-8","ml-auto","mr-auto"],[1,"col-md-4"],[1,"btn","btn-primary","btn-block",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Notifications"),e.qZA(),e.TgZ(6,"p",5),e._uU(7,"Handcrafted by our friend "),e.TgZ(8,"a",6),e._uU(9,"Robert McIntosh"),e.qZA(),e._uU(10,". Please checkout the "),e.TgZ(11,"a",7),e._uU(12,"full documentation."),e.qZA()()(),e.TgZ(13,"div",8)(14,"div",0)(15,"div",9)(16,"div",10)(17,"div",3)(18,"h5",4),e._uU(19,"Notifications Style"),e.qZA()(),e.TgZ(20,"div",8)(21,"div",11)(22,"span"),e._uU(23,"This is a plain notification"),e.qZA()(),e.TgZ(24,"div",12)(25,"button",13),e._UZ(26,"i",14),e.qZA(),e.TgZ(27,"span"),e._uU(28,"This is a notification with close button."),e.qZA()(),e.TgZ(29,"div",15)(30,"button",13),e._UZ(31,"i",14),e.qZA(),e._UZ(32,"span",16),e.TgZ(33,"span",17),e._uU(34,"This is a notification with close button and icon."),e.qZA()(),e.TgZ(35,"div",15)(36,"button",13),e._UZ(37,"i",14),e.qZA(),e._UZ(38,"span",18),e.TgZ(39,"span",17),e._uU(40,"This is a notification with close button and icon and have many lines. You can see that the icon and the close button are always vertically aligned. This is a beautiful notification. So you don't have to worry about the style."),e.qZA()()()()(),e.TgZ(41,"div",9)(42,"div",10)(43,"div",3)(44,"h5",4),e._uU(45,"Notification states"),e.qZA()(),e.TgZ(46,"div",8)(47,"div",19)(48,"button",13),e._UZ(49,"i",14),e.qZA(),e.TgZ(50,"span")(51,"b"),e._uU(52," Primary - "),e.qZA(),e._uU(53,' This is a regular notification made with ".alert-primary"'),e.qZA()(),e.TgZ(54,"div",12)(55,"button",13),e._UZ(56,"i",14),e.qZA(),e.TgZ(57,"span")(58,"b"),e._uU(59," Info - "),e.qZA(),e._uU(60,' This is a regular notification made with ".alert-info"'),e.qZA()(),e.TgZ(61,"div",20)(62,"button",13),e._UZ(63,"i",14),e.qZA(),e.TgZ(64,"span")(65,"b"),e._uU(66," Success - "),e.qZA(),e._uU(67,' This is a regular notification made with ".alert-success"'),e.qZA()(),e.TgZ(68,"div",21)(69,"button",13),e._UZ(70,"i",14),e.qZA(),e.TgZ(71,"span")(72,"b"),e._uU(73," Warning - "),e.qZA(),e._uU(74,' This is a regular notification made with ".alert-warning"'),e.qZA()(),e.TgZ(75,"div",22)(76,"button",13),e._UZ(77,"i",14),e.qZA(),e.TgZ(78,"span")(79,"b"),e._uU(80," Danger - "),e.qZA(),e._uU(81,' This is a regular notification made with ".alert-danger"'),e.qZA()()()()()()()()()(),e.TgZ(82,"div",0)(83,"div",1)(84,"div",2)(85,"div",8)(86,"div",23)(87,"div",0)(88,"div",24)(89,"h4",4),e._uU(90," Notifications Places "),e.TgZ(91,"p",25),e._uU(92,"Click to view notifications"),e.qZA()()()(),e.TgZ(93,"div",0)(94,"div",26)(95,"div",0)(96,"div",27)(97,"button",28),e.NdJ("click",function(){return s.showNotification("top","left")}),e._uU(98,"Top Left"),e.qZA()(),e.TgZ(99,"div",27)(100,"button",28),e.NdJ("click",function(){return s.showNotification("top","center")}),e._uU(101,"Top Center"),e.qZA()(),e.TgZ(102,"div",27)(103,"button",28),e.NdJ("click",function(){return s.showNotification("top","right")}),e._uU(104,"Top Right"),e.qZA()()()()(),e.TgZ(105,"div",0)(106,"div",26)(107,"div",0)(108,"div",27)(109,"button",28),e.NdJ("click",function(){return s.showNotification("bottom","left")}),e._uU(110,"Bottom Left"),e.qZA()(),e.TgZ(111,"div",27)(112,"button",28),e.NdJ("click",function(){return s.showNotification("bottom","center")}),e._uU(113,"Bottom Center"),e.qZA()(),e.TgZ(114,"div",27)(115,"button",28),e.NdJ("click",function(){return s.showNotification("bottom","right")}),e._uU(116,"Bottom Right"),e.qZA()()()()()()()()()())},encapsulation:2}),c})(),Mt=(()=>{class c{ngOnInit(){}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["upgrade-cmp"]],decls:81,vars:0,consts:[[1,"row"],[1,"col-md-8","ml-auto","mr-auto"],[1,"card","card-upgrade"],[1,"card-header","text-center"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"table-responsive","table-upgrade"],[1,"table"],[1,"text-center"],[1,"nc-icon","nc-simple-remove","text-danger"],[1,"nc-icon","nc-check-2","text-success"],["href","#",1,"btn","btn-round","btn-default","disabled"],["target","_blank","href","https://www.creative-tim.com/product/paper-dashboard-pro-angular?ref=pd-free-angular-upgrade-live",1,"btn","btn-round","btn-primary"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Paper Dashboard PRO Angular"),e.qZA(),e.TgZ(6,"p",5),e._uU(7,"Are you looking for more components? Please check our Premium Version of Paper Dashboard PRO."),e.qZA()(),e.TgZ(8,"div",6)(9,"div",7)(10,"table",8)(11,"thead"),e._UZ(12,"th"),e.TgZ(13,"th",9),e._uU(14,"Free"),e.qZA(),e.TgZ(15,"th",9),e._uU(16,"PRO"),e.qZA()(),e.TgZ(17,"tbody")(18,"tr")(19,"td"),e._uU(20,"Components"),e.qZA(),e.TgZ(21,"td",9),e._uU(22,"16"),e.qZA(),e.TgZ(23,"td",9),e._uU(24,"160"),e.qZA()(),e.TgZ(25,"tr")(26,"td"),e._uU(27,"Plugins"),e.qZA(),e.TgZ(28,"td",9),e._uU(29,"4"),e.qZA(),e.TgZ(30,"td",9),e._uU(31,"15"),e.qZA()(),e.TgZ(32,"tr")(33,"td"),e._uU(34,"Example Pages"),e.qZA(),e.TgZ(35,"td",9),e._uU(36,"7"),e.qZA(),e.TgZ(37,"td",9),e._uU(38,"27"),e.qZA()(),e.TgZ(39,"tr")(40,"td"),e._uU(41,"Login, Register, Pricing, Lock Pages"),e.qZA(),e.TgZ(42,"td",9),e._UZ(43,"i",10),e.qZA(),e.TgZ(44,"td",9),e._UZ(45,"i",11),e.qZA()(),e.TgZ(46,"tr")(47,"td"),e._uU(48,"DataTables, VectorMap, SweetAlert, Wizard, FullCalendar etc..."),e.qZA(),e.TgZ(49,"td",9),e._UZ(50,"i",10),e.qZA(),e.TgZ(51,"td",9),e._UZ(52,"i",11),e.qZA()(),e.TgZ(53,"tr")(54,"td"),e._uU(55,"Mini Sidebar"),e.qZA(),e.TgZ(56,"td",9),e._UZ(57,"i",10),e.qZA(),e.TgZ(58,"td",9),e._UZ(59,"i",11),e.qZA()(),e.TgZ(60,"tr")(61,"td"),e._uU(62,"Premium Support"),e.qZA(),e.TgZ(63,"td",9),e._UZ(64,"i",10),e.qZA(),e.TgZ(65,"td",9),e._UZ(66,"i",11),e.qZA()(),e.TgZ(67,"tr"),e._UZ(68,"td"),e.TgZ(69,"td",9),e._uU(70,"Free"),e.qZA(),e.TgZ(71,"td",9),e._uU(72,"Just $49"),e.qZA()(),e.TgZ(73,"tr"),e._UZ(74,"td",9),e.TgZ(75,"td",9)(76,"a",12),e._uU(77,"Current Version"),e.qZA()(),e.TgZ(78,"td",9)(79,"a",13),e._uU(80,"Upgrade to PRO"),e.qZA()()()()()()()()()())},encapsulation:2}),c})(),Tt=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["order"]],decls:32,vars:0,consts:[[1,"table"],["scope","col"],["scope","row"],[1,"btn","btn-info"],[1,"btn","btn-warning"]],template:function(t,s){1&t&&(e.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e._uU(4,"#"),e.qZA(),e.TgZ(5,"th",1),e._uU(6,"Order"),e.qZA(),e.TgZ(7,"th",1),e._uU(8,"Date"),e.qZA(),e.TgZ(9,"th",1),e._uU(10,"Status"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Total"),e.qZA(),e.TgZ(13,"th",1),e._uU(14,"Actions"),e.qZA()()(),e.TgZ(15,"tbody")(16,"tr")(17,"th",2),e._uU(18,"1"),e.qZA(),e.TgZ(19,"td"),e._uU(20,"#382"),e.qZA(),e.TgZ(21,"td"),e._uU(22,"April 9,2023"),e.qZA(),e.TgZ(23,"td"),e._uU(24,"pending Payment"),e.qZA(),e.TgZ(25,"td"),e._uU(26,"$1,217.00 for 1 item"),e.qZA(),e.TgZ(27,"td")(28,"button",3),e._uU(29,"Pay"),e.qZA(),e.TgZ(30,"button",4),e._uU(31,"view"),e.qZA()()()()())}}),c})();var W=cn(6998);function kt(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td")(20,"i",60),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.EditUserPopup(C.id))}),e.qZA(),e.TgZ(21,"i",61),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.deleteUser(C.id))}),e.qZA()()()}if(2&c){const t=n.$implicit;e.xp6(2),e.hij("#",t.id,""),e.xp6(2),e.Oqu(t.firstname+" "+t.lastname),e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.address),e.xp6(2),e.Oqu(t.country),e.xp6(2),e.Oqu(t.city),e.xp6(2),e.Oqu(t.roles),e.xp6(2),e.Oqu(t.created_date)}}function Nt(c,n){1&c&&e._uU(0,"First")}function bt(c,n){1&c&&e._uU(0,"Last")}function Dt(c,n){1&c&&e._uU(0,"Prev")}function Et(c,n){1&c&&e._uU(0,"Next")}function vt(c,n){1&c&&e._uU(0,"...")}function it(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function ut(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",39)(5,"div",40)(6,"div",41)(7,"input",42),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.myFunction())}),e.qZA()(),e.TgZ(8,"div",43)(9,"button",44),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup())}),e._uU(10," New User"),e.qZA()()()(),e.TgZ(11,"div",45)(12,"table",46)(13,"thead",47)(14,"tr",48)(15,"th",49),e._uU(16,"#"),e.qZA(),e.TgZ(17,"th",49),e._uU(18,"Name"),e.qZA(),e.TgZ(19,"th",49),e._uU(20,"Username"),e.qZA(),e.TgZ(21,"th",49),e._uU(22,"Phone"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Address"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Country"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"City"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Role"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Reg. Date | Time"),e.qZA(),e.TgZ(33,"th",49),e._uU(34,"Actions"),e.qZA()()(),e.TgZ(35,"tbody"),e.YNc(36,kt,22,9,"tr",50),e.ALo(37,"slice"),e.qZA()()(),e.TgZ(38,"div",51)(39,"div",52)(40,"ngb-pagination",53),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(41,Nt,1,0,"ng-template",54),e.YNc(42,bt,1,0,"ng-template",55),e.YNc(43,Dt,1,0,"ng-template",56),e.YNc(44,Et,1,0,"ng-template",57),e.YNc(45,vt,1,0,"ng-template",58),e.YNc(46,it,1,1,"ng-template",59),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(36),e.Q6J("ngForOf",e.Dn7(37,8,t.users,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.users.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function Fe(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",62)(1,"button",63),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.addUser(p.userForm.value))}),e._uU(2," Save"),e.qZA()()}}function ht(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",62)(1,"button",63),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updateProfile(p.userForm.value))}),e._uU(2," Update"),e.qZA()()}}const wt=function(c){return{display:c}};class Ot{constructor(n,t,s){this.userService=n,this.toastr=t,this.fb=s,this.page=1,this.pageSize=10,this.displayStyle="none",this.userForm=this.fb.group({id:["",b.kI.required],firstname:["",b.kI.required],about:["",b.kI.required],lastname:["",b.kI.required],phone:["",b.kI.required],username:["",b.kI.required],password:["",b.kI.required],role:["",b.kI.required],country:["",b.kI.required],city:["",b.kI.required],address:["",b.kI.required],email:["",b.kI.required]})}ngOnInit(){this.getUsers()}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("myTable").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}openPopup(){this.header="Add User",this.displayStyle="block"}EditUserPopup(n){var t=this;return(0,Y.Z)(function*(){t.header="Edit User",t.displayStyle="block";try{t.loading.start(),t.user_info=yield t.userService.get_user_details(n),console.log(n),t.user_info&&t.userForm.patchValue({id:t.user_info[0].id,firstname:t.user_info[0].firstname,username:t.user_info[0].username,about:t.user_info[0].about,lastname:t.user_info[0].lastname,country:t.user_info[0].country,city:t.user_info[0].city,role:t.user_info[0].roles,email:t.user_info[0].email,address:t.user_info[0].address,phone:t.user_info[0].phone})}catch(s){t.toastr.error(null,s)}finally{t.loading.stop()}})()}closePopup(){this.displayStyle="none"}getUsers(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start(),n.users=yield n.userService.getUsers()}catch{}finally{n.loading.stop()}console.log(n.users)})()}addUser(n){var t=this;return(0,Y.Z)(function*(){const s={firstname:n.firstname,about:n.about,lastname:n.lastname,phone:n.phone,username:n.username,password:n.password,country:n.country,city:n.city,address:n.address,email:n.email,role:n.role};try{t.loading.start(),(yield t.userService.addUser(s))&&t.toastr.success(null,"user successfully added"),t.closePopup(),t.getUsers()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}updateProfile(n){var t=this;return(0,Y.Z)(function*(){const s={id:n.id,firstname:n.firstname,about:n.about,lastname:n.lastname,phone:n.phone,username:n.username,password:n.password,country:n.country,city:n.city,address:n.address,email:n.email,role:n.role};try{(yield t.userService.updateUserProfile(s))&&t.closePopup(),t.getUsers()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}deleteUser(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.userService.deleteUser(n))&&t.getUsers()}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}}function Rn(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"i",55),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.EditRoomPopup(C.id))}),e.qZA(),e.TgZ(17,"i",56),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.deleteRoom(C.id))}),e.qZA()()()}if(2&c){const t=n.$implicit,s=n.index;e.xp6(2),e.hij("#",s+1,""),e.xp6(2),e.Oqu(t.room_type),e.xp6(2),e.Oqu(t.base_occupancy),e.xp6(2),e.Oqu(t.kids_occupancy),e.xp6(2),e.Oqu(t.amenities),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.hij("GH\u20b5",t.base_price,"")}}function vo(c,n){1&c&&e._uU(0,"First")}function so(c,n){1&c&&e._uU(0,"Last")}function co(c,n){1&c&&e._uU(0,"Prev")}function Kn(c,n){1&c&&e._uU(0,"Next")}function lo(c,n){1&c&&e._uU(0,"...")}function Eo(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function Gn(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",31)(2,"div",32)(3,"div",33)(4,"div",34)(5,"div",35)(6,"div",36)(7,"input",37),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.myFunction())}),e.qZA()(),e.TgZ(8,"div",38)(9,"button",39),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup())}),e._uU(10," New room"),e.qZA()()()(),e.TgZ(11,"div",40)(12,"table",41)(13,"thead",42)(14,"tr",43)(15,"th",44),e._uU(16,"#"),e.qZA(),e.TgZ(17,"th",44),e._uU(18,"Type"),e.qZA(),e.TgZ(19,"th",44),e._uU(20,"Base Occupancy"),e.qZA(),e.TgZ(21,"th",44),e._uU(22,"Kids Occupancy"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Amenities"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Description"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Base Price"),e.qZA(),e.TgZ(29,"th",44),e._uU(30,"Actions"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,Rn,18,7,"tr",45),e.ALo(33,"slice"),e.qZA()()(),e.TgZ(34,"div",46)(35,"div",47)(36,"ngb-pagination",48),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(37,vo,1,0,"ng-template",49),e.YNc(38,so,1,0,"ng-template",50),e.YNc(39,co,1,0,"ng-template",51),e.YNc(40,Kn,1,0,"ng-template",52),e.YNc(41,lo,1,0,"ng-template",53),e.YNc(42,Eo,1,1,"ng-template",54),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(32),e.Q6J("ngForOf",e.Dn7(33,8,t.rooms,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.rooms.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function En(c,n){1&c&&(e.TgZ(0,"div",57)(1,"button",58),e._uU(2," Save"),e.qZA()())}function qo(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",57)(1,"button",59),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updateRoomType(p.roomTypeForm.value))}),e._uU(2," Update"),e.qZA()()}}Ot.\u0275fac=function(n){return new(n||Ot)(e.Y36(te.W),e.Y36(me._W),e.Y36(b.qu))},Ot.\u0275cmp=e.Xpm({type:Ot,selectors:[["all-users"]],decls:78,vars:8,consts:[[1,"page"],["class","row",4,"blockUI"],["type","button",1,"btn","btn-primary",2,"margin","50px","padding","10px","display","none",3,"click"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-16",2,"width","100%"],[1,"card","card-user"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","role","placeholder","eg.. admin","value","Creative Code Inc.",1,"form-control"],[1,"col-md-3","px-1"],["type","text","formControlName","username","placeholder","Username","value","michael23",1,"form-control"],["type","text","formControlName","password","placeholder","password",1,"form-control"],[1,"col-md-12"],["type","text","formControlName","email","placeholder","",1,"form-control"],[1,"col-md-6","pr-1"],["type","text","formControlName","firstname","placeholder","first name","value","Chet",1,"form-control"],[1,"col-md-6","pl-1"],["type","text","formControlName","lastname","placeholder","Last Name","value","Faker",1,"form-control"],["type","text","formControlName","address","placeholder","Home Address","value","Melbourne, Australia",1,"form-control"],[1,"col-md-4","pr-1"],["type","text","formControlName","city","placeholder","City","value","Melbourne",1,"form-control"],[1,"col-md-4","px-1"],["type","text","formControlName","country","placeholder","Country","value","Australia",1,"form-control"],[1,"col-md-4","pl-1"],["type","text","formControlName","phone","placeholder","phone number",1,"form-control"],["formControlName","about",1,"form-control","textarea"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"col-md-12",2,"width","100%"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["type","text","id","myInput",1,"form-control",2,"width","350px",3,"keyup"],[1,"w-100"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],[1,"table-responsive"],["id","myTable",1,"table","m-0",2,"width","100%"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"fa","fa-edit","fa-2x","text-info",3,"click"],[1,"fa","fa-close","fa-2x","text-danger",3,"click"],[1,"update","ml-auto","mr-auto"],["type","button",1,"btn","btn-primary","btn-round",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,ut,47,12,"div",1),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return t.openPopup()}),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.TgZ(8,"i",7),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10),e._UZ(12,"div",11),e.TgZ(13,"div",12)(14,"form",13)(15,"div",14)(16,"div",15)(17,"div",16)(18,"label"),e._uU(19,"Role "),e.qZA(),e._UZ(20,"input",17),e.qZA()(),e.TgZ(21,"div",18)(22,"div",16)(23,"label"),e._uU(24,"Username"),e.qZA(),e._UZ(25,"input",19),e.qZA()(),e.TgZ(26,"div",18)(27,"div",16)(28,"label"),e._uU(29,"Password"),e.qZA(),e._UZ(30,"input",20),e.qZA()(),e.TgZ(31,"div",21)(32,"div",16)(33,"label"),e._uU(34,"Email"),e.qZA(),e._UZ(35,"input",22),e.qZA()()(),e.TgZ(36,"div",14)(37,"div",23)(38,"div",16)(39,"label"),e._uU(40,"First Name"),e.qZA(),e._UZ(41,"input",24),e.qZA()(),e.TgZ(42,"div",25)(43,"div",16)(44,"label"),e._uU(45,"Last Name"),e.qZA(),e._UZ(46,"input",26),e.qZA()()(),e.TgZ(47,"div",14)(48,"div",21)(49,"div",16)(50,"label"),e._uU(51,"Address"),e.qZA(),e._UZ(52,"input",27),e.qZA()()(),e.TgZ(53,"div",14)(54,"div",28)(55,"div",16)(56,"label"),e._uU(57,"City"),e.qZA(),e._UZ(58,"input",29),e.qZA()(),e.TgZ(59,"div",30)(60,"div",16)(61,"label"),e._uU(62,"Country"),e.qZA(),e._UZ(63,"input",31),e.qZA()(),e.TgZ(64,"div",32)(65,"div",16)(66,"label"),e._uU(67," Phone Number"),e.qZA(),e._UZ(68,"input",33),e.qZA()()(),e.TgZ(69,"div",14)(70,"div",21)(71,"div",16)(72,"label"),e._uU(73,"About Me"),e.qZA(),e._UZ(74,"textarea",34),e.qZA()()(),e.TgZ(75,"div",14),e.YNc(76,Fe,3,0,"div",35),e.YNc(77,ht,3,0,"div",35),e.qZA()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(2),e.Q6J("ngStyle",e.VKq(6,wt,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.userForm),e.xp6(62),e.Q6J("ngIf","Add User"==t.header),e.xp6(1),e.Q6J("ngIf","Edit User"==t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1050;background-color:#fff;padding:1rem;border-radius:8px;box-shadow:0 5px 15px #0000004d;display:none}.modal.show[_ngcontent-%COMP%]{display:block}.modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Ot.prototype,"loading",void 0);const gr=function(c){return{display:c}};class Yi{constructor(n,t,s,p){this.userService=n,this.toastr=t,this.fb=s,this.roomService=p,this.page=1,this.pageSize=10,this.displayStyle="none",this.roomTypeForm=this.fb.group({id:["",b.kI.required],type:["",b.kI.required],base_occupancy:["",b.kI.required],extral_bed_price:["",b.kI.required],kids_occupancy:["",b.kI.required],base_price:["",b.kI.required],amenities:["",b.kI.required],description:["",b.kI.required],image_one:["",b.kI.required],image_two:["",b.kI.required],image_three:["",b.kI.required]})}ngOnInit(){this.getRoomType()}getRoomType(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.roomService.getroomType();t&&(n.rooms=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}openPopup(){this.header="Add Room",this.displayStyle="block"}closePopup(){this.displayStyle="none"}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("myTable").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none",this.loading.stop())}addRoomType(n){var t=this;return(0,Y.Z)(function*(){console.log(n);const s={type:n.type,base_occupancy:n.base_occupancy,extral_bed_price:n.extral_bed_price,kids_occupancy:n.kids_occupancy,base_price:n.base_price,amenities:n.amenities,description:n.description,image_one:n.image_one,image_two:n.image_two,image_three:n.image_three};s.image_one=t.base64_string,s.image_two=t.base64_string,s.image_three=t.base64_string;try{(yield t.roomService.postroom_type(s))&&t.toastr.success(null,"room type successfully added"),t.closePopup(),t.getRoomType()}catch(C){t.toastr.error(null,C)}})()}handleUpload(n){const t=n.target.files[0],s=new FileReader;s.readAsDataURL(t),s.onload=()=>{this.base64_string=s.result}}EditRoomPopup(n){var t=this;return(0,Y.Z)(function*(){t.header="Edit Room Type",t.displayStyle="block";try{t.loading.start(),t.room_info=yield t.roomService.get_room_details(n),t.room_info&&t.roomTypeForm.patchValue({id:t.room_info[0].id,description:t.room_info[0].description,base_price:t.room_info[0].base_price,kids_occupancy:t.room_info[0].kids_occupancy,base_occupancy:t.room_info[0].base_occupancy,amenities:t.room_info[0].amenities,type:t.room_info[0].room_type,extral_bed_price:t.room_info[0].extral_bed_price})}catch(s){t.toastr.error(null,s)}finally{t.loading.stop()}})()}updateRoomType(n){var t=this;return(0,Y.Z)(function*(){const s={id:n.id,type:n.type,base_occupancy:n.base_occupancy,extral_bed_price:n.extral_bed_price,kids_occupancy:n.kids_occupancy,base_price:n.base_price,amenities:n.amenities,description:n.description,image_one:n.image_one,image_two:n.image_two,image_three:n.image_three};s.image_one=t.base64_string,s.image_two=t.base64_string,s.image_three=t.base64_string;try{t.loading.start(),(yield t.roomService.updateRoom(s))&&t.closePopup(),t.getRoomType()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}deleteRoom(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.roomService.deleteRoomType(n))&&t.getRoomType()}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}}function Yo(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td")(18,"i",63),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.EditRoomPopup(C.id))}),e.qZA(),e.TgZ(19,"i",64),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.deleteRoom(C.id))}),e.qZA()()()}if(2&c){const t=n.$implicit,s=n.index;e.xp6(2),e.hij("#",s+1,""),e.xp6(2),e.Oqu(t.room_type),e.xp6(2),e.Oqu(t.room_number),e.xp6(2),e.Oqu(t.floor),e.xp6(2),e.Oqu(t.reserved),e.xp6(2),e.Oqu(t.status),e.xp6(2),e.Oqu(t.occupied_state),e.xp6(2),e.Oqu(t.description)}}function Mo(c,n){1&c&&e._uU(0,"First")}function Bo(c,n){1&c&&e._uU(0,"Last")}function _n(c,n){1&c&&e._uU(0,"Prev")}function Fo(c,n){1&c&&e._uU(0,"Next")}function no(c,n){1&c&&e._uU(0,"...")}function Ti(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function Ko(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",39)(2,"div",40)(3,"div",41)(4,"div",42)(5,"div",43)(6,"div",44)(7,"input",45),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.myFunction())}),e.qZA()(),e.TgZ(8,"div",46)(9,"button",47),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup())}),e._uU(10," New room"),e.qZA()()()(),e.TgZ(11,"div",48)(12,"table",49)(13,"thead",50)(14,"tr",51)(15,"th",52),e._uU(16,"#"),e.qZA(),e.TgZ(17,"th",52),e._uU(18,"Type"),e.qZA(),e.TgZ(19,"th",52),e._uU(20,"Number"),e.qZA(),e.TgZ(21,"th",52),e._uU(22,"Floor"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Reservation"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Status"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Occupancy State"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Descripton"),e.qZA(),e.TgZ(31,"th",52),e._uU(32,"Actions"),e.qZA()()(),e.TgZ(33,"tbody"),e.YNc(34,Yo,20,8,"tr",53),e.ALo(35,"slice"),e.qZA()()(),e.TgZ(36,"div",54)(37,"div",55)(38,"ngb-pagination",56),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(39,Mo,1,0,"ng-template",57),e.YNc(40,Bo,1,0,"ng-template",58),e.YNc(41,_n,1,0,"ng-template",59),e.YNc(42,Fo,1,0,"ng-template",60),e.YNc(43,no,1,0,"ng-template",61),e.YNc(44,Ti,1,1,"ng-template",62),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(34),e.Q6J("ngForOf",e.Dn7(35,8,t.rooms,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.rooms.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function Ki(c,n){if(1&c&&(e.TgZ(0,"option",65),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.room_type),e.xp6(1),e.Oqu(t.room_type)}}function Er(c,n){if(1&c&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.xp6(1),e.hij(" ",t.status,"")}}function Wo(c,n){1&c&&(e.TgZ(0,"div",66)(1,"button",67),e._uU(2," Save"),e.qZA()())}function wo(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",66)(1,"button",68),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updateRoom(p.roomForm.value))}),e._uU(2," Update"),e.qZA()()}}Yi.\u0275fac=function(n){return new(n||Yi)(e.Y36(te.W),e.Y36(me._W),e.Y36(b.qu),e.Y36(P.X))},Yi.\u0275cmp=e.Xpm({type:Yi,selectors:[["room-types"]],decls:62,vars:8,consts:[[1,"page"],["class","row",4,"blockUI"],["type","button",1,"btn","btn-primary",2,"margin","50px","padding","10px","display","none",3,"click"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-16",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","type","placeholder","eg.. executive",1,"form-control"],[1,"col-md-3","px-1"],["type","text","formControlName","base_occupancy","placeholder","eg.. 1",1,"form-control"],["type","text","formControlName","extral_bed_price","placeholder","price",1,"form-control"],[1,"col-md-12"],["type","text","formControlName","kids_occupancy","placeholder","eg.. 1",1,"form-control"],[1,"col-md-6","pr-1"],["type","text","formControlName","amenities","placeholder","eg.. pool,bar,restaurant",1,"form-control"],[1,"col-md-6","pl-1"],["type","text","formControlName","base_price","placeholder","base price",1,"form-control"],["type","text","formControlName","description","placeholder","some description",1,"form-control"],[1,"col-md-4","pr-1"],["type","file","formControlName","image_one","placeholder","some description",1,"form-control",3,"change"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"col-md-12",2,"width","100%"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["type","text","id","myInput",1,"form-control",2,"width","350px",3,"keyup"],[1,"w-100"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],[1,"table-responsive"],["id","myTable",1,"table","m-0",2,"width","100%"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"fa","fa-edit","fa-2x","text-info",3,"click"],[1,"fa","fa-close","fa-2x","text-danger",3,"click"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"],["type","button",1,"btn","btn-primary","btn-round",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Gn,43,12,"div",1),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return t.openPopup()}),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.TgZ(8,"i",7),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10),e._UZ(12,"div",11),e.TgZ(13,"div",12)(14,"form",13),e.NdJ("ngSubmit",function(){return t.addRoomType(t.roomTypeForm.value)}),e.TgZ(15,"div",14)(16,"div",15)(17,"div",16)(18,"label"),e._uU(19,"Room Type "),e.qZA(),e._UZ(20,"input",17),e.qZA()(),e.TgZ(21,"div",18)(22,"div",16)(23,"label"),e._uU(24,"Base Occupancy"),e.qZA(),e._UZ(25,"input",19),e.qZA()(),e.TgZ(26,"div",18)(27,"div",16)(28,"label"),e._uU(29,"Extral Bed Price"),e.qZA(),e._UZ(30,"input",20),e.qZA()(),e.TgZ(31,"div",21)(32,"div",16)(33,"label"),e._uU(34,"Kids Occupancy"),e.qZA(),e._UZ(35,"input",22),e.qZA()()(),e.TgZ(36,"div",14)(37,"div",23)(38,"div",16)(39,"label"),e._uU(40,"Amenities"),e.qZA(),e._UZ(41,"input",24),e.qZA()(),e.TgZ(42,"div",25)(43,"div",16)(44,"label"),e._uU(45,"Base Price"),e.qZA(),e._UZ(46,"input",26),e.qZA()()(),e.TgZ(47,"div",14)(48,"div",21)(49,"div",16)(50,"label"),e._uU(51,"Description"),e.qZA(),e._UZ(52,"input",27),e.qZA()()(),e.TgZ(53,"div",14)(54,"div",28)(55,"div",16)(56,"label"),e._uU(57,"Image "),e.qZA(),e.TgZ(58,"input",29),e.NdJ("change",function(p){return t.handleUpload(p)}),e.qZA()()()(),e.TgZ(59,"div",14),e.YNc(60,En,3,0,"div",30),e.YNc(61,qo,3,0,"div",30),e.qZA()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(2),e.Q6J("ngStyle",e.VKq(6,gr,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.roomTypeForm),e.xp6(46),e.Q6J("ngIf","Add Room"==t.header),e.xp6(1),e.Q6J("ngIf","Edit Room Type"==t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU],styles:[".modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Yi.prototype,"loading",void 0);const Ma=function(c){return{display:c}};class Ye{constructor(n,t,s){this.toastr=n,this.fb=t,this.roomService=s,this.displayStyle="none",this.page=1,this.pageSize=10,this.roomForm=this.fb.group({id:["",b.kI.required],room_number:["",b.kI.required],room_type:["",b.kI.required],floor:["",b.kI.required],duration:["",b.kI.required],reserved:["",b.kI.required],description:["",b.kI.required],image_one:["",b.kI.required],status:["",b.kI.required],session:["",b.kI.required],occupied_by:["",b.kI.required]})}ngOnInit(){this.getRoom(),this.getRoomType()}getRoomType(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.roomService.getroomType();t&&(n.roomtype=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}getRoom(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.roomService.getrooms();t&&(n.rooms=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}addRoom(n){var t=this;return(0,Y.Z)(function*(){const s={room_number:n.room_number,room_type:n.room_type,floor:n.floor,duration:n.duration,reserved:n.reserved,description:n.description,image_one:n.image_one,session:n.session};s.image_one=t.base64_string;try{t.loading.start(),(yield t.roomService.post_room(s))&&t.toastr.success(null,"room type successfully added"),t.closePopup(),t.getRoom()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}openPopup(){this.header="Add Room",this.displayStyle="block"}EditRoomPopup(n){var t=this;return(0,Y.Z)(function*(){t.header="Edit Room ",t.displayStyle="block";try{t.loading.start(),t.room_info=yield t.roomService.get_rooms_details(n),t.room_info&&t.roomForm.patchValue({id:t.room_info[0].id,room_number:t.room_info[0].room_number,room_type:t.room_info[0].room_type,floor:t.room_info[0].floor,duration:t.room_info[0].duration,reserved:t.room_info[0].reserved,description:t.room_info[0].description,image_one:t.room_info[0].image_one,status:t.room_info[0].status,session:t.room_info[0].session})}catch(s){t.toastr.error(null,s)}finally{t.loading.stop()}})()}closePopup(){this.displayStyle="none"}myFunction(){var t,p,C,O;for(this.loading.start(),t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("myTable").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none",this.loading.stop())}updateRoom(n){var t=this;return(0,Y.Z)(function*(){const s={id:n.id,room_number:n.room_number,room_type:n.room_type,floor:n.floor,duration:n.duration,reserved:n.reserved,description:n.description,image_one:n.image_one,status:n.status,occupied_by:n.occupied_by,session:n.session};s.image_one=t.base64_string;try{t.loading.start(),(yield t.roomService.updateRooms(s))&&t.closePopup(),t.getRoom()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}handleUpload(n){const t=n.target.files[0],s=new FileReader;s.readAsDataURL(t),s.onload=()=>{this.base64_string=s.result}}deleteRoom(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.roomService.deleteRoom(n))&&t.closePopup(),t.getRoom()}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}}function qt(c,n){1&c&&e._UZ(0,"div")}function St(c,n){1&c&&e._UZ(0,"div")}function lt(c,n){1&c&&(e.TgZ(0,"div")(1,"span")(2,"h1",6),e._uU(3,"Clean"),e.qZA()()())}function sn(c,n){1&c&&(e.TgZ(0,"div")(1,"span")(2,"h1",7),e._uU(3,"Dirty"),e.qZA()()())}function vn(c,n){1&c&&(e.TgZ(0,"div"),e._UZ(1,"i",8),e.qZA())}function Uo(c,n){1&c&&(e.TgZ(0,"div"),e._UZ(1,"i",9),e.qZA())}function Wi(c,n){if(1&c&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"h3"),e._uU(4),e.qZA(),e.YNc(5,qt,1,0,"div",5),e.YNc(6,St,1,0,"div",5),e._UZ(7,"br"),e.YNc(8,lt,4,0,"div",5),e.YNc(9,sn,4,0,"div",5),e.qZA(),e.YNc(10,vn,2,0,"div",5),e.YNc(11,Uo,2,0,"div",5),e.qZA()()),2&c){const t=n.$implicit;e.xp6(4),e.hij("Room ",t.room_number,""),e.xp6(1),e.Q6J("ngIf","occupied"!=t.occupied_state),e.xp6(1),e.Q6J("ngIf","available"!=t.occupied_state),e.xp6(2),e.Q6J("ngIf","dirty"!=t.status),e.xp6(1),e.Q6J("ngIf","clean"!=t.status),e.xp6(1),e.Q6J("ngIf","available"!=t.occupied_state),e.xp6(1),e.Q6J("ngIf","occupied"!=t.occupied_state)}}Ye.\u0275fac=function(n){return new(n||Ye)(e.Y36(me._W),e.Y36(b.qu),e.Y36(P.X))},Ye.\u0275cmp=e.Xpm({type:Ye,selectors:[["all-rooms"]],decls:81,vars:10,consts:[[1,"page"],["class","row",4,"blockUI"],["type","button",1,"btn","btn-primary",2,"margin","50px","padding","10px","display","none",3,"click"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-16",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["formControlName","room_type",1,"form-control"],["value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","status",1,"form-control"],["value","","hidden","","selected","",4,"ngFor","ngForOf"],["value","clean"],["value","dirty"],[1,"col-md-3","px-1"],["type","text","formControlName","room_number","placeholder","eg.. 1",1,"form-control"],["type","text","formControlName","floor","placeholder","floor",1,"form-control"],[1,"col-md-12"],["type","text","formControlName","duration","placeholder","eg.. 24hrs",1,"form-control"],[1,"col-md-6","pr-1"],["formControlName","reserved",1,"form-control"],["value","yes"],["value","no"],[1,"col-md-6","pl-1"],["type","text","formControlName","session","placeholder","day",1,"form-control"],["type","text","formControlName","description","placeholder","some description",1,"form-control"],[1,"col-md-4","pr-1"],["type","file","formControlName","image_one","placeholder","some description",1,"form-control",3,"change"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"col-md-12",2,"width","100%"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["type","text","id","myInput",1,"form-control",2,"width","350px",3,"keyup"],[1,"w-100"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],[1,"table-responsive"],["id","myTable",1,"table","m-0",2,"width","100%"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"fa","fa-edit","fa-2x","text-info",3,"click"],[1,"fa","fa-close","fa-2x","text-danger",3,"click"],[3,"value"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"],["type","button",1,"btn","btn-primary","btn-round",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Ko,45,12,"div",1),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return t.openPopup()}),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.TgZ(8,"i",7),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10),e._UZ(12,"div",11),e.TgZ(13,"div",12)(14,"form",13),e.NdJ("ngSubmit",function(){return t.addRoom(t.roomForm.value)}),e.TgZ(15,"div",14)(16,"div",15)(17,"div",16)(18,"label"),e._uU(19,"Room Type "),e.qZA(),e.TgZ(20,"select",17)(21,"option",18),e._uU(22,"Select Room type"),e.qZA(),e.YNc(23,Ki,2,2,"option",19),e.qZA()()(),e.TgZ(24,"div",15)(25,"div",16)(26,"label"),e._uU(27," Status "),e.qZA(),e.TgZ(28,"select",20),e.YNc(29,Er,2,1,"option",21),e.TgZ(30,"option",22),e._uU(31,"Clean"),e.qZA(),e.TgZ(32,"option",23),e._uU(33,"Dirty"),e.qZA()()()(),e.TgZ(34,"div",24)(35,"div",16)(36,"label"),e._uU(37,"Room Number"),e.qZA(),e._UZ(38,"input",25),e.qZA()(),e.TgZ(39,"div",24)(40,"div",16)(41,"label"),e._uU(42,"Floor"),e.qZA(),e._UZ(43,"input",26),e.qZA()(),e.TgZ(44,"div",27)(45,"div",16)(46,"label"),e._uU(47,"Duration"),e.qZA(),e._UZ(48,"input",28),e.qZA()()(),e.TgZ(49,"div",14)(50,"div",29)(51,"div",16)(52,"label"),e._uU(53,"reserved"),e.qZA(),e.TgZ(54,"select",30)(55,"option",18),e._uU(56,"Select Reeservation Status"),e.qZA(),e.TgZ(57,"option",31),e._uU(58,"Yes"),e.qZA(),e.TgZ(59,"option",32),e._uU(60,"No"),e.qZA()()()(),e.TgZ(61,"div",33)(62,"div",16)(63,"label"),e._uU(64,"Session"),e.qZA(),e._UZ(65,"input",34),e.qZA()()(),e.TgZ(66,"div",14)(67,"div",27)(68,"div",16)(69,"label"),e._uU(70,"Description"),e.qZA(),e._UZ(71,"input",35),e.qZA()()(),e.TgZ(72,"div",14)(73,"div",36)(74,"div",16)(75,"label"),e._uU(76,"Image "),e.qZA(),e.TgZ(77,"input",37),e.NdJ("change",function(p){return t.handleUpload(p)}),e.qZA()()()(),e.TgZ(78,"div",14),e.YNc(79,Wo,3,0,"div",38),e.YNc(80,wo,3,0,"div",38),e.qZA()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(2),e.Q6J("ngStyle",e.VKq(8,Ma,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.roomForm),e.xp6(9),e.Q6J("ngForOf",t.roomtype),e.xp6(6),e.Q6J("ngForOf",t.rooms),e.xp6(50),e.Q6J("ngIf","Add Room"==t.header),e.xp6(1),e.Q6J("ngIf","Edit Room "==t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU],styles:[".modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Ye.prototype,"loading",void 0);class Ei{constructor(n,t,s){this.toastr=n,this.fb=t,this.roomService=s,this.displayStyle="none"}ngOnInit(){this.getRoom()}getRoom(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.roomService.getrooms();t&&(n.rooms=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}openPopup(){this.displayStyle="block"}closePopup(){this.displayStyle="none"}}function aa(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td")(18,"i",271),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.EditGuest(C.id))}),e.qZA(),e.TgZ(19,"i",272),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.deleteGuest(C.id))}),e.qZA()()()}if(2&c){const t=n.$implicit;e.xp6(2),e.hij(" ",t.first_name+" "+t.last_name,""),e.xp6(2),e.Oqu(t.gender),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.address),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.arrival_date),e.xp6(2),e.hij("",t.checkout_date," "),e.xp6(2),e.hij("",t.has_checkout," ")}}function wr(c,n){1&c&&e._uU(0,"First")}function fu(c,n){1&c&&e._uU(0,"Last")}function Bn(c,n){1&c&&e._uU(0,"Prev")}function Xt(c,n){1&c&&e._uU(0,"Next")}function gn(c,n){1&c&&e._uU(0,"...")}function j(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function Xn(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",247)(2,"div",248)(3,"div",249)(4,"div",250)(5,"div",251)(6,"div",252)(7,"input",253),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.myFunction())}),e.qZA()(),e._UZ(8,"div",254),e.qZA()(),e.TgZ(9,"div",255)(10,"button",256),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup())}),e._uU(11," Add Guest"),e.qZA(),e.TgZ(12,"table",257)(13,"thead",258)(14,"tr",259)(15,"th",260),e._uU(16,"Name"),e.qZA(),e.TgZ(17,"th",260),e._uU(18,"Gender"),e.qZA(),e.TgZ(19,"th",260),e._uU(20,"Phone"),e.qZA(),e.TgZ(21,"th",260),e._uU(22,"Address"),e.qZA(),e.TgZ(23,"th",260),e._uU(24,"Email"),e.qZA(),e.TgZ(25,"th",260),e._uU(26,"Check in"),e.qZA(),e.TgZ(27,"th",260),e._uU(28,"Checkout "),e.qZA(),e.TgZ(29,"th",260),e._uU(30," Checkout At"),e.qZA(),e.TgZ(31,"th",260),e._uU(32,"Actions"),e.qZA()()(),e.TgZ(33,"tbody"),e.YNc(34,aa,20,8,"tr",261),e.ALo(35,"slice"),e.qZA()()(),e.TgZ(36,"div",262)(37,"div",263)(38,"ngb-pagination",264),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(39,wr,1,0,"ng-template",265),e.YNc(40,fu,1,0,"ng-template",266),e.YNc(41,Bn,1,0,"ng-template",267),e.YNc(42,Xt,1,0,"ng-template",268),e.YNc(43,gn,1,0,"ng-template",269),e.YNc(44,j,1,1,"ng-template",270),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(34),e.Q6J("ngForOf",e.Dn7(35,8,t.guestList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.guestList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function vi(c,n){1&c&&(e.TgZ(0,"div",273)(1,"button",274),e._uU(2," Save"),e.qZA()())}function Ns(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",273)(1,"button",275),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updateGuest(p.createForm.value))}),e._uU(2," Update"),e.qZA()()}}Ei.\u0275fac=function(n){return new(n||Ei)(e.Y36(me._W),e.Y36(b.qu),e.Y36(P.X))},Ei.\u0275cmp=e.Xpm({type:Ei,selectors:[["room-status"]],decls:2,vars:1,consts:[[1,"row"],["class","col-md-3 animated fadeIn",4,"ngFor","ngForOf"],[1,"col-md-3","animated","fadeIn"],[1,"card","card-block","tip-card"],[1,"tip-msg"],[4,"ngIf"],[1,"text-success"],[2,"color","brown"],[1,"fa","fa-check-circle","fa-fw","fa-2x",2,"color","lightgray"],[1,"fa","fa-check-circle","fa-fw","fa-2x","text-success"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Wi,12,7,"div",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngForOf",t.rooms))},dependencies:[be.sg,be.O5],styles:[".tip-card[_ngcontent-%COMP%]{padding:50px;display:flex;flex-direction:row;justify-content:space-around;.tip-msg {flex: 1;}}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:5px;text-align:left}.modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}.tip-card[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{transition:.3s ease-in-out;transform:scale(1.1)}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Ei.prototype,"loading",void 0);const gu=function(c){return{display:c}};class mr{constructor(n,t,s,p,C,O,qe){this.roomService=n,this.router=t,this.fb=s,this.route=p,this.guestService=C,this.toastr=O,this.paymentService=qe,this.displayStyle="none",this.submitted=!1,this.title="Create Ad",this.isNew=!0,this.post=!0,this.update=!1,this.page=1,this.pageSize=10,this.createForm=this.fb.group({id:["",b.kI.required],room_number:["",b.kI.required],username:["",b.kI.required],email:["",b.kI.required],password:["",b.kI.required],confirm_password:["",b.kI.required],dob:["",b.kI.required],country:["",b.kI.required],arrival_date:["",b.kI.required],photo:["",b.kI.required],id_type:["",b.kI.required],id_upload:["",b.kI.required],id_number:["",b.kI.required],checkout_date:["",b.kI.required],remark:["",b.kI.required],work:["",b.kI.required],city:["",b.kI.required],gender:["",b.kI.required],phone:["",b.kI.required],address:["",b.kI.required],first_name:["",b.kI.required],last_name:["",b.kI.required],region:["",b.kI.required]})}ngOnInit(){this.getGuest()}addGuest(n){var t=this;return(0,Y.Z)(function*(){const s={room_number:n.room_number,username:n.username,email:n.email,password:n.password,dob:n.dob,country:n.country,arrival_date:n.arrival_date,photo:n.photo,id_type:n.id_type,id_upload:n.id_upload,id_number:n.id_number,checkout_date:n.checkout_date,remark:n.remark,work:n.work,city:n.city,gender:n.gender,phone:n.phone,address:n.address,confirm_password:n.confirm_password,first_name:n.first_name,last_name:n.last_name,region:n.region};s.photo=t.base64_string,s.id_upload=t.base64_string;try{t.loading.start(),(yield t.guestService.addGuest(s))&&t.toastr.success(null,"Guest successfully added"),t.closePopup(),t.getGuest()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("myTable").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}openPopup(){this.header="Add Guest",this.displayStyle="block"}closePopup(){this.displayStyle="none"}getGuest(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.guestService.getGuests();t&&(n.guestList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}handleUpload(n){const t=n.target.files[0],s=new FileReader;s.readAsDataURL(t),s.onload=()=>{this.base64_string=s.result}}EditGuest(n){var t=this;return(0,Y.Z)(function*(){t.header="Edit Guest",t.displayStyle="block";try{t.loading.start(),t.guest_info=yield t.guestService.getGuest_info(n),t.guest_info&&t.createForm.patchValue({id:t.guest_info[0].id,username:t.guest_info[0].username,email:t.guest_info[0].email,dob:t.guest_info[0].dob,country:t.guest_info[0].country,arrival_date:t.guest_info[0].arrival_date,checkout_date:t.guest_info[0].checkout_date,remark:t.guest_info[0].remark,work:t.guest_info[0].work,city:t.guest_info[0].city,gender:t.guest_info[0].gender,phone:t.guest_info[0].phone,address:t.guest_info[0].address,first_name:t.guest_info[0].first_name,last_name:t.guest_info[0].last_name,region:t.guest_info[0].region})}catch(s){t.toastr.error(null,s)}finally{t.loading.stop()}})()}updateGuest(n){var t=this;return(0,Y.Z)(function*(){const s={id:n.id,room_number:n.room_number,username:n.username,email:n.email,password:n.password,dob:n.dob,country:n.country,arrival_date:n.arrival_date,checkout_date:n.checkout_date,remark:n.remark,work:n.work,city:n.city,gender:n.gender,phone:n.phone,address:n.address,confirm_password:n.confirm_password,first_name:n.first_name,last_name:n.last_name,region:n.region};s.photo=t.base64_string,s.id_upload=t.base64_string;try{t.loading.start(),(yield t.guestService.updateGuest(s))&&t.closePopup(),t.getGuest()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}checkOut(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.checkout(n))&&t.getGuest()}catch{t.toastr.info(null,"kindly pay all pending bills  before checkout")}finally{t.loading.stop()}})()}deleteGuest(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deleteGuest(n))&&t.getGuest()}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}}function kd(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"i",273),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.deleteBooking(p.id))}),e.qZA()}}mr.\u0275fac=function(n){return new(n||mr)(e.Y36(P.X),e.Y36(Gt.F0),e.Y36(b.qu),e.Y36(Gt.gz),e.Y36(ee.Q),e.Y36(me._W),e.Y36(pe.t))},mr.\u0275cmp=e.Xpm({type:mr,selectors:[["guest"]],decls:522,vars:8,consts:[[1,"page"],["class","row",4,"blockUI"],["type","button",1,"btn","btn-primary",2,"margin","50px","padding","10px","display","none",3,"click"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-16",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","first_name","placeholder","Kevin",1,"form-control"],["type","text","formControlName","last_name","placeholder","Fiadzeawu",1,"form-control"],[1,"col-md-3","px-1"],["type","text","formControlName","username","placeholder","eg.. 1",1,"form-control"],["type","email","formControlName","email","placeholder","....@yourmail.com",1,"form-control"],[1,"col-md-12"],["type","date","formControlName","dob",1,"form-control"],[1,"col-md-6","pr-1"],["data-val","true","data-val-number","The field Country must be a number.","data-val-required","'Country' must not be empty.","id","PointOfContact_Country","formControlName","country",1,"form-control"],["value","","hidden","","selected",""],["value","Afghanistan"],["value","Albania"],["value","Algeria"],["value","Andorra"],["value","Angola"],["value","Antigua and Barbuda"],["value","Argentina"],["value","7"],["value","Armenia"],["value","Australia"],["value","Austria"],["value","Azerbaijan"],["value","Bahamas"],["value","Bahrain"],["value","Bangladesh"],["value","Barbados"],["value","Belarus"],["value","Belgium"],["value","Belize"],["value","Benin"],["value","Bermuda"],["value","Bhutan"],["value","Bolivia"],["value","Bonaire Sint Eustatius and Saba"],["value","15"],["value","Bosnia and Herzegovina"],["value","Brazil"],["value","British Indian Ocean Territory"],["value","British Virgin Islands"],["value","Brunei Darussalam"],["value","Bulgaria"],["value","Burkina Faso"],["value","22"],["value","Burundi"],["value","Canada"],["value","Cape Verde"],["value","Cayman Islands"],["value","Central African Republic"],["value","Chad"],["value","Chile"],["value","China"],["value","Christmas Island"],["value","Cocos Islands"],["value","Colombia"],["value","Comoros"],["value",">Cook Islands"],["value","Costa Rica"],["value","Croatia"],["value","Cuba"],["value","Cyprus"],["value","Czech Republic"],["value","Democratic Republic of the Congo"],["value","Denmark"],["value","Djibouti"],["value","Dominica"],["value","Dominican Republic"],["value","East Caribbean"],["value","ast Timor"],["value",">Ecuador"],["value",">Egypt"],["value",">El Salvador"],["value","Equatorial Guinea"],["value","Eritrea"],["value","Estonia"],["value","Ethiopia"],["value","Faroe Islands Islands"],["value","Faroe Islands"],["value","64"],["value","Fiji"],["value","69"],["value","franc XAF Gabon"],["value","French Polynesia"],["value","Gambia"],["value","Georgia"],["value","Germany"],["value","Ghana"],["value","Gibraltar"],["value","Greece"],["value","Greenland"],["value","Guadeloupe"],["value","Guam"],["value","Guatemala"],["value","Guernsey"],["value","Guinea"],["value","Guinea-Bissau"],["value","Guyana"],["value","Haiti"],["value","Honduras"],["value","Hong"],["value","Hungary"],["value","Iceland"],["selected","selected","value","India"],["value","Indonesia"],["value","Iran"],["value","Iraq"],["value","Ireland"],["value","Isle of Man"],["value","Israel"],["value","Italy"],["value","Jamaica"],["value","Japan"],["value","Jersey"],["value","Jordan"],["value","Kazakhstan"],["value","Kenya"],["value","Kiribati"],["value","Kosovo"],["value","Kuwait"],["value","Lebanon"],["value","Lesotho"],["value","Liberia"],["value","Libya"],["value","Madagascar"],["value","Malawi"],["value","Malaysia"],["value","Maldives"],["value","Mali"],["value","Malta"],["value","Mauritania"],["value","Mauritius"],["value","Mexico"],["value","Micronesia"],["value","Moldova"],["value","Monaco"],["value","Mongolia"],["value","Montenegro"],["value","Montserrat"],["value","Morocco"],["value","Mozambique"],["value","Myanmar"],["value","Namibia"],["value","Nauru"],["value","Nepal"],["value","Netherlands"],["value","New Zealand"],["value","Niger"],["value","Nigeria"],["value","North Korea"],["value","Norway"],["value","Oman"],["value","Pakistan"],["value","Palau"],["value","Palestinian Territory"],["value","Panama"],["value","Paraguay"],["value","Peru"],["value","Philippines"],["value","Pitcairn"],["value","Poland"],["value","Portugal"],["value","Qatar"],["value","Republic of the Congo"],["value","Reunion"],["value","Romania"],["value","Russia"],["value","Rwanda"],["value","Saint Barthelemy"],["value","Samoa"],["value","San Marino"],["value","udi Arabia"],["value","Senegal"],["value","Serbia"],["value","Seychelles"],["value","Singapore"],["value","Slovakia"],["value","Slovenia"],["value","Solomon Island"],["value","Somalia"],["value","South Africa"],["value","South Korea"],["value","South Sudan"],["value","Spain"],["value","Sri Lanka"],["value","Sudan"],["value","Suriname"],["value","Swaziland"],["value","Sweden"],["value","Switzerland"],["value","Syria"],["value","Taiwan"],["value","Tajikistan"],["value","Tanzania"],["value","Thailand"],["value","Togo"],["value","Tokelau"],["value","Tonga"],["value","Trinidad and Tobago"],["value","Tunisia"],["value","Turkey"],["value","Turkmenistan"],["value","Tuvalu"],["value","Uganda"],["value","Ukraine"],["value","United Arab Emirates"],["value","nited Kingdom"],["value","United States"],["value","nited States Minor Outlying Islands"],["value","Uruguay"],["value","Uzbekistan"],["value","Vanuatu"],["value","Vatican City"],["value","Venezuela"],["value","Vietnam"],["value","Wallis and Futuna"],["value","emen"],["value","Zambia"],["value","Zimbabwe"],[1,"col-md-6","pl-1"],["type","date","formControlName","arrival_date",1,"form-control"],["type","date","formControlName","checkout_date",1,"form-control"],["type","text","formControlName","work",1,"form-control"],["type","text","formControlName","city",1,"form-control"],["formControlName","gender","id","",1,"form-control"],["value","male"],["value","female"],["type","text","formControlName","phone",1,"form-control"],["type","text","formControlName","address","placeholder","7th street teshiw",1,"form-control"],["type","text","formControlName","region","placeholder","guest region",1,"form-control"],["type","text","formControlName","remark","placeholder","some remarks",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"col-md-12",2,"width","100%"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["type","text","id","myInput",1,"form-control",2,"width","350px",3,"keyup"],[1,"w-100"],[1,"table-responsive"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["id","myTable",1,"table","m-0",2,"width","100%"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"],["type","button",1,"btn","btn-primary","btn-round",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Xn,45,12,"div",1),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return t.openPopup()}),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.TgZ(8,"i",7),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10),e._UZ(12,"div",11),e.TgZ(13,"div",12)(14,"form",13),e.NdJ("ngSubmit",function(){return t.addGuest(t.createForm.value)}),e.TgZ(15,"div",14)(16,"div",15)(17,"div",16)(18,"label"),e._uU(19,"First Name "),e.qZA(),e._UZ(20,"input",17),e.qZA()(),e.TgZ(21,"div",15)(22,"div",16)(23,"label"),e._uU(24," Last Name "),e.qZA(),e._UZ(25,"input",18),e.qZA()(),e.TgZ(26,"div",19)(27,"div",16)(28,"label"),e._uU(29,"Username"),e.qZA(),e._UZ(30,"input",20),e.qZA()(),e.TgZ(31,"div",19)(32,"div",16)(33,"label"),e._uU(34,"Email"),e.qZA(),e._UZ(35,"input",21),e.qZA()(),e.TgZ(36,"div",22)(37,"div",16)(38,"label"),e._uU(39,"Date Of Birth"),e.qZA(),e._UZ(40,"input",23),e.qZA()()(),e.TgZ(41,"div",14)(42,"div",24)(43,"div",16)(44,"label"),e._uU(45,"Country"),e.qZA(),e.TgZ(46,"select",25)(47,"option",26),e._uU(48,"Select"),e.qZA(),e.TgZ(49,"option",26),e._uU(50,"Select Country"),e.qZA(),e.TgZ(51,"option",27),e._uU(52,"Afghanistan"),e.qZA(),e.TgZ(53,"option",28),e._uU(54,"Albania"),e.qZA(),e.TgZ(55,"option",29),e._uU(56,"Algeria"),e.qZA(),e.TgZ(57,"option",30),e._uU(58,"Andorra"),e.qZA(),e.TgZ(59,"option",31),e._uU(60,"Angola"),e.qZA(),e.TgZ(61,"option",32),e._uU(62,"Antigua and Barbuda"),e.qZA(),e.TgZ(63,"option",33),e._uU(64,"Argentina"),e.qZA(),e.TgZ(65,"option",34),e._uU(66,"Armenia"),e.qZA(),e.TgZ(67,"option",35),e._uU(68,"Aruba"),e.qZA(),e.TgZ(69,"option",36),e._uU(70,"Australia"),e.qZA(),e.TgZ(71,"option",37),e._uU(72,"Austria"),e.qZA(),e.TgZ(73,"option",38),e._uU(74,"Azerbaijan"),e.qZA(),e.TgZ(75,"option",39),e._uU(76,"Bahamas"),e.qZA(),e.TgZ(77,"option",40),e._uU(78,"Bahrain"),e.qZA(),e.TgZ(79,"option",41),e._uU(80,"Bangladesh"),e.qZA(),e.TgZ(81,"option",42),e._uU(82,"Barbados"),e.qZA(),e.TgZ(83,"option",43),e._uU(84,"Belarus"),e.qZA(),e.TgZ(85,"option",44),e._uU(86,"Belgium"),e.qZA(),e.TgZ(87,"option",45),e._uU(88,"Belize"),e.qZA(),e.TgZ(89,"option",46),e._uU(90,"Benin"),e.qZA(),e.TgZ(91,"option",47),e._uU(92,"Bermuda"),e.qZA(),e.TgZ(93,"option",48),e._uU(94,"Bhutan"),e.qZA(),e.TgZ(95,"option",49),e._uU(96,"Bolivia"),e.qZA(),e.TgZ(97,"option",50),e._uU(98,"Bonaire Sint Eustatius and Saba"),e.qZA(),e.TgZ(99,"option",51),e._uU(100,"Bosnia and Herzegovina"),e.qZA(),e.TgZ(101,"option",52),e._uU(102,"Botswana"),e.qZA(),e.TgZ(103,"option",53),e._uU(104,"Brazil"),e.qZA(),e.TgZ(105,"option",54),e._uU(106,"British Indian Ocean Territory"),e.qZA(),e.TgZ(107,"option",55),e._uU(108,"British Virgin Islands"),e.qZA(),e.TgZ(109,"option",56),e._uU(110,"Brunei Darussalam"),e.qZA(),e.TgZ(111,"option",57),e._uU(112,"Bulgaria"),e.qZA(),e.TgZ(113,"option",58),e._uU(114,"Burkina Faso"),e.qZA(),e.TgZ(115,"option",59),e._uU(116,"Burundi"),e.qZA(),e.TgZ(117,"option",60),e._uU(118,"Cambodia"),e.qZA(),e.TgZ(119,"option",61),e._uU(120,"Canada"),e.qZA(),e.TgZ(121,"option",62),e._uU(122,"Cape Verde"),e.qZA(),e.TgZ(123,"option",63),e._uU(124,"Cayman Islands"),e.qZA(),e.TgZ(125,"option",64),e._uU(126,"Central African Republic"),e.qZA(),e.TgZ(127,"option",65),e._uU(128,"Chad"),e.qZA(),e.TgZ(129,"option",66),e._uU(130,"Chile"),e.qZA(),e.TgZ(131,"option",67),e._uU(132,"China"),e.qZA(),e.TgZ(133,"option",68),e._uU(134,"Christmas Island"),e.qZA(),e.TgZ(135,"option",69),e._uU(136,"Cocos Islands"),e.qZA(),e.TgZ(137,"option",70),e._uU(138,"Colombia"),e.qZA(),e.TgZ(139,"option",71),e._uU(140,"Comoros"),e.qZA(),e.TgZ(141,"option",72),e._uU(142,"Cook Islands"),e.qZA(),e.TgZ(143,"option",73),e._uU(144,"Costa Rica"),e.qZA(),e.TgZ(145,"option",74),e._uU(146,"Croatia"),e.qZA(),e.TgZ(147,"option",75),e._uU(148,"Cuba"),e.qZA(),e.TgZ(149,"option",76),e._uU(150,"Cyprus"),e.qZA(),e.TgZ(151,"option",77),e._uU(152,"Czech Republic"),e.qZA(),e.TgZ(153,"option",78),e._uU(154,"Democratic Republic of the Congo"),e.qZA(),e.TgZ(155,"option",79),e._uU(156,"Denmark"),e.qZA(),e.TgZ(157,"option",80),e._uU(158,"Djibouti"),e.qZA(),e.TgZ(159,"option",81),e._uU(160,"Dominica"),e.qZA(),e.TgZ(161,"option",82),e._uU(162,"Dominican Republic"),e.qZA(),e.TgZ(163,"option",83),e._uU(164,"East Caribbean"),e.qZA(),e.TgZ(165,"option",84),e._uU(166,"East Timor"),e.qZA(),e.TgZ(167,"option",85),e._uU(168,"Ecuador"),e.qZA(),e.TgZ(169,"option",86),e._uU(170,"Egypt"),e.qZA(),e.TgZ(171,"option",87),e._uU(172,"El Salvador"),e.qZA(),e.TgZ(173,"option",88),e._uU(174,"Equatorial Guinea"),e.qZA(),e.TgZ(175,"option",89),e._uU(176,"Eritrea"),e.qZA(),e.TgZ(177,"option",90),e._uU(178,"Estonia"),e.qZA(),e.TgZ(179,"option",91),e._uU(180,"Ethiopia"),e.qZA(),e.TgZ(181,"option",92),e._uU(182,"Falkland Islands"),e.qZA(),e.TgZ(183,"option",93),e._uU(184,"Faroe Islands"),e.qZA(),e.TgZ(185,"option",94),e._uU(186,"Fiji"),e.qZA(),e.TgZ(187,"option",95),e._uU(188,"Finland"),e.qZA(),e.TgZ(189,"option",96),e._uU(190,"franc XAF Gabon"),e.qZA(),e.TgZ(191,"option",97),e._uU(192,"France"),e.qZA(),e.TgZ(193,"option",98),e._uU(194,"French Polynesia"),e.qZA(),e.TgZ(195,"option",99),e._uU(196,"Gambia"),e.qZA(),e.TgZ(197,"option",100),e._uU(198,"Georgia"),e.qZA(),e.TgZ(199,"option",101),e._uU(200,"Germany"),e.qZA(),e.TgZ(201,"option",102),e._uU(202,"Ghana"),e.qZA(),e.TgZ(203,"option",103),e._uU(204,"Gibraltar"),e.qZA(),e.TgZ(205,"option",104),e._uU(206,"Greece"),e.qZA(),e.TgZ(207,"option",105),e._uU(208,"Greenland"),e.qZA(),e.TgZ(209,"option",106),e._uU(210,"Grenada"),e.qZA(),e.TgZ(211,"option",106),e._uU(212,"Guadeloupe"),e.qZA(),e.TgZ(213,"option",107),e._uU(214,"Guam"),e.qZA(),e.TgZ(215,"option",108),e._uU(216,"Guatemala"),e.qZA(),e.TgZ(217,"option",109),e._uU(218,"Guernsey"),e.qZA(),e.TgZ(219,"option",110),e._uU(220,"Guinea"),e.qZA(),e.TgZ(221,"option",111),e._uU(222,"Guinea-Bissau"),e.qZA(),e.TgZ(223,"option",112),e._uU(224,"Guyana"),e.qZA(),e.TgZ(225,"option",113),e._uU(226,"Haiti"),e.qZA(),e.TgZ(227,"option",114),e._uU(228,"Honduras"),e.qZA(),e.TgZ(229,"option",115),e._uU(230,"Hong Kong"),e.qZA(),e.TgZ(231,"option",116),e._uU(232,"Hungary"),e.qZA(),e.TgZ(233,"option",117),e._uU(234,"Iceland"),e.qZA(),e.TgZ(235,"option",118),e._uU(236,"India"),e.qZA(),e.TgZ(237,"option",119),e._uU(238,"Indonesia"),e.qZA(),e.TgZ(239,"option",120),e._uU(240,"Iran"),e.qZA(),e.TgZ(241,"option",121),e._uU(242,"Iraq"),e.qZA(),e.TgZ(243,"option",122),e._uU(244,"Ireland"),e.qZA(),e.TgZ(245,"option",123),e._uU(246,"Isle of Man"),e.qZA(),e.TgZ(247,"option",124),e._uU(248,"Israel"),e.qZA(),e.TgZ(249,"option",125),e._uU(250,"Italy"),e.qZA(),e.TgZ(251,"option",126),e._uU(252,"Jamaica"),e.qZA(),e.TgZ(253,"option",127),e._uU(254,"Japan"),e.qZA(),e.TgZ(255,"option",128),e._uU(256,"Jersey"),e.qZA(),e.TgZ(257,"option",129),e._uU(258,"Jordan"),e.qZA(),e.TgZ(259,"option",130),e._uU(260,"Kazakhstan"),e.qZA(),e.TgZ(261,"option",131),e._uU(262,"Kenya"),e.qZA(),e.TgZ(263,"option",132),e._uU(264,"Kiribati"),e.qZA(),e.TgZ(265,"option",133),e._uU(266,"Kosovo"),e.qZA(),e.TgZ(267,"option",134),e._uU(268,"Kuwait"),e.qZA(),e.TgZ(269,"option",135),e._uU(270,"Lebanon"),e.qZA(),e.TgZ(271,"option",136),e._uU(272,"Lesotho"),e.qZA(),e.TgZ(273,"option",137),e._uU(274,"Liberia"),e.qZA(),e.TgZ(275,"option",138),e._uU(276,"Libya"),e.qZA(),e.TgZ(277,"option",139),e._uU(278,"Madagascar"),e.qZA(),e.TgZ(279,"option",140),e._uU(280,"Malawi"),e.qZA(),e.TgZ(281,"option",141),e._uU(282,"Malaysia"),e.qZA(),e.TgZ(283,"option",142),e._uU(284,"Maldives"),e.qZA(),e.TgZ(285,"option",143),e._uU(286,"Mali"),e.qZA(),e.TgZ(287,"option",144),e._uU(288,"Malta"),e.qZA(),e.TgZ(289,"option",145),e._uU(290,"Mauritania"),e.qZA(),e.TgZ(291,"option",146),e._uU(292,"Mauritius"),e.qZA(),e.TgZ(293,"option",147),e._uU(294,"Mexico"),e.qZA(),e.TgZ(295,"option",148),e._uU(296,"Micronesia"),e.qZA(),e.TgZ(297,"option",149),e._uU(298,"Moldova"),e.qZA(),e.TgZ(299,"option",150),e._uU(300,"Monaco"),e.qZA(),e.TgZ(301,"option",151),e._uU(302,"Mongolia"),e.qZA(),e.TgZ(303,"option",152),e._uU(304,"Montenegro"),e.qZA(),e.TgZ(305,"option",153),e._uU(306,"Montserrat"),e.qZA(),e.TgZ(307,"option",154),e._uU(308,"Morocco"),e.qZA(),e.TgZ(309,"option",155),e._uU(310,"Mozambique"),e.qZA(),e.TgZ(311,"option",156),e._uU(312,"Myanmar"),e.qZA(),e.TgZ(313,"option",157),e._uU(314,"Namibia"),e.qZA(),e.TgZ(315,"option",158),e._uU(316,"Nauru"),e.qZA(),e.TgZ(317,"option",159),e._uU(318,"Nepal"),e.qZA(),e.TgZ(319,"option",160),e._uU(320,"Netherlands"),e.qZA(),e.TgZ(321,"option",161),e._uU(322,"New Zealand"),e.qZA(),e.TgZ(323,"option",162),e._uU(324,"Niger"),e.qZA(),e.TgZ(325,"option",163),e._uU(326,"Nigeria"),e.qZA(),e.TgZ(327,"option",164),e._uU(328,"North Korea"),e.qZA(),e.TgZ(329,"option",165),e._uU(330,"Norway"),e.qZA(),e.TgZ(331,"option",166),e._uU(332,"Oman"),e.qZA(),e.TgZ(333,"option",167),e._uU(334,"Pakistan"),e.qZA(),e.TgZ(335,"option",168),e._uU(336,"Palau"),e.qZA(),e.TgZ(337,"option",169),e._uU(338,"Palestinian Territory"),e.qZA(),e.TgZ(339,"option",170),e._uU(340,"Panama"),e.qZA(),e.TgZ(341,"option",171),e._uU(342,"Paraguay"),e.qZA(),e.TgZ(343,"option",172),e._uU(344,"Peru"),e.qZA(),e.TgZ(345,"option",173),e._uU(346,"Philippines"),e.qZA(),e.TgZ(347,"option",174),e._uU(348,"Pitcairn"),e.qZA(),e.TgZ(349,"option",175),e._uU(350,"Poland"),e.qZA(),e.TgZ(351,"option",176),e._uU(352,"Portugal"),e.qZA(),e.TgZ(353,"option",177),e._uU(354,"Qatar"),e.qZA(),e.TgZ(355,"option",178),e._uU(356,"Republic of the Congo"),e.qZA(),e.TgZ(357,"option",179),e._uU(358,"Reunion"),e.qZA(),e.TgZ(359,"option",180),e._uU(360,"Romania"),e.qZA(),e.TgZ(361,"option",181),e._uU(362,"Russia"),e.qZA(),e.TgZ(363,"option",182),e._uU(364,"Rwanda"),e.qZA(),e.TgZ(365,"option",183),e._uU(366,"Saint Barthelemy"),e.qZA(),e.TgZ(367,"option",184),e._uU(368,"Samoa"),e.qZA(),e.TgZ(369,"option",185),e._uU(370,"San Marino"),e.qZA(),e.TgZ(371,"option",186),e._uU(372,"Saudi Arabia"),e.qZA(),e.TgZ(373,"option",187),e._uU(374,"Senegal"),e.qZA(),e.TgZ(375,"option",188),e._uU(376,"Serbia"),e.qZA(),e.TgZ(377,"option",189),e._uU(378,"Seychelles"),e.qZA(),e.TgZ(379,"option",190),e._uU(380,"Singapore"),e.qZA(),e.TgZ(381,"option",191),e._uU(382,"Slovakia"),e.qZA(),e.TgZ(383,"option",192),e._uU(384,"Slovenia"),e.qZA(),e.TgZ(385,"option",193),e._uU(386,"Solomon Islands"),e.qZA(),e.TgZ(387,"option",194),e._uU(388,"Somalia"),e.qZA(),e.TgZ(389,"option",195),e._uU(390,"South Africa"),e.qZA(),e.TgZ(391,"option",196),e._uU(392,"South Korea"),e.qZA(),e.TgZ(393,"option",197),e._uU(394,"South Sudan"),e.qZA(),e.TgZ(395,"option",198),e._uU(396,"Spain"),e.qZA(),e.TgZ(397,"option",199),e._uU(398,"Sri Lanka"),e.qZA(),e.TgZ(399,"option",200),e._uU(400,"Sudan"),e.qZA(),e.TgZ(401,"option",201),e._uU(402,"Suriname"),e.qZA(),e.TgZ(403,"option",202),e._uU(404,"Swaziland"),e.qZA(),e.TgZ(405,"option",203),e._uU(406,"Sweden"),e.qZA(),e.TgZ(407,"option",204),e._uU(408,"Switzerland"),e.qZA(),e.TgZ(409,"option",205),e._uU(410,"Syria"),e.qZA(),e.TgZ(411,"option",206),e._uU(412,"Taiwan"),e.qZA(),e.TgZ(413,"option",207),e._uU(414,"Tajikistan"),e.qZA(),e.TgZ(415,"option",208),e._uU(416,"Tanzania"),e.qZA(),e.TgZ(417,"option",209),e._uU(418,"Thailand"),e.qZA(),e.TgZ(419,"option",210),e._uU(420,"Togo"),e.qZA(),e.TgZ(421,"option",211),e._uU(422,"Tokelau"),e.qZA(),e.TgZ(423,"option",212),e._uU(424,"Tonga"),e.qZA(),e.TgZ(425,"option",213),e._uU(426,"Trinidad and Tobago"),e.qZA(),e.TgZ(427,"option",214),e._uU(428,"Tunisia"),e.qZA(),e.TgZ(429,"option",215),e._uU(430,"Turkey"),e.qZA(),e.TgZ(431,"option",216),e._uU(432,"Turkmenistan"),e.qZA(),e.TgZ(433,"option",217),e._uU(434,"Tuvalu"),e.qZA(),e.TgZ(435,"option",218),e._uU(436,"Uganda"),e.qZA(),e.TgZ(437,"option",219),e._uU(438,"Ukraine"),e.qZA(),e.TgZ(439,"option",220),e._uU(440,"United Arab Emirates"),e.qZA(),e.TgZ(441,"option",221),e._uU(442,"United Kingdom"),e.qZA(),e.TgZ(443,"option",222),e._uU(444,"United States"),e.qZA(),e.TgZ(445,"option",223),e._uU(446,"United States Minor Outlying Islands"),e.qZA(),e.TgZ(447,"option",224),e._uU(448,"Uruguay"),e.qZA(),e.TgZ(449,"option",225),e._uU(450,"Uzbekistan"),e.qZA(),e.TgZ(451,"option",226),e._uU(452,"Vanuatu"),e.qZA(),e.TgZ(453,"option",227),e._uU(454,"Vatican City"),e.qZA(),e.TgZ(455,"option",228),e._uU(456,"Venezuela"),e.qZA(),e.TgZ(457,"option",229),e._uU(458,"Vietnam"),e.qZA(),e.TgZ(459,"option",230),e._uU(460,"Wallis and Futuna"),e.qZA(),e.TgZ(461,"option",231),e._uU(462,"Yemen"),e.qZA(),e.TgZ(463,"option",232),e._uU(464,"Zambia"),e.qZA(),e.TgZ(465,"option",233),e._uU(466,"Zimbabwe"),e.qZA()()()(),e.TgZ(467,"div",234)(468,"div",16)(469,"label"),e._uU(470,"Arrival "),e.qZA(),e._UZ(471,"input",235),e.qZA()(),e.TgZ(472,"div",234)(473,"div",16)(474,"label"),e._uU(475,"Depature "),e.qZA(),e._UZ(476,"input",236),e.qZA()(),e.TgZ(477,"div",234)(478,"div",16)(479,"label"),e._uU(480,"Work "),e.qZA(),e._UZ(481,"input",237),e.qZA()(),e.TgZ(482,"div",234)(483,"div",16)(484,"label"),e._uU(485,"City "),e.qZA(),e._UZ(486,"input",238),e.qZA()(),e.TgZ(487,"div",234)(488,"div",16)(489,"label"),e._uU(490,"Gender "),e.qZA(),e.TgZ(491,"select",239)(492,"option",26),e._uU(493,"select gender"),e.qZA(),e.TgZ(494,"option",240),e._uU(495,"Male"),e.qZA(),e.TgZ(496,"option",241),e._uU(497,"Female"),e.qZA()()()(),e.TgZ(498,"div",234)(499,"div",16)(500,"label"),e._uU(501,"Phone "),e.qZA(),e._UZ(502,"input",242),e.qZA()(),e.TgZ(503,"div",234)(504,"div",16)(505,"label"),e._uU(506,"Address "),e.qZA(),e._UZ(507,"input",243),e.qZA()(),e.TgZ(508,"div",234)(509,"div",16)(510,"label"),e._uU(511,"Region "),e.qZA(),e._UZ(512,"input",244),e.qZA()()(),e.TgZ(513,"div",14)(514,"div",22)(515,"div",16)(516,"label"),e._uU(517,"Remark"),e.qZA(),e._UZ(518,"input",245),e.qZA()()(),e.TgZ(519,"div",14),e.YNc(520,vi,3,0,"div",246),e.YNc(521,Ns,3,0,"div",246),e.qZA()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(2),e.Q6J("ngStyle",e.VKq(6,gu,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.createForm),e.xp6(506),e.Q6J("ngIf","Add Guest"==t.header),e.xp6(1),e.Q6J("ngIf","Edit Guest"==t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU],styles:[".modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],mr.prototype,"loading",void 0);const pc=function(c,n){return{"text-danger":c,"text-success":n}};function Mi(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td",269),e._uU(18),e.qZA(),e.TgZ(19,"td")(20,"span",270),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(!C.has_checkout&&O.checkOut(C.id))}),e._uU(21," Checkout "),e.qZA()(),e.TgZ(22,"td")(23,"i",271),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.editBooking(C.id))}),e.qZA(),e.YNc(24,kd,1,0,"i",272),e.qZA()()}if(2&c){const t=n.$implicit,s=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.room_type),e.xp6(2),e.Oqu(t.room_number),e.xp6(2),e.Oqu(t.arrival_date),e.xp6(2),e.Oqu(t.departure_date),e.xp6(2),e.Oqu(t.country),e.xp6(2),e.Oqu(t.adult),e.xp6(2),e.Oqu(t.children),e.xp6(1),e.Q6J("ngClass",e.WLB(19,pc,"pending"===t.status,"success"===t.status)),e.xp6(1),e.hij(" ",t.status," "),e.xp6(2),e.Udp("cursor","pointer"),e.ekj("badge",!0)("glow",s.canGlow(t.departure_date))("disabled",t.has_checkout),e.xp6(4),e.Q6J("ngIf","admin"===s.user[0].user)}}function mu(c,n){1&c&&e._uU(0,"First")}function hu(c,n){1&c&&e._uU(0,"Last")}function fc(c,n){1&c&&e._uU(0,"Prev")}function So(c,n){1&c&&e._uU(0,"Next")}function sa(c,n){1&c&&e._uU(0,"...")}function Fa(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function gc(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",244)(2,"div",245)(3,"div",246)(4,"div",247)(5,"div",248)(6,"div",249)(7,"input",250),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.myFunction())}),e.qZA()(),e._UZ(8,"div",251),e.qZA()(),e.TgZ(9,"div",252)(10,"div",253)(11,"button",254),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup())}),e._uU(12," New booking"),e.qZA()(),e.TgZ(13,"table",255)(14,"thead",256)(15,"tr",257)(16,"th",258),e._uU(17,"Name"),e.qZA(),e.TgZ(18,"th",258),e._uU(19,"Room Type"),e.qZA(),e.TgZ(20,"th",258),e._uU(21,"Room Number"),e.qZA(),e.TgZ(22,"th",258),e._uU(23,"Arrival "),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Departure"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Country"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Adult "),e.qZA(),e.TgZ(30,"th"),e._uU(31,"Children "),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Status"),e.qZA(),e._UZ(34,"th"),e.TgZ(35,"th",258),e._uU(36,"Actions"),e.qZA()()(),e.TgZ(37,"tbody"),e.YNc(38,Mi,25,22,"tr",259),e.ALo(39,"slice"),e.qZA()()(),e.TgZ(40,"div",260)(41,"div",261)(42,"ngb-pagination",262),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(43,mu,1,0,"ng-template",263),e.YNc(44,hu,1,0,"ng-template",264),e.YNc(45,fc,1,0,"ng-template",265),e.YNc(46,So,1,0,"ng-template",266),e.YNc(47,sa,1,0,"ng-template",267),e.YNc(48,Fa,1,1,"ng-template",268),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(38),e.Q6J("ngForOf",e.Dn7(39,8,t.bookings,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.bookings.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function Ps(c,n){if(1&c&&(e.TgZ(0,"option",274),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.first_name+" "+t.last_name," ")}}function ir(c,n){if(1&c&&(e.TgZ(0,"option",274),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.Q6J("value",t.room_type),e.xp6(1),e.hij(" ",t.room_type,"")}}function ci(c,n){if(1&c&&(e.TgZ(0,"option",274),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.room_number),e.xp6(1),e.hij(" ",t.room_number,"")}}function mc(c,n){1&c&&(e.TgZ(0,"div",275)(1,"button",276),e._uU(2," Save"),e.qZA()())}function la(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",275)(1,"button",277),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updateBooking(p.bookingForm.value))}),e._uU(2," Update"),e.qZA()()}}const Nd=function(c){return{display:c}};class as{constructor(n,t,s,p,C){this.toastr=n,this.fb=t,this.roomService=s,this.guestService=p,this.userService=C,this.displayStyle="none",this.load=!1,this.page=1,this.pageSize=10,this.bookingForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],room_type:["",b.kI.required],country:["",b.kI.required],nema:["",b.kI.required],purpose:["",b.kI.required],departure_date:["",b.kI.required],arrival_date:["",b.kI.required],adult:["",b.kI.required],children:["",b.kI.required],day:["",b.kI.required],guest_id:["",b.kI.required],room_number:["",b.kI.required],status:["",b.kI.required]})}ngOnInit(){this.getBookingList(),this.getRoomType(),this.getUser()}canGlow(n){const t=new Date,s=t.toISOString().split("T")[0],p=t.getHours();return n===s&&p>=12}checkOut(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.checkout(n))&&t.getBookingList()}catch{t.toastr.info(null,"kindly pay all pending bills  before checkout")}finally{t.loading.stop()}})()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}getBookingList(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.roomService.getBookingList();t&&(n.bookings=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("myTable").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}getGuest(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.guestService.getGuests();t&&(n.guestList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}getRoomType(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.roomService.getroomType();t&&(n.roomtype=t)}catch{}})()}getRoom(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.roomService.getrooms();t&&(n.rooms=t)}catch(s){n.toastr.error(null,s)}})()}fetchRooms(n){var t=this;return(0,Y.Z)(function*(){try{var s=yield t.roomService.fetchRoomsByType(n);s&&(t.roomList=s)}catch(p){console.log(p)}})()}fetchGuest(n){var t=this;return(0,Y.Z)(function*(){try{var s=yield t.guestService.getGuest_info(n);s&&(t.guestDetails=s),t.bookingForm.patchValue({arrival_date:t.guestDetails[0]?.arrival_date,departure_date:t.guestDetails[0]?.checkout_date,country:t.guestDetails[0]?.country,guest_id:t.guestDetails[0]?.id,nema:t.guestDetails[0]?.first_name+" "+t.guestDetails[0]?.last_name})}catch(p){t.toastr.error(null,p)}})()}addBooking(n){var t=this;return(0,Y.Z)(function*(){const s={name:t.bookingForm.value.nema,guest_id:n.guest_id,room_type:n.room_type,country:n.country,purpose:n.purpose,departure_date:n.departure_date,arrival_date:n.arrival_date,adult:n.adult,children:n.children,room_number:n.room_number,status:n.status};try{t.loading.start(),(yield t.roomService.addBooking(s))&&t.toastr.success(null,"booking successfully added"),t.closePopup(),t.getBookingList()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}updateBooking(n){var t=this;return(0,Y.Z)(function*(){const s={id:n.id,name:n.name,room_type:n.room_type,country:n.country,purpose:n.purpose,departure_date:n.departure_date,arrival_date:n.arrival_date,adult:n.adult,children:n.children,room_number:n.room_number,status:n.status,day:0};var p=new Date(t.bookingForm.value.arrival_date),O=new Date(t.bookingForm.value.departure_date).getTime()-p.getTime();s.day=O/864e5;try{t.loading.start(),(yield t.roomService.updateBooking(s))&&t.closePopup(),t.getBookingList()}catch(un){t.toastr.error(null,un)}finally{t.loading.stop()}})()}openPopup(){this.header="Add Booking",this.displayStyle="block",this.getGuest(),this.getRoomType()}closePopup(){this.displayStyle="none"}editBooking(n){var t=this;return(0,Y.Z)(function*(){t.header="Edit booking ",t.displayStyle="block";try{t.loading.start();var s=yield t.roomService.get_booking_details(n);s&&(t.booking_info=s),t.bookingForm.patchValue({id:t.booking_info[0].id,country:t.booking_info[0].country,status:t.booking_info[0].status,purpose:t.booking_info[0].purpose,departure_date:t.booking_info[0].departure_date,name:t.booking_info[0].name,arrival_date:t.booking_info[0].arrival_date,adult:t.booking_info[0].adult,children:t.booking_info[0].children,room_type:t.booking_info[0].room_type,room_number:t.booking_info[0].room_number}),console.log(t.bookingForm.value.departure_date)}catch(p){console.log(p)}finally{t.loading.stop()}})()}deletebooking(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.roomService.deleteBooking(n))&&t.getBookingList()}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}}as.\u0275fac=function(n){return new(n||as)(e.Y36(me._W),e.Y36(b.qu),e.Y36(P.X),e.Y36(ee.Q),e.Y36(te.W))},as.\u0275cmp=e.Xpm({type:as,selectors:[["bookings"]],decls:508,vars:11,consts:[[1,"page"],["class","row",4,"blockUI"],["type","button",1,"btn","btn-primary",2,"margin","50px","padding","10px","display","none",3,"click"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-16",2,"width","100%"],[1,"card","card-booking"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["formControlName","name",1,"form-control",3,"change"],["value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","room_type",1,"form-control",3,"change"],[1,"col-md-3","px-1"],["formControlName","room_number",1,"form-control"],["type","number","formControlName","children",1,"form-control"],[1,"col-md-12"],["type","number","formControlName","adult",1,"form-control"],[1,"col-md-6","pl-1"],["type","date","formControlName","arrival_date",1,"form-control"],["type","date","formControlName","departure_date",1,"form-control"],["type","text","formControlName","purpose","placeholder","some description",1,"form-control"],[1,"col-md-6","pr-1"],["formControlName","status",1,"form-control"],["value","pending"],["value","success"],["value","cancelled"],["data-val","true","data-val-number","The field Country must be a number.","data-val-required","'Country' must not be empty.","id","PointOfContact_Country","formControlName","country",1,"form-control"],["value","Afghanistan"],["value","Albania"],["value","Algeria"],["value","Andorra"],["value","Angola"],["value","Antigua and Barbuda"],["value","Argentina"],["value","7"],["value","Armenia"],["value","Australia"],["value","Austria"],["value","Azerbaijan"],["value","Bahamas"],["value","Bahrain"],["value","Bangladesh"],["value","Barbados"],["value","Belarus"],["value","Belgium"],["value","Belize"],["value","Benin"],["value","Bermuda"],["value","Bhutan"],["value","Bolivia"],["value","Bonaire Sint Eustatius and Saba"],["value","15"],["value","Bosnia and Herzegovina"],["value","Brazil"],["value","British Indian Ocean Territory"],["value","British Virgin Islands"],["value","Brunei Darussalam"],["value","Bulgaria"],["value","Burkina Faso"],["value","22"],["value","Burundi"],["value","Canada"],["value","Cape Verde"],["value","Cayman Islands"],["value","Central African Republic"],["value","Chad"],["value","Chile"],["value","China"],["value","Christmas Island"],["value","Cocos Islands"],["value","Colombia"],["value","Comoros"],["value",">Cook Islands"],["value","Costa Rica"],["value","Croatia"],["value","Cuba"],["value","Cyprus"],["value","Czech Republic"],["value","Democratic Republic of the Congo"],["value","Denmark"],["value","Djibouti"],["value","Dominica"],["value","Dominican Republic"],["value","East Caribbean"],["value","ast Timor"],["value",">Ecuador"],["value",">Egypt"],["value",">El Salvador"],["value","Equatorial Guinea"],["value","Eritrea"],["value","Estonia"],["value","Ethiopia"],["value","Faroe Islands Islands"],["value","Faroe Islands"],["value","64"],["value","Fiji"],["value","69"],["value","franc XAF Gabon"],["value","French Polynesia"],["value","Gambia"],["value","Georgia"],["value","51"],["value","Ghana"],["value","Gibraltar"],["value","Greece"],["value","Greenland"],["value","Guadeloupe"],["value","Guam"],["value","Guatemala"],["value","Guernsey"],["value","Guinea"],["value","Guinea-Bissau"],["value","Guyana"],["value","Haiti"],["value","Honduras"],["value","Hong"],["value","Hungary"],["value","Iceland"],["selected","selected","value","India"],["value","Indonesia"],["value","Iran"],["value","Iraq"],["value","Ireland"],["value","Isle of Man"],["value","Israel"],["value","Italy"],["value","Jamaica"],["value","Japan"],["value","Jersey"],["value","Jordan"],["value","Kazakhstan"],["value","Kenya"],["value","Kiribati"],["value","Kosovo"],["value","Kuwait"],["value","Lebanon"],["value","Lesotho"],["value","Liberia"],["value","Libya"],["value","Madagascar"],["value","Malawi"],["value","Malaysia"],["value","Maldives"],["value","Mali"],["value","Malta"],["value","Mauritania"],["value","Mauritius"],["value","Mexico"],["value","Micronesia"],["value","Moldova"],["value","Monaco"],["value","Mongolia"],["value","Montenegro"],["value","Montserrat"],["value","Morocco"],["value","Mozambique"],["value","Myanmar"],["value","Namibia"],["value","Nauru"],["value","Nepal"],["value","Netherlands"],["value","New Zealand"],["value","Niger"],["value","Nigeria"],["value","North Korea"],["value","Norway"],["value","Oman"],["value","Pakistan"],["value","Palau"],["value","Palestinian Territory"],["value","Panama"],["value","Paraguay"],["value","Peru"],["value","Philippines"],["value","Pitcairn"],["value","Poland"],["value","Portugal"],["value","Qatar"],["value","Republic of the Congo"],["value","Reunion"],["value","Romania"],["value","Russia"],["value","Rwanda"],["value","Saint Barthelemy"],["value","Samoa"],["value","San Marino"],["value","udi Arabia"],["value","Senegal"],["value","Serbia"],["value","Seychelles"],["value","Singapore"],["value","Slovakia"],["value","Slovenia"],["value","Solomon Island"],["value","Somalia"],["value","South Africa"],["value","South Korea"],["value","South Sudan"],["value","Spain"],["value","Sri Lanka"],["value","Sudan"],["value","Suriname"],["value","Swaziland"],["value","Sweden"],["value","Switzerland"],["value","Syria"],["value","Taiwan"],["value","Tajikistan"],["value","Tanzania"],["value","Thailand"],["value","Togo"],["value","Tokelau"],["value","Tonga"],["value","Trinidad and Tobago"],["value","Tunisia"],["value","Turkey"],["value","Turkmenistan"],["value","Tuvalu"],["value","Uganda"],["value","Ukraine"],["value","United Arab Emirates"],["value","nited Kingdom"],["value","United States"],["value","nited States Minor Outlying Islands"],["value","Uruguay"],["value","Uzbekistan"],["value","Vanuatu"],["value","Vatican City"],["value","Venezuela"],["value","Vietnam"],["value","Wallis and Futuna"],["value","emen"],["value","Zambia"],["value","Zimbabwe"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"col-md-12",2,"width","100%"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["type","text","id","myInput",1,"form-control",2,"width","350px",3,"keyup"],[1,"w-100"],[1,"table-responsive"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["id","myTable",1,"table","table-striped",2,"width","100%"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[3,"ngClass"],[3,"click"],["title","Edit Booking",1,"fa","fa-edit","fa-lg","text-info",3,"click"],["class","fa fa-close fa-lg text-danger","title","Delete Booking",3,"click",4,"ngIf"],["title","Delete Booking",1,"fa","fa-close","fa-lg","text-danger",3,"click"],[3,"value"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"],["type","button",1,"btn","btn-primary","btn-round",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,gc,49,12,"div",1),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return t.openPopup()}),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.TgZ(8,"i",7),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10),e._UZ(12,"div",11),e.TgZ(13,"div",12)(14,"form",13),e.NdJ("ngSubmit",function(){return t.addBooking(t.bookingForm.value)}),e.TgZ(15,"div",14)(16,"div",15)(17,"div",16)(18,"label"),e._uU(19,"Guest's NAME"),e.qZA(),e.TgZ(20,"select",17),e.NdJ("change",function(p){return t.fetchGuest(p.target.value)}),e.TgZ(21,"option",18),e._uU(22,"Select Guest"),e.qZA(),e.YNc(23,Ps,2,2,"option",19),e.qZA()()(),e.TgZ(24,"div",15)(25,"div",16)(26,"label"),e._uU(27," Room Type "),e.qZA(),e.TgZ(28,"select",20),e.NdJ("change",function(p){return t.fetchRooms(p.target.value)}),e.TgZ(29,"option",18),e._uU(30,"---select----"),e.qZA(),e.YNc(31,ir,2,2,"option",19),e.qZA()()(),e.TgZ(32,"div",21)(33,"div",16)(34,"label"),e._uU(35,"Room Number"),e.qZA(),e.TgZ(36,"select",22)(37,"option",18),e._uU(38,"---select----"),e.qZA(),e.YNc(39,ci,2,2,"option",19),e.qZA()()(),e.TgZ(40,"div",21)(41,"div",16)(42,"label"),e._uU(43,"Number of Children"),e.qZA(),e._UZ(44,"input",23),e.qZA()(),e.TgZ(45,"div",24)(46,"div",16)(47,"label"),e._uU(48,"Number of Adults"),e.qZA(),e._UZ(49,"input",25),e.qZA()()(),e.TgZ(50,"div",14)(51,"div",26)(52,"div",16)(53,"label"),e._uU(54,"Arrival Date"),e.qZA(),e._UZ(55,"input",27),e.qZA()(),e.TgZ(56,"div",26)(57,"div",16)(58,"label"),e._uU(59,"Departure Date"),e.qZA(),e._UZ(60,"input",28),e.qZA()()(),e.TgZ(61,"div",14)(62,"div",24)(63,"div",16)(64,"label"),e._uU(65,"Purpose Of Stay"),e.qZA(),e._UZ(66,"input",29),e.qZA()(),e.TgZ(67,"div",30)(68,"div",16)(69,"label"),e._uU(70,"Status"),e.qZA(),e.TgZ(71,"select",31)(72,"option",18),e._uU(73,"Select Booking Status"),e.qZA(),e.TgZ(74,"option",32),e._uU(75,"Pending"),e.qZA(),e.TgZ(76,"option",33),e._uU(77,"Success"),e.qZA(),e.TgZ(78,"option",34),e._uU(79,"Cancelled"),e.qZA()()()(),e.TgZ(80,"div",30)(81,"div",16)(82,"label"),e._uU(83,"Country"),e.qZA(),e.TgZ(84,"select",35)(85,"option",18),e._uU(86,"Select"),e.qZA(),e.TgZ(87,"option",18),e._uU(88,"Select Country"),e.qZA(),e.TgZ(89,"option",36),e._uU(90,"Afghanistan"),e.qZA(),e.TgZ(91,"option",37),e._uU(92,"Albania"),e.qZA(),e.TgZ(93,"option",38),e._uU(94,"Algeria"),e.qZA(),e.TgZ(95,"option",39),e._uU(96,"Andorra"),e.qZA(),e.TgZ(97,"option",40),e._uU(98,"Angola"),e.qZA(),e.TgZ(99,"option",41),e._uU(100,"Antigua and Barbuda"),e.qZA(),e.TgZ(101,"option",42),e._uU(102,"Argentina"),e.qZA(),e.TgZ(103,"option",43),e._uU(104,"Armenia"),e.qZA(),e.TgZ(105,"option",44),e._uU(106,"Aruba"),e.qZA(),e.TgZ(107,"option",45),e._uU(108,"Australia"),e.qZA(),e.TgZ(109,"option",46),e._uU(110,"Austria"),e.qZA(),e.TgZ(111,"option",47),e._uU(112,"Azerbaijan"),e.qZA(),e.TgZ(113,"option",48),e._uU(114,"Bahamas"),e.qZA(),e.TgZ(115,"option",49),e._uU(116,"Bahrain"),e.qZA(),e.TgZ(117,"option",50),e._uU(118,"Bangladesh"),e.qZA(),e.TgZ(119,"option",51),e._uU(120,"Barbados"),e.qZA(),e.TgZ(121,"option",52),e._uU(122,"Belarus"),e.qZA(),e.TgZ(123,"option",53),e._uU(124,"Belgium"),e.qZA(),e.TgZ(125,"option",54),e._uU(126,"Belize"),e.qZA(),e.TgZ(127,"option",55),e._uU(128,"Benin"),e.qZA(),e.TgZ(129,"option",56),e._uU(130,"Bermuda"),e.qZA(),e.TgZ(131,"option",57),e._uU(132,"Bhutan"),e.qZA(),e.TgZ(133,"option",58),e._uU(134,"Bolivia"),e.qZA(),e.TgZ(135,"option",59),e._uU(136,"Bonaire Sint Eustatius and Saba"),e.qZA(),e.TgZ(137,"option",60),e._uU(138,"Bosnia and Herzegovina"),e.qZA(),e.TgZ(139,"option",61),e._uU(140,"Botswana"),e.qZA(),e.TgZ(141,"option",62),e._uU(142,"Brazil"),e.qZA(),e.TgZ(143,"option",63),e._uU(144,"British Indian Ocean Territory"),e.qZA(),e.TgZ(145,"option",64),e._uU(146,"British Virgin Islands"),e.qZA(),e.TgZ(147,"option",65),e._uU(148,"Brunei Darussalam"),e.qZA(),e.TgZ(149,"option",66),e._uU(150,"Bulgaria"),e.qZA(),e.TgZ(151,"option",67),e._uU(152,"Burkina Faso"),e.qZA(),e.TgZ(153,"option",68),e._uU(154,"Burundi"),e.qZA(),e.TgZ(155,"option",69),e._uU(156,"Cambodia"),e.qZA(),e.TgZ(157,"option",70),e._uU(158,"Canada"),e.qZA(),e.TgZ(159,"option",71),e._uU(160,"Cape Verde"),e.qZA(),e.TgZ(161,"option",72),e._uU(162,"Cayman Islands"),e.qZA(),e.TgZ(163,"option",73),e._uU(164,"Central African Republic"),e.qZA(),e.TgZ(165,"option",74),e._uU(166,"Chad"),e.qZA(),e.TgZ(167,"option",75),e._uU(168,"Chile"),e.qZA(),e.TgZ(169,"option",76),e._uU(170,"China"),e.qZA(),e.TgZ(171,"option",77),e._uU(172,"Christmas Island"),e.qZA(),e.TgZ(173,"option",78),e._uU(174,"Cocos Islands"),e.qZA(),e.TgZ(175,"option",79),e._uU(176,"Colombia"),e.qZA(),e.TgZ(177,"option",80),e._uU(178,"Comoros"),e.qZA(),e.TgZ(179,"option",81),e._uU(180,"Cook Islands"),e.qZA(),e.TgZ(181,"option",82),e._uU(182,"Costa Rica"),e.qZA(),e.TgZ(183,"option",83),e._uU(184,"Croatia"),e.qZA(),e.TgZ(185,"option",84),e._uU(186,"Cuba"),e.qZA(),e.TgZ(187,"option",85),e._uU(188,"Cyprus"),e.qZA(),e.TgZ(189,"option",86),e._uU(190,"Czech Republic"),e.qZA(),e.TgZ(191,"option",87),e._uU(192,"Democratic Republic of the Congo"),e.qZA(),e.TgZ(193,"option",88),e._uU(194,"Denmark"),e.qZA(),e.TgZ(195,"option",89),e._uU(196,"Djibouti"),e.qZA(),e.TgZ(197,"option",90),e._uU(198,"Dominica"),e.qZA(),e.TgZ(199,"option",91),e._uU(200,"Dominican Republic"),e.qZA(),e.TgZ(201,"option",92),e._uU(202,"East Caribbean"),e.qZA(),e.TgZ(203,"option",93),e._uU(204,"East Timor"),e.qZA(),e.TgZ(205,"option",94),e._uU(206,"Ecuador"),e.qZA(),e.TgZ(207,"option",95),e._uU(208,"Egypt"),e.qZA(),e.TgZ(209,"option",96),e._uU(210,"El Salvador"),e.qZA(),e.TgZ(211,"option",97),e._uU(212,"Equatorial Guinea"),e.qZA(),e.TgZ(213,"option",98),e._uU(214,"Eritrea"),e.qZA(),e.TgZ(215,"option",99),e._uU(216,"Estonia"),e.qZA(),e.TgZ(217,"option",100),e._uU(218,"Ethiopia"),e.qZA(),e.TgZ(219,"option",101),e._uU(220,"Falkland Islands"),e.qZA(),e.TgZ(221,"option",102),e._uU(222,"Faroe Islands"),e.qZA(),e.TgZ(223,"option",103),e._uU(224,"Fiji"),e.qZA(),e.TgZ(225,"option",104),e._uU(226,"Finland"),e.qZA(),e.TgZ(227,"option",105),e._uU(228,"franc XAF Gabon"),e.qZA(),e.TgZ(229,"option",106),e._uU(230,"France"),e.qZA(),e.TgZ(231,"option",107),e._uU(232,"French Polynesia"),e.qZA(),e.TgZ(233,"option",108),e._uU(234,"Gambia"),e.qZA(),e.TgZ(235,"option",109),e._uU(236,"Georgia"),e.qZA(),e.TgZ(237,"option",110),e._uU(238,"Germany"),e.qZA(),e.TgZ(239,"option",111),e._uU(240,"Ghana"),e.qZA(),e.TgZ(241,"option",112),e._uU(242,"Gibraltar"),e.qZA(),e.TgZ(243,"option",113),e._uU(244,"Greece"),e.qZA(),e.TgZ(245,"option",114),e._uU(246,"Greenland"),e.qZA(),e.TgZ(247,"option",115),e._uU(248,"Grenada"),e.qZA(),e.TgZ(249,"option",115),e._uU(250,"Guadeloupe"),e.qZA(),e.TgZ(251,"option",116),e._uU(252,"Guam"),e.qZA(),e.TgZ(253,"option",117),e._uU(254,"Guatemala"),e.qZA(),e.TgZ(255,"option",118),e._uU(256,"Guernsey"),e.qZA(),e.TgZ(257,"option",119),e._uU(258,"Guinea"),e.qZA(),e.TgZ(259,"option",120),e._uU(260,"Guinea-Bissau"),e.qZA(),e.TgZ(261,"option",121),e._uU(262,"Guyana"),e.qZA(),e.TgZ(263,"option",122),e._uU(264,"Haiti"),e.qZA(),e.TgZ(265,"option",123),e._uU(266,"Honduras"),e.qZA(),e.TgZ(267,"option",124),e._uU(268,"Hong Kong"),e.qZA(),e.TgZ(269,"option",125),e._uU(270,"Hungary"),e.qZA(),e.TgZ(271,"option",126),e._uU(272,"Iceland"),e.qZA(),e.TgZ(273,"option",127),e._uU(274,"India"),e.qZA(),e.TgZ(275,"option",128),e._uU(276,"Indonesia"),e.qZA(),e.TgZ(277,"option",129),e._uU(278,"Iran"),e.qZA(),e.TgZ(279,"option",130),e._uU(280,"Iraq"),e.qZA(),e.TgZ(281,"option",131),e._uU(282,"Ireland"),e.qZA(),e.TgZ(283,"option",132),e._uU(284,"Isle of Man"),e.qZA(),e.TgZ(285,"option",133),e._uU(286,"Israel"),e.qZA(),e.TgZ(287,"option",134),e._uU(288,"Italy"),e.qZA(),e.TgZ(289,"option",135),e._uU(290,"Jamaica"),e.qZA(),e.TgZ(291,"option",136),e._uU(292,"Japan"),e.qZA(),e.TgZ(293,"option",137),e._uU(294,"Jersey"),e.qZA(),e.TgZ(295,"option",138),e._uU(296,"Jordan"),e.qZA(),e.TgZ(297,"option",139),e._uU(298,"Kazakhstan"),e.qZA(),e.TgZ(299,"option",140),e._uU(300,"Kenya"),e.qZA(),e.TgZ(301,"option",141),e._uU(302,"Kiribati"),e.qZA(),e.TgZ(303,"option",142),e._uU(304,"Kosovo"),e.qZA(),e.TgZ(305,"option",143),e._uU(306,"Kuwait"),e.qZA(),e.TgZ(307,"option",144),e._uU(308,"Lebanon"),e.qZA(),e.TgZ(309,"option",145),e._uU(310,"Lesotho"),e.qZA(),e.TgZ(311,"option",146),e._uU(312,"Liberia"),e.qZA(),e.TgZ(313,"option",147),e._uU(314,"Libya"),e.qZA(),e.TgZ(315,"option",148),e._uU(316,"Madagascar"),e.qZA(),e.TgZ(317,"option",149),e._uU(318,"Malawi"),e.qZA(),e.TgZ(319,"option",150),e._uU(320,"Malaysia"),e.qZA(),e.TgZ(321,"option",151),e._uU(322,"Maldives"),e.qZA(),e.TgZ(323,"option",152),e._uU(324,"Mali"),e.qZA(),e.TgZ(325,"option",153),e._uU(326,"Malta"),e.qZA(),e.TgZ(327,"option",154),e._uU(328,"Mauritania"),e.qZA(),e.TgZ(329,"option",155),e._uU(330,"Mauritius"),e.qZA(),e.TgZ(331,"option",156),e._uU(332,"Mexico"),e.qZA(),e.TgZ(333,"option",157),e._uU(334,"Micronesia"),e.qZA(),e.TgZ(335,"option",158),e._uU(336,"Moldova"),e.qZA(),e.TgZ(337,"option",159),e._uU(338,"Monaco"),e.qZA(),e.TgZ(339,"option",160),e._uU(340,"Mongolia"),e.qZA(),e.TgZ(341,"option",161),e._uU(342,"Montenegro"),e.qZA(),e.TgZ(343,"option",162),e._uU(344,"Montserrat"),e.qZA(),e.TgZ(345,"option",163),e._uU(346,"Morocco"),e.qZA(),e.TgZ(347,"option",164),e._uU(348,"Mozambique"),e.qZA(),e.TgZ(349,"option",165),e._uU(350,"Myanmar"),e.qZA(),e.TgZ(351,"option",166),e._uU(352,"Namibia"),e.qZA(),e.TgZ(353,"option",167),e._uU(354,"Nauru"),e.qZA(),e.TgZ(355,"option",168),e._uU(356,"Nepal"),e.qZA(),e.TgZ(357,"option",169),e._uU(358,"Netherlands"),e.qZA(),e.TgZ(359,"option",170),e._uU(360,"New Zealand"),e.qZA(),e.TgZ(361,"option",171),e._uU(362,"Niger"),e.qZA(),e.TgZ(363,"option",172),e._uU(364,"Nigeria"),e.qZA(),e.TgZ(365,"option",173),e._uU(366,"North Korea"),e.qZA(),e.TgZ(367,"option",174),e._uU(368,"Norway"),e.qZA(),e.TgZ(369,"option",175),e._uU(370,"Oman"),e.qZA(),e.TgZ(371,"option",176),e._uU(372,"Pakistan"),e.qZA(),e.TgZ(373,"option",177),e._uU(374,"Palau"),e.qZA(),e.TgZ(375,"option",178),e._uU(376,"Palestinian Territory"),e.qZA(),e.TgZ(377,"option",179),e._uU(378,"Panama"),e.qZA(),e.TgZ(379,"option",180),e._uU(380,"Paraguay"),e.qZA(),e.TgZ(381,"option",181),e._uU(382,"Peru"),e.qZA(),e.TgZ(383,"option",182),e._uU(384,"Philippines"),e.qZA(),e.TgZ(385,"option",183),e._uU(386,"Pitcairn"),e.qZA(),e.TgZ(387,"option",184),e._uU(388,"Poland"),e.qZA(),e.TgZ(389,"option",185),e._uU(390,"Portugal"),e.qZA(),e.TgZ(391,"option",186),e._uU(392,"Qatar"),e.qZA(),e.TgZ(393,"option",187),e._uU(394,"Republic of the Congo"),e.qZA(),e.TgZ(395,"option",188),e._uU(396,"Reunion"),e.qZA(),e.TgZ(397,"option",189),e._uU(398,"Romania"),e.qZA(),e.TgZ(399,"option",190),e._uU(400,"Russia"),e.qZA(),e.TgZ(401,"option",191),e._uU(402,"Rwanda"),e.qZA(),e.TgZ(403,"option",192),e._uU(404,"Saint Barthelemy"),e.qZA(),e.TgZ(405,"option",193),e._uU(406,"Samoa"),e.qZA(),e.TgZ(407,"option",194),e._uU(408,"San Marino"),e.qZA(),e.TgZ(409,"option",195),e._uU(410,"Saudi Arabia"),e.qZA(),e.TgZ(411,"option",196),e._uU(412,"Senegal"),e.qZA(),e.TgZ(413,"option",197),e._uU(414,"Serbia"),e.qZA(),e.TgZ(415,"option",198),e._uU(416,"Seychelles"),e.qZA(),e.TgZ(417,"option",199),e._uU(418,"Singapore"),e.qZA(),e.TgZ(419,"option",200),e._uU(420,"Slovakia"),e.qZA(),e.TgZ(421,"option",201),e._uU(422,"Slovenia"),e.qZA(),e.TgZ(423,"option",202),e._uU(424,"Solomon Islands"),e.qZA(),e.TgZ(425,"option",203),e._uU(426,"Somalia"),e.qZA(),e.TgZ(427,"option",204),e._uU(428,"South Africa"),e.qZA(),e.TgZ(429,"option",205),e._uU(430,"South Korea"),e.qZA(),e.TgZ(431,"option",206),e._uU(432,"South Sudan"),e.qZA(),e.TgZ(433,"option",207),e._uU(434,"Spain"),e.qZA(),e.TgZ(435,"option",208),e._uU(436,"Sri Lanka"),e.qZA(),e.TgZ(437,"option",209),e._uU(438,"Sudan"),e.qZA(),e.TgZ(439,"option",210),e._uU(440,"Suriname"),e.qZA(),e.TgZ(441,"option",211),e._uU(442,"Swaziland"),e.qZA(),e.TgZ(443,"option",212),e._uU(444,"Sweden"),e.qZA(),e.TgZ(445,"option",213),e._uU(446,"Switzerland"),e.qZA(),e.TgZ(447,"option",214),e._uU(448,"Syria"),e.qZA(),e.TgZ(449,"option",215),e._uU(450,"Taiwan"),e.qZA(),e.TgZ(451,"option",216),e._uU(452,"Tajikistan"),e.qZA(),e.TgZ(453,"option",217),e._uU(454,"Tanzania"),e.qZA(),e.TgZ(455,"option",218),e._uU(456,"Thailand"),e.qZA(),e.TgZ(457,"option",219),e._uU(458,"Togo"),e.qZA(),e.TgZ(459,"option",220),e._uU(460,"Tokelau"),e.qZA(),e.TgZ(461,"option",221),e._uU(462,"Tonga"),e.qZA(),e.TgZ(463,"option",222),e._uU(464,"Trinidad and Tobago"),e.qZA(),e.TgZ(465,"option",223),e._uU(466,"Tunisia"),e.qZA(),e.TgZ(467,"option",224),e._uU(468,"Turkey"),e.qZA(),e.TgZ(469,"option",225),e._uU(470,"Turkmenistan"),e.qZA(),e.TgZ(471,"option",226),e._uU(472,"Tuvalu"),e.qZA(),e.TgZ(473,"option",227),e._uU(474,"Uganda"),e.qZA(),e.TgZ(475,"option",228),e._uU(476,"Ukraine"),e.qZA(),e.TgZ(477,"option",229),e._uU(478,"United Arab Emirates"),e.qZA(),e.TgZ(479,"option",230),e._uU(480,"United Kingdom"),e.qZA(),e.TgZ(481,"option",231),e._uU(482,"United States"),e.qZA(),e.TgZ(483,"option",232),e._uU(484,"United States Minor Outlying Islands"),e.qZA(),e.TgZ(485,"option",233),e._uU(486,"Uruguay"),e.qZA(),e.TgZ(487,"option",234),e._uU(488,"Uzbekistan"),e.qZA(),e.TgZ(489,"option",235),e._uU(490,"Vanuatu"),e.qZA(),e.TgZ(491,"option",236),e._uU(492,"Vatican City"),e.qZA(),e.TgZ(493,"option",237),e._uU(494,"Venezuela"),e.qZA(),e.TgZ(495,"option",238),e._uU(496,"Vietnam"),e.qZA(),e.TgZ(497,"option",239),e._uU(498,"Wallis and Futuna"),e.qZA(),e.TgZ(499,"option",240),e._uU(500,"Yemen"),e.qZA(),e.TgZ(501,"option",241),e._uU(502,"Zambia"),e.qZA(),e.TgZ(503,"option",242),e._uU(504,"Zimbabwe"),e.qZA()()()()(),e.TgZ(505,"div",14),e.YNc(506,mc,3,0,"div",243),e.YNc(507,la,3,0,"div",243),e.qZA()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(2),e.Q6J("ngStyle",e.VKq(9,Nd,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.bookingForm),e.xp6(9),e.Q6J("ngForOf",t.guestList),e.xp6(8),e.Q6J("ngForOf",t.roomtype),e.xp6(8),e.Q6J("ngForOf",t.roomList),e.xp6(467),e.Q6J("ngIf","Add Booking"==t.header),e.xp6(1),e.Q6J("ngIf","Edit booking "==t.header))},dependencies:[be.mk,be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.wV,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU],styles:[".modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],as.prototype,"loading",void 0);var Be=cn(574),Mr=cn(6836),di=cn(4641),rr=cn.n(di),Vo=cn(8493),hc=cn(7429),Zl=cn.n(hc),_c=cn(7153);const vc=["pdfTable"];function ja(c,n){if(1&c&&(e.TgZ(0,"td",93),e._uU(1),e.qZA()),2&c){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.status)}}function yc(c,n){if(1&c&&(e.TgZ(0,"td",94),e._uU(1),e.qZA()),2&c){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.status)}}function bc(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"i",95),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.deletePayment(p.id))}),e.qZA()}}function Pd(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"span",96),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.openRefund(p.id))}),e._UZ(1,"i",97),e._uU(2," Refund "),e.qZA()}}function Id(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"span",98),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.printReciept(p.id))}),e._uU(1,"Receipt"),e.qZA()}}function xl(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"span",98),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.generateInvoice(p.id))}),e._uU(1,"Invoice"),e.qZA()}}function Is(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.YNc(19,ja,2,1,"td",87),e.YNc(20,yc,2,1,"td",88),e.TgZ(21,"td")(22,"i",89),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.editPayment(C.id))}),e.qZA(),e.YNc(23,bc,1,0,"i",90),e.YNc(24,Pd,3,0,"span",91),e.YNc(25,Id,2,0,"span",92),e.YNc(26,xl,2,0,"span",92),e.qZA()()}if(2&c){const t=n.$implicit,s=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij("",t.amount,".00"),e.xp6(2),e.hij("",t.balance,".00"),e.xp6(2),e.hij("",t.discount,"%"),e.xp6(2),e.Oqu(t.method),e.xp6(2),e.Oqu(t.room_type),e.xp6(2),e.Oqu(t.checkin_date),e.xp6(2),e.Oqu(t.checkout_date),e.xp6(2),e.Oqu(t.payment_date),e.xp6(1),e.Q6J("ngIf","pending"==t.status),e.xp6(1),e.Q6J("ngIf","success"==t.status),e.xp6(3),e.Q6J("ngIf","admin"==s.user[0].roles),e.xp6(1),e.Q6J("ngIf","success"==t.status),e.xp6(1),e.Q6J("ngIf","success"==t.status),e.xp6(1),e.Q6J("ngIf","pending"==t.status)}}function Ld(c,n){1&c&&e._uU(0,"First")}function Fi(c,n){1&c&&e._uU(0,"Last")}function Od(c,n){1&c&&e._uU(0,"Prev")}function y1(c,n){1&c&&e._uU(0,"Next")}function _u(c,n){1&c&&e._uU(0,"...")}function Ed(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function Ls(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",60)(2,"div",61)(3,"div",62)(4,"div",63)(5,"div",64)(6,"div",65)(7,"input",66),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.myFunction())}),e.qZA(),e._UZ(8,"form",67),e.qZA(),e._UZ(9,"div",68),e.qZA()(),e.TgZ(10,"div",69)(11,"form",67)(12,"input",70),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()(),e.TgZ(13,"button",71),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup())}),e._uU(14," New Payment"),e.qZA(),e.TgZ(15,"button",72),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportexcel())}),e._UZ(16,"i",73),e._uU(17," Export Excel"),e.qZA(),e.TgZ(18,"table",74)(19,"thead",75)(20,"tr",76)(21,"th",77),e._uU(22,"Name"),e.qZA(),e.TgZ(23,"th",77),e._uU(24,"Amount"),e.qZA(),e.TgZ(25,"th",77),e._uU(26,"Balance"),e.qZA(),e.TgZ(27,"th",77),e._uU(28,"Discount"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Method"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Room Type"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Check In "),e.qZA(),e.TgZ(35,"th"),e._uU(36,"Check Out"),e.qZA(),e.TgZ(37,"th"),e._uU(38,"Payment Date| Time"),e.qZA(),e.TgZ(39,"th"),e._uU(40,"Status"),e.qZA(),e.TgZ(41,"th",77),e._uU(42,"Actions"),e.qZA()()(),e.TgZ(43,"tbody")(44,"tr")(45,"td"),e._uU(46),e.ALo(47,"number"),e.qZA()(),e.YNc(48,Is,27,15,"tr",53),e.ALo(49,"slice"),e.qZA()()(),e.TgZ(50,"div",78)(51,"div",79)(52,"ngb-pagination",80),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(53,Ld,1,0,"ng-template",81),e.YNc(54,Fi,1,0,"ng-template",82),e.YNc(55,Od,1,0,"ng-template",83),e.YNc(56,y1,1,0,"ng-template",84),e.YNc(57,_u,1,0,"ng-template",85),e.YNc(58,Ed,1,1,"ng-template",86),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(8),e.Q6J("formGroup",t.paymentForm),e.xp6(3),e.Q6J("formGroup",t.paymentForm),e.xp6(35),e.hij(" Total Payments: GH\u20b5",e.lcZ(47,11,t.totalAmount),""),e.xp6(2),e.Q6J("ngForOf",e.Dn7(49,13,t.paymentList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.paymentList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function ss(c,n){if(1&c&&(e.TgZ(0,"option",99),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Md(c,n){if(1&c&&(e.TgZ(0,"option",99),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.Q6J("value",t.room_type),e.xp6(1),e.hij(" ",t.room_type," ")}}function zn(c,n){1&c&&(e.TgZ(0,"div",100)(1,"button",101),e._uU(2," Save"),e.qZA()())}function ua(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",100)(1,"button",102),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updatePayment(p.paymentForm.value))}),e._uU(2," Update"),e.qZA()()}}function hr(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",100)(1,"button",103),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updatePaymentCheckout(p.paymentForm.value))}),e._uU(2," Update & Checkout"),e.qZA()()}}function vu(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"div",104)(2,"div",105)(3,"h2",106),e._uU(4,"West End Arena Hotel & Restaurant"),e.qZA(),e.TgZ(5,"p",107),e._uU(6,"P.O BOX K 46, Kumasi"),e.qZA(),e.TgZ(7,"p",107),e._uU(8,"Tel: 0558384564 / 0244462935"),e.qZA(),e.TgZ(9,"p",107),e._uU(10,"Location: Denkyemuoso New Historic Adventist Church"),e.qZA()(),e.TgZ(11,"div",108)(12,"p")(13,"strong"),e._uU(14,"Received From:"),e.qZA(),e._uU(15),e.qZA(),e.TgZ(16,"p")(17,"strong"),e._uU(18,"The Sum:"),e.qZA(),e._uU(19),e.qZA(),e.TgZ(20,"p")(21,"strong"),e._uU(22,"Payment Method:"),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"p")(25,"strong"),e._uU(26,"Balance:"),e.qZA(),e._uU(27),e.qZA(),e.TgZ(28,"p")(29,"strong"),e._uU(30,"Discount:"),e.qZA(),e._uU(31),e.qZA(),e.TgZ(32,"p")(33,"strong"),e._uU(34,"Room Type:"),e.qZA(),e._uU(35),e.qZA(),e.TgZ(36,"p")(37,"strong"),e._uU(38,"Check-in Date:"),e.qZA(),e._uU(39),e.qZA(),e.TgZ(40,"p")(41,"strong"),e._uU(42,"Check-out Date:"),e.qZA(),e._uU(43),e.qZA(),e.TgZ(44,"p")(45,"strong"),e._uU(46,"Payment Date:"),e.qZA(),e._uU(47),e.qZA()(),e.TgZ(48,"div",109)(49,"p"),e._uU(50,"Thank you for choosing West End Arena Hotel & Restaurant!"),e.qZA(),e.TgZ(51,"p"),e._uU(52,"We hope to serve you again soon."),e.qZA()()()()),2&c){const t=n.$implicit;e.xp6(15),e.hij(" ",t.name,""),e.xp6(4),e.hij(" GH\u20b5",t.amount,".00"),e.xp6(4),e.hij(" ",t.method,""),e.xp6(4),e.hij(" GH\u20b5",t.balance,".00"),e.xp6(4),e.hij(" ",t.discount,"%"),e.xp6(4),e.hij(" ",t.room_type,""),e.xp6(4),e.hij(" ",t.checkin_date,""),e.xp6(4),e.hij(" ",t.checkout_date,""),e.xp6(4),e.hij(" ",t.payment_date,"")}}const ca=function(c){return{display:c}};rr().vfs=Vo.I.vfs;class da{constructor(n,t,s,p,C,O){this.fb=n,this.roomService=t,this.toastr=s,this.paymentService=p,this.guestService=C,this.userService=O,this.fileName="Booking_Payments.xlsx",this.page=1,this.pageSize=10,this.displayStyle="none",this.displayRefundStyle="none",this.openStyle="none",this.earlyCheckin=10,this.paymentForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],amount:["",b.kI.required],duration:["",b.kI.required],method:["",b.kI.required],room_type:["",b.kI.required],discount:["",b.kI.required],payment_date:["",b.kI.required],checkin_date:["",b.kI.required],checkout_date:["",b.kI.required],status:["",b.kI.required],children:["",b.kI.required],adult:["",b.kI.required],filter:["",b.kI.required],balance:["",b.kI.required],topay:["",b.kI.required],dates:["",b.kI.required],reason:["",b.kI.required],description:["",b.kI.required],authorized_by:["",b.kI.required],refund_amount:["",b.kI.required],guest_id:["",b.kI.required],room_number:["",b.kI.required],default_amount:["",b.kI.required],booking_id:["",b.kI.required],nema:["",b.kI.required],short:["",b.kI.required]})}ngOnInit(){this.getPaymentList(),this.getUser()}getGuest(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.guestService.getGuests();t&&(n.guestList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}getPaymentList(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.paymentService.getPayment();t&&(n.paymentList=t,n.paymentForm.patchValue({amount:n.paymentList[0]?.amount}));let s=0;for(let p=0;p<n.paymentList.length;p++)s+=parseInt(n.paymentList[p].amount),n.totalAmount=s,console.log(s)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}getBookingList(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.roomService.getBookingList();t&&(n.bookings=t)}catch(s){n.toastr.error(null,s)}})()}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}applyFilter(){var n=this;return(0,Y.Z)(function*(){try{console.log(n.paymentForm.value.filter),n.loading.start();var t=yield n.paymentService.getPaymentFilter(n.paymentForm.value.filter);t&&(n.paymentList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}openPopup(){this.header="Add Payment",this.displayStyle="block",this.getBookingList(),this.getRoomType()}closePopup(){this.displayStyle="none",this.displayRefundStyle="none",this.openStyle="none"}getRoomType(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.roomService.getroomType();t&&(n.rooms=t)}catch(s){n.toastr.error(null,s)}})()}fetchBookings(n){var t=this;return(0,Y.Z)(function*(){try{var s=yield t.roomService.get_booking_details(n);s&&(t.bookingDetail=s),t.paymentForm.patchValue({id:n,guest_id:t.bookingDetail[0].guest_id,room_number:t.bookingDetail[0].room_number,checkin_date:t.bookingDetail[0].arrival_date,checkout_date:t.bookingDetail[0].departure_date,nema:t.bookingDetail[0]?.name,room_type:t.bookingDetail[0].room_type,children:t.bookingDetail[0].children,adult:t.bookingDetail[0].adult});var p=new Date(t.bookingDetail[0].arrival_date),O=new Date(t.bookingDetail[0].departure_date).getTime()-p.getTime();t.day_difference=O/864e5,t.paymentForm.value.duration=t.day_difference,console.log(t.paymentForm.value.duration)}catch(qe){t.toastr.error(null,qe)}finally{t.fetchRoomType(t.paymentForm.value.room_type)}})()}fetchRooms(n){var t=this;return(0,Y.Z)(function*(){try{var s=yield t.roomService.fetchRoomsByType(n.room_type);s&&(t.roomList=s)}catch(p){console.log(p)}})()}fetchRoomType(n){var t=this;return(0,Y.Z)(function*(){try{const s=yield t.roomService.get_by_type_two(n);s&&(t.roomD=s);const p=parseInt(t.roomD[0]?.base_price),C=new Date(t.paymentForm.value.checkin),qe=new Date(t.paymentForm.value.checkout).getTime()-C.getTime(),un=(Math.ceil(qe/864e5),t.paymentForm.value.duration*p);t.paymentForm.patchValue({amount:un,topay:un})}catch(s){t.toastr.error(null,s)}})()}calDiscount(n){this.paymentForm.patchValue({amount:this.paymentForm.value.amount+this.earlyCheckin-this.paymentForm.value.amount*this.paymentForm.value.discount/100,topay:this.paymentForm.value.amount-this.paymentForm.value.amount*this.paymentForm.value.discount/100})}addPayment(n){var t=this;return(0,Y.Z)(function*(){let C=Number(t.paymentForm.value.topay)-Number(n.amount);"yes"===t.paymentForm.value.short&&(C=0);const qe={booking_id:n.id,amount:n.amount,name:t.paymentForm.value.nema,guest_id:n.guest_id,discount:n.discount,method:n.method,room_type:n.room_type,payment_date:n.payment_date,checkin_date:n.checkin_date,checkout_date:n.checkout_date,status:n.status,children:n.children,room_number:n.room_number,adult:n.adult,balance:C},Ln=Zi=>Zi?new Date(Zi).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",cr=(Ln(n.checkin_date),Ln(n.checkout_date),Ln(qe.payment_date),{days:((Zi,Vr)=>{if(!Zi||!Vr)return 0;const Qr=new Date(Zi),Pr=new Date(Vr).getTime()-Qr.getTime();return Math.ceil(Pr/864e5)})(qe.checkin_date,qe.checkout_date)});qe.days=cr.days;try{t.loading.start(),(yield t.paymentService.addPayment(qe))&&(t.toastr.success(null,"Payment successfully added"),t.closePopup(),t.getPaymentList())}catch(Zi){t.toastr.error(null,Zi)}finally{t.loading.stop()}})()}openRefund(n){var t=this;return(0,Y.Z)(function*(){t.header="Add Refund",t.displayRefundStyle="block";try{t.loading.start();var s=yield t.paymentService.get_payment_for(n);s&&(t.payment=s),t.paymentForm.patchValue({id:t.payment[0].id,name:t.payment[0].name,amount:t.payment[0].amount,method:t.payment[0].method,room_type:t.payment[0].room_type,discount:t.payment[0].discount,payment_date:t.payment[0].payment_date,checkin_date:t.payment[0].checkin_date,checkout_date:t.payment[0].checkout_date,status:t.payment[0].status,children:t.payment[0].children,adult:t.payment[0].adult})}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}editPayment(n){var t=this;return(0,Y.Z)(function*(){t.header="Edit Payment",t.displayStyle="block";try{t.loading.start();var s=yield t.paymentService.get_payment_for(n);s&&(t.payment=s),t.paymentForm.patchValue({id:t.payment[0].id,name:t.payment[0].name,amount:t.payment[0].amount,balance:t.payment[0].balance,default_amount:t.payment[0].amount,method:t.payment[0].method,room_type:t.payment[0].room_type,discount:t.payment[0].discount,payment_date:t.payment[0].payment_date,checkin_date:t.payment[0].checkin_date,checkout_date:t.payment[0].checkout_date,status:t.payment[0].status,children:t.payment[0].children,adult:t.payment[0].adult,booking_id:t.payment[0].booking_id,guest_id:t.payment[0].guest_id})}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}printReciept(n){var t=this;return(0,Y.Z)(function*(){try{const s=yield t.paymentService.get_payment_for(n);if(s&&s.length>0){const p=s[0],C=eo=>eo?new Date(eo).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",O=(eo,cr)=>{if(!eo||!cr)return 0;const Zi=new Date(eo),Qr=new Date(cr).getTime()-Zi.getTime();return Math.ceil(Qr/864e5)},qe=C(p.checkin_date),Ln=C(p.checkout_date),un=C(p.payment_date),Mn=O(p.checkin_date,p.checkout_date),fo=`\n        <html>\n        <head>\n          <title>Receipt</title>\n          <style>\n            body {\n              font-family: monospace;\n              font-size: 10px;\n              width: 72mm;\n              margin: 0;\n              padding: 5px;\n              text-align: center;\n            }\n            .header {\n              font-size: 12px;\n              font-weight: bold;\n              margin-bottom: 5px;\n            }\n            .sub-info, .line, .section {\n              margin: 2px 0;\n            }\n            .line {\n              border-top: 1px dashed black;\n              margin: 4px 0;\n            }\n            .left {\n              text-align: left;\n            }\n            .bold {\n              font-weight: bold;\n            }\n          </style>\n        </head>\n        <body>\n          <div class="header">Longford Royal Hotel</div>\n          <div class="sub-info">AS-060-771</div>\n          <div class="sub-info">Tel: 0322497756</div>\n          <div class="sub-info">Sepe-dote Opp. Akate Farms</div>\n          <div class="line"></div>\n\n          <div class="left section"><span class="bold">Receipt:</span> #${p.id}</div>\n          <div class="left section"><span class="bold">Received From:</span> ${p.name||"N/A"}</div>\n          <div class="left section"><span class="bold">Amount:</span> GH\u20b5${p.amount||"0"}.00</div>\n          <div class="left section"><span class="bold">Payment Method:</span> ${p.method||"N/A"}</div>\n          <div class="left section"><span class="bold">Balance:</span> GH\u20b5${p.balance||"0"}.00</div>\n          <div class="left section"><span class="bold">Discount:</span> ${p.discount||"0"}%</div>\n          <div class="left section"><span class="bold">Room Type:</span> ${p.room_type||"N/A"}</div>\n          <div class="left section"><span class="bold">Check-in:</span> ${qe}</div>\n          <div class="left section"><span class="bold">Check-out:</span> ${Ln}</div>\n          <div class="left section"><span class="bold">Nights:</span> ${Mn}</div>\n          <div class="left section"><span class="bold">Payment Date:</span> ${un}</div>\n          <div class="left section"><span class="bold">Wi-Fi Code:</span> ${p.wifi_code||"N/A"}</div>\n          <div class="line"></div>\n\n          <div class="section">Thank you for choosing</div>\n          <div class="section"> Longford  Royal Hotel!</div>\n          <div class="section">We hope to serve you again soon.</div>\n        </body>\n        </html>\n      `,ai=window.open("","_blank","width=300,height=600");ai?(ai.document.open(),ai.document.write(fo),ai.document.close(),setTimeout(()=>{ai.focus(),ai.print(),ai.close()},500)):console.error("Unable to open print window.")}else t.toastr.error("No payment details found.")}catch(s){t.toastr.error("Failed to fetch payment details or print receipt."),console.error("Error:",s)}})()}generateInvoice(n){var t=this;return(0,Y.Z)(function*(){try{const s=yield t.paymentService.get_payment_for(n);if(s&&s.length>0){const p=s[0],C=fo=>fo?new Date(fo).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",O=C(p.checkin_date),qe=C(p.checkout_date),Ln=C(p.payment_date),un=`\n        <div style="width: 58mm; font-family: Arial, sans-serif; font-size: 12px; line-height: 1.4; border: 1px solid #000; padding: 10px; margin: 0 auto;">\n          <div style="text-align: center; border-bottom: 1px dashed #000; padding-bottom: 10px;">\n            <h2 style="margin: 0; font-size: 14px;">Longford Royal Hotel</h2>\n            <p style="margin: 5px 0;">AS-060-7751</p>\n            <p style="margin: 5px 0;">Tel: 0322497756</p>\n            <p style="margin: 5px 0;">Location: Sepe-dote Opp. Akate Farms</p>\n          </div>\n\n          <div style="margin: 10px 0;">\n            <p><strong>Invoice ID:</strong> #${p.id||"N/A"}</p>\n            <p><strong>Guest Name:</strong> ${p.name||"N/A"}</p>\n            <p><strong>Total Amount:</strong> GH\u20b5${p.amount||"0"}.00</p>\n            <p><strong>Payment Method:</strong> ${p.method||"N/A"}</p>\n            <p><strong>Balance:</strong> GH\u20b5${p.balance||"0"}.00</p>\n            <p><strong>Discount:</strong> ${p.discount||"0"}%</p>\n            <p><strong>Room Type:</strong> ${p.room_type||"N/A"}</p>\n            <p><strong>Check-in Date:</strong> ${O}</p>\n            <p><strong>Check-out Date:</strong> ${qe}</p>\n            <p><strong>Invoice Date:</strong> ${Ln}</p>\n          </div>\n\n          <div style="text-align: center; border-top: 1px dashed #000; padding-top: 10px;">\n            <p>Thank you for staying with us atLongford Royal </p>\n            <p>We look forward to hosting you again soon.</p>\n          </div>\n        </div>\n      `,Mn=window.open("","_blank","width=300,height=600");Mn?(Mn.document.write(un),Mn.document.close(),Mn.focus(),Mn.print(),Mn.close()):console.error("Unable to open print window.")}else t.toastr.error("No payment details found.")}catch(s){t.toastr.error("Failed to fetch payment details or generate invoice."),console.error("Error:",s)}})()}updatePaymentCheckout(n){var t=this;return(0,Y.Z)(function*(){const s={id:n.id,amount:n.amount,name:n.name,discount:n.discount,method:n.method,room_type:n.room_type,payment_date:n.payment_date,checkin_date:n.checkin_date,checkout_date:n.checkout_date,status:n.status,children:n.children,adult:n.adult,booking_id:n.booking_id,balance:n.balance||0,guest_id:n.guest_id};try{t.loading.start(),(yield t.paymentService.updatePaymentCheckout(s))&&(t.closePopup(),t.getPaymentList())}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}updatePayment(n){var t=this;return(0,Y.Z)(function*(){const s={id:n.id,amount:n.amount,name:n.name,discount:n.discount,method:n.method,room_type:n.room_type,payment_date:n.payment_date,checkin_date:n.checkin_date,checkout_date:n.checkout_date,status:n.status,children:n.children,adult:n.adult,balance:n.balance||0};try{t.loading.start(),(yield t.paymentService.updatePayment(s))&&(t.closePopup(),t.getPaymentList())}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}addRefund(n){var t=this;return(0,Y.Z)(function*(){const s={id:n.id,name:n.name,refund_amount:n.refund_amount,reason:n.reason,authorized_by:n.authorized_by};try{t.loading.start(),console.log(t.paymentForm.value.amount),s.refund_amount>t.paymentForm.value.amount?t.toastr.info(null,"Please check,Refund Amount is Greater than what Guest Paid"):((yield t.paymentService.addRefund(s))&&t.toastr.success(null,"Refund process initiated"),t.closePopup(),t.getPaymentList())}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}deletePayment(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.paymentService.deletePayment(n))&&t.getPaymentList()}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}downloadAsPDF(){new Mr.ZP;const t=this.pdfTable.nativeElement,p={content:Zl()(t.innerHTML)};rr().createPdf(p).open()}searchDates(){var n=this;return(0,Y.Z)(function*(){const t={date:n.paymentForm.value.dates};try{n.loading.start();var s=yield n.paymentService.searchDates(t);s&&(n.paymentList=s);let p=0;for(let C=0;C<n.paymentList.length;C++)p+=parseInt(n.paymentList[C].amount),n.totalAmount=p,console.log(p)}catch(p){n.toastr.error(null,p.message)}finally{n.loading.stop()}})()}download(){var n=document.getElementById("table");_c().from(n).set({margin:1,filename:"payments.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).save()}exportexcel(){let n=document.getElementById("excel-table");const t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,this.fileName)}}da.\u0275fac=function(n){return new(n||da)(e.Y36(b.qu),e.Y36(P.X),e.Y36(me._W),e.Y36(pe.t),e.Y36(ee.Q),e.Y36(te.W))},da.\u0275cmp=e.Xpm({type:da,selectors:[["payment"]],viewQuery:function(n,t){if(1&n&&e.Gf(vc,5),2&n){let s;e.iGM(s=e.CRH())&&(t.pdfTable=s.first)}},decls:173,vars:21,consts:[[1,"page"],["class","row",4,"blockUI"],["type","button",1,"btn","btn-primary",2,"margin","50px","padding","10px","display","none",3,"click"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-16",2,"width","100%"],[1,"card","card-payment"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["formControlName","name",1,"form-control",3,"change"],["value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","room_type",1,"form-control",3,"change"],[1,"col-md-3","px-1"],["type","number","formControlName","children",1,"form-control"],["type","number","formControlName","adult",1,"form-control"],[1,"col-md-6","pl-1"],["type","date","formControlName","checkin_date",1,"form-control"],["type","date","formControlName","checkout_date",1,"form-control"],[1,"col-md-6","pr-1"],["type","text","formControlName","amount",1,"form-control"],["for","phone"],["id","idType","formControlName","discount",1,"form-control",3,"change"],["value","","hidden",""],["value","0","selected",""],["value","10"],["value","20 "],["value","30 "],["value","40 "],["value","50 "],["id","idType","formControlName","short",1,"form-control"],["value","yes"],["value","no"],["id","idType","formControlName","method",1,"form-control"],["value","cash "],["value","visa "],["value","cheque "],["formControlName","status",1,"form-control"],["value","pending"],["value","success"],["value","cancelled"],["class","update ml-auto mr-auto",4,"ngIf"],["id","pdfTable",2,"text-align","center"],["pdfTable",""],[2,"font-smooth","bold"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],["type","text","formControlName","name",1,"form-control"],["type","text","formControlName","refund_amount",1,"form-control"],["formControlName","reason","id","","cols","60","rows","10"],["type","text","formControlName","authorized_by",1,"form-control",2,"width","100%"],["type","submit",1,"btn","btn-success",2,"width","50%"],[1,"col-md-12",2,"width","100%"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["type","text","id","myInput",1,"form-control",2,"width","350px",3,"keyup"],[3,"formGroup"],[1,"w-100"],[1,"table-responsive"],["type","date","formControlName","dates",1,"form-control",2,"width","auto",3,"ngModelChange"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-success",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],["id","excel-table",1,"table","table-striped",2,"width","100%"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],["class","fa fa-close fa-lg text-danger",3,"click",4,"ngIf"],["class","badge badge-warning","style","cursor: pointer; ",3,"click",4,"ngIf"],["class","badge badge-info","style","cursor: pointer; ",3,"click",4,"ngIf"],[1,"text-danger"],[1,"text-success"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[1,"badge","badge-warning",2,"cursor","pointer",3,"click"],[1,"fa","fa-money"],[1,"badge","badge-info",2,"cursor","pointer",3,"click"],[3,"value"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"],["type","button",1,"btn","btn-primary","btn-round",3,"click"],["type","button",1,"btn","btn-danger","btn-round",3,"click"],["id","receipt",2,"width","58mm","font-family","Arial, sans-serif","font-size","12px","line-height","1.4","border","1px solid #000","padding","10px","margin","0 auto"],[2,"text-align","center","border-bottom","1px dashed #000","padding-bottom","10px"],[2,"margin","0","font-size","14px"],[2,"margin","5px 0"],[2,"margin","10px 0"],[2,"text-align","center","border-top","1px dashed #000","padding-top","10px"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Ls,59,17,"div",1),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return t.openPopup()}),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.TgZ(8,"i",7),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10),e._UZ(12,"div",11),e.TgZ(13,"div",12)(14,"form",13),e.NdJ("ngSubmit",function(){return t.addPayment(t.paymentForm.value)}),e.TgZ(15,"div",14)(16,"div",15)(17,"div",16)(18,"label"),e._uU(19,"Guest's NAME"),e.qZA(),e.TgZ(20,"select",17),e.NdJ("change",function(p){return t.fetchBookings(p.target.value)}),e.TgZ(21,"option",18),e._uU(22,"Select Guest"),e.qZA(),e.YNc(23,ss,2,2,"option",19),e.qZA()()(),e.TgZ(24,"div",15)(25,"div",16)(26,"label"),e._uU(27," Room Type "),e.qZA(),e.TgZ(28,"select",20),e.NdJ("change",function(p){return t.fetchRoomType(p.target.value)}),e.TgZ(29,"option",18),e._uU(30,"---select----"),e.qZA(),e.YNc(31,Md,2,2,"option",19),e.qZA()()(),e.TgZ(32,"div",21)(33,"div",16)(34,"label"),e._uU(35,"Number of Children"),e.qZA(),e._UZ(36,"input",22),e.qZA()(),e.TgZ(37,"div",21)(38,"div",16)(39,"label"),e._uU(40,"Number of Adults"),e.qZA(),e._UZ(41,"input",23),e.qZA()()(),e.TgZ(42,"div",14)(43,"div",24)(44,"div",16)(45,"label"),e._uU(46,"Arrival Date"),e.qZA(),e._UZ(47,"input",25),e.qZA()(),e.TgZ(48,"div",24)(49,"div",16)(50,"label"),e._uU(51,"Departure Date"),e.qZA(),e._UZ(52,"input",26),e.qZA()()(),e.TgZ(53,"div",14)(54,"div",27)(55,"div",16)(56,"label"),e._uU(57,"Amount"),e.qZA(),e._UZ(58,"input",28),e.qZA()(),e.TgZ(59,"div",27)(60,"div",16)(61,"label",29),e._uU(62,"Discount "),e.qZA(),e.TgZ(63,"select",30),e.NdJ("change",function(){return t.calDiscount(t.paymentForm.value)}),e.TgZ(64,"option",31),e._uU(65," Apply Discount"),e.qZA(),e.TgZ(66,"option",32),e._uU(67,"0%"),e.qZA(),e.TgZ(68,"option",33),e._uU(69,"10%"),e.qZA(),e.TgZ(70,"option",34),e._uU(71,"20% "),e.qZA(),e.TgZ(72,"option",35),e._uU(73,"30% "),e.qZA(),e.TgZ(74,"option",36),e._uU(75,"40% "),e.qZA(),e.TgZ(76,"option",37),e._uU(77,"50% "),e.qZA()()()(),e.TgZ(78,"div",27)(79,"div",16)(80,"label",29),e._uU(81,"Short Stay "),e.qZA(),e.TgZ(82,"select",38)(83,"option",39),e._uU(84,"Yes"),e.qZA(),e.TgZ(85,"option",40),e._uU(86,"No"),e.qZA()()()(),e.TgZ(87,"div",27)(88,"div",16)(89,"label",29),e._uU(90,"Method "),e.qZA(),e.TgZ(91,"select",41)(92,"option",18),e._uU(93," payment method"),e.qZA(),e.TgZ(94,"option",42),e._uU(95,"Cash "),e.qZA(),e.TgZ(96,"option",43),e._uU(97,"Visa "),e.qZA(),e.TgZ(98,"option",44),e._uU(99,"Cheque "),e.qZA()()()(),e.TgZ(100,"div",27)(101,"div",16)(102,"label"),e._uU(103,"Status"),e.qZA(),e.TgZ(104,"select",45)(105,"option",18),e._uU(106,"Select payment Status"),e.qZA(),e.TgZ(107,"option",46),e._uU(108,"Pending"),e.qZA(),e.TgZ(109,"option",47),e._uU(110,"Success"),e.qZA(),e.TgZ(111,"option",48),e._uU(112,"Cancelled"),e.qZA()()()()(),e.TgZ(113,"div",14),e.YNc(114,zn,3,0,"div",49),e.YNc(115,ua,3,0,"div",49),e.YNc(116,hr,3,0,"div",49),e.qZA()()()()()()()()(),e.TgZ(117,"div",3)(118,"div",4)(119,"div",5)(120,"div",6),e._uU(121),e.TgZ(122,"i",7),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(123,"div",8)(124,"div",9)(125,"div",10),e._UZ(126,"div",11),e.TgZ(127,"div",12)(128,"div",50,51)(130,"h3",52),e._uU(131,"Yaalex Executive Lodge"),e.qZA(),e._uU(132," - - - - - - - - - - - - - - - - - - - - - - - - - - "),e._UZ(133,"br"),e.YNc(134,vu,53,9,"tr",53),e.qZA(),e.TgZ(135,"button",54),e.NdJ("click",function(){return t.downloadAsPDF()}),e._uU(136,"Print"),e.qZA()()()()()()()(),e.TgZ(137,"div",3)(138,"div",4)(139,"div",5)(140,"div",6),e._uU(141),e.TgZ(142,"i",7),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(143,"div",8)(144,"div",9)(145,"div",10),e._UZ(146,"div",11),e.TgZ(147,"div",12)(148,"form",13),e.NdJ("ngSubmit",function(){return t.addRefund(t.paymentForm.value)}),e.TgZ(149,"div",14)(150,"div",15)(151,"div",16)(152,"label"),e._uU(153,"Guest Name"),e.qZA(),e._UZ(154,"input",55),e.qZA()(),e.TgZ(155,"div",21)(156,"div",16)(157,"label"),e._uU(158,"Refund Amount"),e.qZA(),e._UZ(159,"input",56),e.qZA()()(),e.TgZ(160,"div",14)(161,"div",24)(162,"div",16)(163,"label"),e._uU(164,"Refund Reason"),e.qZA(),e._UZ(165,"textarea",57),e.qZA()()(),e.TgZ(166,"div",24)(167,"div",16)(168,"label"),e._uU(169,"Authorized By"),e.qZA(),e._UZ(170,"input",58),e.qZA()(),e.TgZ(171,"button",59),e._uU(172,"Save"),e.qZA()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(2),e.Q6J("ngStyle",e.VKq(15,ca,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.paymentForm),e.xp6(9),e.Q6J("ngForOf",t.bookings),e.xp6(8),e.Q6J("ngForOf",t.rooms),e.xp6(83),e.Q6J("ngIf","Add Payment"==t.header),e.xp6(1),e.Q6J("ngIf","Edit Payment"==t.header),e.xp6(1),e.Q6J("ngIf","Edit Payment"==t.header),e.xp6(1),e.Q6J("ngStyle",e.VKq(17,ca,t.openStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(13),e.Q6J("ngForOf",t.payList),e.xp6(3),e.Q6J("ngStyle",e.VKq(19,ca,t.displayRefundStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.paymentForm))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.wV,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU,be.JJ],styles:[".modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],da.prototype,"loading",void 0);var Qo=cn(9808),Cr=cn(9646);const zo={headers:new Ne.WM({"Content-Type":"application/json"})};let ji=(()=>{class c{constructor(t,s){this.http=t,this.router=s,this.employeeUrl="http://127.0.0.1:5000"}getroomType(){return this.http.get(this.employeeUrl+"/room/get_room_types")}getItems(){return this.http.get(this.employeeUrl+"/employee/get_item")}getAttendance(){return(0,Qo.n)(this.http.get(this.employeeUrl+"/employee/get_attendance_list"))}getTodo(){return(0,Qo.n)(this.http.get(this.employeeUrl+"/employee/get_todo_list"))}getInfo(){return this.http.get(this.employeeUrl+"/client/get_info")}getUserInfo(){return this.http.get(this.employeeUrl+"/client/get_user_info")}getemployees(){return(0,Qo.n)(this.http.get(this.employeeUrl+"/employee/get_employees"))}getclients(){return this.http.get(this.employeeUrl+"/client/get_clients")}getroom_number(){return this.http.get(this.employeeUrl+"/room/get_room_numbers")}getEmployee(t){return(0,Qo.n)(this.http.get(`${this.employeeUrl}/get_employee_details/${t}`))}getTodoDetails(t){return(0,Qo.n)(this.http.get(`${this.employeeUrl}/employee/get_todo_detail/${t}`))}addEmployee(t){return(0,Qo.n)(this.http.post(this.employeeUrl+"/employee/add_employee",t,zo))}addItem(t){return(0,Qo.n)(this.http.post(this.employeeUrl+"/employee/add_item",t,zo))}AddTodo(t){return(0,Qo.n)(this.http.post(this.employeeUrl+"/employee/add_todo",t,zo))}postclient(t){return this.http.post(this.employeeUrl+"/client/add",t,zo)}addAttendance(t){return(0,Qo.n)(this.http.post(this.employeeUrl+"/employee/add_attendance",t,zo))}updateEmployee(t){return(0,Qo.n)(this.http.put(this.employeeUrl+"/employee/update_employee",t,zo))}updateAttendance(t){return(0,Qo.n)(this.http.put(this.employeeUrl+"/employee/update_attendance",t,zo))}updateTodo(t){return(0,Qo.n)(this.http.put(this.employeeUrl+"/employee/update_todo",t,zo))}deleteEmployee(t){return confirm("Are you sure to delete?")?(0,Qo.n)(this.http.delete(`${this.employeeUrl}/employee/delete_employee/${"number"==typeof t?t:t.id}`,zo)):(0,Cr.of)({})}deleteTodo(t){return confirm("Are you sure to delete?")?(0,Qo.n)(this.http.delete(`${this.employeeUrl}/employee/delete_todo/${"number"==typeof t?t:t.id}`,zo)):(0,Cr.of)({})}}return c.\u0275fac=function(t){return new(t||c)(e.LFG(Ne.eN),e.LFG(Gt.F0))},c.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function pa(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td")(18,"i",63),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.Editemployee(C.id))}),e.qZA(),e.TgZ(19,"i",64),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.deletEemployee(C.id))}),e.qZA()()()}if(2&c){const t=n.$implicit;e.xp6(2),e.hij(" ",t.first_name+" "+t.last_name,""),e.xp6(2),e.Oqu(t.gender),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.address),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.session),e.xp6(2),e.hij("",t.employment_date," "),e.xp6(2),e.hij("",t.position," ")}}function Os(c,n){1&c&&e._uU(0,"First")}function ko(c,n){1&c&&e._uU(0,"Last")}function ls(c,n){1&c&&e._uU(0,"Prev")}function Fr(c,n){1&c&&e._uU(0,"Next")}function Ra(c,n){1&c&&e._uU(0,"...")}function Fd(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function Da(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",39)(2,"div",40)(3,"div",41)(4,"div",42)(5,"div",43)(6,"div",44)(7,"input",45),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.myFunction())}),e.qZA()(),e.TgZ(8,"div",46)(9,"button",47),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup())}),e._uU(10," Add employee"),e.qZA()()()(),e.TgZ(11,"div",48)(12,"table",49)(13,"thead",50)(14,"tr",51)(15,"th",52),e._uU(16,"Name"),e.qZA(),e.TgZ(17,"th",52),e._uU(18,"Gender"),e.qZA(),e.TgZ(19,"th",52),e._uU(20,"Phone"),e.qZA(),e.TgZ(21,"th",52),e._uU(22,"Address"),e.qZA(),e.TgZ(23,"th",52),e._uU(24,"Email"),e.qZA(),e.TgZ(25,"th",52),e._uU(26,"Session"),e.qZA(),e.TgZ(27,"th",52),e._uU(28,"Employment Date"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Position"),e.qZA(),e.TgZ(31,"th",52),e._uU(32,"Actions"),e.qZA()()(),e.TgZ(33,"tbody"),e.YNc(34,pa,20,8,"tr",53),e.ALo(35,"slice"),e.qZA()()(),e.TgZ(36,"div",54)(37,"div",55)(38,"ngb-pagination",56),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(39,Os,1,0,"ng-template",57),e.YNc(40,ko,1,0,"ng-template",58),e.YNc(41,ls,1,0,"ng-template",59),e.YNc(42,Fr,1,0,"ng-template",60),e.YNc(43,Ra,1,0,"ng-template",61),e.YNc(44,Fd,1,1,"ng-template",62),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(34),e.Q6J("ngForOf",e.Dn7(35,8,t.employeeList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.employeeList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function yu(c,n){1&c&&(e.TgZ(0,"div",22)(1,"div",16)(2,"label"),e._uU(3,"ID Type "),e.qZA(),e._UZ(4,"input",65),e.qZA()())}function fa(c,n){1&c&&(e.TgZ(0,"div",22)(1,"div",16)(2,"label"),e._uU(3,"ID Number "),e.qZA(),e._UZ(4,"input",66),e.qZA()())}function jd(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",67)(1,"div",16)(2,"label"),e._uU(3,"Image "),e.qZA(),e.TgZ(4,"input",68),e.NdJ("change",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.handleUpload(p))}),e.qZA()()()}}function b1(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",16)(1,"label"),e._uU(2,"ID Upload "),e.qZA(),e.TgZ(3,"input",70),e.NdJ("change",function(p){e.CHM(t);const C=e.oxw(2);return e.KtG(C.handleUpload(p))}),e.qZA()()}}function Ri(c,n){if(1&c&&(e.TgZ(0,"div",67),e.YNc(1,b1,4,0,"div",69),e.qZA()),2&c){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","Add Employee"==t.header)}}function Vi(c,n){1&c&&(e.TgZ(0,"div",71)(1,"button",72),e._uU(2," Save"),e.qZA()())}function Qi(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",71)(1,"button",73),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updateemployee(p.createForm.value))}),e._uU(2," Update"),e.qZA()()}}const Qn=function(c){return{display:c}};class yi{constructor(n,t,s,p,C,O,qe){this.roomService=n,this.router=t,this.fb=s,this.route=p,this.guestService=C,this.toastr=O,this.employeeService=qe,this.displayStyle="none",this.submitted=!1,this.title="Create Ad",this.isNew=!0,this.post=!0,this.update=!1,this.page=1,this.pageSize=10,this.createForm=this.fb.group({id:["",b.kI.required],first_name:["",b.kI.required],last_name:["",b.kI.required],email:["",b.kI.required],session:["",b.kI.required],position:["",b.kI.required],dob:["",b.kI.required],employment_date:["",b.kI.required],phone:["",b.kI.required],gender:["",b.kI.required],id_type:["",b.kI.required],id_upload:["",b.kI.required],photo:["",b.kI.required],address:["",b.kI.required],id_number:["",b.kI.required],remark:["",b.kI.required],city:["",b.kI.required]})}ngOnInit(){this.getEmployee()}openPopup(){this.header="Add Employee",this.displayStyle="block"}closePopup(){this.displayStyle="none"}getEmployee(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.employeeService.getemployees();t&&(n.employeeList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}addemployee(n){var t=this;return(0,Y.Z)(function*(){const s={first_name:n.first_name,last_name:n.last_name,email:n.email,session:n.session,position:n.position,dob:n.dob,employment_date:n.employment_date,phone:n.phone,gender:n.gender,id_type:n.id_type,id_upload:n.id_upload,photo:n.photo,id_number:n.id_number,address:n.address,remark:n.remark,city:n.city};s.photo=t.base64_string,s.id_upload=t.base64_string;try{t.loading.start(),(yield t.employeeService.addEmployee(s))&&t.toastr.success(null,"Guest successfully added"),t.closePopup(),t.getEmployee()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}Editemployee(n){var t=this;return(0,Y.Z)(function*(){t.header="Edit Employee",t.displayStyle="block";try{t.loading.start(),t.emmp_info=yield t.employeeService.getEmployee(n),t.emmp_info&&t.createForm.patchValue({id:t.emmp_info[0].id,first_name:t.emmp_info[0].first_name,last_name:t.emmp_info[0].last_name,dob:t.emmp_info[0].dob,email:t.emmp_info[0].email,session:t.emmp_info[0].session,position:t.emmp_info[0].position,employment_date:t.emmp_info[0].employment_date,phone:t.emmp_info[0].phone,gender:t.emmp_info[0].gender,id_number:t.emmp_info[0].id_number,address:t.emmp_info[0].address,remark:t.emmp_info[0].remark,city:t.emmp_info[0].city})}catch(s){t.toastr.error(null,s)}finally{t.loading.stop()}})()}updateemployee(n){var t=this;return(0,Y.Z)(function*(){const s={id:n.id,first_name:n.first_name,last_name:n.last_name,email:n.email,session:n.session,position:n.position,dob:n.dob,employment_date:n.employment_date,phone:n.phone,gender:n.gender,address:n.address,remark:n.remark,city:n.city};try{t.loading.start(),(yield t.employeeService.updateEmployee(s))&&t.closePopup(),t.getEmployee()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}handleUpload(n){const t=n.target.files[0],s=new FileReader;s.readAsDataURL(t),s.onload=()=>{this.base64_string=s.result}}myFunction(){var t,p,C,O;for(this.loading.start(),t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("myTable").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none",this.loading.stop())}deletEemployee(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.employeeService.deleteEmployee(n))&&t.getEmployee()}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}}function Ba(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"span",58),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.updateAttendance(p.id))}),e._uU(1,"Sign out"),e.qZA()}}function Al(c,n){1&c&&(e.TgZ(0,"span",59),e._uU(1,"Signed out"),e.qZA())}function ga(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e.YNc(12,Ba,2,0,"span",56),e.YNc(13,Al,2,0,"span",57),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.position),e.xp6(2),e.Oqu(t.time_in),e.xp6(2),e.Oqu(t.time_out),e.xp6(2),e.Oqu(t.created_date),e.xp6(2),e.Q6J("ngIf","-"===t.time_out),e.xp6(1),e.Q6J("ngIf","-"!==t.time_out)}}function Tl(c,n){1&c&&e._uU(0,"First")}function Es(c,n){1&c&&e._uU(0,"Last")}function _r(c,n){1&c&&e._uU(0,"Prev")}function bu(c,n){1&c&&e._uU(0,"Next")}function Ms(c,n){1&c&&e._uU(0,"...")}function $i(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function Fs(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",28)(2,"div",29)(3,"div",30)(4,"div",31)(5,"div",32)(6,"div",33)(7,"input",34),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.myFunction())}),e.qZA()(),e.TgZ(8,"div",35)(9,"button",36),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup())}),e._uU(10," Mark"),e.qZA()(),e.TgZ(11,"div",37)(12,"button",38),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.download())}),e._uU(13," Export "),e.qZA()()()(),e.TgZ(14,"div",39)(15,"form",40)(16,"input",41),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()(),e.TgZ(17,"table",42)(18,"thead",43)(19,"tr")(20,"td"),e._uU(21,"Attendance List"),e.qZA()(),e.TgZ(22,"tr",44)(23,"th",45),e._uU(24,"Name"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Position"),e.qZA(),e.TgZ(27,"th",45),e._uU(28,"Time in"),e.qZA(),e.TgZ(29,"th",45),e._uU(30,"Time out"),e.qZA(),e.TgZ(31,"th",45),e._uU(32,"Attendance Date"),e.qZA(),e.TgZ(33,"th",45),e._uU(34,"Action"),e.qZA()()(),e.TgZ(35,"tbody"),e.YNc(36,ga,14,7,"tr",46),e.ALo(37,"slice"),e.qZA()()(),e.TgZ(38,"div",47)(39,"div",48)(40,"ngb-pagination",49),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(41,Tl,1,0,"ng-template",50),e.YNc(42,Es,1,0,"ng-template",51),e.YNc(43,_r,1,0,"ng-template",52),e.YNc(44,bu,1,0,"ng-template",53),e.YNc(45,Ms,1,0,"ng-template",54),e.YNc(46,$i,1,1,"ng-template",55),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(15),e.Q6J("formGroup",t.createForm),e.xp6(21),e.Q6J("ngForOf",e.Dn7(37,9,t.attendanceList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.attendanceList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function Rd(c,n){if(1&c&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.first_name+" "+t.last_name),e.xp6(1),e.hij(" ",t.first_name+" "+t.last_name,"")}}function Dd(c,n){1&c&&(e.TgZ(0,"div",61)(1,"button",62),e._uU(2," Save"),e.qZA()())}function us(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",61)(1,"button",63),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updateattendance(p.createForm.value))}),e._uU(2," Update"),e.qZA()()}}yi.\u0275fac=function(n){return new(n||yi)(e.Y36(P.X),e.Y36(Gt.F0),e.Y36(b.qu),e.Y36(Gt.gz),e.Y36(ee.Q),e.Y36(me._W),e.Y36(ji))},yi.\u0275cmp=e.Xpm({type:yi,selectors:[["employees"]],decls:98,vars:12,consts:[[1,"page"],["class","row",4,"blockUI"],["type","button",1,"btn","btn-primary",2,"margin","50px","padding","10px","display","none",3,"click"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-16",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","first_name","placeholder","Kevin",1,"form-control"],["type","text","formControlName","last_name","placeholder","Fiadzeawu",1,"form-control"],[1,"col-md-12"],["type","email","formControlName","email","placeholder","....@yourmail.com",1,"form-control"],["type","date","formControlName","dob",1,"form-control"],[1,"col-md-6","pl-1"],["type","date","formControlName","employment_date",1,"form-control"],["class","col-md-6 pl-1",4,"ngIf"],["type","text","formControlName","position",1,"form-control"],["type","text","formControlName","city",1,"form-control"],["formControlName","gender","id","",1,"form-control"],["value","","hidden","","selected",""],["value","male"],["value","female"],["type","text","formControlName","phone",1,"form-control"],["type","text","formControlName","address","placeholder","7th street teshiw",1,"form-control"],["type","text","formControlName","remark","placeholder","some remarks",1,"form-control"],["class","col-md-4 pr-1",4,"ngIf"],["formControlName","session","id","",1,"form-control"],["value","Day"],["value","Night"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"col-md-12",2,"width","100%"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["type","text","id","myInput",1,"form-control",2,"width","350px",3,"keyup"],[1,"w-100"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],[1,"table-responsive"],["id","myTable",1,"table","m-0",2,"width","100%"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"fa","fa-edit","fa-2x","text-info",3,"click"],[1,"fa","fa-close","fa-2x","text-danger",3,"click"],["type","text","formControlName","id_type",1,"form-control"],["type","text","formControlName","id_number",1,"form-control"],[1,"col-md-4","pr-1"],["type","file","formControlName","photo",1,"form-control",3,"change"],["class","form-group",4,"ngIf"],["type","file","formControlName","id_upload",1,"form-control",3,"change"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"],["type","button",1,"btn","btn-primary","btn-round",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Da,45,12,"div",1),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return t.openPopup()}),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.TgZ(8,"i",7),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10),e._UZ(12,"div",11),e.TgZ(13,"div",12)(14,"form",13),e.NdJ("ngSubmit",function(){return t.addemployee(t.createForm.value)}),e.TgZ(15,"div",14)(16,"div",15)(17,"div",16)(18,"label"),e._uU(19,"First Name "),e.qZA(),e._UZ(20,"input",17),e.qZA()(),e.TgZ(21,"div",15)(22,"div",16)(23,"label"),e._uU(24," Last Name "),e.qZA(),e._UZ(25,"input",18),e.qZA()(),e.TgZ(26,"div",19)(27,"div",16)(28,"label"),e._uU(29,"Email"),e.qZA(),e._UZ(30,"input",20),e.qZA()(),e.TgZ(31,"div",19)(32,"div",16)(33,"label"),e._uU(34,"Date Of Birth"),e.qZA(),e._UZ(35,"input",21),e.qZA()()(),e.TgZ(36,"div",14)(37,"div",22)(38,"div",16)(39,"label"),e._uU(40,"Employment Date "),e.qZA(),e._UZ(41,"input",23),e.qZA()(),e.YNc(42,yu,5,0,"div",24),e.YNc(43,fa,5,0,"div",24),e.TgZ(44,"div",22)(45,"div",16)(46,"label"),e._uU(47,"Position "),e.qZA(),e._UZ(48,"input",25),e.qZA()(),e.TgZ(49,"div",22)(50,"div",16)(51,"label"),e._uU(52,"City "),e.qZA(),e._UZ(53,"input",26),e.qZA()(),e.TgZ(54,"div",22)(55,"div",16)(56,"label"),e._uU(57,"Gender "),e.qZA(),e.TgZ(58,"select",27)(59,"option",28),e._uU(60,"select gender"),e.qZA(),e.TgZ(61,"option",29),e._uU(62,"Male"),e.qZA(),e.TgZ(63,"option",30),e._uU(64,"Female"),e.qZA()()()(),e.TgZ(65,"div",22)(66,"div",16)(67,"label"),e._uU(68,"Phone "),e.qZA(),e._UZ(69,"input",31),e.qZA()(),e.TgZ(70,"div",22)(71,"div",16)(72,"label"),e._uU(73,"Address "),e.qZA(),e._UZ(74,"input",32),e.qZA()()(),e.TgZ(75,"div",14)(76,"div",19)(77,"div",16)(78,"label"),e._uU(79,"Remark"),e.qZA(),e._UZ(80,"input",33),e.qZA()()(),e.TgZ(81,"div",14),e.YNc(82,jd,5,0,"div",34),e.YNc(83,Ri,2,1,"div",34),e.TgZ(84,"div",22)(85,"div",16)(86,"label"),e._uU(87,"Session "),e.qZA(),e.TgZ(88,"select",35)(89,"option",28),e._uU(90,"select Session"),e.qZA(),e.TgZ(91,"option",36),e._uU(92,"Day"),e.qZA(),e.TgZ(93,"option",37),e._uU(94,"Night"),e.qZA()()()()(),e.TgZ(95,"div",14),e.YNc(96,Vi,3,0,"div",38),e.YNc(97,Qi,3,0,"div",38),e.qZA()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(2),e.Q6J("ngStyle",e.VKq(10,Qn,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.createForm),e.xp6(28),e.Q6J("ngIf","Add Employee"==t.header),e.xp6(1),e.Q6J("ngIf","Add Employee"==t.header),e.xp6(39),e.Q6J("ngIf","Add Employee"==t.header),e.xp6(1),e.Q6J("ngIf","Add Employee"==t.header),e.xp6(13),e.Q6J("ngIf","Add Employee"==t.header),e.xp6(1),e.Q6J("ngIf","Edit Employee"==t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU],styles:[".modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],yi.prototype,"loading",void 0);const Zc=function(c){return{display:c}};class za{constructor(n,t,s,p,C){this.router=n,this.fb=t,this.toastr=s,this.employeeService=p,this.guestService=C,this.displayStyle="none",this.submitted=!1,this.title="Create Ad",this.isNew=!0,this.post=!0,this.update=!1,this.page=1,this.pageSize=200,this.createForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],attendance:["",b.kI.required],position:["",b.kI.required],dates:["",b.kI.required]})}ngOnInit(){this.getEmployee(),this.getAttendance()}openPopup(){this.header="Add attendance",this.displayStyle="block"}closePopup(){this.displayStyle="none"}getAttendance(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.employeeService.getAttendance();t&&(n.attendanceList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}getEmployee(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.employeeService.getemployees();t&&(n.employeeList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}addattendance(n){var t=this;return(0,Y.Z)(function*(){const s={name:n.name,attendance:n.attendance,position:n.position};try{t.loading.start(),(yield t.employeeService.addAttendance(s))&&t.toastr.success(null,"Attendance successfully added"),t.closePopup(),t.getAttendance()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}fetchEmployee(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start();var s=yield t.employeeService.getEmployee(n);s&&(t.emmp_info=s),t.createForm.patchValue({position:t.emmp_info[0].position})}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){const t={date:n.createForm.value.dates};try{n.loading.start();var s=yield n.guestService.searchattendanceDate(t);s&&(n.attendanceList=s)}catch(p){n.toastr.error(null,p.message)}finally{n.loading.stop()}})()}updateAttendance(n){var t=this;return(0,Y.Z)(function*(){const s={id:n};try{t.loading.start(),(yield t.employeeService.updateAttendance(s))&&t.closePopup(),t.getAttendance()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("myTable").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}download(){var n=document.getElementById("table");_c().from(n).set({margin:1,filename:"attendance.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).save()}}za.\u0275fac=function(n){return new(n||za)(e.Y36(Gt.F0),e.Y36(b.qu),e.Y36(me._W),e.Y36(ji),e.Y36(ee.Q))},za.\u0275cmp=e.Xpm({type:za,selectors:[["attendance"]],decls:51,vars:9,consts:[[1,"page"],["class","row",4,"blockUI"],["type","button",1,"btn","btn-primary",2,"margin","50px","padding","10px","display","none",3,"click"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-16",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["formControlName","name",1,"form-control",3,"ngModelChange"],["value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","position","id","",1,"form-control"],["value","Receptionist"],["value","Bar"],["value","Security"],["formControlName","attendance","id","",1,"form-control"],["value","Present"],["value","Absent"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"col-md-12",2,"width","100%"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["type","text","id","myInput",1,"form-control",2,"width","350px",3,"keyup"],[1,"w-100"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],[1,"w-100",2,"float","right"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"table-responsive","table-bordered"],[3,"formGroup"],["type","date","formControlName","dates",1,"form-control",2,"width","auto",3,"ngModelChange"],["id","table",1,"table","m-0",2,"width","100%"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],["class","badge bg-danger",3,"click",4,"ngIf"],["class","badge bg-success",4,"ngIf"],[1,"badge","bg-danger",3,"click"],[1,"badge","bg-success"],[3,"value"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"],["type","button",1,"btn","btn-primary","btn-round",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Fs,47,13,"div",1),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return t.openPopup()}),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.TgZ(8,"i",7),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10),e._UZ(12,"div",11),e.TgZ(13,"div",12)(14,"form",13),e.NdJ("ngSubmit",function(){return t.addattendance(t.createForm.value)}),e.TgZ(15,"div",14)(16,"div",15)(17,"div",16)(18,"label"),e._uU(19,"Employee Name "),e.qZA(),e.TgZ(20,"select",17),e.NdJ("ngModelChange",function(){return t.fetchEmployee(t.employeeList[0].id)}),e.TgZ(21,"option",18),e._uU(22,"Select Employee"),e.qZA(),e.YNc(23,Rd,2,2,"option",19),e.qZA()()(),e.TgZ(24,"div",15)(25,"div",16)(26,"label"),e._uU(27," Position"),e.qZA(),e.TgZ(28,"select",20)(29,"option",18),e._uU(30,"Select Position"),e.qZA(),e.TgZ(31,"option",21),e._uU(32,"Receptionist"),e.qZA(),e.TgZ(33,"option",22),e._uU(34,"Bar"),e.qZA(),e.TgZ(35,"option",23),e._uU(36,"Security"),e.qZA()()()(),e.TgZ(37,"div",15)(38,"div",16)(39,"label"),e._uU(40," Attendance"),e.qZA(),e.TgZ(41,"select",24)(42,"option",18),e._uU(43,"Select Status"),e.qZA(),e.TgZ(44,"option",25),e._uU(45,"Present"),e.qZA(),e.TgZ(46,"option",26),e._uU(47,"Absent"),e.qZA()()()()(),e.TgZ(48,"div",14),e.YNc(49,Dd,3,0,"div",27),e.YNc(50,us,3,0,"div",27),e.qZA()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(2),e.Q6J("ngStyle",e.VKq(7,Zc,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.createForm),e.xp6(9),e.Q6J("ngForOf",t.employeeList),e.xp6(26),e.Q6J("ngIf","Add attendance"==t.header),e.xp6(1),e.Q6J("ngIf","Edit attendance"==t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU],styles:[".modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}.tip-card[_ngcontent-%COMP%]{padding:40px;display:flex;flex-direction:row;justify-content:space-around;.tip-msg {flex: 1;}}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:5px;text-align:left}.image[_ngcontent-%COMP%]{width:100%;clip-path:polygon(0 0,100% 0,100%,42%,0 23%)}.animated[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{transition:.3s ease-in-out;transform:scale(1.1)}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],za.prototype,"loading",void 0);const Bd=["pdfTable"];function js(c,n){if(1&c&&(e.TgZ(0,"td",275),e._uU(1),e.qZA()),2&c){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.status)}}function xc(c,n){if(1&c&&(e.TgZ(0,"td",276),e._uU(1),e.qZA()),2&c){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.status)}}function ar(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA(),e.YNc(25,js,2,1,"td",271),e.YNc(26,xc,2,1,"td",272),e.TgZ(27,"td")(28,"i",273),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.openPopup(C.id))}),e.qZA(),e.TgZ(29,"i",274),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.cancelReservation(C.id))}),e.qZA()()()}if(2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.children),e.xp6(2),e.Oqu(t.adult),e.xp6(2),e.Oqu(t.arrival),e.xp6(2),e.Oqu(t.departure),e.xp6(2),e.Oqu(t.room_type),e.xp6(2),e.Oqu(t.room_nmber),e.xp6(2),e.hij("GH\u20b5",t.price,""),e.xp6(2),e.Oqu(t.Payment_status),e.xp6(2),e.Oqu(t.created_date),e.xp6(1),e.Q6J("ngIf","pending"==t.status),e.xp6(1),e.Q6J("ngIf","success"==t.status)}}function zd(c,n){1&c&&e._uU(0,"First")}function Jd(c,n){1&c&&e._uU(0,"Last")}function Gd(c,n){1&c&&e._uU(0,"Prev")}function Hd(c,n){1&c&&e._uU(0,"Next")}function wi(c,n){1&c&&e._uU(0,"...")}function Zu(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function xu(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",8)(2,"div",248)(3,"div",249)(4,"div",250)(5,"div",251)(6,"div",252)(7,"input",253),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.myFunction())}),e.qZA()(),e._UZ(8,"div",254),e.qZA()(),e.TgZ(9,"div",255)(10,"button",256),e._uU(11," New reserve"),e.qZA(),e.TgZ(12,"table",257)(13,"thead",258)(14,"tr",259)(15,"th",260),e._uU(16,"Name"),e.qZA(),e.TgZ(17,"th",260),e._uU(18,"Email"),e.qZA(),e.TgZ(19,"th",260),e._uU(20,"Phone"),e.qZA(),e.TgZ(21,"th",260),e._uU(22,"Children"),e.qZA(),e.TgZ(23,"th",260),e._uU(24,"Adults"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Arrival"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Departure"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Room Type "),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Room No."),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Price"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"Status"),e.qZA(),e.TgZ(37,"th"),e._uU(38," Date"),e.qZA(),e.TgZ(39,"th"),e._uU(40,"Status"),e.qZA(),e.TgZ(41,"th",260),e._uU(42,"Actions"),e.qZA()()(),e.TgZ(43,"tbody"),e.YNc(44,ar,30,14,"tr",261),e.ALo(45,"slice"),e.qZA()()(),e.TgZ(46,"div",262)(47,"div",263)(48,"ngb-pagination",264),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(49,zd,1,0,"ng-template",265),e.YNc(50,Jd,1,0,"ng-template",266),e.YNc(51,Gd,1,0,"ng-template",267),e.YNc(52,Hd,1,0,"ng-template",268),e.YNc(53,wi,1,0,"ng-template",269),e.YNc(54,Zu,1,1,"ng-template",270),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(44),e.Q6J("ngForOf",e.Dn7(45,8,t.reserveList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.reserveList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function Ac(c,n){if(1&c&&(e.TgZ(0,"option",277),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.status),e.xp6(1),e.Oqu(t.status)}}function Yd(c,n){if(1&c&&(e.TgZ(0,"option",277),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.Payment_status),e.xp6(1),e.Oqu(t.Payment_status)}}function Tc(c,n){if(1&c&&(e.TgZ(0,"option",278),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.country),e.xp6(1),e.Oqu(t.country)}}function Kd(c,n){1&c&&(e.TgZ(0,"div",279)(1,"button",280),e._uU(2," Save"),e.qZA()())}const cs=function(c){return{display:c}};rr().vfs=Vo.I.vfs;class ds{constructor(n,t,s,p){this.guestService=n,this.toastr=t,this.fb=s,this.roomService=p,this.page=1,this.pageSize=10,this.openStyle="none",this.displayStyle="none",this.createForm=this.fb.group({id:["",b.kI.required],adult:["",b.kI.required],arrival:["",b.kI.required],departure:["",b.kI.required],children:["",b.kI.required],purpose:["",b.kI.required],room_type:["",b.kI.required],description:["",b.kI.required],email:["",b.kI.required],phone:["",b.kI.required],country:["",b.kI.required],price:["",b.kI.required],name:["",b.kI.required],status:["",b.kI.required],payment_status:["",b.kI.required],room_number:["",b.kI.required]})}ngOnInit(){this.getReservation()}getReservation(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.guestService.allReservation();t&&(n.reserveList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}myFunction(){var t,p,C,O;for(this.loading.start(),t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("myTable").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none",this.loading.stop())}openPopup(n){var t=this;return(0,Y.Z)(function*(){try{t.header="Edit Reservation",t.displayStyle="block";var s=yield t.guestService.get_reserve_for(n);t.reserveList=s,s&&t.createForm.patchValue({id:t.reserveList[0].id,adult:t.reserveList[0].adult,phone:t.reserveList[0].phone,arrival:t.reserveList[0].arrival,departure:t.reserveList[0].departure,children:t.reserveList[0].children,purpose:t.reserveList[0].purpose,room_type:t.reserveList[0].room_type,description:t.reserveList[0].description,country:t.reserveList[0].country,price:t.reserveList[0].price,name:t.reserveList[0].name,email:t.reserveList[0].email,status:t.reserveList[0].status,payment_status:t.reserveList[0].Payment_status,room_number:t.reserveList[0].room_nmber})}catch(p){console.log(p)}})()}UpdateReservation(n){var t=this;return(0,Y.Z)(function*(){const s={adult:n.adult,arrival:n.arrival,departure:n.departure,children:n.children,purpose:n.purpose,room_type:n.room_type,description:n.description,country:n.country,price:n.price,name:n.name,status:n.status,payment_status:n.payment_status,room_number:n.room_number,id:n.id,email:n.email,phone:n.phone};try{t.loading.start(),(yield t.guestService.updateReservation(s))&&t.closePopup(),t.getReservation()}catch(C){t.toastr.error(null,C.message)}finally{t.loading.stop()}})()}printReciept(n){var t=this;return(0,Y.Z)(function*(){t.openStyle="block";try{t.loading.start();var s=yield t.guestService.get_reserve_for(n);s&&(t.reserveList=s),t.header=(t.reserveList[0].payment_status="Pending")?"Invoice":"Receipt"}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}closePopup(){this.displayStyle="none",this.openStyle="none"}cancelReservation(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.cancelReservation(n))&&t.getReservation()}catch(p){t.toastr.error(null,p.message)}finally{t.loading.stop()}})()}downloadAsPDF(){new Mr.ZP;const t=this.pdfTable.nativeElement,p={content:Zl()(t.innerHTML)};rr().createPdf(p).open()}}function Wd(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"i",57),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.editTodo(C.id))}),e.qZA(),e.TgZ(11,"i",58),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.deleteTodo(C.id))}),e.qZA()()()}if(2&c){const t=n.$implicit;e.xp6(2),e.hij(" ",t.name,""),e.xp6(2),e.Oqu(t.position),e.xp6(2),e.Oqu(t.created_date),e.xp6(2),e.Oqu(t.created_by)}}function wc(c,n){1&c&&e._uU(0,"First")}function ma(c,n){1&c&&e._uU(0,"Last")}function wl(c,n){1&c&&e._uU(0,"Prev")}function Ja(c,n){1&c&&e._uU(0,"Next")}function Vd(c,n){1&c&&e._uU(0,"...")}function Qd(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function Rs(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",14)(2,"div",32)(3,"div",33)(4,"div",34)(5,"div",35)(6,"div",36)(7,"input",37),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.myFunction())}),e.qZA()(),e.TgZ(8,"div",38)(9,"button",39),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup())}),e._uU(10," New "),e.qZA()(),e.TgZ(11,"div",40)(12,"button",41),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.download())}),e._uU(13," Export "),e.qZA()()()(),e.TgZ(14,"div",42)(15,"table",43)(16,"thead",44)(17,"tr")(18,"td"),e._uU(19,"Todo List"),e.qZA()(),e.TgZ(20,"tr",45)(21,"th",46),e._uU(22,"Name"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Position"),e.qZA(),e.TgZ(25,"th",46),e._uU(26,"Created Date | Time"),e.qZA(),e.TgZ(27,"th",46),e._uU(28,"Created By"),e.qZA(),e.TgZ(29,"th",46),e._uU(30,"Actions"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,Wd,12,4,"tr",47),e.ALo(33,"slice"),e.qZA()()(),e.TgZ(34,"div",48)(35,"div",49)(36,"ngb-pagination",50),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(37,wc,1,0,"ng-template",51),e.YNc(38,ma,1,0,"ng-template",52),e.YNc(39,wl,1,0,"ng-template",53),e.YNc(40,Ja,1,0,"ng-template",54),e.YNc(41,Vd,1,0,"ng-template",55),e.YNc(42,Qd,1,1,"ng-template",56),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(32),e.Q6J("ngForOf",e.Dn7(33,8,t.todoList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.todoList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function $d(c,n){if(1&c&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.first_name+" "+t.last_name),e.xp6(1),e.hij(" ",t.first_name+" "+t.last_name,"")}}function Ds(c,n){1&c&&(e.TgZ(0,"div",60)(1,"button",61),e._uU(2," Save"),e.qZA()())}function Xd(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",60)(1,"button",62),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updateTodo(p.createForm.value))}),e._uU(2," Update"),e.qZA()()}}ds.\u0275fac=function(n){return new(n||ds)(e.Y36(ee.Q),e.Y36(me._W),e.Y36(b.qu),e.Y36(P.X))},ds.\u0275cmp=e.Xpm({type:ds,selectors:[["all-reservations"]],viewQuery:function(n,t){if(1&n&&e.Gf(Bd,5),2&n){let s;e.iGM(s=e.CRH())&&(t.pdfTable=s.first)}},decls:521,vars:13,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-16",2,"width","100%"],[1,"card","card-booking"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","name",1,"form-control"],["type","text","formControlName","email",1,"form-control"],["type","text","formControlName","phone",1,"form-control"],["type","text","disabled","","formControlName","room_type",1,"form-control"],[1,"col-md-3","px-1"],["type","number","formControlName","children",1,"form-control"],[1,"col-md-12"],["type","number","formControlName","adult",1,"form-control"],[1,"col-md-6","pl-1"],["type","date","formControlName","arrival",1,"form-control"],["type","date","formControlName","departure",1,"form-control"],["type","text","formControlName","purpose","placeholder","some description",1,"form-control"],["type","text","formControlName","room_number","placeholder","room 1,room 2",1,"form-control"],[1,"col-md-6","pr-1"],["formControlName","status",1,"form-control"],["value","","hidden","","selected",""],["selected","",3,"value",4,"ngFor","ngForOf"],["value","pending"],["value","success"],["value","cancelled"],["formControlName","payment_status",1,"form-control"],["value","","hidden",""],["data-val","true","data-val-number","The field Country must be a number.","data-val-","'Country' must not be empty.","id","PointOfContact_Country","formControlName","country",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["value","Afghanistan"],["value","Albania"],["value","Algeria"],["value","Andorra"],["value","Angola"],["value","Antigua and Barbuda"],["value","Argentina"],["value","7"],["value","Armenia"],["value","Australia"],["value","Austria"],["value","Azerbaijan"],["value","Bahamas"],["value","Bahrain"],["value","Bangladesh"],["value","Barbados"],["value","Belarus"],["value","Belgium"],["value","Belize"],["value","Benin"],["value","Bermuda"],["value","Bhutan"],["value","Bolivia"],["value","Bonaire Sint Eustatius and Saba"],["value","15"],["value","Bosnia and Herzegovina"],["value","Brazil"],["value","British Indian Ocean Territory"],["value","British Virgin Islands"],["value","Brunei Darussalam"],["value","Bulgaria"],["value","Burkina Faso"],["value","22"],["value","Burundi"],["value","Canada"],["value","Cape Verde"],["value","Cayman Islands"],["value","Central African Republic"],["value","Chad"],["value","Chile"],["value","China"],["value","Christmas Island"],["value","Cocos Islands"],["value","Colombia"],["value","Comoros"],["value",">Cook Islands"],["value","Costa Rica"],["value","Croatia"],["value","Cuba"],["value","Cyprus"],["value","Czech Republic"],["value","Democratic Republic of the Congo"],["value","Denmark"],["value","Djibouti"],["value","Dominica"],["value","Dominican Republic"],["value","East Caribbean"],["value","ast Timor"],["value",">Ecuador"],["value",">Egypt"],["value",">El Salvador"],["value","Equatorial Guinea"],["value","Eritrea"],["value","Estonia"],["value","Ethiopia"],["value","Faroe Islands Islands"],["value","Faroe Islands"],["value","64"],["value","Fiji"],["value","69"],["value","franc XAF Gabon"],["value","French Polynesia"],["value","Gambia"],["value","Georgia"],["value","51"],["value","Germany"],["value","Gibraltar"],["value","Greece"],["value","Greenland"],["value","Guadeloupe"],["value","Guam"],["value","Guatemala"],["value","Guernsey"],["value","Guinea"],["value","Guinea-Bissau"],["value","Guyana"],["value","Haiti"],["value","Honduras"],["value","Hong"],["value","Hungary"],["value","Iceland"],["selected","selected","value","India"],["value","Indonesia"],["value","Iran"],["value","Iraq"],["value","Ireland"],["value","Isle of Man"],["value","Israel"],["value","Italy"],["value","Jamaica"],["value","Japan"],["value","Jersey"],["value","Jordan"],["value","Kazakhstan"],["value","Kenya"],["value","Kiribati"],["value","Kosovo"],["value","Kuwait"],["value","Lebanon"],["value","Lesotho"],["value","Liberia"],["value","Libya"],["value","Madagascar"],["value","Malawi"],["value","Malaysia"],["value","Maldives"],["value","Mali"],["value","Malta"],["value","Mauritania"],["value","Mauritius"],["value","Mexico"],["value","Micronesia"],["value","Moldova"],["value","Monaco"],["value","Mongolia"],["value","Montenegro"],["value","Montserrat"],["value","Morocco"],["value","Mozambique"],["value","Myanmar"],["value","Namibia"],["value","Nauru"],["value","Nepal"],["value","Netherlands"],["value","New Zealand"],["value","Niger"],["value","Nigeria"],["value","North Korea"],["value","Norway"],["value","Oman"],["value","Pakistan"],["value","Palau"],["value","Palestinian Territory"],["value","Panama"],["value","Paraguay"],["value","Peru"],["value","Philippines"],["value","Pitcairn"],["value","Poland"],["value","Portugal"],["value","Qatar"],["value","Republic of the Congo"],["value","Reunion"],["value","Romania"],["value","Russia"],["value","Rwanda"],["value","Saint Barthelemy"],["value","Samoa"],["value","San Marino"],["value","udi Arabia"],["value","Senegal"],["value","Serbia"],["value","Seychelles"],["value","Singapore"],["value","Slovakia"],["value","Slovenia"],["value","Solomon Island"],["value","Somalia"],["value","South Africa"],["value","South Korea"],["value","South Sudan"],["value","Spain"],["value","Sri Lanka"],["value","Sudan"],["value","Suriname"],["value","Swaziland"],["value","Sweden"],["value","Switzerland"],["value","Syria"],["value","Taiwan"],["value","Tajikistan"],["value","Tanzania"],["value","Thailand"],["value","Togo"],["value","Tokelau"],["value","Tonga"],["value","Trinidad and Tobago"],["value","Tunisia"],["value","Turkey"],["value","Turkmenistan"],["value","Tuvalu"],["value","Uganda"],["value","Ukraine"],["value","United Arab Emirates"],["value","nited Kingdom"],["value","United States"],["value","nited States Minor Outlying Islands"],["value","Uruguay"],["value","Uzbekistan"],["value","Vanuatu"],["value","Vatican City"],["value","Venezuela"],["value","Vietnam"],["value","Wallis and Futuna"],["value","emen"],["value","Zambia"],["value","Zimbabwe"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["type","text","id","myInput",1,"form-control",2,"width","350px",3,"keyup"],[1,"w-100"],[1,"table-responsive"],["type","button","routerLink","/home/custom-reserve",1,"btn","btn-sm","btn-info",2,"float","right"],["id","myTable",1,"table","m-0",2,"width","100%"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],[1,"fa","fa-edit","fa-lg","text-primary",3,"click"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[1,"text-danger"],[1,"text-success"],["selected","",3,"value"],[3,"value"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,xu,55,12,"div",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"i",6),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"form",12),e.NdJ("ngSubmit",function(){return t.UpdateReservation(t.createForm.value)}),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"label"),e._uU(18,"Guest's NAME"),e.qZA(),e._UZ(19,"input",16),e.qZA()(),e.TgZ(20,"div",14)(21,"div",15)(22,"label"),e._uU(23,"Guest's Email"),e.qZA(),e._UZ(24,"input",17),e.qZA()(),e.TgZ(25,"div",14)(26,"div",15)(27,"label"),e._uU(28,"Guest's Phone No."),e.qZA(),e._UZ(29,"input",18),e.qZA()(),e.TgZ(30,"div",14)(31,"div",15)(32,"label"),e._uU(33," Room Type "),e.qZA(),e._UZ(34,"input",19),e.qZA()(),e.TgZ(35,"div",20)(36,"div",15)(37,"label"),e._uU(38,"Number of Children"),e.qZA(),e._UZ(39,"input",21),e.qZA()(),e.TgZ(40,"div",22)(41,"div",15)(42,"label"),e._uU(43,"Number of Adults"),e.qZA(),e._UZ(44,"input",23),e.qZA()()(),e.TgZ(45,"div",13)(46,"div",24)(47,"div",15)(48,"label"),e._uU(49,"Arrival Date"),e.qZA(),e._UZ(50,"input",25),e.qZA()(),e.TgZ(51,"div",24)(52,"div",15)(53,"label"),e._uU(54,"Departure Date"),e.qZA(),e._UZ(55,"input",26),e.qZA()()(),e.TgZ(56,"div",13)(57,"div",22)(58,"div",15)(59,"label"),e._uU(60,"Purpose Of Stay"),e.qZA(),e._UZ(61,"input",27),e.qZA()(),e.TgZ(62,"div",22)(63,"div",15)(64,"label"),e._uU(65,"Room Number(s)"),e.qZA(),e._UZ(66,"input",28),e.qZA()(),e.TgZ(67,"div",29)(68,"div",15)(69,"label"),e._uU(70,"Status"),e.qZA(),e.TgZ(71,"select",30)(72,"option",31),e._uU(73),e.qZA(),e.YNc(74,Ac,2,2,"option",32),e.TgZ(75,"option",33),e._uU(76,"Pending"),e.qZA(),e.TgZ(77,"option",34),e._uU(78,"Success"),e.qZA(),e.TgZ(79,"option",35),e._uU(80,"Cancelled"),e.qZA()()()(),e.TgZ(81,"div",29)(82,"div",15)(83,"label"),e._uU(84,"Payment Status"),e.qZA(),e.TgZ(85,"select",36)(86,"option",37),e._uU(87),e.qZA(),e.YNc(88,Yd,2,2,"option",32),e.TgZ(89,"option",33),e._uU(90,"Pending"),e.qZA(),e.TgZ(91,"option",34),e._uU(92,"Success"),e.qZA(),e.TgZ(93,"option",35),e._uU(94,"Cancelled"),e.qZA()()()(),e.TgZ(95,"div",29)(96,"div",15)(97,"label"),e._uU(98,"Country"),e.qZA(),e.TgZ(99,"select",38)(100,"option",31),e._uU(101),e.qZA(),e.YNc(102,Tc,2,2,"option",39),e.TgZ(103,"option",40),e._uU(104,"Afghanistan"),e.qZA(),e.TgZ(105,"option",41),e._uU(106,"Albania"),e.qZA(),e.TgZ(107,"option",42),e._uU(108,"Algeria"),e.qZA(),e.TgZ(109,"option",43),e._uU(110,"Andorra"),e.qZA(),e.TgZ(111,"option",44),e._uU(112,"Angola"),e.qZA(),e.TgZ(113,"option",45),e._uU(114,"Antigua and Barbuda"),e.qZA(),e.TgZ(115,"option",46),e._uU(116,"Argentina"),e.qZA(),e.TgZ(117,"option",47),e._uU(118,"Armenia"),e.qZA(),e.TgZ(119,"option",48),e._uU(120,"Aruba"),e.qZA(),e.TgZ(121,"option",49),e._uU(122,"Australia"),e.qZA(),e.TgZ(123,"option",50),e._uU(124,"Austria"),e.qZA(),e.TgZ(125,"option",51),e._uU(126,"Azerbaijan"),e.qZA(),e.TgZ(127,"option",52),e._uU(128,"Bahamas"),e.qZA(),e.TgZ(129,"option",53),e._uU(130,"Bahrain"),e.qZA(),e.TgZ(131,"option",54),e._uU(132,"Bangladesh"),e.qZA(),e.TgZ(133,"option",55),e._uU(134,"Barbados"),e.qZA(),e.TgZ(135,"option",56),e._uU(136,"Belarus"),e.qZA(),e.TgZ(137,"option",57),e._uU(138,"Belgium"),e.qZA(),e.TgZ(139,"option",58),e._uU(140,"Belize"),e.qZA(),e.TgZ(141,"option",59),e._uU(142,"Benin"),e.qZA(),e.TgZ(143,"option",60),e._uU(144,"Bermuda"),e.qZA(),e.TgZ(145,"option",61),e._uU(146,"Bhutan"),e.qZA(),e.TgZ(147,"option",62),e._uU(148,"Bolivia"),e.qZA(),e.TgZ(149,"option",63),e._uU(150,"Bonaire Sint Eustatius and Saba"),e.qZA(),e.TgZ(151,"option",64),e._uU(152,"Bosnia and Herzegovina"),e.qZA(),e.TgZ(153,"option",65),e._uU(154,"Botswana"),e.qZA(),e.TgZ(155,"option",66),e._uU(156,"Brazil"),e.qZA(),e.TgZ(157,"option",67),e._uU(158,"British Indian Ocean Territory"),e.qZA(),e.TgZ(159,"option",68),e._uU(160,"British Virgin Islands"),e.qZA(),e.TgZ(161,"option",69),e._uU(162,"Brunei Darussalam"),e.qZA(),e.TgZ(163,"option",70),e._uU(164,"Bulgaria"),e.qZA(),e.TgZ(165,"option",71),e._uU(166,"Burkina Faso"),e.qZA(),e.TgZ(167,"option",72),e._uU(168,"Burundi"),e.qZA(),e.TgZ(169,"option",73),e._uU(170,"Cambodia"),e.qZA(),e.TgZ(171,"option",74),e._uU(172,"Canada"),e.qZA(),e.TgZ(173,"option",75),e._uU(174,"Cape Verde"),e.qZA(),e.TgZ(175,"option",76),e._uU(176,"Cayman Islands"),e.qZA(),e.TgZ(177,"option",77),e._uU(178,"Central African Republic"),e.qZA(),e.TgZ(179,"option",78),e._uU(180,"Chad"),e.qZA(),e.TgZ(181,"option",79),e._uU(182,"Chile"),e.qZA(),e.TgZ(183,"option",80),e._uU(184,"China"),e.qZA(),e.TgZ(185,"option",81),e._uU(186,"Christmas Island"),e.qZA(),e.TgZ(187,"option",82),e._uU(188,"Cocos Islands"),e.qZA(),e.TgZ(189,"option",83),e._uU(190,"Colombia"),e.qZA(),e.TgZ(191,"option",84),e._uU(192,"Comoros"),e.qZA(),e.TgZ(193,"option",85),e._uU(194,"Cook Islands"),e.qZA(),e.TgZ(195,"option",86),e._uU(196,"Costa Rica"),e.qZA(),e.TgZ(197,"option",87),e._uU(198,"Croatia"),e.qZA(),e.TgZ(199,"option",88),e._uU(200,"Cuba"),e.qZA(),e.TgZ(201,"option",89),e._uU(202,"Cyprus"),e.qZA(),e.TgZ(203,"option",90),e._uU(204,"Czech Republic"),e.qZA(),e.TgZ(205,"option",91),e._uU(206,"Democratic Republic of the Congo"),e.qZA(),e.TgZ(207,"option",92),e._uU(208,"Denmark"),e.qZA(),e.TgZ(209,"option",93),e._uU(210,"Djibouti"),e.qZA(),e.TgZ(211,"option",94),e._uU(212,"Dominica"),e.qZA(),e.TgZ(213,"option",95),e._uU(214,"Dominican Republic"),e.qZA(),e.TgZ(215,"option",96),e._uU(216,"East Caribbean"),e.qZA(),e.TgZ(217,"option",97),e._uU(218,"East Timor"),e.qZA(),e.TgZ(219,"option",98),e._uU(220,"Ecuador"),e.qZA(),e.TgZ(221,"option",99),e._uU(222,"Egypt"),e.qZA(),e.TgZ(223,"option",100),e._uU(224,"El Salvador"),e.qZA(),e.TgZ(225,"option",101),e._uU(226,"Equatorial Guinea"),e.qZA(),e.TgZ(227,"option",102),e._uU(228,"Eritrea"),e.qZA(),e.TgZ(229,"option",103),e._uU(230,"Estonia"),e.qZA(),e.TgZ(231,"option",104),e._uU(232,"Ethiopia"),e.qZA(),e.TgZ(233,"option",105),e._uU(234,"Falkland Islands"),e.qZA(),e.TgZ(235,"option",106),e._uU(236,"Faroe Islands"),e.qZA(),e.TgZ(237,"option",107),e._uU(238,"Fiji"),e.qZA(),e.TgZ(239,"option",108),e._uU(240,"Finland"),e.qZA(),e.TgZ(241,"option",109),e._uU(242,"franc XAF Gabon"),e.qZA(),e.TgZ(243,"option",110),e._uU(244,"France"),e.qZA(),e.TgZ(245,"option",111),e._uU(246,"French Polynesia"),e.qZA(),e.TgZ(247,"option",112),e._uU(248,"Gambia"),e.qZA(),e.TgZ(249,"option",113),e._uU(250,"Georgia"),e.qZA(),e.TgZ(251,"option",114),e._uU(252,"Germany"),e.qZA(),e.TgZ(253,"option",115),e._uU(254,"Ghana"),e.qZA(),e.TgZ(255,"option",116),e._uU(256,"Gibraltar"),e.qZA(),e.TgZ(257,"option",117),e._uU(258,"Greece"),e.qZA(),e.TgZ(259,"option",118),e._uU(260,"Greenland"),e.qZA(),e.TgZ(261,"option",119),e._uU(262,"Grenada"),e.qZA(),e.TgZ(263,"option",119),e._uU(264,"Guadeloupe"),e.qZA(),e.TgZ(265,"option",120),e._uU(266,"Guam"),e.qZA(),e.TgZ(267,"option",121),e._uU(268,"Guatemala"),e.qZA(),e.TgZ(269,"option",122),e._uU(270,"Guernsey"),e.qZA(),e.TgZ(271,"option",123),e._uU(272,"Guinea"),e.qZA(),e.TgZ(273,"option",124),e._uU(274,"Guinea-Bissau"),e.qZA(),e.TgZ(275,"option",125),e._uU(276,"Guyana"),e.qZA(),e.TgZ(277,"option",126),e._uU(278,"Haiti"),e.qZA(),e.TgZ(279,"option",127),e._uU(280,"Honduras"),e.qZA(),e.TgZ(281,"option",128),e._uU(282,"Hong Kong"),e.qZA(),e.TgZ(283,"option",129),e._uU(284,"Hungary"),e.qZA(),e.TgZ(285,"option",130),e._uU(286,"Iceland"),e.qZA(),e.TgZ(287,"option",131),e._uU(288,"India"),e.qZA(),e.TgZ(289,"option",132),e._uU(290,"Indonesia"),e.qZA(),e.TgZ(291,"option",133),e._uU(292,"Iran"),e.qZA(),e.TgZ(293,"option",134),e._uU(294,"Iraq"),e.qZA(),e.TgZ(295,"option",135),e._uU(296,"Ireland"),e.qZA(),e.TgZ(297,"option",136),e._uU(298,"Isle of Man"),e.qZA(),e.TgZ(299,"option",137),e._uU(300,"Israel"),e.qZA(),e.TgZ(301,"option",138),e._uU(302,"Italy"),e.qZA(),e.TgZ(303,"option",139),e._uU(304,"Jamaica"),e.qZA(),e.TgZ(305,"option",140),e._uU(306,"Japan"),e.qZA(),e.TgZ(307,"option",141),e._uU(308,"Jersey"),e.qZA(),e.TgZ(309,"option",142),e._uU(310,"Jordan"),e.qZA(),e.TgZ(311,"option",143),e._uU(312,"Kazakhstan"),e.qZA(),e.TgZ(313,"option",144),e._uU(314,"Kenya"),e.qZA(),e.TgZ(315,"option",145),e._uU(316,"Kiribati"),e.qZA(),e.TgZ(317,"option",146),e._uU(318,"Kosovo"),e.qZA(),e.TgZ(319,"option",147),e._uU(320,"Kuwait"),e.qZA(),e.TgZ(321,"option",148),e._uU(322,"Lebanon"),e.qZA(),e.TgZ(323,"option",149),e._uU(324,"Lesotho"),e.qZA(),e.TgZ(325,"option",150),e._uU(326,"Liberia"),e.qZA(),e.TgZ(327,"option",151),e._uU(328,"Libya"),e.qZA(),e.TgZ(329,"option",152),e._uU(330,"Madagascar"),e.qZA(),e.TgZ(331,"option",153),e._uU(332,"Malawi"),e.qZA(),e.TgZ(333,"option",154),e._uU(334,"Malaysia"),e.qZA(),e.TgZ(335,"option",155),e._uU(336,"Maldives"),e.qZA(),e.TgZ(337,"option",156),e._uU(338,"Mali"),e.qZA(),e.TgZ(339,"option",157),e._uU(340,"Malta"),e.qZA(),e.TgZ(341,"option",158),e._uU(342,"Mauritania"),e.qZA(),e.TgZ(343,"option",159),e._uU(344,"Mauritius"),e.qZA(),e.TgZ(345,"option",160),e._uU(346,"Mexico"),e.qZA(),e.TgZ(347,"option",161),e._uU(348,"Micronesia"),e.qZA(),e.TgZ(349,"option",162),e._uU(350,"Moldova"),e.qZA(),e.TgZ(351,"option",163),e._uU(352,"Monaco"),e.qZA(),e.TgZ(353,"option",164),e._uU(354,"Mongolia"),e.qZA(),e.TgZ(355,"option",165),e._uU(356,"Montenegro"),e.qZA(),e.TgZ(357,"option",166),e._uU(358,"Montserrat"),e.qZA(),e.TgZ(359,"option",167),e._uU(360,"Morocco"),e.qZA(),e.TgZ(361,"option",168),e._uU(362,"Mozambique"),e.qZA(),e.TgZ(363,"option",169),e._uU(364,"Myanmar"),e.qZA(),e.TgZ(365,"option",170),e._uU(366,"Namibia"),e.qZA(),e.TgZ(367,"option",171),e._uU(368,"Nauru"),e.qZA(),e.TgZ(369,"option",172),e._uU(370,"Nepal"),e.qZA(),e.TgZ(371,"option",173),e._uU(372,"Netherlands"),e.qZA(),e.TgZ(373,"option",174),e._uU(374,"New Zealand"),e.qZA(),e.TgZ(375,"option",175),e._uU(376,"Niger"),e.qZA(),e.TgZ(377,"option",176),e._uU(378,"Nigeria"),e.qZA(),e.TgZ(379,"option",177),e._uU(380,"North Korea"),e.qZA(),e.TgZ(381,"option",178),e._uU(382,"Norway"),e.qZA(),e.TgZ(383,"option",179),e._uU(384,"Oman"),e.qZA(),e.TgZ(385,"option",180),e._uU(386,"Pakistan"),e.qZA(),e.TgZ(387,"option",181),e._uU(388,"Palau"),e.qZA(),e.TgZ(389,"option",182),e._uU(390,"Palestinian Territory"),e.qZA(),e.TgZ(391,"option",183),e._uU(392,"Panama"),e.qZA(),e.TgZ(393,"option",184),e._uU(394,"Paraguay"),e.qZA(),e.TgZ(395,"option",185),e._uU(396,"Peru"),e.qZA(),e.TgZ(397,"option",186),e._uU(398,"Philippines"),e.qZA(),e.TgZ(399,"option",187),e._uU(400,"Pitcairn"),e.qZA(),e.TgZ(401,"option",188),e._uU(402,"Poland"),e.qZA(),e.TgZ(403,"option",189),e._uU(404,"Portugal"),e.qZA(),e.TgZ(405,"option",190),e._uU(406,"Qatar"),e.qZA(),e.TgZ(407,"option",191),e._uU(408,"Republic of the Congo"),e.qZA(),e.TgZ(409,"option",192),e._uU(410,"Reunion"),e.qZA(),e.TgZ(411,"option",193),e._uU(412,"Romania"),e.qZA(),e.TgZ(413,"option",194),e._uU(414,"Russia"),e.qZA(),e.TgZ(415,"option",195),e._uU(416,"Rwanda"),e.qZA(),e.TgZ(417,"option",196),e._uU(418,"Saint Barthelemy"),e.qZA(),e.TgZ(419,"option",197),e._uU(420,"Samoa"),e.qZA(),e.TgZ(421,"option",198),e._uU(422,"San Marino"),e.qZA(),e.TgZ(423,"option",199),e._uU(424,"Saudi Arabia"),e.qZA(),e.TgZ(425,"option",200),e._uU(426,"Senegal"),e.qZA(),e.TgZ(427,"option",201),e._uU(428,"Serbia"),e.qZA(),e.TgZ(429,"option",202),e._uU(430,"Seychelles"),e.qZA(),e.TgZ(431,"option",203),e._uU(432,"Singapore"),e.qZA(),e.TgZ(433,"option",204),e._uU(434,"Slovakia"),e.qZA(),e.TgZ(435,"option",205),e._uU(436,"Slovenia"),e.qZA(),e.TgZ(437,"option",206),e._uU(438,"Solomon Islands"),e.qZA(),e.TgZ(439,"option",207),e._uU(440,"Somalia"),e.qZA(),e.TgZ(441,"option",208),e._uU(442,"South Africa"),e.qZA(),e.TgZ(443,"option",209),e._uU(444,"South Korea"),e.qZA(),e.TgZ(445,"option",210),e._uU(446,"South Sudan"),e.qZA(),e.TgZ(447,"option",211),e._uU(448,"Spain"),e.qZA(),e.TgZ(449,"option",212),e._uU(450,"Sri Lanka"),e.qZA(),e.TgZ(451,"option",213),e._uU(452,"Sudan"),e.qZA(),e.TgZ(453,"option",214),e._uU(454,"Suriname"),e.qZA(),e.TgZ(455,"option",215),e._uU(456,"Swaziland"),e.qZA(),e.TgZ(457,"option",216),e._uU(458,"Sweden"),e.qZA(),e.TgZ(459,"option",217),e._uU(460,"Switzerland"),e.qZA(),e.TgZ(461,"option",218),e._uU(462,"Syria"),e.qZA(),e.TgZ(463,"option",219),e._uU(464,"Taiwan"),e.qZA(),e.TgZ(465,"option",220),e._uU(466,"Tajikistan"),e.qZA(),e.TgZ(467,"option",221),e._uU(468,"Tanzania"),e.qZA(),e.TgZ(469,"option",222),e._uU(470,"Thailand"),e.qZA(),e.TgZ(471,"option",223),e._uU(472,"Togo"),e.qZA(),e.TgZ(473,"option",224),e._uU(474,"Tokelau"),e.qZA(),e.TgZ(475,"option",225),e._uU(476,"Tonga"),e.qZA(),e.TgZ(477,"option",226),e._uU(478,"Trinidad and Tobago"),e.qZA(),e.TgZ(479,"option",227),e._uU(480,"Tunisia"),e.qZA(),e.TgZ(481,"option",228),e._uU(482,"Turkey"),e.qZA(),e.TgZ(483,"option",229),e._uU(484,"Turkmenistan"),e.qZA(),e.TgZ(485,"option",230),e._uU(486,"Tuvalu"),e.qZA(),e.TgZ(487,"option",231),e._uU(488,"Uganda"),e.qZA(),e.TgZ(489,"option",232),e._uU(490,"Ukraine"),e.qZA(),e.TgZ(491,"option",233),e._uU(492,"United Arab Emirates"),e.qZA(),e.TgZ(493,"option",234),e._uU(494,"United Kingdom"),e.qZA(),e.TgZ(495,"option",235),e._uU(496,"United States"),e.qZA(),e.TgZ(497,"option",236),e._uU(498,"United States Minor Outlying Islands"),e.qZA(),e.TgZ(499,"option",237),e._uU(500,"Uruguay"),e.qZA(),e.TgZ(501,"option",238),e._uU(502,"Uzbekistan"),e.qZA(),e.TgZ(503,"option",239),e._uU(504,"Vanuatu"),e.qZA(),e.TgZ(505,"option",240),e._uU(506,"Vatican City"),e.qZA(),e.TgZ(507,"option",241),e._uU(508,"Venezuela"),e.qZA(),e.TgZ(509,"option",242),e._uU(510,"Vietnam"),e.qZA(),e.TgZ(511,"option",243),e._uU(512,"Wallis and Futuna"),e.qZA(),e.TgZ(513,"option",244),e._uU(514,"Yemen"),e.qZA(),e.TgZ(515,"option",245),e._uU(516,"Zambia"),e.qZA(),e.TgZ(517,"option",246),e._uU(518,"Zimbabwe"),e.qZA()()()()(),e.TgZ(519,"div",13),e.YNc(520,Kd,3,0,"div",247),e.qZA()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(11,cs,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.createForm),e.xp6(60),e.Oqu(t.reserveList[0].status),e.xp6(1),e.Q6J("ngForOf",t.reserveList),e.xp6(13),e.Oqu(t.reserveList[0].Payment_status),e.xp6(1),e.Q6J("ngForOf",t.reserveList),e.xp6(13),e.Oqu(t.reserveList[0].country),e.xp6(1),e.Q6J("ngForOf",t.reserveList),e.xp6(418),e.Q6J("ngIf","Edit Reservation"==t.header))},dependencies:[Gt.rH,be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.wV,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU],styles:[".modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],ds.prototype,"loading",void 0);const Cc=function(c){return{display:c}};class Ga{constructor(n,t,s,p){this.router=n,this.fb=t,this.toastr=s,this.employeeService=p,this.displayStyle="none",this.submitted=!1,this.title="Create Ad",this.isNew=!0,this.post=!0,this.update=!1,this.page=1,this.pageSize=10,this.createForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],description:["",b.kI.required],position:["",b.kI.required]})}ngOnInit(){this.getEmployee(),this.getAttendance(),this.getTodo()}openPopup(){this.header="Add Todo",this.displayStyle="block"}closePopup(){this.displayStyle="none"}getTodo(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.employeeService.getTodo();t&&(n.todoList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}getAttendance(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.employeeService.getAttendance();t&&(n.attendanceList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}getEmployee(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.employeeService.getemployees();t&&(n.employeeList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}addTodo(n){var t=this;return(0,Y.Z)(function*(){const s={name:n.name,attendance:n.attendance,position:n.position,description:n.description};try{t.loading.start(),(yield t.employeeService.AddTodo(s))&&t.toastr.success(null,"Attendance successfully added"),t.closePopup(),t.getTodo()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}fetchEmployee(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start();var s=yield t.employeeService.getEmployee(n);s&&(t.emmp_info=s),t.createForm.patchValue({position:t.emmp_info[0].position})}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}editTodo(n){var t=this;return(0,Y.Z)(function*(){t.header="Edit Todo",t.displayStyle="block";try{t.loading.start(),t.emmp_info=yield t.employeeService.getTodoDetails(n),t.emmp_info&&t.createForm.patchValue({id:t.emmp_info[0].id,name:t.emmp_info[0].name,position:t.emmp_info[0].position,description:t.emmp_info[0].description})}catch(s){t.toastr.error(null,s)}finally{t.loading.stop()}})()}updateTodo(n){var t=this;return(0,Y.Z)(function*(){const s={id:n.id,name:n.name,attendance:n.attendance,position:n.position,description:n.description};try{t.loading.start(),(yield t.employeeService.updateTodo(s))&&t.closePopup(),t.getTodo()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}deleteTodo(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.employeeService.deleteTodo(n))&&t.getTodo()}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}myFunction(){var t,p,C,O;for(this.loading.start(),t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("table").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none",this.loading.stop())}}Ga.\u0275fac=function(n){return new(n||Ga)(e.Y36(Gt.F0),e.Y36(b.qu),e.Y36(me._W),e.Y36(ji))},Ga.\u0275cmp=e.Xpm({type:Ga,selectors:[["todo-list"]],decls:53,vars:9,consts:[[1,"page"],["routerLink","/employees",1,"col-md-3","animated","fadeIn",2,"width","30%","height","50%","float","right"],["src","../../../assets//img/default-avatar.png","alt","room",1,"image"],[1,"card","card-block","tip-card"],[1,"tip-msg"],["routerLink","/employees",1,"fa","fa-check-circle","fa-fw","fa-2x","text-success"],["class","row",4,"blockUI"],["type","button",1,"btn","btn-primary",2,"margin","50px","padding","10px","display","none",3,"click"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-16",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["formControlName","name",1,"form-control",3,"ngModelChange"],["value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","position","id","",1,"form-control"],["value","Receptionist"],["value","Security"],["value","Bar"],[1,"col-md-12"],["type","text","formControlName","description",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["type","text","id","myInput",1,"form-control",2,"width","350px",3,"keyup"],[1,"w-100"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],[1,"w-100",2,"float","right"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"table-responsive"],["id","table",1,"table","m-0",2,"width","100%"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"fa","fa-edit","fa-2x","text-info",3,"click"],[1,"fa","fa-close","fa-2x","text-danger",3,"click"],[3,"value"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"],["type","button",1,"btn","btn-primary","btn-round",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.TgZ(3,"div",3)(4,"div",4)(5,"h3"),e._uU(6,"Add Employee"),e.qZA(),e._UZ(7,"span"),e.qZA(),e._UZ(8,"i",5),e.qZA()(),e.YNc(9,Rs,43,12,"div",6),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return t.openPopup()}),e.qZA(),e.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11),e._uU(15),e.TgZ(16,"i",12),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(17,"div",13)(18,"div",14)(19,"div",15),e._UZ(20,"div",16),e.TgZ(21,"div",17)(22,"form",18),e.NdJ("ngSubmit",function(){return t.addTodo(t.createForm.value)}),e.TgZ(23,"div",19)(24,"div",20)(25,"div",21)(26,"label"),e._uU(27,"Employee Name "),e.qZA(),e.TgZ(28,"select",22),e.NdJ("ngModelChange",function(){return t.fetchEmployee(t.employeeList[0].id)}),e.TgZ(29,"option",23),e._uU(30,"Select Employee"),e.qZA(),e.YNc(31,$d,2,2,"option",24),e.qZA()()(),e.TgZ(32,"div",20)(33,"div",21)(34,"label"),e._uU(35," Position"),e.qZA(),e.TgZ(36,"select",25)(37,"option",23),e._uU(38,"Select Position"),e.qZA(),e.TgZ(39,"option",26),e._uU(40,"Receptionist"),e.qZA(),e.TgZ(41,"option",27),e._uU(42,"Security"),e.qZA(),e.TgZ(43,"option",28),e._uU(44,"Bar"),e.qZA()()()(),e.TgZ(45,"div",29)(46,"div",21)(47,"label"),e._uU(48,"Description"),e.qZA(),e._UZ(49,"input",30),e.qZA()()(),e.TgZ(50,"div",19),e.YNc(51,Ds,3,0,"div",31),e.YNc(52,Xd,3,0,"div",31),e.qZA()()()()()()()()()),2&n&&(e.xp6(9),e.Q6J("blockUI","loading"),e.xp6(2),e.Q6J("ngStyle",e.VKq(7,Cc,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.createForm),e.xp6(9),e.Q6J("ngForOf",t.employeeList),e.xp6(20),e.Q6J("ngIf","Add Todo"==t.header),e.xp6(1),e.Q6J("ngIf","Edit Todo"==t.header))},dependencies:[Gt.rH,be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU],styles:[".modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Ga.prototype,"loading",void 0);var qc=cn(3705);function Uc(c,n){if(1&c&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.Q6J("value",t.first_name+" "+t.last_name),e.xp6(1),e.hij(" ",t.first_name+" "+t.last_name," ")}}function ep(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"input",44),e.NdJ("click",function(p){const O=e.CHM(t).$implicit,qe=e.oxw(2);return e.KtG(qe.switchClicked(p,O))}),e.qZA()(),e.TgZ(3,"td")(4,"select",45)(5,"option",46),e._uU(6),e.qZA()()(),e.TgZ(7,"td")(8,"select",47)(9,"option",46),e._uU(10),e.qZA()()(),e.TgZ(11,"td")(12,"select",48)(13,"option",24),e._uU(14,"Clean"),e.qZA(),e.TgZ(15,"option",25),e._uU(16,"Dirty"),e.qZA()()(),e.TgZ(17,"td")(18,"select",19)(19,"option",21),e._uU(20,"Occupied"),e.qZA(),e.TgZ(21,"option",20),e._uU(22,"Available"),e.qZA()()(),e.TgZ(23,"td"),e._uU(24),e.qZA(),e.TgZ(25,"td")(26,"select",49)(27,"option",50),e._uU(28),e.qZA(),e.YNc(29,Uc,2,2,"option",51),e.qZA()(),e.TgZ(30,"td")(31,"select",52)(32,"option",53),e._uU(33,"Cleaning"),e.qZA(),e.TgZ(34,"option",54),e._uU(35,"Ironing"),e.qZA(),e.TgZ(36,"option",55),e._uU(37,"Laundry"),e.qZA(),e.TgZ(38,"option",56),e._uU(39,"Errand"),e.qZA()()()()}if(2&c){const t=n.$implicit,s=e.oxw(2);e.xp6(6),e.Oqu(t.room_number),e.xp6(4),e.Oqu(t.room_type),e.xp6(14),e.Oqu(t.occupied_by),e.xp6(4),e.Oqu(t.assignee),e.xp6(1),e.Q6J("ngForOf",s.employeeList)}}function ps(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h5",4),e._uU(4,"Search Room"),e.qZA()(),e.TgZ(5,"div",5)(6,"form",6),e.NdJ("ngSubmit",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchHouse(p.searchForm.value))}),e.TgZ(7,"div",7)(8,"div",8)(9,"label",9),e._uU(10,"Room Type"),e.qZA(),e._UZ(11,"input",10),e.qZA(),e.TgZ(12,"div",8)(13,"label",11),e._uU(14,"Room Number"),e.qZA(),e._UZ(15,"input",12),e.qZA(),e.TgZ(16,"div",8)(17,"label",13),e._uU(18,"Condition"),e.qZA(),e.TgZ(19,"select",14)(20,"option",15),e._uU(21,"Inhouse"),e.qZA(),e.TgZ(22,"option",16),e._uU(23,"Vacant"),e.qZA()()()(),e.TgZ(24,"div",17)(25,"div",8)(26,"label",18),e._uU(27,"Room Status"),e.qZA(),e.TgZ(28,"select",19)(29,"option",20),e._uU(30,"Available"),e.qZA(),e.TgZ(31,"option",21),e._uU(32,"Occupied"),e.qZA()()(),e.TgZ(33,"div",8)(34,"label",22),e._uU(35,"Housekeeping State"),e.qZA(),e.TgZ(36,"select",23)(37,"option",24),e._uU(38,"Clean"),e.qZA(),e.TgZ(39,"option",25),e._uU(40,"Dirty"),e.qZA()()()(),e.TgZ(41,"div",26)(42,"button",27),e._uU(43,"Search"),e.qZA()()()()(),e.TgZ(44,"div",2)(45,"div",28)(46,"h5",4),e._uU(47,"Manage Rooms"),e.qZA()(),e.TgZ(48,"div",5)(49,"form",6),e.NdJ("ngSubmit",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updateHouse(p.createForm.value))}),e.TgZ(50,"div",29)(51,"table",30)(52,"thead",31)(53,"tr")(54,"th"),e._uU(55,"Select"),e.qZA(),e.TgZ(56,"th"),e._uU(57,"Room"),e.qZA(),e.TgZ(58,"th"),e._uU(59,"Room Type"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"Housekeeping State"),e.qZA(),e.TgZ(62,"th"),e._uU(63,"Occupancy State"),e.qZA(),e.TgZ(64,"th"),e._uU(65,"Reservation/Guest"),e.qZA(),e.TgZ(66,"th"),e._uU(67,"Assignee"),e.qZA(),e.TgZ(68,"th"),e._uU(69,"Task"),e.qZA()()(),e.TgZ(70,"tbody"),e.YNc(71,ep,40,5,"tr",32),e.qZA()()(),e.TgZ(72,"div",26)(73,"button",27),e._uU(74,"Save"),e.qZA()()()()(),e.TgZ(75,"div",33)(76,"div",34)(77,"div",35)(78,"div",36)(79,"h5",37),e._uU(80,"Add New Task"),e.qZA(),e._UZ(81,"button",38),e.qZA(),e.TgZ(82,"div",39)(83,"form",6),e.NdJ("ngSubmit",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.addTask(p.createForm.value))}),e.TgZ(84,"div",40)(85,"label",41),e._uU(86,"Task Name"),e.qZA(),e._UZ(87,"input",42),e.qZA(),e.TgZ(88,"button",43),e._uU(89,"Add"),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(6),e.Q6J("formGroup",t.searchForm),e.xp6(43),e.Q6J("formGroup",t.createForm),e.xp6(22),e.Q6J("ngForOf",t.roomList),e.xp6(12),e.Q6J("formGroup",t.createForm)}}class Jn{constructor(n,t,s,p,C,O,qe){this.roomService=n,this.router=t,this.employeeService=s,this.fb=p,this.toastr=C,this.route=O,this.cartService=qe,this.submitted=!1,this.find=!1,this.to_list=[],this.product=[],this.checking=!1,this.totalItem=0}ngOnInit(){this.getRooms(),this.getEmployee(),this.cartService.cartItems$.subscribe(n=>{}),this.createForm=this.fb.group({task_name:["",b.kI.required]}),this.createForm=this.fb.group({status_r:["",b.kI.required],room_number:["",b.kI.required],room_type:["",b.kI.required],occupancy_state:["",b.kI.required],maintanace_state:["",b.kI.required],assignee:["",b.kI.required],task_get:["",b.kI.required]}),this.searchForm=this.fb.group({status:["",b.kI.required],room_number:["",b.kI.required],room_type:["",b.kI.required],occupancy_state:["",b.kI.required]})}getRooms(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.roomService.getrooms();t&&(n.roomList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}getEmployee(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.employeeService.getemployees();t&&(n.employeeList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}addTask(n){}searchHouse(n){var t=this;return(0,Y.Z)(function*(){const s={room_number:n.room_number,room_type:n.room_type,status:n.status,occupancy_state:n.occupancy_state};try{t.loading.start();var p=yield t.roomService.searchHouse(s);p&&(t.roomList=p)}catch(C){t.toastr.error(null,C.message)}finally{t.loading.stop()}})()}updateHouse(n){var t=this;return(0,Y.Z)(function*(){t.submitted=!0;for(let C=0;C<t.product.length;C++){t.to_list=t.product[C],t.product[C].status_r=n.status_r,t.product[C].assignee=n.assignee,t.product[C].task=n.task_get,t.product[C].occupancy_state=n.occupancy_state,t.product[C].maintanace_state=n.maintanace_state;try{t.loading.start(),yield t.roomService.updateHouse(t.product)}catch(O){t.toastr.error(null,O.mesage)}finally{t.loading.stop()}}})()}switchClicked(n,t){this.checked=n.srcElement.checked,null!=this.checked&&1==this.checked&&console.log(t)}}function Bs(c,n){if(1&c&&(e.TgZ(0,"td")(1,"span",35),e._uU(2),e.qZA()()),2&c){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.status)}}function jr(c,n){if(1&c&&(e.TgZ(0,"td")(1,"span",36),e._uU(2),e.qZA()()),2&c){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.status)}}function Au(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"span",37),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.approveRefund(p.id))}),e._UZ(1,"i",38),e._uU(2,"Approve"),e.qZA()}}function Sc(c,n){1&c&&(e.TgZ(0,"span",39),e._UZ(1,"i",40),e._uU(2," Approved"),e.qZA())}function Di(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.YNc(11,Bs,3,1,"td",32),e.YNc(12,jr,3,1,"td",32),e.TgZ(13,"td"),e.YNc(14,Au,3,0,"span",33),e.YNc(15,Sc,3,0,"span",34),e.qZA()()),2&c){const t=n.$implicit,s=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij("",t.refund_amount,".00"),e.xp6(2),e.Oqu(t.authorized_by),e.xp6(2),e.Oqu(t.reason),e.xp6(2),e.Oqu(t.refund_time),e.xp6(1),e.Q6J("ngIf","pending"==t.status),e.xp6(1),e.Q6J("ngIf","success"==t.status),e.xp6(2),e.Q6J("ngIf","admin"==s.user[0].roles&&"pending"==s.refundList[0].status),e.xp6(1),e.Q6J("ngIf","admin"==s.user[0].roles&&"success"==s.refundList[0].status)}}function vr(c,n){1&c&&e._uU(0,"First")}function tp(c,n){1&c&&e._uU(0,"Last")}function kc(c,n){1&c&&e._uU(0,"Prev")}function np(c,n){1&c&&e._uU(0,"Next")}function op(c,n){1&c&&e._uU(0,"...")}function ip(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function Cl(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"input",9),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.myFunction())}),e.qZA(),e._UZ(8,"form",10),e.qZA(),e._UZ(9,"div",11),e.qZA()(),e.TgZ(10,"div",12)(11,"form",10)(12,"input",13),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()(),e.TgZ(13,"div",14)(14,"button",15),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.navigate())}),e._uU(15," New Refund"),e.qZA(),e.TgZ(16,"button",16),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportexcel())}),e._UZ(17,"i",17),e._uU(18," Export Excel"),e.qZA()(),e.TgZ(19,"table",18)(20,"thead",19)(21,"tr",20)(22,"th",21),e._uU(23,"Name"),e.qZA(),e.TgZ(24,"th",21),e._uU(25,"Amount"),e.qZA(),e.TgZ(26,"th",21),e._uU(27,"authorized_by"),e.qZA(),e.TgZ(28,"th",21),e._uU(29,"Reason"),e.qZA(),e.TgZ(30,"th",21),e._uU(31,"Date | Time"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Status"),e.qZA(),e.TgZ(34,"th",21),e._uU(35,"Actions"),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,Di,16,9,"tr",22),e.ALo(38,"slice"),e.qZA()()(),e.TgZ(39,"div",23)(40,"div",24)(41,"ngb-pagination",25),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(42,vr,1,0,"ng-template",26),e.YNc(43,tp,1,0,"ng-template",27),e.YNc(44,kc,1,0,"ng-template",28),e.YNc(45,np,1,0,"ng-template",29),e.YNc(46,op,1,0,"ng-template",30),e.YNc(47,ip,1,1,"ng-template",31),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(8),e.Q6J("formGroup",t.paymentForm),e.xp6(3),e.Q6J("formGroup",t.refundForm),e.xp6(26),e.Q6J("ngForOf",e.Dn7(38,10,t.refundList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.refundList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}Jn.\u0275fac=function(n){return new(n||Jn)(e.Y36(P.X),e.Y36(Gt.F0),e.Y36(ji),e.Y36(b.qu),e.Y36(me._W),e.Y36(Gt.gz),e.Y36(qc.N))},Jn.\u0275cmp=e.Xpm({type:Jn,selectors:[["house-keeping"]],decls:1,vars:1,consts:[["class","container",4,"blockUI"],[1,"container"],[1,"card","my-4"],[1,"card-header","bg-primary","text-white"],[1,"card-title"],[1,"card-body","bg-light"],["type","multipart/form-data",3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-md-4"],["for","room_type",1,"form-label"],["type","text","formControlName","room_type","placeholder","Enter room type",1,"form-control"],["for","room_number",1,"form-label"],["type","number","formControlName","room_number","placeholder","Enter room number",1,"form-control"],["for","condition",1,"form-label"],["formControlName","condition",1,"form-control"],["value","inhouse"],["value","vacant"],[1,"row","g-3","mt-3"],["for","room_status",1,"form-label"],["formControlName","occupancy_state",1,"form-control"],["value","available"],["value","occupied"],["for","housekeeping_state",1,"form-label"],["formControlName","status",1,"form-control"],["value","clean"],["value","dirty"],[1,"d-flex","justify-content-end","mt-4"],["type","submit",1,"btn","btn-info"],[1,"card-header","bg-success","text-white"],[1,"table-responsive"],[1,"table","table-striped","align-middle"],[1,"table-dark"],[4,"ngFor","ngForOf"],["id","myModal","tabindex","-1","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-secondary","text-white"],["id","myModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","task_name",1,"form-label"],["type","text","formControlName","task_name",1,"form-control"],["type","submit",1,"btn","btn-success"],["type","checkbox",3,"click"],["formControlName","room_number",1,"form-control"],["value","","hidden",""],["formControlName","room_type",1,"form-control"],["formControlName","status_r",1,"form-control"],["formControlName","assignee",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","task_get",1,"form-control"],["value","cleaning"],["value","ironing"],["value","laundry"],["value","errand"],[3,"value"]],template:function(n,t){1&n&&e.YNc(0,ps,90,4,"div",0),2&n&&e.Q6J("blockUI","loading")},dependencies:[be.sg,b._Y,b.YN,b.Kr,b.Fj,b.wV,b.EJ,b.JJ,b.JL,b.sg,b.u,ae.PC]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Jn.prototype,"loading",void 0),rr().vfs=Vo.I.vfs;class Ha{constructor(n,t,s,p,C,O,qe){this.fb=n,this.roomService=t,this.toastr=s,this.router=p,this.paymentService=C,this.guestService=O,this.userService=qe,this.fileName="Booking_Payments.xlsx",this.page=1,this.pageSize=10,this.displayStyle="none",this.refundForm=this.fb.group({id:["",b.kI.required],payment_id:["",b.kI.required],name:["",b.kI.required],reason:["",b.kI.required],description:["",b.kI.required],authorized_by:["",b.kI.required],refund_amount:["",b.kI.required],dates:["",b.kI.required]})}ngOnInit(){this.getRefund(),this.getUser()}openPopup(){this.header="Add Payment",this.displayStyle="block"}closePopup(){this.displayStyle="none"}getRefund(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.paymentService.getRefund();t&&(n.refundList=t);let s=0;for(let p=0;p<n.refundList.length;p++)s+=parseInt(n.refundList[p].refund_amount),n.totalAmount=s}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}exportexcel(){let n=document.getElementById("excel-table");const t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,this.fileName)}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){const t={date:n.refundForm.value.dates};try{n.loading.start();var s=yield n.paymentService.searchRefundDates(t);s&&(n.refundList=s);let p=0;for(let C=0;C<n.refundList.length;C++)p+=parseInt(n.refundList[C].refund_amount),n.totalAmount=p,console.log(p)}catch(p){n.toastr.error(null,p.message)}finally{n.loading.stop()}})()}navigate(){this.router.navigate(["/payment"])}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}approveRefund(n){var t=this;return(0,Y.Z)(function*(){const s={id:n};try{t.loading.start(),(yield t.paymentService.updateRefund(s))&&t.getRefund()}catch(p){t.toastr.error(p?.message||"An unexpected error occurred. Please try again later.","Refund Approval Failed")}finally{t.loading.stop()}})()}}function rp(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij("GH\u20b5",t.amount,""),e.xp6(2),e.Oqu(t.attendant),e.xp6(2),e.Oqu(t.cashier),e.xp6(2),e.Oqu(t.method)}}function ql(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA()()),2&c){const t=n.$implicit,s=e.oxw().$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.qty),e.xp6(2),e.hij("GH\u20b5",t.price,""),e.xp6(2),e.hij("GH\u20b5",t.qty*t.price,""),e.xp6(2),e.Oqu(s.waiter),e.xp6(2),e.Oqu(s.food_confirm),e.xp6(2),e.Oqu(s.food_confirm_at),e.xp6(2),e.Oqu(s.drink_confirm),e.xp6(2),e.Oqu(s.drink_confirm_at),e.xp6(2),e.Oqu(s.created_at),e.xp6(2),e.Oqu(s.status)}}function Tu(c,n){if(1&c&&(e.ynx(0),e.YNc(1,ql,23,11,"tr",21),e.BQk()),2&c){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t.items)}}function wu(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"strong"),e._uU(7),e.qZA()()()),2&c){const t=n.$implicit,s=n.index;e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.name),e.xp6(3),e.Oqu(t.count)}}function Ya(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"strong"),e._uU(7),e.qZA()()()),2&c){const t=n.$implicit,s=n.index;e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.waiter),e.xp6(3),e.Oqu(t.count)}}function Ul(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.food)}}function Nc(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij("GH\u20b5",t.refund_amount,""),e.xp6(2),e.Oqu(t.authorized_by),e.xp6(2),e.Oqu(t.reason)}}function Pc(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij("GH\u20b5",t.amount,"")}}function Sl(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij("GH\u20b5",t.amount,"")}}function Cu(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.time_in),e.xp6(2),e.Oqu(t.time_out)}}function Ic(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"currency"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"currency"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.item),e.xp6(2),e.Oqu(t.requested_by),e.xp6(2),e.Oqu(t.Department),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Oqu(e.lcZ(11,7,t.unit_price)),e.xp6(3),e.Oqu(e.lcZ(14,9,t.total_cost)),e.xp6(3),e.Oqu(t.status)}}function ha(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.item),e.xp6(2),e.Oqu(t.store),e.xp6(2),e.Oqu(t.quantity)}}function Sn(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.quantity)}}function ap(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Oqu(t.store)}}function fs(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Oqu(t.store),e.xp6(2),e.Oqu(t.operation)}}function _a(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.item),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Oqu(t.request_by),e.xp6(2),e.Oqu(t.reason)}}function sp(c,n){if(1&c&&(e.TgZ(0,"div",17)(1,"h1"),e._uU(2),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Shop Sales"),e.qZA(),e.TgZ(5,"table",18)(6,"thead",19)(7,"tr",20)(8,"th"),e._uU(9,"Item"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Amount"),e.qZA(),e.TgZ(12,"th"),e._uU(13," Attendant"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Cashier"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Method"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,rp,11,5,"tr",21),e.qZA()(),e.TgZ(20,"p"),e._uU(21,"Held Orders"),e.qZA(),e.TgZ(22,"table",18)(23,"thead",19)(24,"tr")(25,"th"),e._uU(26,"Item"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Quantity"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Price"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Subtotal"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Waiter"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"Food Was Confirmed By"),e.qZA(),e.TgZ(37,"th"),e._uU(38,"Date | Time (Food)"),e.qZA(),e.TgZ(39,"th"),e._uU(40,"Drink Was Confirmed By"),e.qZA(),e.TgZ(41,"th"),e._uU(42,"Date | Time (Drink)"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Actual Date | Time"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Status"),e.qZA()()(),e.TgZ(47,"tbody"),e.YNc(48,Tu,2,1,"ng-container",21),e.TgZ(49,"tr")(50,"td",22)(51,"strong"),e._uU(52),e.ALo(53,"number"),e.qZA()()()()(),e.TgZ(54,"p"),e._uU(55,"Most Ordered Item"),e.qZA(),e.TgZ(56,"table",23)(57,"thead",24)(58,"tr")(59,"th"),e._uU(60,"#"),e.qZA(),e.TgZ(61,"th"),e._uU(62,"Item Name"),e.qZA(),e.TgZ(63,"th"),e._uU(64,"Times Ordered"),e.qZA()()(),e.TgZ(65,"tbody"),e.YNc(66,wu,8,3,"tr",21),e.qZA()(),e.TgZ(67,"p"),e._uU(68,"Top Seller"),e.qZA(),e.TgZ(69,"table",23)(70,"thead",24)(71,"tr")(72,"th"),e._uU(73,"#"),e.qZA(),e.TgZ(74,"th"),e._uU(75,"Item Name"),e.qZA(),e.TgZ(76,"th"),e._uU(77,"Times Sold"),e.qZA()()(),e.TgZ(78,"tbody"),e.YNc(79,Ya,8,3,"tr",21),e.qZA()(),e.TgZ(80,"p"),e._uU(81,"Cook For the Day"),e.qZA(),e.TgZ(82,"table",18)(83,"thead",19)(84,"tr",20)(85,"th"),e._uU(86,"Name"),e.qZA(),e.TgZ(87,"th"),e._uU(88,"Food Prepared"),e.qZA()()(),e.TgZ(89,"tbody"),e.YNc(90,Ul,5,2,"tr",21),e.qZA()(),e.TgZ(91,"h5",25),e._uU(92,"Accounts Report"),e.qZA(),e.TgZ(93,"p"),e._uU(94,"Refunds"),e.qZA(),e.TgZ(95,"table",18)(96,"thead",19)(97,"tr",20)(98,"th"),e._uU(99,"Name"),e.qZA(),e.TgZ(100,"th"),e._uU(101,"Amount"),e.qZA(),e.TgZ(102,"th"),e._uU(103,"Authorized By"),e.qZA(),e.TgZ(104,"th"),e._uU(105,"Reason"),e.qZA()()(),e.TgZ(106,"tbody"),e.YNc(107,Nc,9,4,"tr",21),e.TgZ(108,"tr")(109,"td",26)(110,"strong"),e._uU(111),e.ALo(112,"number"),e.qZA()()()()(),e.TgZ(113,"p"),e._uU(114,"Income"),e.qZA(),e.TgZ(115,"table",18)(116,"thead",19)(117,"tr",20)(118,"th"),e._uU(119,"Source"),e.qZA(),e.TgZ(120,"th"),e._uU(121,"Amount"),e.qZA()()(),e.TgZ(122,"tbody"),e.YNc(123,Pc,5,2,"tr",21),e.qZA()(),e.TgZ(124,"p"),e._uU(125,"Expenses"),e.qZA(),e.TgZ(126,"table",18)(127,"thead",19)(128,"tr",20)(129,"th"),e._uU(130,"Category"),e.qZA(),e.TgZ(131,"th"),e._uU(132,"Amount"),e.qZA()()(),e.TgZ(133,"tbody"),e.YNc(134,Sl,5,2,"tr",21),e.qZA()(),e.TgZ(135,"h5",25),e._uU(136,"Attendance Report"),e.qZA(),e.TgZ(137,"table",18)(138,"thead",19)(139,"tr",20)(140,"th"),e._uU(141,"Name"),e.qZA(),e.TgZ(142,"th"),e._uU(143,"Time In"),e.qZA(),e.TgZ(144,"th"),e._uU(145,"Time Out"),e.qZA()()(),e.TgZ(146,"tbody"),e.YNc(147,Cu,7,3,"tr",21),e.qZA()(),e.TgZ(148,"h5",25),e._uU(149,"Inventory Report"),e.qZA(),e.TgZ(150,"p"),e._uU(151,"Purchase Request"),e.qZA(),e.TgZ(152,"table",18)(153,"thead",19)(154,"tr",20)(155,"th"),e._uU(156,"Item"),e.qZA(),e.TgZ(157,"th"),e._uU(158,"Requested By"),e.qZA(),e.TgZ(159,"th"),e._uU(160,"Department"),e.qZA(),e.TgZ(161,"th"),e._uU(162,"Quantity"),e.qZA(),e.TgZ(163,"th"),e._uU(164,"Unit Price"),e.qZA(),e.TgZ(165,"th"),e._uU(166,"Total Cost"),e.qZA(),e.TgZ(167,"th"),e._uU(168,"Status"),e.qZA()()(),e.TgZ(169,"tbody"),e.YNc(170,Ic,17,11,"tr",21),e.qZA()(),e.TgZ(171,"p"),e._uU(172,"Purchase Order"),e.qZA(),e.TgZ(173,"table",18)(174,"thead",19)(175,"tr",20)(176,"th"),e._uU(177,"Item"),e.qZA(),e.TgZ(178,"th"),e._uU(179,"Supplier"),e.qZA(),e.TgZ(180,"th"),e._uU(181,"Quantity"),e.qZA()()(),e.TgZ(182,"tbody"),e.YNc(183,ha,7,3,"tr",21),e.qZA()(),e.TgZ(184,"p"),e._uU(185,"Received Items"),e.qZA(),e.TgZ(186,"table",18)(187,"thead",19)(188,"tr",20)(189,"th"),e._uU(190,"Item"),e.qZA(),e.TgZ(191,"th"),e._uU(192,"Quantity"),e.qZA()()(),e.TgZ(193,"tbody"),e.YNc(194,Sn,5,2,"tr",21),e.qZA()(),e.TgZ(195,"p"),e._uU(196,"Stock"),e.qZA(),e.TgZ(197,"table",18)(198,"thead",19)(199,"tr",20)(200,"th"),e._uU(201,"Item"),e.qZA(),e.TgZ(202,"th"),e._uU(203,"Quantity"),e.qZA(),e.TgZ(204,"th"),e._uU(205,"Store"),e.qZA()()(),e.TgZ(206,"tbody"),e.YNc(207,ap,7,3,"tr",21),e.qZA()(),e.TgZ(208,"p"),e._uU(209,"Stock Usuage"),e.qZA(),e.TgZ(210,"table",18)(211,"thead",19)(212,"tr",20)(213,"th"),e._uU(214,"Item"),e.qZA(),e.TgZ(215,"th"),e._uU(216,"Quantity"),e.qZA(),e.TgZ(217,"th"),e._uU(218,"Received By"),e.qZA(),e.TgZ(219,"th"),e._uU(220,"Operation"),e.qZA()()(),e.TgZ(221,"tbody"),e.YNc(222,fs,9,4,"tr",21),e.qZA()(),e.TgZ(223,"p"),e._uU(224,"Return Request"),e.qZA(),e.TgZ(225,"table",18)(226,"thead",19)(227,"tr",20)(228,"th"),e._uU(229,"Item"),e.qZA(),e.TgZ(230,"th"),e._uU(231,"Quantity"),e.qZA(),e.TgZ(232,"th"),e._uU(233,"Request By"),e.qZA(),e.TgZ(234,"th"),e._uU(235,"Reason"),e.qZA()()(),e.TgZ(236,"tbody"),e.YNc(237,_a,9,4,"tr",21),e.qZA()()()),2&c){const t=e.oxw(2);e.xp6(2),e.hij("Date: ",t.paymentForm.value.dates,""),e.xp6(17),e.Q6J("ngForOf",t.posList),e.xp6(29),e.Q6J("ngForOf",t.HeldList),e.xp6(4),e.hij("Total: GH\u20b5",e.lcZ(53,18,t.totalHeldAmount),""),e.xp6(14),e.Q6J("ngForOf",t.mostOrderedItems),e.xp6(13),e.Q6J("ngForOf",t.mostAttendant),e.xp6(11),e.Q6J("ngForOf",t.chefList),e.xp6(17),e.Q6J("ngForOf",t.refundList),e.xp6(4),e.hij("Daily Refunds Total: GH\u20b5",e.lcZ(112,20,t.totalRefundAmount),""),e.xp6(12),e.Q6J("ngForOf",t.incomeList),e.xp6(11),e.Q6J("ngForOf",t.expenseList),e.xp6(13),e.Q6J("ngForOf",t.attendaceList),e.xp6(23),e.Q6J("ngForOf",t.purchaseList),e.xp6(13),e.Q6J("ngForOf",t.orderList),e.xp6(11),e.Q6J("ngForOf",t.receivedList),e.xp6(13),e.Q6J("ngForOf",t.stockList),e.xp6(15),e.Q6J("ngForOf",t.stockUsuageList),e.xp6(15),e.Q6J("ngForOf",t.returnList)}}function kl(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h4",6),e._uU(5,"Detailed Summary Report"),e.qZA(),e.TgZ(6,"div",7),e._UZ(7,"div",8),e.TgZ(8,"div",9)(9,"form",10)(10,"input",11),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()()(),e.TgZ(11,"div",9)(12,"button",12),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportexcel())}),e._UZ(13,"i",13),e._uU(14," Export to Excel "),e.qZA()(),e.TgZ(15,"div",9)(16,"button",14),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.printRepo())}),e._UZ(17,"i",15),e._uU(18," Print "),e.qZA()()(),e.YNc(19,sp,238,22,"div",16),e.qZA()()()()}if(2&c){const t=e.oxw();e.xp6(9),e.Q6J("formGroup",t.paymentForm),e.xp6(10),e.Q6J("ngIf",t.paymentForm.value.dates)}}Ha.\u0275fac=function(n){return new(n||Ha)(e.Y36(b.qu),e.Y36(P.X),e.Y36(me._W),e.Y36(Gt.F0),e.Y36(pe.t),e.Y36(ee.Q),e.Y36(te.W))},Ha.\u0275cmp=e.Xpm({type:Ha,selectors:[["refund"]],decls:2,vars:1,consts:[[1,"page"],["class","row",4,"blockUI"],[1,"row"],[1,"col-md-16",2,"width","100%"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["type","text","id","myInput",1,"form-control",2,"width","350px",3,"keyup"],[3,"formGroup"],[1,"w-100"],[1,"table-responsive"],["type","date","formControlName","dates",1,"form-control",2,"width","auto",3,"ngModelChange"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button","routerLink","payment",1,"btn","btn-sm","btn-info",3,"click"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"fa","fa-file-excel-o"],["id","excel-table",1,"table","table-striped",2,"width","100%"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[4,"ngIf"],["class","badge badge-success ","style","cursor: pointer;",3,"click",4,"ngIf"],["disabled","","type","button","class","badge badge-success ","style","cursor: pointer;",4,"ngIf"],[1,"badge","badge-primary"],[1,"badge","badge-success"],[1,"badge","badge-success",2,"cursor","pointer",3,"click"],[1,"fa","fa-check"],["disabled","","type","button",1,"badge","badge-success",2,"cursor","pointer"],[1,"fa","fa-check-circle"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Cl,48,14,"div",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"))},dependencies:[Gt.rH,be.sg,be.O5,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU],styles:[".modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Ha.prototype,"loading",void 0),rr().vfs=Vo.I.vfs;class yr{constructor(n,t,s,p,C,O){this.fb=n,this.roomService=t,this.toastr=s,this.paymentService=p,this.guestService=C,this.userService=O,this.fileName="detailed_sales_report.xlsx",this.page=1,this.pageSize=10,this.displayStyle="none",this.openStyle="none",this.totalHeldAmount=0,this.paymentForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],amount:["",b.kI.required],duration:["",b.kI.required],method:["",b.kI.required],room_type:["",b.kI.required],discount:["",b.kI.required],dates:["",b.kI.required]})}ngOnInit(){this.getRoom()}getPaymentList(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.paymentService.getPayment();t&&(n.paymentList=t,n.paymentForm.patchValue({amount:n.paymentList[0].amount}));let s=0;for(let p=0;p<n.paymentList.length;p++)s+=parseInt(n.paymentList[p].amount),n.totalAmount=s,console.log(s)}catch(s){n.toastr.error(null,s)}})()}getRoom(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.roomService.getrooms();t&&(n.roomList=t)}catch(s){n.toastr.error(null,s)}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start(),n.loadHeldOrders();const t=n.paymentForm.value.dates;if(!t)throw new Error("Please select a valid date.");const s={date:t},[p,C,O,qe,Ln,un,Mn,fo,ai,eo,cr,Zi,Vr,Qr,Zr]=yield Promise.all([n.paymentService.searchDates(s),n.guestService.searchReceivedDate(s),n.guestService.searchStockDate(s),n.guestService.searchMostAttendantDate(s),n.guestService.searchStockUsuageDate(s),n.guestService.searchReturnDate(s),n.guestService.searchMostOrderedDate(s),n.paymentService.searchRefundDates(s),n.paymentService.searchDatesPos(s),n.roomService.searchRoomDates(s),n.guestService.searchIncomeDates(s),n.guestService.searchExpenseDate(s),n.guestService.searchattendanceDate(s),n.guestService.searchPurchaseDate(s),n.guestService.searchOrderDate(s)]);n.paymentList=p||[],n.receivedList=C||[],n.stockList=O||[],n.mostAttendant=qe||[],n.stockUsuageList=Ln||[],n.returnList=un||[],n.mostOrderedItems=Mn||[],n.refundList=fo||[],n.posList=ai||[],n.rooms=eo||[],n.incomeList=cr||[],n.expenseList=Zi||[],n.attendaceList=Vr||[],n.purchaseList=Qr||[],n.orderList=Zr||[],n.roomList=n.roomList||[],n.getFoodChef(s),n.totalAmount=n.paymentList.reduce((xo,No)=>xo+(parseInt(No.amount)||0),0),n.totalRefundAmount=n.refundList.reduce((xo,No)=>xo+(parseInt(No.refund_amount)||0),0),n.totalPosAmount=n.posList.reduce((xo,No)=>xo+(parseInt(No.amount)||0),0),n.totalIncome=n.incomeList.reduce((xo,No)=>xo+(parseInt(No.amount)||0),0),n.totalExpenses=n.expenseList.reduce((xo,No)=>xo+(parseInt(No.amount)||0),0),n.totalAttendance=n.attendaceList.length,n.totalAvailableRooms=n.roomList.length-n.rooms.length,n.totalOcccupiedRooms=n.rooms.length,n.occupancy=n.totalOcccupiedRooms/(n.roomList.length||1)*100;const Pr=new Date(t);Pr.setDate(Pr.getDate()-1);const Ql={date:Pr.toISOString().split("T")[0]},ka=yield n.roomService.searchYesterdayRoomDates(Ql);n.yesterdayList=ka||[],n.yesterday_total=n.yesterdayList.reduce((xo,No)=>xo+(parseInt(No.amount)||0),0),n.yester_daytodate=n.yesterday_total+n.totalAmount}catch(t){console.error("Error fetching data:",t.message||t)}finally{n.loading.stop()}})()}getBookingList(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.roomService.getBookingList();t&&(n.bookings=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}applyFilter(){var n=this;return(0,Y.Z)(function*(){try{console.log(n.paymentForm.value.filter),n.loading.start();var t=yield n.paymentService.getPaymentFilter(n.paymentForm.value.filter);t&&(n.paymentList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}openPopup(){this.header="Add Payment",this.displayStyle="block",this.getBookingList()}closePopup(){this.displayStyle="none",this.openStyle="none"}exportexcel(){let n=document.getElementById("excel-table");const t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,this.fileName)}printReport(){const n=document.querySelector(".page")?.innerHTML;if(n){const t=window.open("","_blank");t?.document.write("<html><head><title>Report</title></head><body>"),t?.document.write(n),t?.document.write("</body></html>"),t?.document.close(),t?.focus(),t?.print(),t?.close()}else console.error("No content found to print.")}exportToExcel(){const n=document.getElementById("excel-table");if(n){const t=Be.P6.table_to_book(n);Be.NC(t,"Hotel_Report.xlsx")}else console.error("Table not found for exporting to Excel.")}printRepo(){const n=document.getElementById("excel-table")?.outerHTML;if(!n)return void console.error("No content found to print.");const t=window.open("","","height=800, width=800");t?(t.document.write("<html><head><title>Report</title>"),t.document.write("\n      <style>\n        body {\n          font-family: Arial, sans-serif;\n          margin: 0;\n          padding: 0;\n        }\n        table {\n          width: 100%;\n          border-collapse: collapse;\n        }\n        th, td {\n          padding: 8px;\n          border: 1px solid #ddd;\n        }\n        th {\n          background-color: #f2f2f2;\n        }\n        .text-end {\n          text-align: end;\n        }\n        .bg-light {\n          background-color: #f8f9fa;\n        }\n      </style>\n    "),t.document.write("</head><body>"),t.document.write(n||""),t.document.write("</body></html>"),t.document.close(),t.onload=()=>{t.print(),t.close()}):console.error("Failed to open the print window.")}loadHeldOrders(){this.guestService.getHeldReportOrders(this.paymentForm.value.dates).subscribe(t=>{if(console.log("API Response:",t),!Array.isArray(t)||0===t.length)return console.log("No held orders found."),this.HeldList=[],void(this.totalHeldAmount=0);this.HeldList=t.map(s=>({...s,items:Array.isArray(s.items)?s.items.map(p=>({...p,price:Number(p.price)||0,qty:Number(p.qty)||0})):[]})),console.log("Processed HeldList:",this.HeldList),this.calculateTotal()})}calculateTotal(){this.totalHeldAmount=this.HeldList.reduce((n,t)=>n+t.items.reduce((s,p)=>s+p.qty*p.price,0),0)}getFoodChef(n){var t=this;return(0,Y.Z)(function*(){var s=yield t.guestService.searchChefDates(n);s&&(t.chefList=s)})()}}yr.\u0275fac=function(n){return new(n||yr)(e.Y36(b.qu),e.Y36(P.X),e.Y36(me._W),e.Y36(pe.t),e.Y36(ee.Q),e.Y36(te.W))},yr.\u0275cmp=e.Xpm({type:yr,selectors:[["detailed-report"]],decls:2,vars:1,consts:[[1,"page"],["class","row",4,"blockUI"],[1,"row"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-body","p-4"],[1,"text-center","mb-4"],[1,"d-flex","mb-3"],[1,"flex-grow-1"],[1,"ms-3"],[3,"formGroup"],["type","date","formControlName","dates",1,"form-control",3,"ngModelChange"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-file-excel-o"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-print"],["id","excel-table",4,"ngIf"],["id","excel-table"],[1,"table","table-bordered"],[1,"table-light"],[1,"bg-secondary","text-white"],[4,"ngFor","ngForOf"],["colspan","6",1,"text-end","bg-light"],[1,"table","table-bordered","mt-3"],[1,"thead-light"],[1,"text-gray-500","mt-4"],["colspan","5",1,"text-end","bg-light"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,kl,20,2,"div",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"))},dependencies:[be.sg,be.O5,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,ae.PC,be.JJ,be.H9],styles:[".card[_ngcontent-%COMP%]{border-radius:10px}.table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.text-gray-500[_ngcontent-%COMP%]{color:#6c757d!important}.btn[_ngcontent-%COMP%]{font-size:14px}thead.table-light[_ngcontent-%COMP%]{background-color:#f8f9fa}.bg-secondary[_ngcontent-%COMP%]{background-color:#343a40!important;color:#fff}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],yr.prototype,"loading",void 0);let va=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["calender"]],decls:0,vars:0,template:function(t,s){}}),c})();const zs=["invoiceContent"];function qr(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"button",60),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.deletePurchase(p.id))}),e._UZ(1,"i",61),e.qZA()}if(2&c){const t=e.oxw().$implicit;e.Q6J("disabled","Success"==t.status)}}function sr(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"button",62),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.approvePurchase(p.id))}),e._UZ(1,"i",63),e.qZA()}if(2&c){const t=e.oxw().$implicit;e.Q6J("disabled","Success"==t.status)}}function lp(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"currency"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"currency"),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA(),e.TgZ(26,"td"),e._uU(27),e.ALo(28,"date"),e.qZA(),e.TgZ(29,"td")(30,"button",56),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.openPopup("Edit",C))}),e._UZ(31,"i",57),e.qZA(),e.YNc(32,qr,2,1,"button",58),e.YNc(33,sr,2,1,"button",59),e.qZA()()}if(2&c){const t=n.$implicit,s=e.oxw(2);e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.item),e.xp6(2),e.Oqu(t.requested_by),e.xp6(2),e.Oqu(t.department),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Oqu(e.lcZ(13,15,t.unit_price)),e.xp6(3),e.Oqu(e.lcZ(16,17,t.total_cost)),e.xp6(3),e.Oqu(e.lcZ(19,19,t.created_date)),e.xp6(3),e.Oqu(t.status),e.xp6(2),e.Oqu(t.approved_by),e.xp6(2),e.Oqu(t.cart_id),e.xp6(2),e.Oqu(e.lcZ(28,21,t.created_date)),e.xp6(3),e.Q6J("disabled","Success"==t.status),e.xp6(2),e.Q6J("ngIf","admin"===s.user[0].roles),e.xp6(1),e.Q6J("ngIf","admin"===s.user[0].roles)}}function up(c,n){1&c&&e._uU(0,"First")}function lr(c,n){1&c&&e._uU(0,"Last")}function Lc(c,n){1&c&&e._uU(0,"Prev")}function gs(c,n){1&c&&e._uU(0,"Next")}function qu(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function Uu(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",32)(2,"div",33)(3,"div",34)(4,"div",35)(5,"div",36)(6,"div",37)(7,"input",38),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchItems())}),e.qZA()(),e.TgZ(8,"div")(9,"div",39)(10,"button",40),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup("Add New"))}),e._uU(11," Add New "),e.qZA(),e.TgZ(12,"button",41),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportExcel())}),e._UZ(13,"i",42),e._uU(14," Export "),e.qZA()()()()(),e.TgZ(15,"div",43)(16,"table",44)(17,"thead",45)(18,"tr",46)(19,"th"),e._uU(20,"Request Number"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Item"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Requested By"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Department"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Quantity"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Unit Price"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Total Cost"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Request Date"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"Status"),e.qZA(),e.TgZ(37,"th"),e._uU(38,"Approved By"),e.qZA(),e.TgZ(39,"th"),e._uU(40,"Cart ID"),e.qZA(),e.TgZ(41,"th"),e._uU(42,"Approved Date"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Action"),e.qZA()()(),e.TgZ(45,"tbody"),e.YNc(46,lp,34,23,"tr",47),e.ALo(47,"slice"),e.qZA()()(),e.TgZ(48,"div",48)(49,"div",49)(50,"ngb-pagination",50),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(51,up,1,0,"ng-template",51),e.YNc(52,lr,1,0,"ng-template",52),e.YNc(53,Lc,1,0,"ng-template",53),e.YNc(54,gs,1,0,"ng-template",54),e.YNc(55,qu,1,1,"ng-template",55),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(46),e.Q6J("ngForOf",e.Dn7(47,8,t.purchaseList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.purchaseList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function ms(c,n){if(1&c&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.Q6J("value",t.name),e.xp6(1),e.Oqu(t.name)}}function Nl(c,n){if(1&c&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.Q6J("value",t.name),e.xp6(1),e.Oqu(t.name)}}function Oc(c,n){if(1&c&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.Q6J("value",t.name),e.xp6(1),e.Oqu(t.name)}}function Ec(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.addToCart())}),e._uU(1,"Add to Cart"),e.qZA()}}function Mc(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.submitCart())}),e._uU(1,"Submit All"),e.qZA()}}function Fc(c,n){1&c&&(e.TgZ(0,"button",67),e._uU(1,"Update"),e.qZA())}function Js(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"li",72),e._uU(1),e.ALo(2,"currency"),e.TgZ(3,"button",73),e.NdJ("click",function(){const C=e.CHM(t).index,O=e.oxw(2);return e.KtG(O.removeFromCart(C))}),e._UZ(4,"i",74),e.qZA()()}if(2&c){const t=n.$implicit;e.xp6(1),e.lnq(" ",t.item," - Qty: ",t.quantity," at ",e.lcZ(2,3,t.unit_price)," ")}}function Pl(c,n){if(1&c&&(e.TgZ(0,"div",68)(1,"h6"),e._UZ(2,"i",69),e._uU(3," Items in Cart"),e.qZA(),e.TgZ(4,"ul",70),e.YNc(5,Js,5,5,"li",71),e.qZA()()),2&c){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.cartItems)}}const Ci=function(c){return{display:c}};class Rr{constructor(n,t,s,p){this.fb=n,this.userService=t,this.toastr=s,this.guestService=p,this.itemsList=[],this.departmentList=[],this.storeList=[],this.purchaseList=[],this.cartItems=[],this.displayStyle="none",this.header="",this.page=1,this.pageSize=10,this.totalAmount=0,this.user=[],this.itemForm=this.fb.group({item:["",b.kI.required],quantity:["",b.kI.required],unit_price:["",b.kI.required],total_cost:["",b.kI.required],department:["",b.kI.required],store:["",b.kI.required]})}ngOnInit(){this.getDepartmentList(),this.getItemsList(),this.getPurchaseList(),this.getUser(),this.getVendorList()}getUser(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.userService.getUser();t&&(n.user=t)}catch(t){console.log(t)}})()}getVendorList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getVendorList();t&&(n.storeList=t)}catch{n.toastr.error("Error fetching vendors")}})()}getItemsList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getItemsList();t&&(n.itemsList=t)}catch{n.toastr.error("Error fetching items list")}})()}getDepartmentList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getDepartmentList();t&&(n.departmentList=t)}catch{n.toastr.error("Error fetching departments")}})()}getPurchaseList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getPurchaseList();t&&(n.purchaseList=t)}catch{n.toastr.error("Error fetching purchase list")}})()}openPopup(n,t=null){this.header=n,this.itemForm.reset(),this.displayStyle="block"}closePopup(){this.displayStyle="none",this.cartItems=[]}addToCart(){this.itemForm.valid?(this.cartItems.push({...this.itemForm.value}),this.itemForm.reset(),this.toastr.success("Item added to cart")):this.toastr.warning("Please fill all fields")}submitCart(){var n=this;return(0,Y.Z)(function*(){if(0===n.cartItems.length)return n.toastr.warning("No items in cart");try{n.loading.start(),(yield n.guestService.submitMultiplePurchases(n.cartItems))&&(n.toastr.success("Cart submitted successfully"),n.getPurchaseList(),n.cartItems=[],n.closePopup())}catch{n.toastr.error("Failed to submit cart")}finally{n.loading.stop()}})()}savePurchase(n){var t=this;return(0,Y.Z)(function*(){try{let s;t.loading.start(),"Add New"===t.header?(s=yield t.guestService.addPurchase(n),t.toastr.success("Item successfully added")):"Edit"===t.header&&(s=yield t.guestService.updatePurchase(n),t.toastr.success("Item successfully updated")),s&&(t.getPurchaseList(),t.closePopup())}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}approvePurchase(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.approvePurchase({id:n}))&&t.getPurchaseList()}catch{t.toastr.error("Error approving purchase")}finally{t.loading.stop()}})()}deletePurchase(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deletePurchase(n))&&(t.toastr.success("Item deleted"),t.getPurchaseList())}catch{t.toastr.error("Error deleting item")}finally{t.loading.stop()}})()}exportExcel(){const n=document.getElementById("excel-table"),t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,"items_list.xlsx")}searchItems(){const t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr");for(let C=0;C<p.length;C++){const O=p[C].getElementsByTagName("td")[0];O&&(p[C].style.display=(O.textContent||O.innerText).toUpperCase().includes(t)?"":"none")}}pageClick(){}printInvoice(){const n=this.invoiceContent.nativeElement.innerHTML,t=window.open("","","height=800,width=600");t&&(t.document.write("<html><head><title>Invoice</title>"),t.document.write("<style>\n        body { font-family: Arial; padding: 20px; }\n        table { width: 100%; border-collapse: collapse; }\n        table, th, td { border: 1px solid #ddd; padding: 8px; }\n      </style>"),t.document.write("</head><body>"),t.document.write(n),t.document.write("</body></html>"),t.document.close(),t.print())}}function Il(c,n){if(1&c&&(e.TgZ(0,"option",92),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.item_name),e.xp6(1),e.Oqu(t.item_name)}}Rr.\u0275fac=function(n){return new(n||Rr)(e.Y36(b.qu),e.Y36(te.W),e.Y36(me._W),e.Y36(ee.Q))},Rr.\u0275cmp=e.Xpm({type:Rr,selectors:[["purchase-request"]],viewQuery:function(n,t){if(1&n&&e.Gf(zs,5),2&n){let s;e.iGM(s=e.CRH())&&(t.invoiceContent=s.first)}},decls:47,vars:13,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","item",1,"form-label"],["id","item","formControlName","item",1,"form-control"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["for","department",1,"form-label"],["id","department","formControlName","department",1,"form-control"],["for","quantity",1,"form-label"],["type","number","id","quantity","formControlName","quantity",1,"form-control"],["for","unitPrice",1,"form-label"],["type","number","id","unitPrice","formControlName","unit_price",1,"form-control"],["for","totalCost",1,"form-label"],["type","number","id","totalCost","formControlName","total_cost",1,"form-control"],["for","store",1,"form-label"],["id","store","formControlName","store",1,"form-control"],[1,"text-end"],[1,"btn-group"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"row"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus","mb-3"],[1,"d-flex"],[1,"me-auto"],["placeholder","Search for items...","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],["aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info","me-2",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",3,"click"],[1,"fa","fa-file-excel-o"],[1,"table-responsive"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationNumber",""],[1,"btn","btn-info","btn-sm",3,"disabled","click"],[1,"fa","fa-edit"],["class","btn btn-danger btn-sm",3,"disabled","click",4,"ngIf"],["class","btn btn-success btn-sm",3,"disabled","click",4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"disabled","click"],[1,"fa","fa-close"],[1,"btn","btn-success","btn-sm",3,"disabled","click"],[1,"fa","fa-check-circle"],[3,"value"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"mt-3"],[1,"fa","fa-shopping-cart"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fa","fa-trash"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Uu,56,12,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),e._uU(7),e.qZA(),e.TgZ(8,"button",7),e.NdJ("click",function(){return t.closePopup()}),e._uU(9,"x"),e.qZA()(),e.TgZ(10,"div",8)(11,"form",9),e.NdJ("ngSubmit",function(){return t.savePurchase(t.itemForm.value)}),e.TgZ(12,"div",10)(13,"label",11),e._uU(14,"Item"),e.qZA(),e.TgZ(15,"select",12)(16,"option",13),e._uU(17,"------"),e.qZA(),e.YNc(18,ms,2,2,"option",14),e.qZA()(),e.TgZ(19,"div",10)(20,"label",15),e._uU(21,"Department"),e.qZA(),e.TgZ(22,"select",16),e.YNc(23,Nl,2,2,"option",14),e.qZA()(),e.TgZ(24,"div",10)(25,"label",17),e._uU(26,"Quantity"),e.qZA(),e._UZ(27,"input",18),e.qZA(),e.TgZ(28,"div",10)(29,"label",19),e._uU(30,"Unit Price"),e.qZA(),e._UZ(31,"input",20),e.qZA(),e.TgZ(32,"div",10)(33,"label",21),e._uU(34,"Total Cost"),e.qZA(),e._UZ(35,"input",22),e.qZA(),e.TgZ(36,"div",10)(37,"label",23),e._uU(38,"Vendor"),e.qZA(),e.TgZ(39,"select",24),e.YNc(40,Oc,2,2,"option",14),e.qZA()(),e.TgZ(41,"div",25)(42,"div",26),e.YNc(43,Ec,2,0,"button",27),e.YNc(44,Mc,2,0,"button",28),e.YNc(45,Fc,2,0,"button",29),e.qZA()()(),e.YNc(46,Pl,6,1,"div",30),e.qZA()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(11,Ci,t.displayStyle)),e.xp6(5),e.Oqu(t.header),e.xp6(4),e.Q6J("formGroup",t.itemForm),e.xp6(7),e.Q6J("ngForOf",t.itemsList),e.xp6(5),e.Q6J("ngForOf",t.departmentList),e.xp6(17),e.Q6J("ngForOf",t.storeList),e.xp6(3),e.Q6J("ngIf","Add New"===t.header),e.xp6(1),e.Q6J("ngIf","Add New"===t.header),e.xp6(1),e.Q6J("ngIf","Edit"===t.header),e.xp6(1),e.Q6J("ngIf",t.cartItems.length>0))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.wV,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU,be.H9,be.uU],styles:[".invoice-container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:20px;padding:20px;border:1px solid #ddd;border-radius:8px;background-color:#fff;box-shadow:0 4px 8px #0000001a}.header[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]{text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#555}.invoice-details[_ngcontent-%COMP%], .invoice-summary[_ngcontent-%COMP%]{margin:20px 0}.invoice-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .invoice-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.invoice-details[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .invoice-details[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoice-summary[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .invoice-summary[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}.invoice-summary[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f4f4f4}.total[_ngcontent-%COMP%]{text-align:right;font-weight:700}@media print{.btn[_ngcontent-%COMP%]{display:none}}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Rr.prototype,"loading",void 0);class qi{constructor(n,t,s,p){this.fb=n,this.employeeService=t,this.toastr=s,this.cartService=p,this.itemBulk=[],this.page=1,this.pageSize=10,this.openStyle="none",this.totalItem=0,this.displayStyle="none",this.itemForm=this.fb.group({item_name:["",b.kI.required],item_type:["",b.kI.required],auth_level:["",b.kI.required],evaluation_price:["",b.kI.required],item_number:["",b.kI.required],description:["",b.kI.required],base_unit:["",b.kI.required],store_unit:["",b.kI.required],expire_date:["",b.kI.required],sales_price:["",b.kI.required],recipe:["",b.kI.required],open_price:["",b.kI.required],voided:["",b.kI.required],receiving_store:["",b.kI.required],open_item:["",b.kI.required],last_date:["",b.kI.required],last_price:["",b.kI.required],last_quantity:["",b.kI.required]})}ngOnInit(){this.getItems()}getItems(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=n.employeeService.getItems();t&&(n.itemList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}addItem(n){const t={item_name:n.item_name,item_type:n.item_type,auth_level:n.auth_level,evaluation_price:n.evaluation_price,item_number:n.item_number,description:n.description,store_unit:n.store_unit,expire_date:n.expire_date,sales_price:n.sales_price,recipe:n.recipe,base_unit:n.base_unit,open_price:n.open_price,voided:n.voided,receiving_store:n.receiving_store,open_item:n.open_item,last_date:n.last_date,last_price:n.last_price,last_quantity:n.last_quantity};try{this.loading.start(),this.employeeService.addItem(t)&&this.toastr.success(null,"record(s) added"),this.getItems()}catch(p){this.toastr.error(null,p)}finally{this.loading.stop()}}switchClicked(n,t){this.checked=n.srcElement.checked,null!=this.checked&&1==this.checked&&console.log(t)}}function Su(c,n){if(1&c&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function jc(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"i",58),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.deleteExpense(p.id))}),e.qZA()}}function Dr(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"i",56),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.editExpense(C.id))}),e.qZA(),e.YNc(15,jc,1,0,"i",57),e.qZA()()}if(2&c){const t=n.$implicit,s=n.index,p=e.oxw(2);e.xp6(2),e.hij(" ",s+1,""),e.xp6(2),e.hij(" ",t.name,""),e.xp6(2),e.hij(" ",t.date,""),e.xp6(2),e.hij(" ",t.user,""),e.xp6(2),e.Oqu(t.amount),e.xp6(2),e.Oqu(t.note),e.xp6(3),e.Q6J("ngIf","admin"==p.user[0].roles)}}function Rc(c,n){1&c&&e._uU(0,"First")}function Gs(c,n){1&c&&e._uU(0,"Last")}function Dc(c,n){1&c&&e._uU(0,"Prev")}function Bc(c,n){1&c&&e._uU(0,"Next")}function Ll(c,n){1&c&&e._uU(0,"...")}function Ol(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function zc(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",9)(2,"div",24)(3,"div",25)(4,"div",26)(5,"div",27)(6,"div",28)(7,"input",29),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.myFunction())}),e.qZA()(),e._UZ(8,"div",30),e.qZA(),e.TgZ(9,"form",31)(10,"label",32),e._uU(11,"Filter"),e.qZA(),e.TgZ(12,"select",33),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.findAccountGroup())}),e.YNc(13,Su,2,2,"option",22),e.qZA()(),e.TgZ(14,"div",34)(15,"form",35)(16,"input",36),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()(),e.TgZ(17,"div",37)(18,"button",38),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup())}),e._uU(19," Add New"),e.qZA(),e.TgZ(20,"button",39),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportexcel())}),e._UZ(21,"i",40),e._uU(22," Export "),e.qZA()()(),e.TgZ(23,"table",41)(24,"thead",42)(25,"tr",43)(26,"th",44),e._uU(27,"#"),e.qZA(),e.TgZ(28,"th",44),e._uU(29," Name"),e.qZA(),e.TgZ(30,"th",44),e._uU(31,"Date"),e.qZA(),e.TgZ(32,"th",44),e._uU(33,"User"),e.qZA(),e.TgZ(34,"th",44),e._uU(35,"Amount"),e.qZA(),e.TgZ(36,"th",44),e._uU(37,"Note"),e.qZA(),e.TgZ(38,"th",44),e._uU(39,"Action"),e.qZA()()(),e.TgZ(40,"tbody"),e.YNc(41,Dr,16,7,"tr",45),e.ALo(42,"slice"),e.qZA()()(),e.TgZ(43,"div",46)(44,"div",47)(45,"ngb-pagination",48),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(46,Rc,1,0,"ng-template",49),e.YNc(47,Gs,1,0,"ng-template",50),e.YNc(48,Dc,1,0,"ng-template",51),e.YNc(49,Bc,1,0,"ng-template",52),e.YNc(50,Ll,1,0,"ng-template",53),e.YNc(51,Ol,1,1,"ng-template",54),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(9),e.Q6J("formGroup",t.itemForm),e.xp6(4),e.Q6J("ngForOf",t.findList),e.xp6(2),e.Q6J("formGroup",t.createForm),e.xp6(26),e.Q6J("ngForOf",e.Dn7(42,11,t.expenseList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.expenseList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function Jc(c,n){if(1&c&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function ku(c,n){1&c&&(e.TgZ(0,"div",59)(1,"button",60),e._uU(2," Save"),e.qZA()())}function Gc(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",59)(1,"button",61),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updateExpense(p.createForm.value))}),e._uU(2," Update"),e.qZA()()}}qi.\u0275fac=function(n){return new(n||qi)(e.Y36(b.qu),e.Y36(ji),e.Y36(me._W),e.Y36(qc.N))},qi.\u0275cmp=e.Xpm({type:qi,selectors:[["add-purchase-request"]],decls:312,vars:3,consts:[[1,"col-md-25",2,"background-color","lightgray"],[1,"card","card-house"],[1,"card-header"],[1,"card-body"],["role","form "],[1,"row"],[1,"col-sm-4"],[1,"form-group"],["for","Username"],["type","text","placeholder","room type",1,"form-control"],["type","button"],[1,"fa","fa-search"],["for",""],["type","text",1,"form-control"],["name","buyer","id","",1,"form-control"],["value","inhouse"],["value","vacant"],[1,"badge","bg-danger",2,"font-size","10px","background","gray","color","white","float","right"],["type","checkbox"],["formControlName","item_name","id","",1,"form-control"],["value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["data-toggle","modal","data-target","#myModal",1,"fa","fa-plus"],["type","number","value","0",1,"form-control"],["name","room-state","id","",1,"form-control"],["value","0"],["value","01"],["type","number","value","0.0",1,"form-control"],["type","date",1,"form-control"],[1,"form-control"],["type","number",1,"form-control"],["type","checkbox",1,"form-control"],[1,"btn","btn-info"],[1,"btn","btn-warning"],[1,"btn","btn-success"],["id","myModal",1,"modal","col-md-12"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title",2,"font-size","medium"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body","col-md-16",2,"overflow","scroll"],[3,"formGroup","ngSubmit"],["for","code"],["type","text","placeholder","item name","formControlName","item_name",1,"form-control"],["for","from date"],["name","","id","","formControlName","item_type",1,"form-control"],["value","Kitchen"],["value","Bar"],["value","Reception"],["value","Pool"],["for","to date"],["name","","id","","formControlName","auth_level",1,"form-control"],["value","admin"],["value",""],["name","","id","","formControlName","evaluation_price",1,"form-control"],["value","Last Purchase"],["value","Average Per Store"],["for","serial"],["type","text","placeholder","","formControlName","item_number",1,"form-control"],["for","recuring"],["type","text","placeholder","","formControlName","description",1,"form-control"],["for","gl period"],["id","","formControlName","base_unit",1,"form-control"],["value","Kg"],["value","m"],["value","mm"],["for","account"],["formControlName","store_unit","id","",1,"form-control"],["type","date","formControlName","expire_date",1,"form-control"],["for","from post date"],["type","text","value","0.0","formControlName","sales_price",1,"form-control"],["for","to posting date"],["type","text","formControlName","recipe",1,"form-control"],["for","system Locked"],["type","checkbox","formControlName","open_price",1,"form-control"],["name","","id","","formControlName","voided",1,"form-control"],["value","All"],["value","Yes"],["value","No"],["type","checkbox","formControlName","open_item"],["name","","id","","formControlName","receiving_store",1,"form-control"],["value","one"],["value","two"],["type","date","formControlName","last_date",1,"form-control"],["type","text","formControlName","last_price",1,"form-control"],["type","text","formControlName","last_quantity",1,"form-control"],[1,"row",2,"float","right"],["type","submit",1,"btn","btn-info",2,"float","right"],["type","submit",1,"btn","btn-success"],[1,"fa","fa-plus"],[1,"modal-footer"],[3,"value"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3)(4,"form",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"label",8),e._uU(9,"File number "),e.qZA(),e._UZ(10,"input",9),e.TgZ(11,"button",10),e._UZ(12,"i",11),e.qZA()()(),e.TgZ(13,"div",6)(14,"div",7)(15,"label",12),e._uU(16,"Description"),e.qZA(),e._UZ(17,"input",13),e.qZA()(),e.TgZ(18,"div",6)(19,"div",7)(20,"label",12),e._uU(21,"Buyer"),e.qZA(),e.TgZ(22,"select",14)(23,"option",15),e._uU(24,"k@gmail.com"),e.qZA(),e.TgZ(25,"option",16),e._uU(26,"kofi@gmail.com"),e.qZA()()()()(),e.TgZ(27,"div",5)(28,"div",6)(29,"div",7)(30,"label",8),e._uU(31,"Number "),e.qZA(),e._UZ(32,"input",13),e.qZA()()()()()(),e.TgZ(33,"div",1),e._UZ(34,"div",2),e.TgZ(35,"div",3)(36,"form",4)(37,"table")(38,"thead")(39,"tr")(40,"th"),e._uU(41,"Select"),e.TgZ(42,"div",17),e._uU(43),e.qZA()(),e.TgZ(44,"th"),e._uU(45,"Item *"),e.qZA(),e.TgZ(46,"th"),e._uU(47,"Store"),e.qZA(),e.TgZ(48,"th"),e._uU(49,"Qty"),e.qZA(),e.TgZ(50,"th"),e._uU(51,"Unit"),e.qZA(),e.TgZ(52,"th"),e._uU(53,"Ordered qty "),e.qZA(),e.TgZ(54,"th"),e._uU(55,"Received qty *"),e.qZA(),e.TgZ(56,"th"),e._uU(57,"Delivery Date"),e.qZA(),e.TgZ(58,"th"),e._uU(59,"Unit Price"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"Discount"),e.qZA(),e.TgZ(62,"th"),e._uU(63,"Total"),e.qZA(),e.TgZ(64,"th"),e._uU(65,"Vendor"),e.qZA(),e.TgZ(66,"th"),e._uU(67,"Available qty"),e.qZA(),e.TgZ(68,"th"),e._uU(69,"Minimum qty"),e.qZA(),e.TgZ(70,"th"),e._uU(71,"Maximum qty"),e.qZA(),e.TgZ(72,"th"),e._uU(73,"Delete"),e.qZA()()(),e.TgZ(74,"tbody")(75,"tr")(76,"td")(77,"div",7),e._UZ(78,"input",18),e.qZA()(),e.TgZ(79,"td")(80,"div",7)(81,"select",19)(82,"option",20),e._uU(83,"-----"),e.qZA(),e.YNc(84,Il,2,2,"option",21),e.qZA(),e.TgZ(85,"button",10),e._UZ(86,"i",22),e.qZA()()(),e.TgZ(87,"td")(88,"div",7),e._UZ(89,"input",13),e.TgZ(90,"button",10),e._UZ(91,"i",22),e.qZA()()(),e.TgZ(92,"td")(93,"div",7),e._UZ(94,"input",23),e.qZA()(),e.TgZ(95,"td")(96,"div",7)(97,"select",24)(98,"option",25),e._uU(99,"------"),e.qZA(),e.TgZ(100,"option",26),e._uU(101,"choose"),e.qZA()()()(),e.TgZ(102,"td")(103,"div",7),e._UZ(104,"input",27),e.qZA()(),e.TgZ(105,"td")(106,"div",7),e._UZ(107,"input",27),e.qZA()(),e.TgZ(108,"td")(109,"div",7),e._UZ(110,"input",28),e.qZA()(),e.TgZ(111,"td")(112,"div",7),e._UZ(113,"input",27),e.qZA()(),e.TgZ(114,"td")(115,"div",7),e._UZ(116,"input",27),e.qZA()(),e.TgZ(117,"td")(118,"div",7),e._UZ(119,"input",27),e.qZA()(),e.TgZ(120,"td")(121,"div",29),e._uU(122," mff "),e.qZA()(),e.TgZ(123,"td")(124,"div",7),e._UZ(125,"input",30),e.qZA()(),e.TgZ(126,"td")(127,"div",7),e._UZ(128,"input",30),e.qZA()(),e.TgZ(129,"td")(130,"div",7),e._UZ(131,"input",30),e.qZA()(),e.TgZ(132,"td")(133,"div",7),e._UZ(134,"input",31),e.qZA()()()()(),e.TgZ(135,"button",32),e._uU(136,"Save and edit"),e.qZA(),e.TgZ(137,"button",33),e._uU(138,"Save and add"),e.qZA(),e.TgZ(139,"button",34),e._uU(140,"Save"),e.qZA()()()()(),e.TgZ(141,"div",35)(142,"div",36)(143,"div",37)(144,"div",38)(145,"h4",39),e._uU(146,"Add New Item"),e.qZA(),e.TgZ(147,"button",40),e._uU(148,"\xd7"),e.qZA()(),e.TgZ(149,"div",41)(150,"form",42),e.NdJ("ngSubmit",function(){return t.addItem(t.itemForm.value)}),e.TgZ(151,"div",5)(152,"div",6)(153,"div",7)(154,"label",43),e._uU(155," Item Name "),e.qZA(),e._UZ(156,"input",44),e.qZA()(),e.TgZ(157,"div",6)(158,"div",7)(159,"label",45),e._uU(160,"Type"),e.qZA(),e._UZ(161,"br"),e.TgZ(162,"select",46)(163,"option",25),e._uU(164,"-------"),e.qZA(),e.TgZ(165,"option",47),e._uU(166,"Kitchen"),e.qZA(),e.TgZ(167,"option",48),e._uU(168,"Bar"),e.qZA(),e.TgZ(169,"option",49),e._uU(170,"Reception"),e.qZA(),e.TgZ(171,"option",50),e._uU(172,"Pool"),e.qZA()()()(),e.TgZ(173,"div",6)(174,"div",7)(175,"label",51),e._uU(176,"Purchase request authoriazation level"),e.qZA(),e.TgZ(177,"select",52)(178,"option",25),e._uU(179,"-------"),e.qZA(),e.TgZ(180,"option",53),e._uU(181,"01"),e.qZA(),e.TgZ(182,"option",54),e._uU(183,"02"),e.qZA(),e.TgZ(184,"option",25),e._uU(185,"03"),e.qZA()()()()(),e.TgZ(186,"div",5)(187,"div",6)(188,"div",7)(189,"label",8),e._uU(190,"Evaluation Price "),e.qZA(),e.TgZ(191,"select",55)(192,"option",56),e._uU(193,"Last purchase"),e.qZA(),e.TgZ(194,"option",57),e._uU(195,"Average per store"),e.qZA()()()(),e.TgZ(196,"div",6)(197,"div",7)(198,"label",58),e._uU(199,"Number"),e.qZA(),e._UZ(200,"input",59),e.qZA()(),e.TgZ(201,"div",6)(202,"div",7)(203,"label",60),e._uU(204,"Description"),e.qZA(),e._UZ(205,"br")(206,"input",61),e.qZA()()(),e.TgZ(207,"div",5)(208,"div",6)(209,"div",7)(210,"label",62),e._uU(211,"Base Unit "),e.qZA(),e.TgZ(212,"select",63)(213,"option",54),e._uU(214,"---"),e.qZA(),e.TgZ(215,"option",64),e._uU(216,"Kg"),e.qZA(),e.TgZ(217,"option",65),e._uU(218,"m"),e.qZA(),e.TgZ(219,"option",66),e._uU(220,"mm"),e.qZA()()()(),e.TgZ(221,"div",6)(222,"div",7)(223,"label",67),e._uU(224,"Store Unit"),e.qZA(),e.TgZ(225,"select",68)(226,"option",64),e._uU(227,"Kg"),e.qZA(),e.TgZ(228,"option",65),e._uU(229,"m"),e.qZA(),e.TgZ(230,"option",66),e._uU(231,"mm"),e.qZA()()()(),e.TgZ(232,"div",6)(233,"div",7)(234,"label",60),e._uU(235,"Expires"),e.qZA(),e._UZ(236,"br")(237,"input",69),e.qZA()()(),e.TgZ(238,"div",5)(239,"div",6)(240,"div",7)(241,"label",70),e._uU(242,"Sales Price "),e.qZA(),e._UZ(243,"input",71),e.qZA()(),e.TgZ(244,"div",6)(245,"div",7)(246,"label",72),e._uU(247,"Recipe"),e.qZA(),e._UZ(248,"input",73),e.qZA()(),e.TgZ(249,"div",6)(250,"div",7)(251,"label",74),e._uU(252,"Open price"),e.qZA(),e._UZ(253,"br")(254,"input",75),e.qZA()()(),e.TgZ(255,"div",5)(256,"div",6)(257,"div",7)(258,"label",70),e._uU(259,"Voided "),e.qZA(),e.TgZ(260,"select",76)(261,"option",20),e._uU(262,"------"),e.qZA(),e.TgZ(263,"option",77),e._uU(264,"All"),e.qZA(),e.TgZ(265,"option",78),e._uU(266,"Yes"),e.qZA(),e.TgZ(267,"option",79),e._uU(268,"No"),e.qZA()()()(),e.TgZ(269,"div",6)(270,"div",7)(271,"label",72),e._uU(272,"Open Item"),e.qZA(),e._UZ(273,"br")(274,"input",80),e.qZA()(),e.TgZ(275,"div",6)(276,"div",7)(277,"label",74),e._uU(278,"Receiving Store"),e.qZA(),e._UZ(279,"br"),e.TgZ(280,"select",81)(281,"option",25),e._uU(282,"----"),e.qZA(),e.TgZ(283,"option",82),e._uU(284,"one"),e.qZA(),e.TgZ(285,"option",83),e._uU(286,"two"),e.qZA()()()()(),e.TgZ(287,"div",5)(288,"div",6)(289,"div",7)(290,"label",12),e._uU(291,"Last recieved date"),e.qZA(),e._UZ(292,"input",84),e.qZA()(),e.TgZ(293,"div",6)(294,"div",7)(295,"label",12),e._uU(296,"Last recieved price"),e.qZA(),e._UZ(297,"input",85),e.qZA()(),e.TgZ(298,"div",6)(299,"div",7)(300,"label",12),e._uU(301,"Last recieved quantity"),e.qZA(),e._UZ(302,"input",86),e.qZA()()(),e.TgZ(303,"div",87)(304,"div",6)(305,"button",88),e._uU(306,"Search"),e.qZA()(),e.TgZ(307,"div",6)(308,"button",89)(309,"i",90),e._uU(310," Add New"),e.qZA()()()()()(),e._UZ(311,"div",91),e.qZA()()()),2&n&&(e.xp6(43),e.Oqu(t.totalItem),e.xp6(41),e.Q6J("ngForOf",t.itemList),e.xp6(66),e.Q6J("formGroup",t.itemForm))},dependencies:[be.sg,b._Y,b.YN,b.Kr,b.Fj,b.Wl,b.EJ,b.JJ,b.JL,b.F,b.sg,b.u]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],qi.prototype,"loading",void 0);const El=function(c){return{display:c}};class jo{constructor(n,t,s,p){this.fb=n,this.toastr=t,this.guestService=s,this.userService=p,this.displayStyle="none",this.fileName="expense.xlsx",this.submitted=!1,this.title="Create Ad",this.isNew=!0,this.post=!0,this.update=!1,this.page=1,this.pageSize=100,this.itemsList=[],this.findList=[],this.createForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],amount:["",b.kI.required],date:["",b.kI.required],note:["",b.kI.required],dates:["",b.kI.required],subcategory:["",b.kI.required]})}ngOnInit(){this.getUser(),this.getExpenseLIst(),this.getItemsList(),this.GroupSorted()}getItemsList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getAccountGroupList();t&&(n.itemsList=t)}catch{n.toastr.error("Error fetching items list")}})()}adExpense(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.addExpense(n))&&t.toastr.success(null,"record successfully added "),t.getExpenseLIst()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}GroupSorted(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.GroupSorted();t&&(n.findList=t)}catch{n.toastr.error("Error fetching items list")}})()}findAccountGroup(){var n=this;return(0,Y.Z)(function*(){const t={find:n.createForm.value.name};try{const s=yield n.guestService.findExpenseGroup(t);Array.isArray(s)?n.expenseList=s:alert("Not found or result is not an array")}catch(s){console.error("Error finding account group:",s),alert("An error occurred")}})()}getExpenseLIst(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.guestService.getExpenseList();t&&(n.expenseList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}exportexcel(){let n=document.getElementById("excel-table");const t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,this.fileName)}openPopup(){this.header="Add New",this.displayStyle="block"}closePopup(){this.displayStyle="none"}editExpense(n){var t=this;return(0,Y.Z)(function*(){t.header="Edit",t.displayStyle="block";try{t.loading.start(),t.expense_info=yield t.guestService.getExpense(n),t.expense_info&&t.createForm.patchValue({id:t.expense_info[0].id,name:t.expense_info[0].name,amount:t.expense_info[0].amount,note:t.expense_info[0].note,date:t.expense_info[0].date})}catch(s){t.toastr.error(null,s)}finally{t.loading.stop()}})()}updateExpense(n){var t=this;return(0,Y.Z)(function*(){const s={name:n.name,amount:n.amount,note:n.note,date:n.date};try{t.loading.start(),yield t.guestService.updateExpense(s)}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}deleteExpense(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deleteExpense(n))&&t.getExpenseLIst()}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){const t={date:n.createForm.value.dates};try{n.loading.start();var s=yield n.guestService.searchExpenseDate(t);s&&(n.expenseList=s)}catch(p){n.toastr.error(null,p.message)}finally{n.loading.stop()}})()}}function Hc(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"i",55),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.deleteIncome(p.id))}),e.qZA()}}function Yc(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"i",53),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.editIncome(C.id))}),e.qZA(),e.YNc(15,Hc,1,0,"i",54),e.qZA()()}if(2&c){const t=n.$implicit,s=n.index,p=e.oxw(2);e.xp6(2),e.hij(" ",s+1,""),e.xp6(2),e.hij(" ",t.name,""),e.xp6(2),e.Oqu(t.amount),e.xp6(2),e.Oqu(t.note),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.hij(" ",t.created_date,""),e.xp6(3),e.Q6J("ngIf","admin"==p.user[0].roles)}}function po(c,n){1&c&&e._uU(0,"First")}function Nu(c,n){1&c&&e._uU(0,"Last")}function Kc(c,n){1&c&&e._uU(0,"Prev")}function Ml(c,n){1&c&&e._uU(0,"Next")}function Pu(c,n){1&c&&e._uU(0,"...")}function cp(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function dp(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",9)(2,"div",25)(3,"div",26)(4,"div",27)(5,"div",28)(6,"div",29)(7,"input",30),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.myFunction())}),e.qZA()(),e._UZ(8,"div",31),e.qZA()(),e.TgZ(9,"div",32)(10,"form",33)(11,"input",34),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()(),e.TgZ(12,"div",35)(13,"button",36),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup())}),e._uU(14," Add New"),e.qZA(),e.TgZ(15,"button",37),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportexcel())}),e._UZ(16,"i",38),e._uU(17," Export "),e.qZA()(),e.TgZ(18,"table",39)(19,"thead",40)(20,"tr",41)(21,"th",42),e._uU(22,"#"),e.qZA(),e.TgZ(23,"th",42),e._uU(24," Name"),e.qZA(),e.TgZ(25,"th",42),e._uU(26,"Amount"),e.qZA(),e.TgZ(27,"th",42),e._uU(28,"Note"),e.qZA(),e.TgZ(29,"th",42),e._uU(30,"Type"),e.qZA(),e.TgZ(31,"th",42),e._uU(32,"Date"),e.qZA(),e.TgZ(33,"th",42),e._uU(34,"Action"),e.qZA()()(),e.TgZ(35,"tbody"),e.YNc(36,Yc,16,7,"tr",43),e.ALo(37,"slice"),e.qZA()()(),e.TgZ(38,"div",44)(39,"div",45)(40,"ngb-pagination",46),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(41,po,1,0,"ng-template",47),e.YNc(42,Nu,1,0,"ng-template",48),e.YNc(43,Kc,1,0,"ng-template",49),e.YNc(44,Ml,1,0,"ng-template",50),e.YNc(45,Pu,1,0,"ng-template",51),e.YNc(46,cp,1,1,"ng-template",52),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(10),e.Q6J("formGroup",t.createForm),e.xp6(26),e.Q6J("ngForOf",e.Dn7(37,9,t.incomeList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.incomeList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function Fl(c,n){1&c&&(e.TgZ(0,"div",56)(1,"button",57),e._uU(2," Save"),e.qZA()())}function pp(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",56)(1,"button",58),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updateIncome(p.createForm.value))}),e._uU(2," Update"),e.qZA()()}}jo.\u0275fac=function(n){return new(n||jo)(e.Y36(b.qu),e.Y36(me._W),e.Y36(ee.Q),e.Y36(te.W))},jo.\u0275cmp=e.Xpm({type:jo,selectors:[["expenses"]],decls:45,vars:9,consts:[[1,"page"],["class","row",4,"blockUI"],["type","button",1,"btn","btn-primary",2,"margin","50px","padding","10px","display","none",3,"click"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-16",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","name","placeholder"," ..",1,"form-control"],["type","date","formControlName","date",1,"form-control"],["type","text","formControlName","amount",1,"form-control"],["formControlName","note","id","","cols","30","rows","10",1,"form-control"],["formControlName","subcategory",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","search..","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],[1,"mb-4",3,"formGroup"],["for",""],["formControlName","name","id","",3,"ngModelChange"],[1,"table-responsive"],[3,"formGroup"],["type","date","formControlName","dates",1,"form-control",2,"width","auto",3,"ngModelChange"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[3,"value"],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],["class","fa fa-close fa-lg text-danger",3,"click",4,"ngIf"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"],["type","button",1,"btn","btn-primary","btn-round",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,zc,52,15,"div",1),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return t.openPopup()}),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.TgZ(8,"i",7),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10),e._UZ(12,"div",11),e.TgZ(13,"div",12)(14,"form",13),e.NdJ("ngSubmit",function(){return t.adExpense(t.createForm.value)}),e.TgZ(15,"div",14)(16,"div",15)(17,"div",16)(18,"label"),e._uU(19," Name "),e.qZA(),e._UZ(20,"input",17),e.qZA()(),e.TgZ(21,"div",15)(22,"div",16)(23,"label"),e._uU(24," Date"),e.qZA(),e._UZ(25,"input",18),e.qZA()(),e.TgZ(26,"div",15)(27,"div",16)(28,"label"),e._uU(29," Amount"),e.qZA(),e._UZ(30,"input",19),e.qZA()(),e.TgZ(31,"div",15)(32,"div",16)(33,"label"),e._uU(34," Note"),e.qZA(),e._UZ(35,"textarea",20),e.qZA()(),e.TgZ(36,"div",15)(37,"div",16)(38,"label"),e._uU(39,"Group"),e.qZA(),e.TgZ(40,"select",21),e.YNc(41,Jc,2,2,"option",22),e.qZA()()()(),e.TgZ(42,"div",14),e.YNc(43,ku,3,0,"div",23),e.YNc(44,Gc,3,0,"div",23),e.qZA()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(2),e.Q6J("ngStyle",e.VKq(7,El,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.createForm),e.xp6(27),e.Q6J("ngForOf",t.itemsList),e.xp6(2),e.Q6J("ngIf","Add New"==t.header),e.xp6(1),e.Q6J("ngIf","Edit"==t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],jo.prototype,"loading",void 0);const ya=function(c){return{display:c}};class Ka{constructor(n,t,s,p){this.fb=n,this.toastr=t,this.guestService=s,this.userService=p,this.displayStyle="none",this.fileName="budget.xlsx",this.submitted=!1,this.title="Create Ad",this.isNew=!0,this.post=!0,this.update=!1,this.page=1,this.pageSize=200,this.createForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],amount:["",b.kI.required],date:["",b.kI.required],note:["",b.kI.required],dates:["",b.kI.required],type:["",b.kI.required]})}ngOnInit(){this.getUser(),this.getIncomeList()}addIncome(n){var t=this;return(0,Y.Z)(function*(){const s={name:n.name,amount:n.amount,note:n.note,type:n.type};try{t.loading.start(),(yield t.guestService.addBudgetList(s))&&t.toastr.success(null,"record successfully added "),t.getIncomeList()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}getIncomeList(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.guestService.getBudgetList();t&&(n.incomeList=t);let s=0;for(let p=0;p<n.incomeList.length;p++)s+=parseInt(n.incomeList[p].amount),n.totalAmount=s,console.log(s)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}exportexcel(){let n=document.getElementById("excel-table");const t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,this.fileName)}openPopup(){this.header="Add New",this.displayStyle="block"}closePopup(){this.displayStyle="none"}editIncome(n){var t=this;return(0,Y.Z)(function*(){t.header="Edit",t.displayStyle="block";try{t.loading.start(),t.expense_info=yield t.guestService.getBudget(n),t.expense_info&&t.createForm.patchValue({id:t.expense_info[0].id,name:t.expense_info[0].name,amount:t.expense_info[0].amount,note:t.expense_info[0].note,type:t.expense_info[0].type,date:t.expense_info[0].date})}catch{}finally{t.loading.stop()}})()}updateIncome(n){var t=this;return(0,Y.Z)(function*(){const s={id:n.id,name:n.name,amount:n.amount,note:n.note,type:n.type};try{t.loading.start(),(yield t.guestService.updateBudget(s))&&t.getIncomeList()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}deleteIncome(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deleteBudget(n))&&t.getIncomeList()}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start(),yield n.guestService.searchBudgetDates}catch(p){n.toastr.error(null,p.message)}finally{n.loading.stop()}})()}}function Wc(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&c){const t=n.$implicit,s=n.index;e.xp6(2),e.hij(" ",s+1,""),e.xp6(2),e.hij(" ",t.name,""),e.xp6(2),e.hij(" ",t.date,""),e.xp6(2),e.Oqu(t.amount),e.xp6(2),e.Oqu(t.note)}}function Vc(c,n){1&c&&e._uU(0,"First")}function Qc(c,n){1&c&&e._uU(0,"Last")}function fp(c,n){1&c&&e._uU(0,"Prev")}function $c(c,n){1&c&&e._uU(0,"Next")}function hs(c,n){1&c&&e._uU(0,"...")}function jl(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function gp(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",9)(2,"div",22)(3,"div",23)(4,"div",24)(5,"div",25)(6,"div",26)(7,"input",27),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.myFunction())}),e.qZA()(),e.TgZ(8,"div",28)(9,"p",29),e._uU(10),e.ALo(11,"number"),e.qZA()()()(),e.TgZ(12,"div",30)(13,"form",31)(14,"input",32),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()(),e.TgZ(15,"div",33)(16,"button",34),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup())}),e._uU(17," Add New"),e.qZA(),e.TgZ(18,"button",35),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportexcel())}),e._UZ(19,"i",36),e._uU(20," Export "),e.qZA()(),e.TgZ(21,"table",37)(22,"thead",38)(23,"tr",39)(24,"th",40),e._uU(25,"#"),e.qZA(),e.TgZ(26,"th",40),e._uU(27," Name"),e.qZA(),e.TgZ(28,"th",40),e._uU(29,"Date"),e.qZA(),e.TgZ(30,"th",40),e._uU(31,"Amount"),e.qZA(),e.TgZ(32,"th",40),e._uU(33,"Note"),e.qZA(),e.TgZ(34,"th",40),e._uU(35,"Action"),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,Wc,11,5,"tr",41),e.ALo(38,"slice"),e.qZA()()(),e.TgZ(39,"div",42)(40,"div",43)(41,"ngb-pagination",44),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(42,Vc,1,0,"ng-template",45),e.YNc(43,Qc,1,0,"ng-template",46),e.YNc(44,fp,1,0,"ng-template",47),e.YNc(45,$c,1,0,"ng-template",48),e.YNc(46,hs,1,0,"ng-template",49),e.YNc(47,jl,1,1,"ng-template",50),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(10),e.hij("Total Payments: GH\u20b5",e.lcZ(11,10,t.totalAmount),""),e.xp6(3),e.Q6J("formGroup",t.createForm),e.xp6(24),e.Q6J("ngForOf",e.Dn7(38,12,t.incomeList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.incomeList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function Rl(c,n){1&c&&(e.TgZ(0,"div",51)(1,"button",52),e._uU(2," Save"),e.qZA()())}function Xc(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",51)(1,"button",53),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updateIncome(p.createForm.value))}),e._uU(2," Update"),e.qZA()()}}Ka.\u0275fac=function(n){return new(n||Ka)(e.Y36(b.qu),e.Y36(me._W),e.Y36(ee.Q),e.Y36(te.W))},Ka.\u0275cmp=e.Xpm({type:Ka,selectors:[["budget"]],decls:45,vars:8,consts:[[1,"page"],["class","row",4,"blockUI"],["type","button",1,"btn","btn-primary",2,"margin","50px","padding","10px","display","none",3,"click"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-16",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","name","placeholder"," ..",1,"form-control"],["type","text","formControlName","amount",1,"form-control"],["formControlName","type","id","",1,"form-control"],["value","","hidden","","selected",""],["value","expense"],["value","income"],["formControlName","note","id","","cols","30","rows","10",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","search..","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],[1,"table-responsive"],[3,"formGroup"],["type","date","formControlName","dates",1,"form-control",2,"width","auto",3,"ngModelChange"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],["class","fa fa-close fa-lg text-danger",3,"click",4,"ngIf"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"],["type","button",1,"btn","btn-primary","btn-round",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,dp,47,13,"div",1),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return t.openPopup()}),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.TgZ(8,"i",7),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10),e._UZ(12,"div",11),e.TgZ(13,"div",12)(14,"form",13),e.NdJ("ngSubmit",function(){return t.addIncome(t.createForm.value)}),e.TgZ(15,"div",14)(16,"div",15)(17,"div",16)(18,"label"),e._uU(19," Name "),e.qZA(),e._UZ(20,"input",17),e.qZA()(),e.TgZ(21,"div",15)(22,"div",16)(23,"label"),e._uU(24," Amount"),e.qZA(),e._UZ(25,"input",18),e.qZA()(),e.TgZ(26,"div",15)(27,"div",16)(28,"label"),e._uU(29," Type"),e.qZA(),e.TgZ(30,"select",19)(31,"option",20),e._uU(32,"----------"),e.qZA(),e.TgZ(33,"option",21),e._uU(34,"Expense"),e.qZA(),e.TgZ(35,"option",22),e._uU(36,"Income"),e.qZA()()()(),e.TgZ(37,"div",15)(38,"div",16)(39,"label"),e._uU(40," Note"),e.qZA(),e._UZ(41,"textarea",23),e.qZA()()(),e.TgZ(42,"div",14),e.YNc(43,Fl,3,0,"div",24),e.YNc(44,pp,3,0,"div",24),e.qZA()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(2),e.Q6J("ngStyle",e.VKq(6,ya,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.createForm),e.xp6(29),e.Q6J("ngIf","Add New"==t.header),e.xp6(1),e.Q6J("ngIf","Edit"==t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Ka.prototype,"loading",void 0);const mp=function(c){return{display:c}};class Wa{constructor(n,t,s,p){this.fb=n,this.toastr=t,this.guestService=s,this.userService=p,this.displayStyle="none",this.fileName="income.xlsx",this.submitted=!1,this.title="Create Ad",this.isNew=!0,this.post=!0,this.update=!1,this.page=1,this.pageSize=200,this.createForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],amount:["",b.kI.required],date:["",b.kI.required],note:["",b.kI.required],dates:["",b.kI.required]})}ngOnInit(){this.getUser(),this.getIncomeList()}addIncome(n){var t=this;return(0,Y.Z)(function*(){const s={name:n.name,amount:n.amount,note:n.note,date:n.date};try{t.loading.start(),(yield t.guestService.addIncomeList(s))&&t.toastr.success(null,"record successfully added "),t.getIncomeList()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}getIncomeList(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.guestService.getIncomeList();t&&(n.incomeList=t);let s=0;for(let p=0;p<n.incomeList.length;p++)s+=parseInt(n.incomeList[p].amount),n.totalAmount=s,console.log(s)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}exportexcel(){let n=document.getElementById("excel-table");const t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,this.fileName)}openPopup(){this.header="Add New",this.displayStyle="block"}closePopup(){this.displayStyle="none"}editIncome(n){var t=this;return(0,Y.Z)(function*(){t.header="Edit",t.displayStyle="block";try{t.loading.start(),t.expense_info=yield t.guestService.getIncome(n),t.expense_info&&t.createForm.patchValue({id:t.expense_info[0].id,name:t.expense_info[0].name,amount:t.expense_info[0].amount,note:t.expense_info[0].note,date:t.expense_info[0].date})}catch(s){t.toastr.error(null,s)}finally{t.loading.stop()}})()}updateIncome(n){var t=this;return(0,Y.Z)(function*(){const s={id:n.id,name:n.name,amount:n.amount,note:n.note,date:n.date};try{t.loading.start(),(yield t.guestService.updateIncome(s))&&t.getIncomeList()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}deleteIncome(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deleteIncome(n))&&t.getIncomeList()}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){const t={date:n.createForm.value.dates};try{n.loading.start(),n.incomeList=yield n.guestService.searchIncomeDates(t)}catch(s){n.toastr.error(null,s.message)}finally{n.loading.stop()}})()}}Wa.\u0275fac=function(n){return new(n||Wa)(e.Y36(b.qu),e.Y36(me._W),e.Y36(ee.Q),e.Y36(te.W))},Wa.\u0275cmp=e.Xpm({type:Wa,selectors:[["income"]],decls:39,vars:8,consts:[[1,"page"],["class","row",4,"blockUI"],["type","button",1,"btn","btn-primary",2,"margin","50px","padding","10px","display","none",3,"click"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-16",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","name","placeholder"," ..",1,"form-control"],["type","date","formControlName","date",1,"form-control"],["type","text","formControlName","amount",1,"form-control"],["formControlName","note","id","","cols","30","rows","10",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","search..","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],[2,"float","left","color","gray"],[1,"table-responsive"],[3,"formGroup"],["type","date","formControlName","dates",1,"form-control",2,"width","auto",3,"ngModelChange"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"],["type","button",1,"btn","btn-primary","btn-round",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,gp,48,16,"div",1),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return t.openPopup()}),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.TgZ(8,"i",7),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10),e._UZ(12,"div",11),e.TgZ(13,"div",12)(14,"form",13),e.NdJ("ngSubmit",function(){return t.addIncome(t.createForm.value)}),e.TgZ(15,"div",14)(16,"div",15)(17,"div",16)(18,"label"),e._uU(19," Name "),e.qZA(),e._UZ(20,"input",17),e.qZA()(),e.TgZ(21,"div",15)(22,"div",16)(23,"label"),e._uU(24," Date"),e.qZA(),e._UZ(25,"input",18),e.qZA()(),e.TgZ(26,"div",15)(27,"div",16)(28,"label"),e._uU(29," Amount"),e.qZA(),e._UZ(30,"input",19),e.qZA()(),e.TgZ(31,"div",15)(32,"div",16)(33,"label"),e._uU(34," Note"),e.qZA(),e._UZ(35,"textarea",20),e.qZA()()(),e.TgZ(36,"div",14),e.YNc(37,Rl,3,0,"div",21),e.YNc(38,Xc,3,0,"div",21),e.qZA()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(2),e.Q6J("ngStyle",e.VKq(6,mp,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.createForm),e.xp6(23),e.Q6J("ngIf","Add New"==t.header),e.xp6(1),e.Q6J("ngIf","Edit"==t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU,be.JJ]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Wa.prototype,"loading",void 0);var Iu=cn(4159),ba=cn.n(Iu);function Bi(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(e.xi3(5,3,t.amount,"\u20b5")),e.xp6(3),e.Oqu(t.note)}}function ed(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(e.xi3(5,3,t.amount,"\u20b5")),e.xp6(3),e.Oqu(t.note)}}function hp(c,n){if(1&c&&(e.TgZ(0,"div",14)(1,"header",15)(2,"h2"),e._uU(3,"Longford City"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.ALo(6,"date"),e.qZA()(),e.TgZ(7,"section",16)(8,"h5",17),e._uU(9,"Income"),e.qZA(),e.TgZ(10,"table",18)(11,"thead")(12,"tr")(13,"th"),e._uU(14,"Income Category"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Amount (\u20b5)"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Breakdown"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,Bi,8,6,"tr",19),e.qZA(),e.TgZ(21,"tfoot")(22,"tr",20)(23,"td")(24,"strong"),e._uU(25,"Total Income"),e.qZA()(),e.TgZ(26,"td",21)(27,"strong"),e._uU(28),e.ALo(29,"currency"),e.qZA()()()()()(),e.TgZ(30,"section",16)(31,"h5",17),e._uU(32,"Expenditure"),e.qZA(),e.TgZ(33,"table",18)(34,"thead")(35,"tr")(36,"th"),e._uU(37,"Expenditure Category"),e.qZA(),e.TgZ(38,"th"),e._uU(39,"Amount (\u20b5)"),e.qZA(),e.TgZ(40,"th"),e._uU(41,"Breakdown"),e.qZA()()(),e.TgZ(42,"tbody"),e.YNc(43,ed,8,6,"tr",19),e.qZA(),e.TgZ(44,"tfoot")(45,"tr",22)(46,"td")(47,"strong"),e._uU(48,"Total Expenditure"),e.qZA()(),e.TgZ(49,"td",21)(50,"strong"),e._uU(51),e.ALo(52,"currency"),e.qZA()()()()()(),e.TgZ(53,"footer",23)(54,"p"),e._uU(55,"Generated by: "),e.TgZ(56,"strong"),e._uU(57),e.qZA()(),e.TgZ(58,"p"),e._uU(59,"Signature: __________________________"),e.qZA()()()),2&c){const t=e.oxw(2);e.xp6(5),e.hij("Budget Report for: ",e.xi3(6,6,t.createForm.value.dates,"MMMM d, yyyy"),""),e.xp6(15),e.Q6J("ngForOf",t.incomeReport),e.xp6(8),e.Oqu(e.xi3(29,9,t.totalIncome,"\u20b5")),e.xp6(15),e.Q6J("ngForOf",t.expenditureReport),e.xp6(8),e.Oqu(e.xi3(52,12,t.totalExpenditure,"\u20b5")),e.xp6(6),e.Oqu(t.user[0].firstname+" "+t.user[0].lastname)}}function td(c,n){1&c&&(e.TgZ(0,"div",24)(1,"p"),e._uU(2,"No records found for the selected date."),e.qZA()())}function nd(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h4",4),e._uU(4,"Budget Report"),e.qZA(),e.TgZ(5,"form",5)(6,"div",6)(7,"label",7),e._uU(8,"Select Date Range:"),e.qZA(),e.TgZ(9,"input",8),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()()(),e.TgZ(10,"div",9)(11,"button",10),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.printToPdf())}),e._uU(12,"Print"),e.qZA(),e.TgZ(13,"button",11),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.downloadPdf())}),e._uU(14,"Download PDF"),e.qZA()(),e.YNc(15,hp,60,15,"div",12),e.YNc(16,td,3,0,"ng-template",null,13,e.W1O),e.qZA()()()}if(2&c){const t=e.MAs(17),s=e.oxw();e.xp6(5),e.Q6J("formGroup",s.createForm),e.xp6(10),e.Q6J("ngIf",s.incomeNumber>0||s.expenseNumber>0)("ngIfElse",t)}}class _s{constructor(n,t,s,p){this.fb=n,this.toastr=t,this.guestService=s,this.userService=p,this.displayStyle="none",this.fileName="payment.xlsx",this.submitted=!1,this.title="Create Ad",this.isNew=!0,this.post=!0,this.update=!1,this.page=1,this.pageSize=200,this.totaldeduction=0,this.totalallowance=0,this.totalIncome=0,this.totalExpenditure=0,this.expenseNumber=0,this.incomeNumber=0,this.createForm=this.fb.group({id:["",b.kI.required],term:["",b.kI.required],year:["",b.kI.required],date:["",b.kI.required],dates:["",b.kI.required]})}ngOnInit(){this.getUser()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){const t={date:n.createForm.value.dates};try{n.loading.start(),n.searchIncomeDates(t.date),n.searchExpenseDates(t.date),n.cashAtHand=n.totalIncome-n.totalExpenditure}catch(s){n.toastr.error(null,s.message)}finally{n.loading.stop()}})()}searchIncomeDates(n){var t=this;return(0,Y.Z)(function*(){let s=0;const p={date:n};try{t.loading.start();var C=yield t.guestService.searchIncomeBudgetDates(p);C&&(t.incomeReport=C),t.incomeNumber=t.incomeReport.length;for(let O=0;O<t.incomeReport.length;O++)s+=parseInt(t.incomeReport[O].amount),t.totalIncome=s}catch(O){t.toastr.error(null,O.message)}finally{t.loading.stop()}})()}searchExpenseDates(n){var t=this;return(0,Y.Z)(function*(){let s=0;const p={date:n};try{t.loading.start();var C=yield t.guestService.searchExpenseBudgetDate(p);C&&(t.expenditureReport=C),t.expenseNumber=t.expenditureReport.length;for(let O=0;O<t.expenditureReport.length;O++)s+=parseInt(t.expenditureReport[O].amount),t.totalExpenditure=s}catch(O){t.toastr.error(null,O.message)}finally{t.loading.stop()}})()}printToPdf(){const n=document.getElementById("pdf"),t=window.open("","PRINT","height=800,width=600");n&&t?(t.document.write(`\n    <html>\n      <head>\n        \n    <style>\n      body, h1, h2, h3, p, table, th, td {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n        font-family: Arial, sans-serif;\n        font-size: 12px; /* Adjusted font size for readability */\n      }\n      .container {\n        max-width: 100%;\n        margin: 0;\n        padding: 10px;\n        background: #fff;\n        border-radius: 4px;\n        box-shadow: none;\n      }\n      .header {\n        text-align: center;\n        margin-bottom: 10px;\n      }\n      .header h2 {\n        color: #333;\n        font-size: 16px;\n      }\n      .header p {\n        color: #666;\n        font-size: 12px;\n      }\n      .report-details h3 {\n        color: #333;\n        font-size: 14px;\n        border-bottom: 1px solid #ddd;\n        margin-bottom: 5px;\n        padding-bottom: 5px;\n      }\n      table {\n        width: 100%;\n        border-collapse: collapse;\n        margin-bottom: 15px;\n      }\n      table, th, td {\n        border: 1px solid #ddd;\n      }\n      th, td {\n        padding: 8px;\n        text-align: left;\n        font-size: 12px;\n      }\n      th {\n        background-color: #f4f4f4;\n      }\n      td {\n        background-color: #fff;\n      }\n      tr:nth-child(even) td {\n        background-color: #f9f9f9;\n      }\n      .footer {\n        text-align: center;\n        margin-top: 10px;\n        color: #666;\n        font-size: 12px;\n      }\n      @media print {\n        @page {\n          size: A4;\n          margin: 10mm;\n        }\n        body {\n          margin: 0;\n        }\n        .container {\n          max-width: 100%;\n          page-break-inside: avoid;\n        }\n      }\n    </style>\n  \n      </head>\n      <body>\n        ${n.innerHTML}\n      </body>\n    </html>\n  `),t.document.close(),t.focus(),t.print()):console.error("Print area or print window not found.")}downloadPdf(){const n=document.getElementById("pdf");n?ba()(n,{scale:2}).then(t=>{const s=t.toDataURL("image/png"),p=new Mr.ZP("p","mm","a4"),qe=210*t.height/t.width;let Ln=qe,un=0;for(p.addImage(s,"PNG",0,un,210,qe),Ln-=295;Ln>=0;)un-=295,p.addPage(),p.addImage(s,"PNG",0,un,210,qe),Ln-=295;p.save("budget.pdf")}):console.error("Print area not found.")}}function _p(c,n){if(1&c&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.firstname+" "+t.lastname),e.xp6(1),e.Oqu(t.firstname+" "+t.lastname)}}function vs(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(e.xi3(5,7,t.amount,"\u20b5")),e.xp6(3),e.Oqu(t.discount),e.xp6(2),e.Oqu(t.customer),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.method),e.xp6(2),e.Oqu(t.cashier)}}function Lu(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(e.xi3(5,2,t.amount,"\u20b5"))}}function Ui(c,n){if(1&c&&(e.TgZ(0,"div",27)(1,"header",28)(2,"p"),e._uU(3,"Daily Income and Expenditure Report"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.ALo(6,"date"),e.qZA()(),e.TgZ(7,"section",29)(8,"h3"),e._uU(9,"Income"),e.qZA(),e.TgZ(10,"div",2)(11,"div",3)(12,"div",30)(13,"table",31)(14,"thead",32)(15,"tr")(16,"th"),e._uU(17,"Income Category"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Amount (\u20b5)"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Discount"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Customer"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Phone"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Method"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Cashier"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,vs,16,10,"tr",33),e.qZA(),e.TgZ(32,"tfoot")(33,"tr",34)(34,"td"),e._uU(35,"Total Income"),e.qZA(),e.TgZ(36,"td"),e._uU(37),e.ALo(38,"currency"),e.qZA()()()()()()()(),e.TgZ(39,"section",29)(40,"h3"),e._uU(41,"Expenditure"),e.qZA(),e.TgZ(42,"div",2)(43,"div",3)(44,"div",30)(45,"table",31)(46,"thead",32)(47,"tr")(48,"th"),e._uU(49,"Expenditure Category"),e.qZA(),e.TgZ(50,"th"),e._uU(51,"Amount (\u20b5)"),e.qZA()()(),e.TgZ(52,"tbody"),e.YNc(53,Lu,6,5,"tr",33),e.qZA(),e.TgZ(54,"tfoot")(55,"tr",34)(56,"td"),e._uU(57,"Total Expenditure"),e.qZA(),e.TgZ(58,"td"),e._uU(59),e.ALo(60,"currency"),e.qZA()()()()()()()(),e.TgZ(61,"section",29)(62,"h3"),e._uU(63,"Cash at Hand"),e.qZA(),e.TgZ(64,"div",2)(65,"div",3)(66,"p")(67,"strong"),e._uU(68),e.ALo(69,"currency"),e.qZA()()()()(),e.TgZ(70,"footer",35)(71,"p"),e._uU(72,"Generated by: "),e.TgZ(73,"strong"),e._uU(74),e.qZA()(),e.TgZ(75,"p"),e._uU(76,"Signature: __________________________"),e.qZA()()()),2&c){const t=e.oxw(2);e.xp6(5),e.hij("Date: ",e.xi3(6,7,t.createForm.value.dates,"MMMM d, yyyy"),""),e.xp6(26),e.Q6J("ngForOf",t.incomeReport),e.xp6(6),e.Oqu(e.xi3(38,10,t.totalIncome,"\u20b5")),e.xp6(16),e.Q6J("ngForOf",t.expenditureReport),e.xp6(6),e.Oqu(e.xi3(60,13,t.totalExpenditure,"\u20b5")),e.xp6(9),e.Oqu(e.xi3(69,16,t.totalIncome,"\u20b5")),e.xp6(6),e.Oqu(t.user[0].firstname+" "+t.user[0].lastname)}}function od(c,n){1&c&&(e.TgZ(0,"div",36)(1,"p"),e._uU(2,"No records found for the selected date."),e.qZA()())}function vp(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"form",4)(4,"div",5)(5,"label",6),e._uU(6,"Select Date:"),e.qZA(),e.TgZ(7,"input",7),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()(),e.TgZ(8,"label",8),e._uU(9,"Filter By Cashier"),e.qZA(),e.TgZ(10,"select",9),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.findCashier())}),e.YNc(11,_p,2,2,"option",10),e.qZA(),e.TgZ(12,"label",8),e._uU(13,"Filter By Method"),e.qZA(),e.TgZ(14,"select",11),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.findMethod())}),e.TgZ(15,"option",12),e._uU(16,"Cash"),e.qZA(),e.TgZ(17,"option",13),e._uU(18,"MoMo"),e.qZA(),e.TgZ(19,"option",14),e._uU(20,"MoMo & Cash"),e.qZA(),e.TgZ(21,"option",15),e._uU(22,"Credit CArd"),e.qZA()(),e.TgZ(23,"label",8),e._uU(24,"Filter By Department"),e.qZA(),e.TgZ(25,"select",16),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.findDepartment())}),e.TgZ(26,"option",17),e._uU(27,"Bar"),e.qZA(),e.TgZ(28,"option",18),e._uU(29,"Restaurant"),e.qZA()()(),e.TgZ(30,"div",19)(31,"button",20),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.printToPdf())}),e._uU(32,"Print"),e.qZA(),e.TgZ(33,"button",21),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.downloadPdf())}),e._uU(34,"Download PDF"),e.qZA(),e.TgZ(35,"button",22),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.filterByMostPayment())}),e._uU(36,"Filter by Most Payment"),e.qZA(),e.TgZ(37,"button",23),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.filterByMostPaymentCustomer())}),e._uU(38,"Filter by Most Customer"),e.qZA()(),e.YNc(39,Ui,77,19,"div",24),e.YNc(40,od,3,0,"ng-template",null,25,e.W1O),e.qZA()()()}if(2&c){const t=e.MAs(41),s=e.oxw();e.xp6(3),e.Q6J("formGroup",s.createForm),e.xp6(8),e.Q6J("ngForOf",s.cashiers),e.xp6(28),e.Q6J("ngIf",s.incomeReport.length>0||s.expenditureReport.length>0)("ngIfElse",t)}}_s.\u0275fac=function(n){return new(n||_s)(e.Y36(b.qu),e.Y36(me._W),e.Y36(ee.Q),e.Y36(te.W))},_s.\u0275cmp=e.Xpm({type:_s,selectors:[["budget-report"]],decls:1,vars:1,consts:[["class","container",4,"blockUI"],[1,"container"],[1,"card","shadow-sm"],[1,"card-body","p-4"],[1,"card-title","text-center","mb-4"],[1,"report-form","mb-4",3,"formGroup"],[1,"form-group"],["for","dates",1,"form-label"],["type","date","id","dates","formControlName","dates",1,"form-control",3,"ngModelChange"],[1,"d-flex","mb-4"],[1,"btn","btn-primary","mr-2",3,"click"],["id","pdfBtn",1,"btn","btn-secondary",3,"click"],["class","budget-report","id","pdf",4,"ngIf","ngIfElse"],["noReport",""],["id","pdf",1,"budget-report"],[1,"text-center","mb-4"],[1,"report-section","mb-4"],[1,"section-title"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"table-success"],["colspan","2"],[1,"table-danger"],[1,"text-right","mt-5"],[1,"alert","alert-info","text-center"]],template:function(n,t){1&n&&e.YNc(0,nd,18,3,"div",0),2&n&&e.Q6J("blockUI","loading")},dependencies:[be.sg,be.O5,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,ae.PC,be.H9,be.uU]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],_s.prototype,"loading",void 0);class Va{constructor(n,t,s,p){this.fb=n,this.toastr=t,this.guestService=s,this.userService=p,this.displayStyle="none",this.fileName="daily_income.xlsx",this.submitted=!1,this.title="Create Ad",this.isNew=!0,this.post=!0,this.update=!1,this.page=1,this.pageSize=200,this.totaldeduction=0,this.totalallowance=0,this.totalIncome=0,this.totalExpenditure=0,this.createForm=this.fb.group({id:["",b.kI.required],role:["",b.kI.required],method:["",b.kI.required],employee:["",b.kI.required],date:["",b.kI.required],dates:["",b.kI.required],cashier:["",b.kI.required],paymethod:["",b.kI.required],barrest:["",b.kI.required]})}ngOnInit(){this.getUser(),this.getUsers(),this.getCashiers()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){const t={date:n.createForm.value.dates};try{n.loading.start(),n.searchIncomeDates(t.date),n.searchExpenseDates(t.date),n.cashAtHand=n.totalIncome-n.totalExpenditure}catch(s){n.toastr.error(null,s.message)}finally{n.loading.stop()}})()}filterByMostPayment(){this.incomeReport&&0!==this.incomeReport.length?this.incomeReport.sort((n,t)=>{const s=parseFloat(n.amount)||0;return(parseFloat(t.amount)||0)-s}):this.toastr.info("No income records available to sort.")}getUsers(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start(),n.users=yield n.userService.get_users_waiter()}catch{}finally{n.loading.stop()}console.log(n.users)})()}filterByMostPaymentCustomer(){if(!this.incomeReport||0===this.incomeReport.length)return void this.toastr.info("No income records available to sort.");const n=this.incomeReport.reduce((s,p)=>{const C=p.customer||"Unknown",O=parseFloat(p.amount)||0;return s[C]=(s[C]||0)+O,s},{}),t=Object.entries(n).sort(([,s],[,p])=>p-s);this.incomeReport=t.map(([s,p])=>({customer:s,amount:p}))}getCashiers(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start(),n.cashiers=yield n.userService.get_users_cashiers()}catch{}finally{n.loading.stop()}console.log(n.users)})()}searchIncomeDates(n){var t=this;return(0,Y.Z)(function*(){let s=0;const p={date:n};try{t.loading.start();var C=yield t.guestService.searchIncomeDates(p);C&&(t.incomeReport=C);for(let O=0;O<t.incomeReport.length;O++)s+=parseInt(t.incomeReport[O].amount),t.totalIncome=s}catch(O){t.toastr.error(null,O.message)}finally{t.loading.stop()}})()}searchExpenseDates(n){var t=this;return(0,Y.Z)(function*(){let s=0;const p={date:n};try{t.loading.start();var C=yield t.guestService.searchExpenseDate(p);C&&(t.expenditureReport=C);for(let O=0;O<t.expenditureReport.length;O++)s+=parseInt(t.expenditureReport[O].amount),t.totalExpenditure=s}catch(O){t.toastr.error(null,O.message)}finally{t.loading.stop()}})()}findWaiter(n){var t=this;return(0,Y.Z)(function*(){let s=0;const p={date:t.createForm.value.dates,waiter:t.createForm.value.employee};try{t.loading.start();var C=yield t.guestService.searchWaiterDates(p);C&&(t.incomeReport=C);for(let O=0;O<t.incomeReport.length;O++)s+=parseInt(t.incomeReport[O].amount),t.totalIncome=s}catch(O){t.toastr.error(null,O.message)}finally{t.loading.stop()}})()}findMethod(n){var t=this;return(0,Y.Z)(function*(){let s=0;const p={date:t.createForm.value.dates,waiter:t.createForm.value.paymethod};try{t.loading.start();var C=yield t.guestService.searchMethodDates(p);C&&(t.incomeReport=C);for(let O=0;O<t.incomeReport.length;O++)s+=parseInt(t.incomeReport[O].amount),t.totalIncome=s}catch(O){t.toastr.error(null,O.message)}finally{t.loading.stop()}})()}findDepartment(n){var t=this;return(0,Y.Z)(function*(){let s=0;const p={date:t.createForm.value.dates,waiter:t.createForm.value.barrest};try{t.loading.start();var C=yield t.guestService.searchDepartmentDates(p);C&&(t.incomeReport=C);for(let O=0;O<t.incomeReport.length;O++)s+=parseInt(t.incomeReport[O].amount),t.totalIncome=s}catch(O){t.toastr.error(null,O.message)}finally{t.loading.stop()}})()}findCashier(n){var t=this;return(0,Y.Z)(function*(){let s=0;const p={date:t.createForm.value.dates,waiter:t.createForm.value.cashier};try{t.loading.start();var C=yield t.guestService.searchCashierDates(p);C&&(t.incomeReport=C);for(let O=0;O<t.incomeReport.length;O++)s+=parseInt(t.incomeReport[O].amount),t.totalIncome=s}catch(O){t.toastr.error(null,O.message)}finally{t.loading.stop()}})()}printToPdf(){const n=document.getElementById("pdf"),t=window.open("","PRINT","height=800,width=600");n&&t?(t.document.write(`\n    <html>\n      <head>\n        \n    <style>\n      body, h1, h2, h3, p, table, th, td {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n        font-family: Arial, sans-serif;\n        font-size: 12px; /* Adjusted font size for readability */\n      }\n      .container {\n        max-width: 100%;\n        margin: 0;\n        padding: 10px;\n        background: #fff;\n        border-radius: 4px;\n        box-shadow: none;\n      }\n      .header {\n        text-align: center;\n        margin-bottom: 10px;\n      }\n      .header h2 {\n        color: #333;\n        font-size: 16px;\n      }\n      .header p {\n        color: #666;\n        font-size: 12px;\n      }\n      .report-details h3 {\n        color: #333;\n        font-size: 14px;\n        border-bottom: 1px solid #ddd;\n        margin-bottom: 5px;\n        padding-bottom: 5px;\n      }\n      table {\n        width: 100%;\n        border-collapse: collapse;\n        margin-bottom: 15px;\n      }\n      table, th, td {\n        border: 1px solid #ddd;\n      }\n      th, td {\n        padding: 8px;\n        text-align: left;\n        font-size: 12px;\n      }\n      th {\n        background-color: #f4f4f4;\n      }\n      td {\n        background-color: #fff;\n      }\n      tr:nth-child(even) td {\n        background-color: #f9f9f9;\n      }\n      .footer {\n        text-align: center;\n        margin-top: 10px;\n        color: #666;\n        font-size: 12px;\n      }\n      @media print {\n        @page {\n          size: A4;\n          margin: 10mm;\n        }\n        body {\n          margin: 0;\n        }\n        .container {\n          max-width: 100%;\n          page-break-inside: avoid;\n        }\n      }\n    </style>\n  \n      </head>\n      <body>\n        ${n.innerHTML}\n      </body>\n    </html>\n  `),t.document.close(),t.focus(),t.print()):console.error("Print area or print window not found.")}downloadPdf(){const n=document.getElementById("pdf");n?ba()(n,{scale:2}).then(t=>{const s=t.toDataURL("image/png"),p=new Mr.ZP("p","mm","a4"),qe=210*t.height/t.width;let Ln=qe,un=0;for(p.addImage(s,"PNG",0,un,210,qe),Ln-=295;Ln>=0;)un-=295,p.addPage(),p.addImage(s,"PNG",0,un,210,qe),Ln-=295;p.save("daily_report.pdf")}):console.error("Print area not found.")}}function yp(c,n){if(1&c&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.firstname+" "+t.lastname),e.xp6(1),e.Oqu(t.firstname+" "+t.lastname)}}function bp(c,n){if(1&c&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function Hs(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA()()),2&c){const t=n.$implicit,s=e.oxw(3);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.qty),e.xp6(2),e.hij("GH\u20b5",t.price,""),e.xp6(2),e.hij("GH\u20b5",t.qty*t.price,""),e.xp6(2),e.Oqu(s.order.waiter),e.xp6(2),e.Oqu(s.order.customer),e.xp6(2),e.Oqu(s.order.phone),e.xp6(2),e.Oqu(s.order.status)}}function Dl(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(e.xi3(5,2,t.amount,"\u20b5"))}}function Ou(c,n){if(1&c&&(e.TgZ(0,"div",31)(1,"header",32)(2,"p"),e._uU(3,"Income and Expenditure Report"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.ALo(6,"date"),e.ALo(7,"date"),e.qZA()(),e.TgZ(8,"section",33)(9,"h5"),e._uU(10,"Income"),e.qZA(),e.TgZ(11,"div",34)(12,"table",35)(13,"thead",36)(14,"tr")(15,"th"),e._uU(16,"Income Category"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Amount (\u20b5)"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Discount"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Customer"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Phone"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Cashier"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,Hs,17,8,"tr",37),e.qZA(),e.TgZ(29,"tfoot")(30,"tr",38)(31,"td"),e._uU(32,"Total Income"),e.qZA(),e.TgZ(33,"td"),e._uU(34),e.ALo(35,"currency"),e.qZA()()()()()(),e.TgZ(36,"section",33)(37,"h5"),e._uU(38,"Expenditure"),e.qZA(),e.TgZ(39,"div",34)(40,"table",35)(41,"thead",36)(42,"tr")(43,"th"),e._uU(44,"Expenditure Category"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Amount (\u20b5)"),e.qZA()()(),e.TgZ(47,"tbody"),e.YNc(48,Dl,6,5,"tr",37),e.qZA(),e.TgZ(49,"tfoot")(50,"tr",38)(51,"td"),e._uU(52,"Total Expenditure"),e.qZA(),e.TgZ(53,"td"),e._uU(54),e.ALo(55,"currency"),e.qZA()()()()()(),e.TgZ(56,"section",33)(57,"h5"),e._uU(58,"Cash at Hand"),e.qZA(),e.TgZ(59,"p")(60,"strong"),e._uU(61),e.ALo(62,"currency"),e.qZA()()(),e.TgZ(63,"footer",39)(64,"p"),e._uU(65," Generated by: "),e.TgZ(66,"strong"),e._uU(67),e.qZA()(),e.TgZ(68,"p"),e._uU(69,"Signature: __________________________"),e.qZA()()()),2&c){const t=e.oxw(2);e.xp6(5),e.AsE(" Date: ",e.xi3(6,8,t.createForm.value.dates,"MMMM d, yyyy")," to ",e.xi3(7,11,t.createForm.value.datestwo,"MMMM d, yyyy")," "),e.xp6(23),e.Q6J("ngForOf",t.order.items),e.xp6(6),e.Oqu(e.xi3(35,14,t.totalIncome,"\u20b5")),e.xp6(14),e.Q6J("ngForOf",t.expenditureReport),e.xp6(6),e.Oqu(e.xi3(55,17,t.totalExpenditure,"\u20b5")),e.xp6(7),e.Oqu(e.xi3(62,20,t.totalIncome,"\u20b5")),e.xp6(6),e.Oqu(t.user[0].firstname+" "+t.user[0].lastname)}}function id(c,n){1&c&&(e.TgZ(0,"div",40)(1,"p"),e._uU(2,"No records found for the selected date range."),e.qZA()())}function rd(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h4",4),e._uU(4,"Income and Expenditure Report"),e.qZA(),e.TgZ(5,"form",5)(6,"div",6)(7,"label",7),e._uU(8,"Start Date:"),e.qZA(),e._UZ(9,"input",8),e.qZA(),e.TgZ(10,"div",6)(11,"label",9),e._uU(12,"End Date:"),e.qZA(),e.TgZ(13,"input",10),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()(),e.TgZ(14,"label",11),e._uU(15,"Filter By Waiter"),e.qZA(),e.TgZ(16,"label",11),e._uU(17,"Filter By Cashier"),e.qZA(),e.TgZ(18,"select",12),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.findCashier())}),e.YNc(19,yp,2,2,"option",13),e.qZA(),e.TgZ(20,"label",11),e._uU(21,"Filter By Method"),e.qZA(),e.TgZ(22,"select",14),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.findMethod())}),e.TgZ(23,"option",15),e._uU(24,"Cash"),e.qZA(),e.TgZ(25,"option",16),e._uU(26,"MoMo"),e.qZA(),e.TgZ(27,"option",17),e._uU(28,"MoMo & Cash"),e.qZA(),e.TgZ(29,"option",18),e._uU(30,"Credit CArd"),e.qZA()(),e.TgZ(31,"label",11),e._uU(32,"Filter By Department"),e.qZA(),e.TgZ(33,"select",19),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.findDepartment())}),e.TgZ(34,"option",20),e._uU(35,"Bar"),e.qZA(),e.TgZ(36,"option",21),e._uU(37,"Restaurant"),e.qZA()(),e.TgZ(38,"label",11),e._uU(39,"Filter By Category"),e.qZA(),e.TgZ(40,"select",22),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.findCategory())}),e.YNc(41,bp,2,2,"option",13),e.qZA()(),e.TgZ(42,"div",23)(43,"button",24),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.printToPdf())}),e._uU(44," Print "),e.qZA(),e.TgZ(45,"button",25),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.downloadPdf())}),e._uU(46," Download PDF "),e.qZA(),e.TgZ(47,"button",26),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.filterByMostPayment())}),e._uU(48,"Filter by Most Payment"),e.qZA(),e.TgZ(49,"button",27),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.filterByMostPaymentCustomer())}),e._uU(50,"Filter by Most Customer"),e.qZA()(),e.YNc(51,Ou,70,23,"div",28),e.YNc(52,id,3,0,"ng-template",null,29,e.W1O),e.qZA()()()}if(2&c){const t=e.MAs(53),s=e.oxw();e.xp6(5),e.Q6J("formGroup",s.createForm),e.xp6(14),e.Q6J("ngForOf",s.cashiers),e.xp6(22),e.Q6J("ngForOf",s.categoryList),e.xp6(10),e.Q6J("ngIf",s.incomeReport.length>0||s.expenditureReport.length>0)("ngIfElse",t)}}Va.\u0275fac=function(n){return new(n||Va)(e.Y36(b.qu),e.Y36(me._W),e.Y36(ee.Q),e.Y36(te.W))},Va.\u0275cmp=e.Xpm({type:Va,selectors:[["daily-income-report"]],decls:1,vars:1,consts:[["class","container",4,"blockUI"],[1,"container"],[1,"card","bg-white","shadow-sm"],[1,"card-body"],[1,"mb-4",3,"formGroup"],[1,"form-group"],["for","dates"],["type","date","id","dates","formControlName","dates",1,"form-control",2,"max-width","300px",3,"ngModelChange"],["for",""],["formControlName","cashier","id","",3,"ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","paymethod","id","",3,"ngModelChange"],["value","Cash"],["value","Mobile Money"],["value","Mobile Money & Cash"],["value","Credit Card"],["formControlName","barrest","id","",3,"ngModelChange"],["value","drink"],["value","food"],[1,"d-flex","mb-4"],[1,"btn","btn-primary","mr-2",3,"click"],["id","pdfBtn",1,"btn","btn-secondary",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-info",3,"click"],["id","pdf",4,"ngIf","ngIfElse"],["noReport",""],[3,"value"],["id","pdf"],[1,"text-center","mb-4"],[1,"report-section","mb-4"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"font-weight-bold"],[1,"footer","text-right","mt-5"],[1,"alert","alert-info","text-center"]],template:function(n,t){1&n&&e.YNc(0,vp,42,4,"div",0),2&n&&e.Q6J("blockUI","loading")},dependencies:[be.sg,be.O5,b._Y,b.YN,b.Kr,b.Fj,b.EJ,b.JJ,b.JL,b.sg,b.u,ae.PC,be.H9,be.uU],styles:[".container[_ngcontent-%COMP%]{padding:20px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:0;color:#333}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:5px;color:#666}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#f8f9fa}.footer[_ngcontent-%COMP%]{font-size:.9rem;color:#555}.buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:120px}@media (max-width: 576px){.form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{width:100%}.buttons[_ngcontent-%COMP%]{flex-direction:column}.buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-bottom:10px}}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Va.prototype,"loading",void 0);class ys{constructor(n,t,s,p){this.fb=n,this.toastr=t,this.guestService=s,this.userService=p,this.displayStyle="none",this.fileName="daily_income_week.xlsx",this.submitted=!1,this.title="Create Ad",this.isNew=!0,this.post=!0,this.update=!1,this.page=1,this.pageSize=200,this.totaldeduction=0,this.totalallowance=0,this.totalIncome=0,this.totalExpenditure=0,this.createForm=this.fb.group({id:["",b.kI.required],role:["",b.kI.required],method:["",b.kI.required],date:["",b.kI.required],dates:["",b.kI.required],datestwo:["",b.kI.required],employee:["",b.kI.required],cashier:["",b.kI.required],paymethod:["",b.kI.required],barrest:[b.kI.required],categos:[b.kI.required]})}ngOnInit(){this.getUser(),this.getUsers(),this.getCashiers(),this.getCategoryList()}getCategoryList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getCategoryList();t&&(n.categoryList=t)}catch{}})()}getCashiers(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start(),n.cashiers=yield n.userService.get_users_cashiers()}catch{}finally{n.loading.stop()}console.log(n.users)})()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}findDepartment(n){var t=this;return(0,Y.Z)(function*(){let s=0;const p={date:t.createForm.value.dates,waiter:t.createForm.value.barrest,datetwo:t.createForm.value.datestwo};try{t.loading.start();var C=yield t.guestService.searchDepartmentDatesTwo(p);C&&(t.incomeReport=C);for(let O=0;O<t.incomeReport.length;O++)s+=parseInt(t.incomeReport[O].amount),t.totalIncome=s}catch(O){t.toastr.error(null,O.message)}finally{t.loading.stop()}})()}findCategory(n){var t=this;return(0,Y.Z)(function*(){let s=0;const p={date:t.createForm.value.dates,waiter:t.createForm.value.categos,datetwo:t.createForm.value.datestwo};try{t.loading.start();var C=yield t.guestService.searchCategoryDatesTwo(p);C&&(t.incomeReport=C);for(let O=0;O<t.incomeReport.length;O++)s+=parseInt(t.incomeReport[O].amount),t.totalIncome=s}catch(O){t.toastr.error(null,O.message)}finally{t.loading.stop()}})()}getUsers(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start(),n.users=yield n.userService.get_users_waiter()}catch{}finally{n.loading.stop()}console.log(n.users)})()}findWaiter(){var n=this;return(0,Y.Z)(function*(){let t=0;const s={date:n.createForm.value.dates,waiter:n.createForm.value.employee,datetwo:n.createForm.value.datestwo};try{n.loading.start();var p=yield n.guestService.searchWaiterDatesTwo(s);p&&(n.incomeReport=p);for(let C=0;C<n.incomeReport.length;C++)t+=parseInt(n.incomeReport[C].amount),n.totalIncome=t}catch(C){n.toastr.error(null,C.message)}finally{n.loading.stop()}})()}findMethod(){var n=this;return(0,Y.Z)(function*(){let t=0;const s={date:n.createForm.value.dates,waiter:n.createForm.value.paymethod,datetwo:n.createForm.value.datestwo};try{n.loading.start();var p=yield n.guestService.searchMethodDatesTwo(s);p&&(n.incomeReport=p);for(let C=0;C<n.incomeReport.length;C++)t+=parseInt(n.incomeReport[C].amount),n.totalIncome=t}catch(C){n.toastr.error(null,C.message)}finally{n.loading.stop()}})()}findCashier(){var n=this;return(0,Y.Z)(function*(){let t=0;const s={date:n.createForm.value.dates,waiter:n.createForm.value.cashier,datetwo:n.createForm.value.datestwo};try{n.loading.start();var p=yield n.guestService.searchCashierDatesTwo(s);p&&(n.incomeReport=p);for(let C=0;C<n.incomeReport.length;C++)t+=parseInt(n.incomeReport[C].amount),n.totalIncome=t}catch(C){n.toastr.error(null,C.message)}finally{n.loading.stop()}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){const t={date:n.createForm.value.dates,datetwo:n.createForm.value.datestwo};try{n.loading.start(),n.searchIncomeDates(t.date,t.datetwo),n.searchExpenseDates(t.date,t.datetwo),n.cashAtHand=n.totalIncome-n.totalExpenditure}catch(s){n.toastr.error(null,s.message)}finally{n.loading.stop()}})()}searchIncomeDates(n,t){var s=this;return(0,Y.Z)(function*(){let p=0;const C={date:n,datetwo:t};try{s.loading.start();var O=yield s.guestService.searchIncomeDatesTwo(C);O&&(s.incomeReport=O);for(let qe=0;qe<s.incomeReport.length;qe++)p+=parseInt(s.incomeReport[qe].amount),s.totalIncome=p}catch(qe){s.toastr.error(null,qe.message)}finally{s.loading.stop()}})()}searchExpenseDates(n,t){var s=this;return(0,Y.Z)(function*(){let p=0;const C={date:n,datetwo:t};try{s.loading.start();var O=yield s.guestService.searchExpenseDateTwo(C);O&&(s.expenditureReport=O);for(let qe=0;qe<s.expenditureReport.length;qe++)p+=parseInt(s.expenditureReport[qe].amount),s.totalExpenditure=p}catch(qe){s.toastr.error(null,qe.message)}finally{s.loading.stop()}})()}printToPdf(){const n=document.getElementById("pdf"),t=window.open("","PRINT","height=800,width=600");n&&t?(t.document.write(`\n    <html>\n      <head>\n        \n    <style>\n      body, h1, h2, h3, p, table, th, td {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n        font-family: Arial, sans-serif;\n        font-size: 12px; /* Adjusted font size for readability */\n      }\n      .container {\n        max-width: 100%;\n        margin: 0;\n        padding: 10px;\n        background: #fff;\n        border-radius: 4px;\n        box-shadow: none;\n      }\n      .header {\n        text-align: center;\n        margin-bottom: 10px;\n      }\n      .header h2 {\n        color: #333;\n        font-size: 16px;\n      }\n      .header p {\n        color: #666;\n        font-size: 12px;\n      }\n      .report-details h3 {\n        color: #333;\n        font-size: 14px;\n        border-bottom: 1px solid #ddd;\n        margin-bottom: 5px;\n        padding-bottom: 5px;\n      }\n      table {\n        width: 100%;\n        border-collapse: collapse;\n        margin-bottom: 15px;\n      }\n      table, th, td {\n        border: 1px solid #ddd;\n      }\n      th, td {\n        padding: 8px;\n        text-align: left;\n        font-size: 12px;\n      }\n      th {\n        background-color: #f4f4f4;\n      }\n      td {\n        background-color: #fff;\n      }\n      tr:nth-child(even) td {\n        background-color: #f9f9f9;\n      }\n      .footer {\n        text-align: center;\n        margin-top: 10px;\n        color: #666;\n        font-size: 12px;\n      }\n      @media print {\n        @page {\n          size: A4;\n          margin: 10mm;\n        }\n        body {\n          margin: 0;\n        }\n        .container {\n          max-width: 100%;\n          page-break-inside: avoid;\n        }\n      }\n    </style>\n  \n      </head>\n      <body>\n        ${n.innerHTML}\n      </body>\n    </html>\n  `),t.document.close(),t.focus(),t.print()):console.error("Print area or print window not found.")}downloadPdf(){const n=document.getElementById("pdf");n?ba()(n,{scale:2}).then(t=>{const s=t.toDataURL("image/png"),p=new Mr.ZP("p","mm","a4"),qe=210*t.height/t.width;let Ln=qe,un=0;for(p.addImage(s,"PNG",0,un,210,qe),Ln-=295;Ln>=0;)un-=295,p.addPage(),p.addImage(s,"PNG",0,un,210,qe),Ln-=295;p.save("daily_report.pdf")}):console.error("Print area not found.")}filterByMostPayment(){this.incomeReport&&0!==this.incomeReport.length?this.incomeReport.sort((n,t)=>{const s=parseFloat(n.amount)||0;return(parseFloat(t.amount)||0)-s}):this.toastr.info("No income records available to sort.")}filterByMostPaymentCustomer(){if(!this.incomeReport||0===this.incomeReport.length)return void this.toastr.info("No income records available to sort.");const n=this.incomeReport.reduce((s,p)=>{const C=p.customer||"Unknown",O=parseFloat(p.amount)||0;return s[C]=(s[C]||0)+O,s},{}),t=Object.entries(n).sort(([,s],[,p])=>p-s);this.incomeReport=t.map(([s,p])=>({customer:s,amount:p}))}}function Ys(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"span",56),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"i",57),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.openPopup("Edit",C))}),e.qZA(),e.TgZ(18,"i",58),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.deleteItem(C.id))}),e.qZA()()()}if(2&c){const t=n.$implicit,s=n.index;e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.category),e.xp6(2),e.hij("\u20b5",t.price,""),e.xp6(2),e.hij("\u20b5",t.whole_price,""),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Q6J("ngClass",t.quantity>0?"text-success":"text-danger"),e.xp6(1),e.hij(" ",t.quantity>0?"In Stock":"Out of Stock"," ")}}function Eu(c,n){1&c&&e._uU(0,"First")}function Zp(c,n){1&c&&e._uU(0,"Last")}function xp(c,n){1&c&&e._uU(0,"Prev")}function Ap(c,n){1&c&&e._uU(0,"Next")}function Tp(c,n){1&c&&e._uU(0,"...")}function wp(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function Cp(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",8)(2,"div",30)(3,"div",31)(4,"div",32)(5,"div",33)(6,"div",34)(7,"input",35),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchItems())}),e.qZA()(),e._UZ(8,"div",36),e.qZA()(),e.TgZ(9,"div",37)(10,"button",38),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup("Add New"))}),e._uU(11," Add New Item "),e.qZA(),e.TgZ(12,"button",39),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportExcel())}),e._UZ(13,"i",40),e._uU(14," Export "),e.qZA()(),e.TgZ(15,"div",41)(16,"table",42)(17,"thead",43)(18,"tr",44)(19,"th",45),e._uU(20,"#"),e.qZA(),e.TgZ(21,"th",45),e._uU(22,"Item Name"),e.qZA(),e.TgZ(23,"th",45),e._uU(24,"Category"),e.qZA(),e.TgZ(25,"th",45),e._uU(26,"Price"),e.qZA(),e.TgZ(27,"th",45),e._uU(28,"Wholesale Price "),e.qZA(),e.TgZ(29,"th",45),e._uU(30,"Quantity"),e.qZA(),e.TgZ(31,"th",45),e._uU(32,"Status"),e.qZA(),e.TgZ(33,"th",45),e._uU(34,"Action"),e.qZA()()(),e.TgZ(35,"tbody"),e.YNc(36,Ys,19,8,"tr",46),e.qZA()()(),e.TgZ(37,"div",47)(38,"div",48)(39,"ngb-pagination",49),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(40,Eu,1,0,"ng-template",50),e.YNc(41,Zp,1,0,"ng-template",51),e.YNc(42,xp,1,0,"ng-template",52),e.YNc(43,Ap,1,0,"ng-template",53),e.YNc(44,Tp,1,0,"ng-template",54),e.YNc(45,wp,1,1,"ng-template",55),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(36),e.Q6J("ngForOf",t.itemsList),e.xp6(3),e.Q6J("collectionSize",t.itemsList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function ad(c,n){if(1&c&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function sd(c,n){if(1&c&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function qp(c,n){if(1&c&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function Up(c,n){1&c&&(e.TgZ(0,"div",60)(1,"button",61),e._uU(2,"Save"),e.qZA()())}function Sp(c,n){1&c&&(e.TgZ(0,"div",60)(1,"button",61),e._uU(2,"Update"),e.qZA()())}ys.\u0275fac=function(n){return new(n||ys)(e.Y36(b.qu),e.Y36(me._W),e.Y36(ee.Q),e.Y36(te.W))},ys.\u0275cmp=e.Xpm({type:ys,selectors:[["daily-income-report-dates-between"]],decls:1,vars:1,consts:[["class","container",4,"blockUI"],[1,"container"],[1,"card","shadow-sm"],[1,"card-body","p-4"],[1,"card-title","text-center","mb-4"],[1,"mb-4",3,"formGroup"],[1,"form-group"],["for","start-date"],["type","date","id","start-date","formControlName","dates",1,"form-control","mb-2",2,"max-width","300px"],["for","end-date"],["type","date","id","end-date","formControlName","datestwo",1,"form-control","mb-2",2,"max-width","300px",3,"ngModelChange"],["for",""],["formControlName","cashier","id","",3,"ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","paymethod","id","",3,"ngModelChange"],["value","Cash"],["value","Mobile Money"],["value","Mobile Money & Cash"],["value","Credit Card"],["formControlName","barrest","id","",3,"ngModelChange"],["value","drink"],["value","food"],["formControlName","categos","id","",3,"ngModelChange"],[1,"d-flex","mb-4"],[1,"btn","btn-primary","mr-2",3,"click"],["id","pdfBtn",1,"btn","btn-secondary",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-info",3,"click"],["id","pdf",4,"ngIf","ngIfElse"],["noReport",""],[3,"value"],["id","pdf"],[1,"text-center","mb-4"],[1,"report-section","mb-4"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"font-weight-bold"],[1,"footer","text-right","mt-5"],[1,"alert","alert-info","text-center"]],template:function(n,t){1&n&&e.YNc(0,rd,54,5,"div",0),2&n&&e.Q6J("blockUI","loading")},dependencies:[be.sg,be.O5,b._Y,b.YN,b.Kr,b.Fj,b.EJ,b.JJ,b.JL,b.sg,b.u,ae.PC,be.H9,be.uU],styles:[".container[_ngcontent-%COMP%]{padding:20px}header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px;font-size:1.5rem;color:#333}header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:5px;color:#555}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;vertical-align:middle}.table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#f8f9fa;font-weight:700}.buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:120px}@media (max-width: 576px){.form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{width:100%}.buttons[_ngcontent-%COMP%]{flex-direction:column}.buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-bottom:10px}}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],ys.prototype,"loading",void 0);const Za=function(c){return{display:c}};class Xi{constructor(n,t,s,p){this.fb=n,this.toastr=t,this.userService=s,this.guestService=p,this.itemsList=[],this.categoryList=[],this.groupList=[],this.familyList=[],this.unitList=[],this.users=[],this.displayStyle="none",this.header="",this.page=1,this.pageSize=60,this.totalAmount=0}ngOnInit(){this.initializeForm(),this.fetchData()}initializeForm(){this.itemForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],category:["",b.kI.required],price:["",b.kI.required],description:["",b.kI.required],group:["",b.kI.required],family:["",b.kI.required],unit:["",b.kI.required],wholesale:["",b.kI.required],whole_price:["",b.kI.required]})}fetchData(){var n=this;return(0,Y.Z)(function*(){yield Promise.all([n.getItemsList(),n.getCategoryList(),n.getFamilyList(),n.getUnitList(),n.getUsers(),n.getUser()])})()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}getUsers(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.userService.getUser();t&&(n.users=t)}catch(t){console.error("Error fetching users:",t)}})()}getItemsList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getItemsList();t&&(n.itemsList=t)}catch{n.toastr.error("Error fetching items list")}})()}getCategoryList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getCategoryList();t&&(n.categoryList=t)}catch{n.toastr.error("Error fetching category list")}})()}getFamilyList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getFamilyList();t&&(n.familyList=t)}catch{n.toastr.error("Error fetching family list")}})()}getGroupList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getGroupList();t&&(n.groupList=t)}catch{n.toastr.error("Error fetching group list")}})()}getUnitList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getUnitList();t&&(n.unitList=t)}catch{n.toastr.error("Error fetching unit list")}})()}openPopup(n,t=null){this.header=n,this.itemForm.reset(),"Edit"===n&&t&&this.itemForm.patchValue(t),this.displayStyle="block"}closePopup(){this.displayStyle="none"}saveItem(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start();const s=t.itemForm.value;"Add New"===t.header?(yield t.guestService.addItem(s),t.toastr.success("Item successfully added")):(yield t.guestService.updateItem(s),t.toastr.success("Item successfully updated")),yield t.getItemsList()}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}deleteItem(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),yield t.guestService.deleteItem(n),t.toastr.success("Item successfully deleted"),yield t.getItemsList()}catch{t.toastr.error("Error deleting item")}finally{t.loading.stop()}})()}exportExcel(){const n=document.getElementById("excel-table");if(!n)return void this.toastr.error("Table element not found");const t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,"items_list.xlsx")}searchItems(){const n=document.getElementById("myInput");if(!n)return;const t=n.value.toUpperCase(),s=document.getElementById("excel-table");if(!s)return;const p=s.getElementsByTagName("tr");for(let C=0;C<p.length;C++){const O=p[C].getElementsByTagName("td")[0];O&&(p[C].style.display=(O.textContent||O.innerText).toUpperCase().includes(t)?"":"none")}}}function Mu(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"i",47),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.deleteGroup(p.id))}),e.qZA()}}function ld(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"i",45),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.openPopup("Edit",C))}),e.qZA(),e.YNc(9,Mu,1,0,"i",46),e.qZA()()}if(2&c){const t=n.$implicit,s=n.index,p=e.oxw(2);e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.description),e.xp6(3),e.Q6J("ngIf","admin"===p.user[0].roles)}}function ud(c,n){1&c&&e._uU(0,"First")}function kp(c,n){1&c&&e._uU(0,"Last")}function Br(c,n){1&c&&e._uU(0,"Prev")}function cd(c,n){1&c&&e._uU(0,"Next")}function Bl(c,n){1&c&&e._uU(0,"...")}function dd(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function xa(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",8)(2,"div",19)(3,"div",20)(4,"div",21)(5,"div",22)(6,"div",23)(7,"input",24),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchItems())}),e.qZA()(),e._UZ(8,"div",25),e.qZA()(),e.TgZ(9,"div",26)(10,"button",27),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup("Add New"))}),e._uU(11," Add New Unit "),e.qZA(),e.TgZ(12,"button",28),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportExcel())}),e._UZ(13,"i",29),e._uU(14," Export "),e.qZA()(),e.TgZ(15,"div",30)(16,"table",31)(17,"thead",32)(18,"tr",33)(19,"th",34),e._uU(20,"#"),e.qZA(),e.TgZ(21,"th",34),e._uU(22,"Unit Name"),e.qZA(),e.TgZ(23,"th",34),e._uU(24,"Description"),e.qZA(),e.TgZ(25,"th",34),e._uU(26,"Action"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,ld,10,4,"tr",35),e.ALo(29,"slice"),e.qZA()()(),e.TgZ(30,"div",36)(31,"div",37)(32,"ngb-pagination",38),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(33,ud,1,0,"ng-template",39),e.YNc(34,kp,1,0,"ng-template",40),e.YNc(35,Br,1,0,"ng-template",41),e.YNc(36,cd,1,0,"ng-template",42),e.YNc(37,Bl,1,0,"ng-template",43),e.YNc(38,dd,1,1,"ng-template",44),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(28),e.Q6J("ngForOf",e.Dn7(29,8,t.groupList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.itemsList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function Np(c,n){1&c&&(e.TgZ(0,"div",48)(1,"button",49),e._uU(2,"Save"),e.qZA()())}function Pp(c,n){1&c&&(e.TgZ(0,"div",48)(1,"button",49),e._uU(2,"Update"),e.qZA()())}Xi.\u0275fac=function(n){return new(n||Xi)(e.Y36(b.qu),e.Y36(me._W),e.Y36(te.W),e.Y36(ee.Q))},Xi.\u0275cmp=e.Xpm({type:Xi,selectors:[["app-item"]],decls:71,vars:11,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-12",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","name","placeholder","Enter item name",1,"form-control"],["formControlName","category",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","family",1,"form-control"],["value","","hidden","","selected",""],["formControlName","unit",1,"form-control"],["type","number","formControlName","price","placeholder","Enter price",1,"form-control"],["type","number","formControlName","whole_price","placeholder","Enter price",1,"form-control"],["formControlName","wholesale",1,"form-control"],["value","yes"],["value","no"],["formControlName","description","placeholder","Enter item description","rows","4",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","Search for items...","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],[1,"table-responsive"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[3,"ngClass"],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[3,"value"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Cp,46,8,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"i",6),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"form",12),e.NdJ("ngSubmit",function(){return t.saveItem(t.itemForm.value)}),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"label"),e._uU(18,"Item Name"),e.qZA(),e._UZ(19,"input",16),e.qZA()(),e.TgZ(20,"div",14)(21,"div",15)(22,"label"),e._uU(23,"Category"),e.qZA(),e.TgZ(24,"select",17)(25,"option",18),e._uU(26,"Select"),e.qZA(),e.YNc(27,ad,2,2,"option",19),e.qZA()()(),e.TgZ(28,"div",14)(29,"div",15)(30,"label"),e._uU(31,"Family"),e.qZA(),e.TgZ(32,"select",20)(33,"option",21),e._uU(34,"Select"),e.qZA(),e.YNc(35,sd,2,2,"option",19),e.qZA()()(),e.TgZ(36,"div",14)(37,"div",15)(38,"label"),e._uU(39,"Unit"),e.qZA(),e.TgZ(40,"select",22)(41,"option",21),e._uU(42,"Select"),e.qZA(),e.YNc(43,qp,2,2,"option",19),e.qZA()()(),e.TgZ(44,"div",14)(45,"div",15)(46,"label"),e._uU(47,"Price"),e.qZA(),e._UZ(48,"input",23),e.qZA()(),e.TgZ(49,"div",14)(50,"div",15)(51,"label"),e._uU(52,"Wholesale Price"),e.qZA(),e._UZ(53,"input",24),e.qZA()(),e.TgZ(54,"div",14)(55,"div",15)(56,"label"),e._uU(57,"Wholesale / Retail"),e.qZA(),e.TgZ(58,"select",25)(59,"option",26),e._uU(60,"wholesale"),e.qZA(),e.TgZ(61,"option",27),e._uU(62,"retail"),e.qZA()()()(),e.TgZ(63,"div",14)(64,"div",15)(65,"label"),e._uU(66,"Description"),e.qZA(),e._UZ(67,"textarea",28),e.qZA()()(),e.TgZ(68,"div",13),e.YNc(69,Up,3,0,"div",29),e.YNc(70,Sp,3,0,"div",29),e.qZA()()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(9,Za,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.itemForm),e.xp6(14),e.Q6J("ngForOf",t.categoryList),e.xp6(8),e.Q6J("ngForOf",t.familyList),e.xp6(8),e.Q6J("ngForOf",t.unitList),e.xp6(26),e.Q6J("ngIf","Add New"===t.header),e.xp6(1),e.Q6J("ngIf","Edit"===t.header))},dependencies:[be.mk,be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.wV,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC],styles:[".modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Xi.prototype,"loading",void 0);const Z1=function(c){return{display:c}};class Aa{constructor(n,t,s){this.fb=n,this.toastr=t,this.guestService=s,this.itemsList=[],this.categoryList=[],this.groupList=[],this.unitList=[],this.displayStyle="none",this.header="",this.page=1,this.pageSize=10,this.totalAmount=0,this.itemForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],description:["",b.kI.required]})}ngOnInit(){this.getGroupList()}getGroupList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getUnitList();t&&(n.groupList=t)}catch{n.toastr.error("Error fetching Unit list")}})()}openPopup(n,t=null){this.header=n,"Add New"===n?this.itemForm.reset():"Edit"===n&&t&&this.itemForm.patchValue(t),this.displayStyle="block"}closePopup(){this.displayStyle="none"}saveGroup(n){var t=this;return(0,Y.Z)(function*(){try{let s;t.loading.start(),"Add New"===t.header?(s=yield t.guestService.addUnit(n),t.toastr.success("Category successfully added")):"Edit"===t.header&&(s=yield t.guestService.updateUnit(n),t.toastr.success("Category successfully updated")),s&&(t.getGroupList(),t.closePopup())}catch{t.toastr.error("Error saving unit")}finally{t.loading.stop()}})()}deleteItem(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deleteUnit(n))&&t.getGroupList()}catch{}finally{t.loading.stop()}})()}exportExcel(){const n=document.getElementById("excel-table"),t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,"category_list.xlsx")}searchItems(){const t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr");for(let C=0;C<p.length;C++){const O=p[C].getElementsByTagName("td")[0];O&&(p[C].style.display=(O.textContent||O.innerText).toUpperCase().indexOf(t)>-1?"":"none")}}pageClick(){}}function pd(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"i",47),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.deleteFamily(p.id))}),e.qZA()}}function o(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"i",45),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.openPopup("Edit",C))}),e.qZA(),e.YNc(9,pd,1,0,"i",46),e.qZA()()}if(2&c){const t=n.$implicit,s=n.index,p=e.oxw(2);e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.description),e.xp6(3),e.Q6J("ngIf","admin"===p.user[0].roles)}}function r(c,n){1&c&&e._uU(0,"First")}function u(c,n){1&c&&e._uU(0,"Last")}function d(c,n){1&c&&e._uU(0,"Prev")}function g(c,n){1&c&&e._uU(0,"Next")}function v(c,n){1&c&&e._uU(0,"...")}function Z(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function U(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",8)(2,"div",19)(3,"div",20)(4,"div",21)(5,"div",22)(6,"div",23)(7,"input",24),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchItems())}),e.qZA()(),e._UZ(8,"div",25),e.qZA()(),e.TgZ(9,"div",26)(10,"button",27),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup("Add New"))}),e._uU(11," Add New Family "),e.qZA(),e.TgZ(12,"button",28),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportExcel())}),e._UZ(13,"i",29),e._uU(14," Export "),e.qZA()(),e.TgZ(15,"div",30)(16,"table",31)(17,"thead",32)(18,"tr",33)(19,"th",34),e._uU(20,"#"),e.qZA(),e.TgZ(21,"th",34),e._uU(22,"Family Name"),e.qZA(),e.TgZ(23,"th",34),e._uU(24,"Description"),e.qZA(),e.TgZ(25,"th",34),e._uU(26,"Action"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,o,10,4,"tr",35),e.ALo(29,"slice"),e.qZA()()(),e.TgZ(30,"div",36)(31,"div",37)(32,"ngb-pagination",38),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(33,r,1,0,"ng-template",39),e.YNc(34,u,1,0,"ng-template",40),e.YNc(35,d,1,0,"ng-template",41),e.YNc(36,g,1,0,"ng-template",42),e.YNc(37,v,1,0,"ng-template",43),e.YNc(38,Z,1,1,"ng-template",44),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(28),e.Q6J("ngForOf",e.Dn7(29,8,t.familyList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.itemsList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function A(c,n){1&c&&(e.TgZ(0,"div",48)(1,"button",49),e._uU(2,"Save"),e.qZA()())}function N(c,n){1&c&&(e.TgZ(0,"div",48)(1,"button",49),e._uU(2,"Update"),e.qZA()())}Aa.\u0275fac=function(n){return new(n||Aa)(e.Y36(b.qu),e.Y36(me._W),e.Y36(ee.Q))},Aa.\u0275cmp=e.Xpm({type:Aa,selectors:[["item-group"]],decls:28,vars:8,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-12",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","name","placeholder","Enter unit name",1,"form-control"],["formControlName","description","placeholder","Enter unit description","rows","4",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","Search for items...","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],[1,"table-responsive"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],["class","fa fa-close fa-lg text-danger",3,"click",4,"ngIf"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,xa,39,12,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"i",6),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"form",12),e.NdJ("ngSubmit",function(){return t.saveGroup(t.itemForm.value)}),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"label"),e._uU(18,"Unit Name"),e.qZA(),e._UZ(19,"input",16),e.qZA()(),e.TgZ(20,"div",14)(21,"div",15)(22,"label"),e._uU(23,"Description"),e.qZA(),e._UZ(24,"textarea",17),e.qZA()()(),e.TgZ(25,"div",13),e.YNc(26,Np,3,0,"div",18),e.YNc(27,Pp,3,0,"div",18),e.qZA()()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(6,Z1,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.itemForm),e.xp6(13),e.Q6J("ngIf","Add New"===t.header),e.xp6(1),e.Q6J("ngIf","Edit"===t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU],styles:[".modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Aa.prototype,"loading",void 0);const M=function(c){return{display:c}};class F{constructor(n,t,s,p){this.fb=n,this.userService=t,this.toastr=s,this.guestService=p,this.itemsList=[],this.categoryList=[],this.familyList=[],this.user=[],this.unitList=[],this.displayStyle="none",this.header="",this.page=1,this.pageSize=10,this.totalAmount=0,this.itemForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],description:["",b.kI.required]})}ngOnInit(){this.getFamilyList(),this.getUser()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}getFamilyList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getFamilyList();t&&(n.familyList=t)}catch{n.toastr.error("Error fetching category list")}})()}openPopup(n,t=null){this.header=n,"Add New"===n?this.itemForm.reset():"Edit"===n&&t&&this.itemForm.patchValue(t),this.displayStyle="block"}closePopup(){this.displayStyle="none"}saveFamily(n){var t=this;return(0,Y.Z)(function*(){try{let s;t.loading.start(),"Add New"===t.header?(s=yield t.guestService.addFamily(n),t.toastr.success("Category successfully added")):"Edit"===t.header&&(s=yield t.guestService.updateCategory(n),t.toastr.success("Category successfully updated")),s&&(t.getFamilyList(),t.closePopup())}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}deleteFamily(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deleteFamily(n))&&t.getFamilyList()}catch{t.toastr.error("Error deleting item")}finally{t.loading.stop()}})()}exportExcel(){const n=document.getElementById("excel-table"),t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,"category_list.xlsx")}searchItems(){const t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr");for(let C=0;C<p.length;C++){const O=p[C].getElementsByTagName("td")[0];O&&(p[C].style.display=(O.textContent||O.innerText).toUpperCase().indexOf(t)>-1?"":"none")}}pageClick(){}}function G(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"i",47),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.deleteCategory(p.id))}),e.qZA()}}function ue(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"i",45),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.openPopup("Edit",C))}),e.qZA(),e.YNc(9,G,1,0,"i",46),e.qZA()()}if(2&c){const t=n.$implicit,s=n.index,p=e.oxw(2);e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.description),e.xp6(3),e.Q6J("ngIf","admin"===p.user[0].roles)}}function ge(c,n){1&c&&e._uU(0,"First")}function ve(c,n){1&c&&e._uU(0,"Last")}function Pe(c,n){1&c&&e._uU(0,"Prev")}function pt(c,n){1&c&&e._uU(0,"Next")}function Ft(c,n){1&c&&e._uU(0,"...")}function zt(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function bn(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",8)(2,"div",19)(3,"div",20)(4,"div",21)(5,"div",22)(6,"div",23)(7,"input",24),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchItems())}),e.qZA()(),e._UZ(8,"div",25),e.qZA()(),e.TgZ(9,"div",26)(10,"button",27),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup("Add New"))}),e._uU(11," Add New Category "),e.qZA(),e.TgZ(12,"button",28),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportExcel())}),e._UZ(13,"i",29),e._uU(14," Export "),e.qZA()(),e.TgZ(15,"div",30)(16,"table",31)(17,"thead",32)(18,"tr",33)(19,"th",34),e._uU(20,"#"),e.qZA(),e.TgZ(21,"th",34),e._uU(22,"Category Name"),e.qZA(),e.TgZ(23,"th",34),e._uU(24,"Description"),e.qZA(),e.TgZ(25,"th",34),e._uU(26,"Action"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,ue,10,4,"tr",35),e.ALo(29,"slice"),e.qZA()()(),e.TgZ(30,"div",36)(31,"div",37)(32,"ngb-pagination",38),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(33,ge,1,0,"ng-template",39),e.YNc(34,ve,1,0,"ng-template",40),e.YNc(35,Pe,1,0,"ng-template",41),e.YNc(36,pt,1,0,"ng-template",42),e.YNc(37,Ft,1,0,"ng-template",43),e.YNc(38,zt,1,1,"ng-template",44),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(28),e.Q6J("ngForOf",e.Dn7(29,8,t.categoryList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.itemsList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function yn(c,n){1&c&&(e.TgZ(0,"div",48)(1,"button",49),e._uU(2,"Save"),e.qZA()())}function Dn(c,n){1&c&&(e.TgZ(0,"div",48)(1,"button",49),e._uU(2,"Update"),e.qZA()())}F.\u0275fac=function(n){return new(n||F)(e.Y36(b.qu),e.Y36(te.W),e.Y36(me._W),e.Y36(ee.Q))},F.\u0275cmp=e.Xpm({type:F,selectors:[["item-family"]],decls:28,vars:8,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-12",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","name","placeholder","Enter family name",1,"form-control"],["formControlName","description","placeholder","Enter family description","rows","4",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","Search for items...","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],[1,"table-responsive"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],["class","fa fa-close fa-lg text-danger",3,"click",4,"ngIf"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,U,39,12,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"i",6),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"form",12),e.NdJ("ngSubmit",function(){return t.saveFamily(t.itemForm.value)}),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"label"),e._uU(18,"Family Name"),e.qZA(),e._UZ(19,"input",16),e.qZA()(),e.TgZ(20,"div",14)(21,"div",15)(22,"label"),e._uU(23,"Description"),e.qZA(),e._UZ(24,"textarea",17),e.qZA()()(),e.TgZ(25,"div",13),e.YNc(26,A,3,0,"div",18),e.YNc(27,N,3,0,"div",18),e.qZA()()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(6,M,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.itemForm),e.xp6(13),e.Q6J("ngIf","Add New"===t.header),e.xp6(1),e.Q6J("ngIf","Edit"===t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU],styles:[".modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],F.prototype,"loading",void 0);const Wn=function(c){return{display:c}};class Hn{constructor(n,t,s,p){this.fb=n,this.userService=t,this.toastr=s,this.guestService=p,this.itemsList=[],this.categoryList=[],this.groupList=[],this.familyList=[],this.unitList=[],this.displayStyle="none",this.header="",this.page=1,this.pageSize=100,this.totalAmount=0,this.user=[],this.itemForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],description:["",b.kI.required]})}ngOnInit(){this.getCategoryList(),this.getUser()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}getCategoryList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getCategoryList();t&&(n.categoryList=t)}catch{n.toastr.error("Error fetching category list")}})()}openPopup(n,t=null){this.header=n,"Add New"===n?this.itemForm.reset():"Edit"===n&&t&&this.itemForm.patchValue(t),this.displayStyle="block"}closePopup(){this.displayStyle="none"}saveCategory(n){var t=this;return(0,Y.Z)(function*(){try{let s;t.loading.start(),"Add New"===t.header?(s=yield t.guestService.addCategory(n),t.toastr.success("Category successfully added")):"Edit"===t.header&&(s=yield t.guestService.updateCategory(n),t.toastr.success("Category successfully updated")),s&&(t.getCategoryList(),t.closePopup())}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}deleteCategory(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deleteCategory(n))&&(t.toastr.success("Item successfully deleted"),t.getCategoryList())}catch{t.toastr.error("Error deleting item")}finally{t.loading.stop()}})()}exportExcel(){const n=document.getElementById("excel-table"),t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,"category_list.xlsx")}searchItems(){const t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr");for(let C=0;C<p.length;C++){const O=p[C].getElementsByTagName("td")[0];O&&(p[C].style.display=(O.textContent||O.innerText).toUpperCase().indexOf(t)>-1?"":"none")}}pageClick(){}}function mo(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"i",50),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.deleteStore(p.id))}),e.qZA()}}function $o(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"i",48),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.openPopup("Edit",C))}),e.qZA(),e.YNc(11,mo,1,0,"i",49),e.qZA()()}if(2&c){const t=n.$implicit,s=n.index,p=e.oxw(2);e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.category),e.xp6(2),e.Oqu(t.description),e.xp6(3),e.Q6J("ngIf","admin"===p.user[0].roles)}}function Jo(c,n){1&c&&e._uU(0,"First")}function Ro(c,n){1&c&&e._uU(0,"Last")}function ri(c,n){1&c&&e._uU(0,"Prev")}function bs(c,n){1&c&&e._uU(0,"Next")}function Qa(c,n){1&c&&e._uU(0,"...")}function Fu(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function x1(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",8)(2,"div",22)(3,"div",23)(4,"div",24)(5,"div",25)(6,"div",26)(7,"input",27),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchItems())}),e.qZA()(),e._UZ(8,"div",28),e.qZA()(),e.TgZ(9,"div",29)(10,"button",30),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup("Add New"))}),e._uU(11," Add New Store "),e.qZA(),e.TgZ(12,"button",31),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportExcel())}),e._UZ(13,"i",32),e._uU(14," Export "),e.qZA()(),e.TgZ(15,"div",33)(16,"table",34)(17,"thead",35)(18,"tr",36)(19,"th",37),e._uU(20,"#"),e.qZA(),e.TgZ(21,"th",37),e._uU(22,"Store Name"),e.qZA(),e.TgZ(23,"th",37),e._uU(24,"Category"),e.qZA(),e.TgZ(25,"th",37),e._uU(26,"Description"),e.qZA(),e.TgZ(27,"th",37),e._uU(28,"Action"),e.qZA()()(),e.TgZ(29,"tbody"),e.YNc(30,$o,12,5,"tr",38),e.ALo(31,"slice"),e.qZA()()(),e.TgZ(32,"div",39)(33,"div",40)(34,"ngb-pagination",41),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(35,Jo,1,0,"ng-template",42),e.YNc(36,Ro,1,0,"ng-template",43),e.YNc(37,ri,1,0,"ng-template",44),e.YNc(38,bs,1,0,"ng-template",45),e.YNc(39,Qa,1,0,"ng-template",46),e.YNc(40,Fu,1,1,"ng-template",47),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(30),e.Q6J("ngForOf",e.Dn7(31,8,t.storeList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.storeList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function A1(c,n){if(1&c&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function Sf(c,n){1&c&&(e.TgZ(0,"div",52)(1,"button",53),e._uU(2,"Save"),e.qZA()())}function br(c,n){1&c&&(e.TgZ(0,"div",52)(1,"button",53),e._uU(2,"Update"),e.qZA()())}Hn.\u0275fac=function(n){return new(n||Hn)(e.Y36(b.qu),e.Y36(te.W),e.Y36(me._W),e.Y36(ee.Q))},Hn.\u0275cmp=e.Xpm({type:Hn,selectors:[["item-category"]],decls:28,vars:8,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-12",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","name","placeholder","Enter category name",1,"form-control"],["formControlName","description","placeholder","Enter Category description","rows","4",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","Search for items...","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],[1,"table-responsive"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],["class","fa fa-close fa-lg text-danger",3,"click",4,"ngIf"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,bn,39,12,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"i",6),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"form",12),e.NdJ("ngSubmit",function(){return t.saveCategory(t.itemForm.value)}),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"label"),e._uU(18,"Category Name"),e.qZA(),e._UZ(19,"input",16),e.qZA()(),e.TgZ(20,"div",14)(21,"div",15)(22,"label"),e._uU(23,"Description"),e.qZA(),e._UZ(24,"textarea",17),e.qZA()()(),e.TgZ(25,"div",13),e.YNc(26,yn,3,0,"div",18),e.YNc(27,Dn,3,0,"div",18),e.qZA()()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(6,Wn,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.itemForm),e.xp6(13),e.Q6J("ngIf","Add New"===t.header),e.xp6(1),e.Q6J("ngIf","Edit"===t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU],styles:[".modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Hn.prototype,"loading",void 0);const Ip=function(c){return{display:c}};class Ks{constructor(n,t,s,p){this.fb=n,this.userService=t,this.toastr=s,this.guestService=p,this.itemsList=[],this.stockList=[],this.categoryList=[],this.storeList=[],this.unitList=[],this.displayStyle="none",this.header="",this.page=1,this.pageSize=10,this.totalAmount=0,this.user=[],this.itemForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],description:["",b.kI.required],category:["",b.kI.required]})}ngOnInit(){this.getCategoryList(),this.getStoreList(),this.getUser()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}getCategoryList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getCategoryList();t&&(n.categoryList=t)}catch{n.toastr.error("Error fetching items list")}})()}getStoreList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getStoreList();t&&(n.storeList=t)}catch{n.toastr.error("Error fetching items list")}})()}openPopup(n,t=null){this.header=n,"Add New"===n?this.itemForm.reset():"Edit"===n&&t&&this.itemForm.patchValue(t),this.displayStyle="block"}closePopup(){this.displayStyle="none"}saveStore(n){var t=this;return(0,Y.Z)(function*(){try{let s;t.loading.start(),"Add New"===t.header?(s=yield t.guestService.addStore(n),t.toastr.success("Item successfully added")):"Edit"===t.header&&(s=yield t.guestService.updateStore(n),t.toastr.success("Item successfully updated")),s&&(t.getStoreList(),t.closePopup())}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}deleteStore(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deleteStock(n))&&t.getStoreList()}catch{t.toastr.error("Error deleting item")}finally{t.loading.stop()}})()}exportExcel(){const n=document.getElementById("excel-table"),t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,"items_list.xlsx")}searchItems(){const t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr");for(let C=0;C<p.length;C++){const O=p[C].getElementsByTagName("td")[0];O&&(p[C].style.display=(O.textContent||O.innerText).toUpperCase().indexOf(t)>-1?"":"none")}}pageClick(){}}function Lp(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"i",51),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.deleteStock(p.id))}),e.qZA()}}function fd(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",48),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"i",49),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.openPopup("Edit",C))}),e.qZA(),e.YNc(12,Lp,1,0,"i",50),e.qZA()()}if(2&c){const t=n.$implicit,s=n.index,p=e.oxw(2);e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Q6J("ngClass",t.quantity>0?"text-success":"text-danger"),e.xp6(1),e.hij(" ",t.quantity>0?"In Stock":"Out of Stock"," "),e.xp6(3),e.Q6J("ngIf","admin"===p.user[0].roles)}}function Op(c,n){1&c&&e._uU(0,"First")}function kf(c,n){1&c&&e._uU(0,"Last")}function Nf(c,n){1&c&&e._uU(0,"Prev")}function Pf(c,n){1&c&&e._uU(0,"Next")}function Jg(c,n){1&c&&e._uU(0,"...")}function T1(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function If(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",8)(2,"div",22)(3,"div",23)(4,"div",24)(5,"div",25)(6,"div",26)(7,"input",27),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchItems())}),e.qZA()(),e._UZ(8,"div",28),e.qZA()(),e.TgZ(9,"div",29)(10,"button",30),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup("Add New"))}),e._uU(11," Add New Stock "),e.qZA(),e.TgZ(12,"button",31),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportExcel())}),e._UZ(13,"i",32),e._uU(14," Export "),e.qZA()(),e.TgZ(15,"div",33)(16,"table",34)(17,"thead",35)(18,"tr",36)(19,"th",37),e._uU(20,"#"),e.qZA(),e.TgZ(21,"th",37),e._uU(22,"Item Name"),e.qZA(),e.TgZ(23,"th",37),e._uU(24,"Quanity"),e.qZA(),e.TgZ(25,"th",37),e._uU(26,"Status"),e.qZA(),e.TgZ(27,"th",37),e._uU(28,"Action"),e.qZA()()(),e.TgZ(29,"tbody"),e.YNc(30,fd,13,6,"tr",38),e.ALo(31,"slice"),e.qZA()()(),e.TgZ(32,"div",39)(33,"div",40)(34,"ngb-pagination",41),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(35,Op,1,0,"ng-template",42),e.YNc(36,kf,1,0,"ng-template",43),e.YNc(37,Nf,1,0,"ng-template",44),e.YNc(38,Pf,1,0,"ng-template",45),e.YNc(39,Jg,1,0,"ng-template",46),e.YNc(40,T1,1,1,"ng-template",47),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(30),e.Q6J("ngForOf",e.Dn7(31,8,t.stockList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.stockList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function Lf(c,n){if(1&c&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function Of(c,n){if(1&c&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function Ef(c,n){1&c&&(e.TgZ(0,"div",53)(1,"button",54),e._uU(2,"Save"),e.qZA()())}function Mf(c,n){1&c&&(e.TgZ(0,"div",53)(1,"button",54),e._uU(2,"Update"),e.qZA()())}Ks.\u0275fac=function(n){return new(n||Ks)(e.Y36(b.qu),e.Y36(te.W),e.Y36(me._W),e.Y36(ee.Q))},Ks.\u0275cmp=e.Xpm({type:Ks,selectors:[["store"]],decls:36,vars:9,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-12",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","name","placeholder","Enter store name",1,"form-control"],["formControlName","category",1,"form-control"],["value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","description","placeholder","Enter store description","rows","4",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","Search for items...","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],[1,"table-responsive"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],["class","fa fa-close fa-lg text-danger",3,"click",4,"ngIf"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[3,"value"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,x1,41,12,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"i",6),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"form",12),e.NdJ("ngSubmit",function(){return t.saveStore(t.itemForm.value)}),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"label"),e._uU(18,"Store Name"),e.qZA(),e._UZ(19,"input",16),e.qZA()(),e.TgZ(20,"div",14)(21,"div",15)(22,"label"),e._uU(23,"Category"),e.qZA(),e.TgZ(24,"select",17)(25,"option",18),e._uU(26,"------"),e.qZA(),e.YNc(27,A1,2,2,"option",19),e.qZA()()(),e.TgZ(28,"div",14)(29,"div",15)(30,"label"),e._uU(31,"Description"),e.qZA(),e._UZ(32,"textarea",20),e.qZA()()(),e.TgZ(33,"div",13),e.YNc(34,Sf,3,0,"div",21),e.YNc(35,br,3,0,"div",21),e.qZA()()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(7,Ip,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.itemForm),e.xp6(14),e.Q6J("ngForOf",t.categoryList),e.xp6(7),e.Q6J("ngIf","Add New"===t.header),e.xp6(1),e.Q6J("ngIf","Edit"===t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Ks.prototype,"loading",void 0);const Gg=function(c){return{display:c}};class ju{constructor(n,t,s,p){this.fb=n,this.toastr=t,this.userService=s,this.guestService=p,this.itemsList=[],this.stockList=[],this.groupList=[],this.familyList=[],this.storeList=[],this.unitList=[],this.displayStyle="none",this.header="",this.page=1,this.pageSize=100,this.totalAmount=0,this.user=[],this.itemForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],quantity:["",b.kI.required],store:["",b.kI.required],description:["",b.kI.required],group:["",b.kI.required],family:["",b.kI.required],unit:["",b.kI.required]})}ngOnInit(){this.getItemsList(),this.getStockList(),this.getStoreList(),this.getUser()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}getStoreList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getStoreList();t&&(n.storeList=t)}catch{n.toastr.error("Error fetching items list")}})()}getItemsList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getItemsList();t&&(n.itemsList=t)}catch{n.toastr.error("Error fetching items list")}})()}getStockList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getStockList();t&&(n.stockList=t)}catch{n.toastr.error("Error fetching items list")}})()}openPopup(n,t=null){this.header=n,"Add New"===n?this.itemForm.reset():"Edit"===n&&t&&this.itemForm.patchValue(t),this.displayStyle="block"}closePopup(){this.displayStyle="none"}saveStock(n){var t=this;return(0,Y.Z)(function*(){try{let s;t.loading.start(),"Add New"===t.header?(s=yield t.guestService.addStock(n),t.toastr.success("Item successfully added")):"Edit"===t.header&&(s=yield t.guestService.updateStock(n),t.toastr.success("Item successfully updated")),s&&(t.getStockList(),t.closePopup())}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}deleteStock(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deleteStock(n))&&(t.toastr.success("Item successfully deleted"),t.getStockList())}catch{t.toastr.error("Error deleting item")}finally{t.loading.stop()}})()}exportExcel(){const n=document.getElementById("excel-table"),t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,"stock_list.xlsx")}searchItems(){const t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr");for(let C=0;C<p.length;C++){const O=p[C].getElementsByTagName("td")[0];O&&(p[C].style.display=(O.textContent||O.innerText).toUpperCase().indexOf(t)>-1?"":"none")}}pageClick(){}}function mn(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"i",50),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.deleteDepartment(p.id))}),e.qZA()}}function Ep(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"i",48),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.openPopup("Edit",C))}),e.qZA(),e.YNc(11,mn,1,0,"i",49),e.qZA()()}if(2&c){const t=n.$implicit,s=n.index,p=e.oxw(2);e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.hod),e.xp6(3),e.Q6J("ngIf","admin"===p.user[0].roles)}}function yo(c,n){1&c&&e._uU(0,"First")}function Mp(c,n){1&c&&e._uU(0,"Last")}function w1(c,n){1&c&&e._uU(0,"Prev")}function gd(c,n){1&c&&e._uU(0,"Next")}function Ws(c,n){1&c&&e._uU(0,"...")}function C1(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function md(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",8)(2,"div",22)(3,"div",23)(4,"div",24)(5,"div",25)(6,"div",26)(7,"input",27),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchItems())}),e.qZA()(),e._UZ(8,"div",28),e.qZA()(),e.TgZ(9,"div",29)(10,"button",30),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup("Add New"))}),e._uU(11," Add New Department "),e.qZA(),e.TgZ(12,"button",31),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportExcel())}),e._UZ(13,"i",32),e._uU(14," Export "),e.qZA()(),e.TgZ(15,"div",33)(16,"table",34)(17,"thead",35)(18,"tr",36)(19,"th",37),e._uU(20,"#"),e.qZA(),e.TgZ(21,"th",37),e._uU(22,"Department Name"),e.qZA(),e.TgZ(23,"th",37),e._uU(24,"Description"),e.qZA(),e.TgZ(25,"th",37),e._uU(26,"HOD"),e.qZA(),e.TgZ(27,"th",37),e._uU(28,"Action"),e.qZA()()(),e.TgZ(29,"tbody"),e.YNc(30,Ep,12,5,"tr",38),e.ALo(31,"slice"),e.qZA()()(),e.TgZ(32,"div",39)(33,"div",40)(34,"ngb-pagination",41),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(35,yo,1,0,"ng-template",42),e.YNc(36,Mp,1,0,"ng-template",43),e.YNc(37,w1,1,0,"ng-template",44),e.YNc(38,gd,1,0,"ng-template",45),e.YNc(39,Ws,1,0,"ng-template",46),e.YNc(40,C1,1,1,"ng-template",47),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(30),e.Q6J("ngForOf",e.Dn7(31,8,t.departmentList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.departmentList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function q1(c,n){if(1&c&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.first_name+" "+t.last_name),e.xp6(1),e.Oqu(t.first_name+" "+t.last_name)}}function Fp(c,n){1&c&&(e.TgZ(0,"div",52)(1,"button",53),e._uU(2,"Save"),e.qZA()())}function hd(c,n){1&c&&(e.TgZ(0,"div",52)(1,"button",53),e._uU(2,"Update"),e.qZA()())}ju.\u0275fac=function(n){return new(n||ju)(e.Y36(b.qu),e.Y36(me._W),e.Y36(te.W),e.Y36(ee.Q))},ju.\u0275cmp=e.Xpm({type:ju,selectors:[["stock"]],decls:39,vars:10,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-12",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["formControlName","name",1,"form-control"],["value","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","store",1,"form-control"],["type","number","formControlName","quantity","placeholder","Enter quantity",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","Search for items...","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],[1,"table-responsive"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[3,"ngClass"],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],["class","fa fa-close fa-lg text-danger",3,"click",4,"ngIf"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[3,"value"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,If,41,12,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"i",6),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"form",12),e.NdJ("ngSubmit",function(){return t.saveStock(t.itemForm.value)}),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"label"),e._uU(18,"Item "),e.qZA(),e.TgZ(19,"select",16)(20,"option",17),e._uU(21,"Select"),e.qZA(),e.YNc(22,Lf,2,2,"option",18),e.qZA()()(),e.TgZ(23,"div",14)(24,"div",15)(25,"label"),e._uU(26,"Store"),e.qZA(),e.TgZ(27,"select",19)(28,"option",17),e._uU(29,"Select"),e.qZA(),e.YNc(30,Of,2,2,"option",18),e.qZA()()(),e.TgZ(31,"div",14)(32,"div",15)(33,"label"),e._uU(34,"Quanity"),e.qZA(),e._UZ(35,"input",20),e.qZA()()(),e.TgZ(36,"div",13),e.YNc(37,Ef,3,0,"div",21),e.YNc(38,Mf,3,0,"div",21),e.qZA()()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(8,Gg,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.itemForm),e.xp6(9),e.Q6J("ngForOf",t.itemsList),e.xp6(8),e.Q6J("ngForOf",t.storeList),e.xp6(7),e.Q6J("ngIf","Add New"===t.header),e.xp6(1),e.Q6J("ngIf","Edit"===t.header))},dependencies:[be.mk,be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.wV,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1050;background-color:#fff;padding:1rem;border-radius:8px;box-shadow:0 5px 15px #0000004d;display:none}.modal.show[_ngcontent-%COMP%]{display:block}.modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],ju.prototype,"loading",void 0);const zi=function(c){return{display:c}};class Xo{constructor(n,t,s,p,C){this.fb=n,this.userService=t,this.toastr=s,this.employeeService=p,this.guestService=C,this.departmentList=[],this.stockList=[],this.employeeList=[],this.storeList=[],this.unitList=[],this.displayStyle="none",this.header="",this.page=1,this.pageSize=10,this.totalAmount=0,this.user=[],this.itemForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],description:["",b.kI.required],hod:["",b.kI.required]})}ngOnInit(){this.getDepartmentList(),this.getEmployeeList(),this.getUser()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}getEmployeeList(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.employeeService.getemployees();t&&(n.employeeList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}getDepartmentList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getDepartmentList();t&&(n.departmentList=t)}catch{n.toastr.error("Error fetching department list")}})()}openPopup(n,t=null){this.header=n,"Add New"===n?this.itemForm.reset():"Edit"===n&&t&&this.itemForm.patchValue(t),this.displayStyle="block"}closePopup(){this.displayStyle="none"}saveDepartment(n){var t=this;return(0,Y.Z)(function*(){try{let s;t.loading.start(),"Add New"===t.header?(s=yield t.guestService.addDepartment(n),t.toastr.success("Item successfully added")):"Edit"===t.header&&(s=yield t.guestService.updateDepartment(n),t.toastr.success("Item successfully updated")),s&&(t.getDepartmentList(),t.closePopup())}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}deleteDepartment(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deleteDepartment(n))&&(t.toastr.success("Item successfully deleted"),t.getDepartmentList())}catch{t.toastr.error("Error deleting item")}finally{t.loading.stop()}})()}exportExcel(){const n=document.getElementById("excel-table"),t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,"department.xlsx")}searchItems(){const t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr");for(let C=0;C<p.length;C++){const O=p[C].getElementsByTagName("td")[0];O&&(p[C].style.display=(O.textContent||O.innerText).toUpperCase().indexOf(t)>-1?"":"none")}}pageClick(){}}function Ji(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"i",49),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.deleteTransfer(p.id))}),e.qZA()}}function Gi(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"i",47),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.openPopup("Edit",C))}),e.qZA(),e.YNc(13,Ji,1,0,"i",48),e.qZA()()}if(2&c){const t=n.$implicit,s=n.index,p=e.oxw(2);e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Oqu(t.department),e.xp6(2),e.Oqu(t.created_date),e.xp6(3),e.Q6J("ngIf","admin"===p.user[0].roles)}}function U1(c,n){1&c&&e._uU(0,"First")}function Ff(c,n){1&c&&e._uU(0,"Last")}function S1(c,n){1&c&&e._uU(0,"Prev")}function jf(c,n){1&c&&e._uU(0,"Next")}function Rf(c,n){1&c&&e._uU(0,"...")}function jp(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function Df(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",8)(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"div",25)(7,"input",26),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchItems())}),e.qZA()(),e._UZ(8,"div",27),e.qZA()(),e.TgZ(9,"div",28)(10,"button",29),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup("Add New"))}),e._uU(11," Add New "),e.qZA(),e.TgZ(12,"button",30),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportExcel())}),e._UZ(13,"i",31),e._uU(14," Export "),e.qZA()(),e.TgZ(15,"div",32)(16,"table",33)(17,"thead",34)(18,"tr",35)(19,"th",36),e._uU(20,"#"),e.qZA(),e.TgZ(21,"th",36),e._uU(22,"Item Name"),e.qZA(),e.TgZ(23,"th",36),e._uU(24,"Quantity"),e.qZA(),e.TgZ(25,"th",36),e._uU(26,"Department"),e.qZA(),e.TgZ(27,"th",36),e._uU(28,"Date"),e.qZA(),e.TgZ(29,"th",36),e._uU(30,"Action"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,Gi,14,6,"tr",37),e.ALo(33,"slice"),e.qZA()()(),e.TgZ(34,"div",38)(35,"div",39)(36,"ngb-pagination",40),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(37,U1,1,0,"ng-template",41),e.YNc(38,Ff,1,0,"ng-template",42),e.YNc(39,S1,1,0,"ng-template",43),e.YNc(40,jf,1,0,"ng-template",44),e.YNc(41,Rf,1,0,"ng-template",45),e.YNc(42,jp,1,1,"ng-template",46),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(32),e.Q6J("ngForOf",e.Dn7(33,8,t.transferList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.transferList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function Zs(c,n){if(1&c&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function Rp(c,n){if(1&c&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function k1(c,n){1&c&&(e.TgZ(0,"div",51)(1,"button",52),e._uU(2,"Save"),e.qZA()())}function zl(c,n){1&c&&(e.TgZ(0,"div",51)(1,"button",52),e._uU(2,"Update"),e.qZA()())}Xo.\u0275fac=function(n){return new(n||Xo)(e.Y36(b.qu),e.Y36(te.W),e.Y36(me._W),e.Y36(ji),e.Y36(ee.Q))},Xo.\u0275cmp=e.Xpm({type:Xo,selectors:[["departments"]],decls:36,vars:9,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-12",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","name","placeholder","Enter department name",1,"form-control"],["formControlName","hod",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","description","placeholder","Enter department description","rows","4",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","Search for items...","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],[1,"table-responsive"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],["class","fa fa-close fa-lg text-danger",3,"click",4,"ngIf"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[3,"value"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,md,41,12,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"i",6),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"form",12),e.NdJ("ngSubmit",function(){return t.saveDepartment(t.itemForm.value)}),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"label"),e._uU(18,"Department Name"),e.qZA(),e._UZ(19,"input",16),e.qZA()(),e.TgZ(20,"div",14)(21,"div",15)(22,"label"),e._uU(23,"HOD"),e.qZA(),e.TgZ(24,"select",17)(25,"option",18),e._uU(26,"Select"),e.qZA(),e.YNc(27,q1,2,2,"option",19),e.qZA()()(),e.TgZ(28,"div",14)(29,"div",15)(30,"label"),e._uU(31,"Description"),e.qZA(),e._UZ(32,"textarea",20),e.qZA()()(),e.TgZ(33,"div",13),e.YNc(34,Fp,3,0,"div",21),e.YNc(35,hd,3,0,"div",21),e.qZA()()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(7,zi,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.itemForm),e.xp6(14),e.Q6J("ngForOf",t.employeeList),e.xp6(7),e.Q6J("ngIf","Add New"===t.header),e.xp6(1),e.Q6J("ngIf","Edit"===t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Xo.prototype,"loading",void 0);const Jl=function(c){return{display:c}};class Vs{constructor(n,t,s,p){this.fb=n,this.userService=t,this.toastr=s,this.guestService=p,this.itemsList=[],this.departmentList=[],this.transferList=[],this.storeList=[],this.unitList=[],this.displayStyle="none",this.header="",this.page=1,this.pageSize=100,this.totalAmount=0,this.user=[],this.itemForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],description:["",b.kI.required],department:["",b.kI.required],quantity:["",b.kI.required]})}ngOnInit(){this.getDepartmentList(),this.getItemsList(),this.getTransferList(),this.getUser()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}getItemsList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getItemsList();t&&(n.itemsList=t)}catch{n.toastr.error("Error fetching items list")}})()}getTransferList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getStockTransferList();t&&(n.transferList=t)}catch{n.toastr.error("Error fetching items list")}})()}getDepartmentList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getDepartmentList();t&&(n.departmentList=t)}catch{n.toastr.error("Error fetching department list")}})()}openPopup(n,t=null){this.header=n,"Add New"===n?this.itemForm.reset():"Edit"===n&&t&&this.itemForm.patchValue(t),this.displayStyle="block"}closePopup(){this.displayStyle="none"}saveTransfer(n){var t=this;return(0,Y.Z)(function*(){try{let s;t.loading.start(),"Add New"===t.header?(s=yield t.guestService.addStockTransfer(n),t.toastr.success("Item successfully added")):"Edit"===t.header&&(s=yield t.guestService.updateStockTransfer(n),t.toastr.success("Item successfully updated")),s&&(t.getTransferList(),t.closePopup())}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}deleteTransfer(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deleteDepartment(n))&&(t.toastr.success("Item successfully deleted"),t.getTransferList())}catch{t.toastr.error("Error deleting item")}finally{t.loading.stop()}})()}exportExcel(){const n=document.getElementById("excel-table"),t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,"stock_transfer.xlsx")}searchItems(){const t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr");for(let C=0;C<p.length;C++){const O=p[C].getElementsByTagName("td")[0];O&&(p[C].style.display=(O.textContent||O.innerText).toUpperCase().indexOf(t)>-1?"":"none")}}pageClick(){}}function Ru(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"i",48),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.deleteVendor(p.id))}),e.qZA()}}function N1(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"i",46),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.openPopup("Edit",C))}),e.qZA(),e.YNc(11,Ru,1,0,"i",47),e.qZA()()}if(2&c){const t=n.$implicit,s=n.index,p=e.oxw(2);e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.address),e.xp6(3),e.Q6J("ngIf","admin"===p.user[0].roles)}}function xs(c,n){1&c&&e._uU(0,"First")}function Qs(c,n){1&c&&e._uU(0,"Last")}function Vt(c,n){1&c&&e._uU(0,"Prev")}function Go(c,n){1&c&&e._uU(0,"Next")}function Dp(c,n){1&c&&e._uU(0,"...")}function $s(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function Gl(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",8)(2,"div",20)(3,"div",21)(4,"div",22)(5,"div",23)(6,"div",24)(7,"input",25),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchItems())}),e.qZA()(),e._UZ(8,"div",26),e.qZA()(),e.TgZ(9,"div",27)(10,"button",28),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup("Add New"))}),e._uU(11," Add New Vendor "),e.qZA(),e.TgZ(12,"button",29),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportExcel())}),e._UZ(13,"i",30),e._uU(14," Export "),e.qZA()(),e.TgZ(15,"div",31)(16,"table",32)(17,"thead",33)(18,"tr",34)(19,"th",35),e._uU(20,"#"),e.qZA(),e.TgZ(21,"th",35),e._uU(22,"Vendor Name"),e.qZA(),e.TgZ(23,"th",35),e._uU(24,"Phone"),e.qZA(),e.TgZ(25,"th",35),e._uU(26,"Address"),e.qZA(),e.TgZ(27,"th",35),e._uU(28,"Action"),e.qZA()()(),e.TgZ(29,"tbody"),e.YNc(30,N1,12,5,"tr",36),e.ALo(31,"slice"),e.qZA()()(),e.TgZ(32,"div",37)(33,"div",38)(34,"ngb-pagination",39),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(35,xs,1,0,"ng-template",40),e.YNc(36,Qs,1,0,"ng-template",41),e.YNc(37,Vt,1,0,"ng-template",42),e.YNc(38,Go,1,0,"ng-template",43),e.YNc(39,Dp,1,0,"ng-template",44),e.YNc(40,$s,1,1,"ng-template",45),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(30),e.Q6J("ngForOf",e.Dn7(31,8,t.vendorList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.vendorList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function xn(c,n){1&c&&(e.TgZ(0,"div",49)(1,"button",50),e._uU(2,"Save"),e.qZA()())}function As(c,n){1&c&&(e.TgZ(0,"div",49)(1,"button",50),e._uU(2,"Update"),e.qZA()())}Vs.\u0275fac=function(n){return new(n||Vs)(e.Y36(b.qu),e.Y36(te.W),e.Y36(me._W),e.Y36(ee.Q))},Vs.\u0275cmp=e.Xpm({type:Vs,selectors:[["transfer-stock"]],decls:35,vars:10,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-12",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["formControlName","name",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["formControlName","department",1,"form-control"],["type","number","formControlName","quantity","placeholder","Enter quantity",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","Search for items...","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],[1,"table-responsive"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],["class","fa fa-close fa-lg text-danger",3,"click",4,"ngIf"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[3,"value"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Df,43,12,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"i",6),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"form",12),e.NdJ("ngSubmit",function(){return t.saveTransfer(t.itemForm.value)}),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"label"),e._uU(18,"Item"),e.qZA(),e.TgZ(19,"select",16),e.YNc(20,Zs,2,2,"option",17),e.qZA()()(),e.TgZ(21,"div",14)(22,"div",15)(23,"label"),e._uU(24,"Department"),e.qZA(),e.TgZ(25,"select",18),e.YNc(26,Rp,2,2,"option",17),e.qZA()()(),e.TgZ(27,"div",14)(28,"div",15)(29,"label"),e._uU(30,"Quanity"),e.qZA(),e._UZ(31,"input",19),e.qZA()()(),e.TgZ(32,"div",13),e.YNc(33,k1,3,0,"div",20),e.YNc(34,zl,3,0,"div",20),e.qZA()()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(8,Jl,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.itemForm),e.xp6(7),e.Q6J("ngForOf",t.itemsList),e.xp6(6),e.Q6J("ngForOf",t.departmentList),e.xp6(7),e.Q6J("ngIf","Add New"===t.header),e.xp6(1),e.Q6J("ngIf","Edit"===t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.wV,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1050;background-color:#fff;padding:1rem;border-radius:8px;box-shadow:0 5px 15px #0000004d;display:none}.modal.show[_ngcontent-%COMP%]{display:block}.modal-dialog[_ngcontent-%COMP%]{overflow-y:visible!important;overflow-y:initial!important}.modal-body[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Vs.prototype,"loading",void 0);const ur=function(c){return{display:c}};class Xs{constructor(n,t,s,p){this.fb=n,this.userService=t,this.toastr=s,this.guestService=p,this.itemsList=[],this.stockList=[],this.categoryList=[],this.storeList=[],this.vendorList=[],this.displayStyle="none",this.header="",this.page=1,this.pageSize=10,this.totalAmount=0,this.user=[],this.itemForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],address:["",b.kI.required],phone:["",b.kI.required]})}ngOnInit(){this.getVendorList(),this.getUser()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}getVendorList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getVendorList();t&&(n.vendorList=t)}catch{n.toastr.error("Error fetching items list")}})()}openPopup(n,t=null){this.header=n,"Add New"===n?this.itemForm.reset():"Edit"===n&&t&&this.itemForm.patchValue(t),this.displayStyle="block"}closePopup(){this.displayStyle="none"}saveVendor(n){var t=this;return(0,Y.Z)(function*(){try{let s;t.loading.start(),"Add New"===t.header?(s=yield t.guestService.addVendor(n),t.toastr.success("Item successfully added")):"Edit"===t.header&&(s=yield t.guestService.updateVendor(n),t.toastr.success("Item successfully updated")),s&&(t.getVendorList(),t.closePopup())}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}deleteVendor(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deleteVendor(n))&&t.getVendorList()}catch{t.toastr.error("Error deleting item")}finally{t.loading.stop()}})()}exportExcel(){const n=document.getElementById("excel-table"),t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,"items_list.xlsx")}searchItems(){const t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr");for(let C=0;C<p.length;C++){const O=p[C].getElementsByTagName("td")[0];O&&(p[C].style.display=(O.textContent||O.innerText).toUpperCase().indexOf(t)>-1?"":"none")}}pageClick(){}}function Ta(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",51),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.openReturn(C))}),e._uU(13,"return"),e.qZA()()()}if(2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.item),e.xp6(2),e.Oqu(t.supplier),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Oqu(t.created_date)}}function Bf(c,n){1&c&&e._uU(0,"First")}function zf(c,n){1&c&&e._uU(0,"Last")}function Jf(c,n){1&c&&e._uU(0,"Prev")}function ei(c,n){1&c&&e._uU(0,"Next")}function ti(c,n){1&c&&e._uU(0,"...")}function ni(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function Gf(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",8)(2,"div",25)(3,"div",26)(4,"div",27)(5,"div",28)(6,"div",29)(7,"input",30),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchItems())}),e.qZA()(),e._UZ(8,"div",31),e.qZA()(),e.TgZ(9,"div",32)(10,"button",33),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup("Add New"))}),e._uU(11," Add New "),e.qZA(),e.TgZ(12,"button",34),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportExcel())}),e._UZ(13,"i",35),e._uU(14," Export "),e.qZA()(),e.TgZ(15,"div",36)(16,"table",37)(17,"thead",38)(18,"tr",39)(19,"th",40),e._uU(20,"Order Number"),e.qZA(),e.TgZ(21,"th",40),e._uU(22,"Item"),e.qZA(),e.TgZ(23,"th",40),e._uU(24,"Supplier"),e.qZA(),e.TgZ(25,"th",40),e._uU(26,"Quantity"),e.qZA(),e.TgZ(27,"th",40),e._uU(28,"Order Date"),e.qZA(),e._UZ(29,"th",40),e.qZA()(),e.TgZ(30,"tbody"),e.YNc(31,Ta,14,5,"tr",41),e.ALo(32,"slice"),e.qZA()()(),e.TgZ(33,"div",42)(34,"div",43)(35,"ngb-pagination",44),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(36,Bf,1,0,"ng-template",45),e.YNc(37,zf,1,0,"ng-template",46),e.YNc(38,Jf,1,0,"ng-template",47),e.YNc(39,ei,1,0,"ng-template",48),e.YNc(40,ti,1,0,"ng-template",49),e.YNc(41,ni,1,1,"ng-template",50),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(31),e.Q6J("ngForOf",e.Dn7(32,8,t.orderList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.orderList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function Hf(c,n){1&c&&(e.TgZ(0,"div",23)(1,"button",24),e._uU(2,"Save"),e.qZA()())}function Bp(c,n){1&c&&(e.TgZ(0,"div",23)(1,"button",24),e._uU(2,"Update"),e.qZA()())}Xs.\u0275fac=function(n){return new(n||Xs)(e.Y36(b.qu),e.Y36(te.W),e.Y36(me._W),e.Y36(ee.Q))},Xs.\u0275cmp=e.Xpm({type:Xs,selectors:[["vendor"]],decls:33,vars:8,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-12",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","name","placeholder","Enter vendor name",1,"form-control"],["type","text","formControlName","phone","placeholder","Enter phone number",1,"form-control"],["formControlName","address","placeholder","Enter adress","rows","4",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","Search for items...","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],[1,"table-responsive"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],["class","fa fa-close fa-lg text-danger",3,"click",4,"ngIf"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Gl,41,12,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"i",6),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"form",12),e.NdJ("ngSubmit",function(){return t.saveVendor(t.itemForm.value)}),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"label"),e._uU(18,"Vendor Name"),e.qZA(),e._UZ(19,"input",16),e.qZA()(),e.TgZ(20,"div",14)(21,"div",15)(22,"label"),e._uU(23,"Phone "),e.qZA(),e._UZ(24,"input",17),e.qZA()(),e.TgZ(25,"div",14)(26,"div",15)(27,"label"),e._uU(28,"Address"),e.qZA(),e._UZ(29,"textarea",18),e.qZA()()(),e.TgZ(30,"div",13),e.YNc(31,xn,3,0,"div",19),e.YNc(32,As,3,0,"div",19),e.qZA()()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(6,ur,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.itemForm),e.xp6(18),e.Q6J("ngIf","Add New"===t.header),e.xp6(1),e.Q6J("ngIf","Edit"===t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Xs.prototype,"loading",void 0);const Du=function(c){return{display:c}};class Hl{constructor(n,t,s,p){this.fb=n,this.userService=t,this.toastr=s,this.guestService=p,this.itemsList=[],this.stockList=[],this.storeList=[],this.purchaseList=[],this.orderList=[],this.displayStyle="none",this.displayreturn="none",this.header="",this.page=1,this.pageSize=10,this.totalAmount=0,this.user=[],this.itemForm=this.fb.group({id:["",b.kI.required],item:["",b.kI.required],quantity:["",b.kI.required],unit_price:["",b.kI.required],total_cost:["",b.kI.required],department:["",b.kI.required],store:["",b.kI.required],reason:["",b.kI.required]})}ngOnInit(){this.getOrderList(),this.getUser()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}getOrderList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getOrderList();t&&(n.orderList=t)}catch{n.toastr.error("Error fetching items list")}})()}openPopup(n,t=null){this.header=n,"Add New"===n?this.itemForm.reset():"Edit"===n&&t&&this.itemForm.patchValue(t),this.displayStyle="block"}openReturn(n=null){n&&this.itemForm.patchValue(n),this.displayreturn="block"}closePopup(){this.displayStyle="none",this.displayreturn="none"}newReturn(n){var t=this;return(0,Y.Z)(function*(){try{let s;t.loading.start(),s=yield t.guestService.addReturnRequest(n),t.toastr.success("Item successfully added"),s&&(t.getOrderList(),t.closePopup())}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}savePurchae(n){var t=this;return(0,Y.Z)(function*(){try{let s;t.loading.start(),"Add New"===t.header?(s=yield t.guestService.addPurchase(n),t.toastr.success("Item successfully added")):"Edit"===t.header&&(s=yield t.guestService.updatePurchase(n),t.toastr.success("Item successfully updated")),s&&(t.getOrderList(),t.closePopup())}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}approvePurchase(n){var t=this;return(0,Y.Z)(function*(){try{let s;t.loading.start(),s=yield t.guestService.approvePurchase(n),s&&(t.getOrderList(),t.closePopup())}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}exportExcel(){const n=document.getElementById("excel-table"),t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,"items_list.xlsx")}searchItems(){const t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr");for(let C=0;C<p.length;C++){const O=p[C].getElementsByTagName("td")[0];O&&(p[C].style.display=(O.textContent||O.innerText).toUpperCase().indexOf(t)>-1?"":"none")}}pageClick(){}}function Yf(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"i",50),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.deleteItem(p.id))}),e.qZA()}}Hl.\u0275fac=function(n){return new(n||Hl)(e.Y36(b.qu),e.Y36(te.W),e.Y36(me._W),e.Y36(ee.Q))},Hl.\u0275cmp=e.Xpm({type:Hl,selectors:[["purchase-order"]],decls:67,vars:13,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","unit_price",1,"form-control"],["type","text","formControlName","total_cost",1,"form-control"],["type","text","formControlName","quantity",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[3,"formGroup","ngSubmit"],["type","text","formControlName","item",1,"form-control"],["formControlName","reason","id","","rows","4","cols","50"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","Search for items...","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],[1,"table-responsive"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"badge","badge-info","badge-xs",2,"cursor","pointer",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Gf,42,12,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"button",6),e.NdJ("click",function(){return t.closePopup()}),e._uU(8,"x"),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"div",9),e._UZ(12,"div",10),e.TgZ(13,"div",11)(14,"form",12)(15,"div",13)(16,"div",14)(17,"div",15)(18,"label"),e._uU(19,"Unit Price"),e.qZA(),e._UZ(20,"input",16),e.qZA()(),e.TgZ(21,"div",14)(22,"div",15)(23,"label"),e._uU(24,"Total Cost"),e.qZA(),e._UZ(25,"input",17),e.qZA()(),e.TgZ(26,"div",14)(27,"div",15)(28,"label"),e._uU(29,"Quantity"),e.qZA(),e._UZ(30,"input",18),e.qZA()()(),e.TgZ(31,"div",13),e.YNc(32,Hf,3,0,"div",19),e.YNc(33,Bp,3,0,"div",19),e.qZA()()()()()()()()()(),e.TgZ(34,"div",2)(35,"div",3)(36,"div",4)(37,"div",5),e._uU(38),e.TgZ(39,"button",6),e.NdJ("click",function(){return t.closePopup()}),e._uU(40,"x"),e.qZA()(),e.TgZ(41,"div",7)(42,"div",8)(43,"div",9),e._UZ(44,"div",10),e.TgZ(45,"div",11)(46,"form",20),e.NdJ("ngSubmit",function(){return t.newReturn(t.itemForm.value)}),e.TgZ(47,"div",13)(48,"div",14)(49,"div",15)(50,"label"),e._uU(51,"Item"),e.qZA(),e._UZ(52,"input",21),e.qZA()(),e.TgZ(53,"div",14)(54,"div",15)(55,"label"),e._uU(56,"Quantity"),e.qZA(),e._UZ(57,"input",18),e.qZA()(),e.TgZ(58,"div",14)(59,"div",15)(60,"label"),e._uU(61,"Reason"),e.qZA(),e._UZ(62,"textarea",22),e.qZA()()(),e.TgZ(63,"div",13)(64,"div",23)(65,"button",24),e._uU(66,"Save"),e.qZA()()()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(9,Du,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(8),e.Q6J("formGroup",t.itemForm),e.xp6(18),e.Q6J("ngIf","Add New"===t.header),e.xp6(1),e.Q6J("ngIf","Edit"===t.header),e.xp6(1),e.Q6J("ngStyle",e.VKq(11,Du,t.displayreturn)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(8),e.Q6J("formGroup",t.itemForm))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Hl.prototype,"loading",void 0);const Kf=function(c,n,t){return{"text-danger fw-bold":c,"text-warning fw-bold":n,"text-success fw-bold":t}};function P1(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td")(13,"span",47),e._uU(14),e.qZA()(),e.TgZ(15,"td")(16,"i",48),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.openPopup("Edit",C))}),e.qZA(),e.YNc(17,Yf,1,0,"i",49),e.qZA()()}if(2&c){const t=n.$implicit,s=e.oxw(2);e.xp6(2),e.Oqu(t.batch_number),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.hij("",e.lcZ(9,8,t.expired_date)," "),e.xp6(3),e.Oqu(t.created_date),e.xp6(2),e.Q6J("ngClass",e.kEZ(10,Kf,"Expired"===s.getStatus(t.expired_date),"Expiring Soon"===s.getStatus(t.expired_date),"Active"===s.getStatus(t.expired_date))),e.xp6(1),e.hij(" ",s.getStatus(t.expired_date)," "),e.xp6(3),e.Q6J("ngIf","admin"===(null==s.user[0]?null:s.user[0].roles))}}function zp(c,n){1&c&&e._uU(0,"First")}function wa(c,n){1&c&&e._uU(0,"Last")}function I1(c,n){1&c&&e._uU(0,"Prev")}function L1(c,n){1&c&&e._uU(0,"Next")}function zr(c,n){1&c&&e._uU(0,"...")}function el(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}const tl=function(c){return{"glow-btn":c}};function nl(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",8)(2,"div",20)(3,"div",21)(4,"div",22)(5,"div",23)(6,"div",24)(7,"input",25),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchItems())}),e.qZA()(),e._UZ(8,"div",26),e.qZA()(),e.TgZ(9,"div",27)(10,"button",28),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup("Add New"))}),e._uU(11," Add New "),e.qZA(),e.TgZ(12,"button",29),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportExcel())}),e._UZ(13,"i",30),e._uU(14," Export "),e.qZA(),e.TgZ(15,"button",31),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.sortByExpiry())}),e._uU(16," Check Expiry Status\n"),e.qZA()(),e.TgZ(17,"div",32)(18,"table",33)(19,"thead",34)(20,"tr",35)(21,"th",36),e._uU(22,"#"),e.qZA(),e.TgZ(23,"th",36),e._uU(24,"Item Name"),e.qZA(),e.TgZ(25,"th",36),e._uU(26,"Quanity"),e.qZA(),e.TgZ(27,"th",36),e._uU(28,"Expiry Date"),e.qZA(),e.TgZ(29,"th",36),e._uU(30,"Date"),e.qZA(),e.TgZ(31,"th",36),e._uU(32,"Status"),e.qZA(),e.TgZ(33,"th",36),e._uU(34,"Action"),e.qZA()()(),e.TgZ(35,"tbody"),e.YNc(36,P1,18,14,"tr",37),e.ALo(37,"slice"),e.qZA()()(),e.TgZ(38,"div",38)(39,"div",39)(40,"ngb-pagination",40),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(41,zp,1,0,"ng-template",41),e.YNc(42,wa,1,0,"ng-template",42),e.YNc(43,I1,1,0,"ng-template",43),e.YNc(44,L1,1,0,"ng-template",44),e.YNc(45,zr,1,0,"ng-template",45),e.YNc(46,el,1,1,"ng-template",46),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(15),e.Q6J("ngClass",e.VKq(13,tl,t.showGlow)),e.xp6(21),e.Q6J("ngForOf",e.Dn7(37,9,t.itemList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.itemList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function Bu(c,n){1&c&&(e.TgZ(0,"div",51)(1,"button",52),e._uU(2,"Save"),e.qZA()())}function pi(c,n){1&c&&(e.TgZ(0,"div",51)(1,"button",52),e._uU(2,"Update"),e.qZA()())}const zu=function(c){return{display:c}};class Ur{constructor(n,t,s,p){this.fb=n,this.toastr=t,this.userService=s,this.guestService=p,this.showGlow=!1,this.itemList=[],this.itemsList=[],this.stockList=[],this.groupList=[],this.familyList=[],this.storeList=[],this.unitList=[],this.displayStyle="none",this.header="",this.page=1,this.pageSize=100,this.totalAmount=0,this.user=[],this.itemForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],quantity:["",b.kI.required],expired_date:["",b.kI.required]})}ngOnInit(){this.getItemsList(),this.getItemList(),this.checkExpiryGlow()}checkExpiryGlow(){const n=new Date;for(let t of this.itemList){const C=(new Date(t.expired_date).getTime()-n.getTime())/864e5;if(C<=30&&C>=0)return void(this.showGlow=!0)}this.showGlow=!1}sortByExpiry(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.guestService.getExpiry();t&&(n.itemList=t)}catch(s){alert(s)}})()}isExpired(n){const t=new Date;return new Date(n).getTime()<t.getTime()}getStatus(n){const t=new Date,p=(new Date(n).getTime()-t.getTime())/864e5;return p<0?"Expired":p<=30?"Expiring Soon":"Active"}getItemList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getItemsList();t&&(n.itemsList=t)}catch{n.toastr.error("Error fetching items list")}})()}getItemsList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getItemList();t&&(n.itemList=t)}catch{n.toastr.error("Error fetching items list")}})()}getStockList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getStockList();t&&(n.stockList=t)}catch{n.toastr.error("Error fetching items list")}})()}openPopup(n,t=null){this.header=n,"Add New"===n?this.itemForm.reset():"Edit"===n&&t&&this.itemForm.patchValue(t),this.displayStyle="block"}closePopup(){this.displayStyle="none"}saveItem(n){var t=this;return(0,Y.Z)(function*(){try{let s;t.loading.start(),"Add New"===t.header?(s=yield t.guestService.addRecievedItem(n),t.toastr.success("Item successfully added")):"Edit"===t.header&&(s=yield t.guestService.updateRecievedItem(n),t.toastr.success("Item successfully updated")),s&&(t.getItemsList(),t.closePopup())}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}deleteItem(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deleteReceivedItem(n))&&(t.toastr.success("Item successfully deleted"),t.getItemsList())}catch{t.toastr.error("Error deleting item")}finally{t.loading.stop()}})()}exportExcel(){const n=document.getElementById("excel-table"),t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,"stock_list.xlsx")}searchItems(){const t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr");for(let C=0;C<p.length;C++){const O=p[C].getElementsByTagName("td")[0];O&&(p[C].style.display=(O.textContent||O.innerText).toUpperCase().indexOf(t)>-1?"":"none")}}pageClick(){}}function _d(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"td")(1,"span",51),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.approve(p))}),e._uU(2,"Approve"),e.qZA()()}}function Ju(c,n){1&c&&(e.TgZ(0,"td")(1,"span",52),e._uU(2,"Returned"),e.qZA()())}function Ts(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.YNc(15,_d,3,0,"td",50),e.YNc(16,Ju,3,0,"td",50),e.qZA()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.item_id),e.xp6(2),e.Oqu(t.item),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Oqu(t.reason),e.xp6(2),e.Oqu(t.request_by),e.xp6(2),e.Oqu(t.created_date),e.xp6(2),e.Oqu(t.status),e.xp6(1),e.Q6J("ngIf","Pending"==t.status),e.xp6(1),e.Q6J("ngIf","Success"==t.status)}}function Gu(c,n){1&c&&e._uU(0,"First")}function Jt(c,n){1&c&&e._uU(0,"Last")}function Wf(c,n){1&c&&e._uU(0,"Prev")}function Vf(c,n){1&c&&e._uU(0,"Next")}function O1(c,n){1&c&&e._uU(0,"...")}function E1(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function M1(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",8)(2,"div",25)(3,"div",26)(4,"div",27)(5,"div",28)(6,"div",29)(7,"input",30),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchItems())}),e.qZA()(),e._UZ(8,"div",31),e.qZA()(),e.TgZ(9,"div",32)(10,"button",33),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportExcel())}),e._UZ(11,"i",34),e._uU(12," Export "),e.qZA()(),e.TgZ(13,"div",35)(14,"table",36)(15,"thead",37)(16,"tr",38)(17,"th",39),e._uU(18,"Order Number"),e.qZA(),e.TgZ(19,"th",39),e._uU(20,"Item"),e.qZA(),e.TgZ(21,"th",39),e._uU(22,"Quantity"),e.qZA(),e.TgZ(23,"th",39),e._uU(24,"Reason"),e.qZA(),e.TgZ(25,"th",39),e._uU(26,"Request by"),e.qZA(),e.TgZ(27,"th",39),e._uU(28," Date"),e.qZA(),e.TgZ(29,"th",39),e._uU(30,"Status"),e.qZA(),e._UZ(31,"th"),e.qZA()(),e.TgZ(32,"tbody"),e.YNc(33,Ts,17,9,"tr",40),e.ALo(34,"slice"),e.qZA()()(),e.TgZ(35,"div",41)(36,"div",42)(37,"ngb-pagination",43),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(38,Gu,1,0,"ng-template",44),e.YNc(39,Jt,1,0,"ng-template",45),e.YNc(40,Wf,1,0,"ng-template",46),e.YNc(41,Vf,1,0,"ng-template",47),e.YNc(42,O1,1,0,"ng-template",48),e.YNc(43,E1,1,1,"ng-template",49),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(33),e.Q6J("ngForOf",e.Dn7(34,8,t.returnList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.returnList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function Jp(c,n){1&c&&(e.TgZ(0,"div",23)(1,"button",24),e._uU(2,"Save"),e.qZA()())}function F1(c,n){1&c&&(e.TgZ(0,"div",23)(1,"button",24),e._uU(2,"Update"),e.qZA()())}Ur.\u0275fac=function(n){return new(n||Ur)(e.Y36(b.qu),e.Y36(me._W),e.Y36(te.W),e.Y36(ee.Q))},Ur.\u0275cmp=e.Xpm({type:Ur,selectors:[["received-items"]],decls:33,vars:8,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-12",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","name",1,"form-control"],["type","number","formControlName","quantity","placeholder","Enter quantity",1,"form-control"],["type","date","formControlName","expired_date",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","Search for items...","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],[1,"btn","btn-danger","btn-sm",3,"ngClass","click"],[1,"table-responsive"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[3,"ngClass"],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],["class","fa fa-close fa-lg text-danger",3,"click",4,"ngIf"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,nl,47,15,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"i",6),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"form",12),e.NdJ("ngSubmit",function(){return t.saveItem(t.itemForm.value)}),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"label"),e._uU(18,"Item "),e.qZA(),e._UZ(19,"input",16),e.qZA()(),e.TgZ(20,"div",14)(21,"div",15)(22,"label"),e._uU(23,"Quanity Received"),e.qZA(),e._UZ(24,"input",17),e.qZA()(),e.TgZ(25,"div",14)(26,"div",15)(27,"label"),e._uU(28,"Expiry date"),e.qZA(),e._UZ(29,"input",18),e.qZA()()(),e.TgZ(30,"div",13),e.YNc(31,Bu,3,0,"div",19),e.YNc(32,pi,3,0,"div",19),e.qZA()()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(6,zu,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.itemForm),e.xp6(18),e.Q6J("ngIf","Add New"===t.header),e.xp6(1),e.Q6J("ngIf","Edit"===t.header))},dependencies:[be.mk,be.sg,be.O5,be.PC,b._Y,b.Fj,b.wV,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU,be.uU],styles:[".glow-btn[_ngcontent-%COMP%]{box-shadow:0 0 10px #f00c;animation:glow 1.5s infinite alternate}@keyframes glow{0%{box-shadow:0 0 5px #ff0000b3,0 0 10px #ff0000b3,0 0 20px #ff0000b3}to{box-shadow:0 0 20px red,0 0 30px red,0 0 40px red}}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Ur.prototype,"loading",void 0);const j1=function(c){return{display:c}};class ws{constructor(n,t,s,p){this.fb=n,this.userService=t,this.toastr=s,this.guestService=p,this.itemsList=[],this.stockList=[],this.storeList=[],this.purchaseList=[],this.returnList=[],this.orderList=[],this.displayStyle="none",this.displayreturn="none",this.header="",this.page=1,this.pageSize=10,this.totalAmount=0,this.user=[],this.itemForm=this.fb.group({id:["",b.kI.required],item:["",b.kI.required],quantity:["",b.kI.required],unit_price:["",b.kI.required],total_cost:["",b.kI.required],department:["",b.kI.required],store:["",b.kI.required],reason:["",b.kI.required]})}ngOnInit(){this.getReturnList()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}getReturnList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getReturnRequest();t&&(n.returnList=t)}catch{n.toastr.error("Error fetching items list")}})()}openPopup(n,t=null){this.header=n,"Add New"===n?this.itemForm.reset():"Edit"===n&&t&&this.itemForm.patchValue(t),this.displayStyle="block"}openReturn(n=null){n&&this.itemForm.patchValue(n),this.displayreturn="block"}closePopup(){this.displayStyle="none",this.displayreturn="none"}newReturn(n){var t=this;return(0,Y.Z)(function*(){try{let s;t.loading.start(),s=yield t.guestService.addReturnRequest(n),t.toastr.success("Item successfully added"),s&&t.closePopup()}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}savePurchae(n){var t=this;return(0,Y.Z)(function*(){try{let s;t.loading.start(),"Add New"===t.header?(s=yield t.guestService.addPurchase(n),t.toastr.success("Item successfully added")):"Edit"===t.header&&(s=yield t.guestService.updatePurchase(n),t.toastr.success("Item successfully updated")),s&&t.closePopup()}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}approve(n){var t=this;return(0,Y.Z)(function*(){try{let s;t.loading.start(),s=yield t.guestService.approveReturnRequest(n),s&&t.getReturnList()}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}exportExcel(){const n=document.getElementById("excel-table"),t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,"items_list.xlsx")}searchItems(){const t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr");for(let C=0;C<p.length;C++){const O=p[C].getElementsByTagName("td")[0];O&&(p[C].style.display=(O.textContent||O.innerText).toUpperCase().indexOf(t)>-1?"":"none")}}pageClick(){}}function R1(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e._UZ(6,"td"),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA()()),2&c){const t=n.$implicit,s=e.oxw(3);e.xp6(2),e.Oqu(e.xi3(3,4,t.payment_date,"yyyy-MM-dd")),e.xp6(3),e.hij("",t.name," - Room Booking"),e.xp6(3),e.Oqu(t.amount),e.xp6(2),e.Oqu(e.lcZ(11,7,s.totalAmount))}}function Qf(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e._UZ(8,"td"),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA()()),2&c){const t=n.$implicit,s=e.oxw(3);e.xp6(2),e.Oqu(e.xi3(3,4,t.refund_date,"yyyy-MM-dd")),e.xp6(3),e.hij("",t.name," - Refund"),e.xp6(2),e.Oqu(t.refund_amount),e.xp6(3),e.Oqu(e.lcZ(11,7,s.totalAmount-s.totalRefundAmount))}}function D1(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e._UZ(6,"td"),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA()()),2&c){const t=n.$implicit,s=e.oxw(3);e.xp6(2),e.Oqu(e.xi3(3,4,t.date,"yyyy-MM-dd")),e.xp6(3),e.hij("",t.name," - Income"),e.xp6(3),e.Oqu(t.amount),e.xp6(2),e.Oqu(e.lcZ(11,7,s.totalAmount+s.totalIncome-s.totalRefundAmount))}}function B1(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e._UZ(8,"td"),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA()()),2&c){const t=n.$implicit,s=e.oxw(3);e.xp6(2),e.Oqu(e.xi3(3,4,t.date,"yyyy-MM-dd")),e.xp6(3),e.hij("",t.name," - Expense"),e.xp6(2),e.Oqu(t.amount),e.xp6(3),e.Oqu(e.lcZ(11,7,s.totalAmount+s.totalIncome-s.totalRefundAmount-s.totalExpenses))}}function z1(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e._UZ(8,"td"),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA()()),2&c){const t=n.$implicit,s=e.oxw(3);e.xp6(2),e.Oqu(e.xi3(3,4,t.request_date,"yyyy-MM-dd")),e.xp6(3),e.hij("",t.item," - Stock Purchase"),e.xp6(2),e.Oqu(t.total_cost),e.xp6(3),e.Oqu(e.lcZ(11,7,s.totalAmount+s.totalIncome-s.totalRefundAmount-s.totalExpenses-s.totalPurchases))}}function $f(c,n){if(1&c&&(e.TgZ(0,"div",18)(1,"h5",19),e._uU(2,"General Ledger"),e.qZA(),e.TgZ(3,"table",20)(4,"thead",21)(5,"tr",22)(6,"th"),e._uU(7,"Date"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Description"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Debit (GH\u20b5)"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Credit (GH\u20b5)"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Balance (GH\u20b5)"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,R1,12,9,"tr",23),e.YNc(18,Qf,12,9,"tr",23),e.YNc(19,D1,12,9,"tr",23),e.YNc(20,B1,12,9,"tr",23),e.YNc(21,z1,12,9,"tr",23),e.TgZ(22,"tr",24)(23,"td",25)(24,"strong"),e._uU(25,"Closing Balance"),e.qZA()(),e.TgZ(26,"td")(27,"strong"),e._uU(28),e.ALo(29,"number"),e.qZA()()()()()()),2&c){const t=e.oxw(2);e.xp6(17),e.Q6J("ngForOf",t.paymentList),e.xp6(1),e.Q6J("ngForOf",t.refundList),e.xp6(1),e.Q6J("ngForOf",t.incomeList),e.xp6(1),e.Q6J("ngForOf",t.expenseList),e.xp6(1),e.Q6J("ngForOf",t.purchaseList),e.xp6(7),e.hij("GH\u20b5",e.lcZ(29,6,t.totalAmount+t.totalIncome-t.totalRefundAmount-t.totalExpenses-t.totalPurchases),"")}}function Xf(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h4",6),e._uU(5," Ledger Report"),e.qZA(),e.TgZ(6,"div",7)(7,"div",8)(8,"form",9)(9,"label",10),e._uU(10,"Select Date:"),e.qZA(),e.TgZ(11,"input",11),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()(),e.TgZ(12,"div",12)(13,"button",13),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportexcel())}),e._UZ(14,"i",14),e._uU(15," Export to Excel "),e.qZA(),e.TgZ(16,"button",15),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.printRepo())}),e._UZ(17,"i",16),e._uU(18," Print "),e.qZA()()()(),e.YNc(19,$f,30,8,"div",17),e.qZA()()()()}if(2&c){const t=e.oxw();e.xp6(8),e.Q6J("formGroup",t.paymentForm),e.xp6(11),e.Q6J("ngIf",t.paymentForm.value.dates)}}ws.\u0275fac=function(n){return new(n||ws)(e.Y36(b.qu),e.Y36(te.W),e.Y36(me._W),e.Y36(ee.Q))},ws.\u0275cmp=e.Xpm({type:ws,selectors:[["return-request"]],decls:67,vars:13,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","unit_price",1,"form-control"],["type","text","formControlName","total_cost",1,"form-control"],["type","text","formControlName","quantity",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[3,"formGroup","ngSubmit"],["type","text","formControlName","item",1,"form-control"],["formControlName","reason","id","","rows","4","cols","50"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","Search for items...","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],[1,"table-responsive"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[4,"ngIf"],[1,"badge","badge-success","badge-xs",2,"cursor","pointer",3,"click"],[1,"badge","badge-success","badge-xs",2,"cursor","pointer"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,M1,44,12,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"button",6),e.NdJ("click",function(){return t.closePopup()}),e._uU(8,"x"),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"div",9),e._UZ(12,"div",10),e.TgZ(13,"div",11)(14,"form",12)(15,"div",13)(16,"div",14)(17,"div",15)(18,"label"),e._uU(19,"Unit Price"),e.qZA(),e._UZ(20,"input",16),e.qZA()(),e.TgZ(21,"div",14)(22,"div",15)(23,"label"),e._uU(24,"Total Cost"),e.qZA(),e._UZ(25,"input",17),e.qZA()(),e.TgZ(26,"div",14)(27,"div",15)(28,"label"),e._uU(29,"Quantity"),e.qZA(),e._UZ(30,"input",18),e.qZA()()(),e.TgZ(31,"div",13),e.YNc(32,Jp,3,0,"div",19),e.YNc(33,F1,3,0,"div",19),e.qZA()()()()()()()()()(),e.TgZ(34,"div",2)(35,"div",3)(36,"div",4)(37,"div",5),e._uU(38),e.TgZ(39,"button",6),e.NdJ("click",function(){return t.closePopup()}),e._uU(40,"x"),e.qZA()(),e.TgZ(41,"div",7)(42,"div",8)(43,"div",9),e._UZ(44,"div",10),e.TgZ(45,"div",11)(46,"form",20),e.NdJ("ngSubmit",function(){return t.newReturn(t.itemForm.value)}),e.TgZ(47,"div",13)(48,"div",14)(49,"div",15)(50,"label"),e._uU(51,"Item"),e.qZA(),e._UZ(52,"input",21),e.qZA()(),e.TgZ(53,"div",14)(54,"div",15)(55,"label"),e._uU(56,"Quantity"),e.qZA(),e._UZ(57,"input",18),e.qZA()(),e.TgZ(58,"div",14)(59,"div",15)(60,"label"),e._uU(61,"Reason"),e.qZA(),e._UZ(62,"textarea",22),e.qZA()()(),e.TgZ(63,"div",13)(64,"div",23)(65,"button",24),e._uU(66,"Save"),e.qZA()()()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(9,j1,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(8),e.Q6J("formGroup",t.itemForm),e.xp6(18),e.Q6J("ngIf","Add New"===t.header),e.xp6(1),e.Q6J("ngIf","Edit"===t.header),e.xp6(1),e.Q6J("ngStyle",e.VKq(11,j1,t.displayreturn)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(8),e.Q6J("formGroup",t.itemForm))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],ws.prototype,"loading",void 0),rr().vfs=Vo.I.vfs;class $a{constructor(n,t,s,p,C,O,qe){this.fb=n,this.roomService=t,this.toastr=s,this.paymentService=p,this.guestService=C,this.userService=O,this.ngZone=qe,this.fileName="general_ledger.xlsx",this.page=1,this.pageSize=10,this.displayStyle="none",this.openStyle="none",this.totalPurchases=0,this.balance=0,this.paymentForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],amount:["",b.kI.required],duration:["",b.kI.required],method:["",b.kI.required],room_type:["",b.kI.required],discount:["",b.kI.required],dates:["",b.kI.required]})}ngOnInit(){this.getRoom()}getPaymentList(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.paymentService.getPayment();t&&(n.paymentList=t,n.paymentForm.patchValue({amount:n.paymentList[0].amount}));let s=0;for(let p=0;p<n.paymentList.length;p++)s+=parseInt(n.paymentList[p].amount),n.totalAmount=s,console.log(s)}catch(s){n.toastr.error(null,s)}})()}getRoom(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.roomService.getrooms();t&&(n.roomList=t)}catch(s){n.toastr.error(null,s)}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();const t=n.paymentForm.value.dates;if(!t)throw new Error("Please select a valid date.");const s={date:t},p=yield n.paymentService.searchDates(s);n.paymentList=p||[],n.totalAmount=n.paymentList.reduce((un,Mn)=>un+parseInt(Mn.amount),0);const C=yield n.paymentService.searchRefundDates(s);n.refundList=C||[],n.totalRefundAmount=n.refundList.reduce((un,Mn)=>un+parseInt(Mn.refund_amount),0);const O=yield n.guestService.searchIncomeDates(s);n.incomeList=O||[],n.totalIncome=n.incomeList.reduce((un,Mn)=>un+parseInt(Mn.amount),0);const qe=yield n.guestService.searchExpenseDate(s);n.expenseList=qe||[],n.totalExpenses=n.expenseList.reduce((un,Mn)=>un+parseInt(Mn.amount),0);const Ln=yield n.guestService.searchPurchaseDate(s);n.purchaseList=Ln||[],n.totalPurchases=n.purchaseList.reduce((un,Mn)=>un+parseInt(Mn.total_cost),0),n.balance=n.totalAmount+n.totalIncome-n.totalRefundAmount-n.totalExpenses-n.totalPurchases}catch(t){console.error("Error fetching data:",t.message||t)}finally{n.loading.stop()}})()}getBookingList(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.roomService.getBookingList();t&&(n.bookings=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}applyFilter(){var n=this;return(0,Y.Z)(function*(){try{console.log(n.paymentForm.value.filter),n.loading.start();var t=yield n.paymentService.getPaymentFilter(n.paymentForm.value.filter);t&&(n.paymentList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}openPopup(){this.header="Add Payment",this.displayStyle="block",this.getBookingList()}closePopup(){this.displayStyle="none",this.openStyle="none"}exportexcel(){let n=document.getElementById("ledger-table");const t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,this.fileName)}printReport(){const n=document.querySelector(".page")?.innerHTML;if(n){const t=window.open("","_blank");t?.document.write("<html><head><title>Report</title></head><body>"),t?.document.write(n),t?.document.write("</body></html>"),t?.document.close(),t?.focus(),t?.print(),t?.close()}else console.error("No content found to print.")}exportToExcel(){const n=document.getElementById("excel-table");if(n){const t=Be.P6.table_to_book(n);Be.NC(t,"Hotel_Report.xlsx")}else console.error("Table not found for exporting to Excel.")}printRepo(){const n=document.getElementById("ledger-table")?.outerHTML;if(!n)return void console.error("No content found to print.");const t=window.open("","","height=800, width=800");t?(t.document.write("<html><head><title>Report</title>"),t.document.write("\n        <style>\n          body { font-family: Arial, sans-serif; margin: 0; padding: 0; }\n          table { width: 100%; border-collapse: collapse; }\n          th, td { padding: 8px; border: 1px solid #ddd; }\n          th { background-color: #f2f2f2; }\n          .text-end { text-align: end; }\n          .bg-light { background-color: #f8f9fa; }\n        </style>\n      "),t.document.write("</head><body>"),t.document.write(n||""),t.document.write("</body></html>"),t.document.close(),this.ngZone.run(()=>{t.onload=()=>{t.print(),t.close()}})):console.error("Failed to open the print window.")}}function J1(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA()()),2&c){const t=n.$implicit,s=e.oxw().$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.qty),e.xp6(2),e.hij("GH\u20b5",t.price,""),e.xp6(2),e.hij("GH\u20b5",t.qty*t.price,""),e.xp6(2),e.Oqu(s.waiter),e.xp6(2),e.Oqu(t.custoner),e.xp6(2),e.Oqu(s.phone),e.xp6(2),e.Oqu(s.status)}}function G1(c,n){if(1&c&&(e.ynx(0),e.YNc(1,J1,17,8,"tr",22),e.BQk()),2&c){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t.items)}}function Yl(c,n){if(1&c&&(e.TgZ(0,"div",18)(1,"h5",19),e._uU(2,"Account Receivable"),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Held Orders"),e.qZA(),e.TgZ(5,"table",20)(6,"thead",21)(7,"tr")(8,"th"),e._uU(9,"Item"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Quantity"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Price"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Subtotal"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Attendant"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Customer"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"phone"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Status"),e.qZA()()(),e.TgZ(24,"tbody"),e.YNc(25,G1,2,1,"ng-container",22),e.TgZ(26,"tr")(27,"td",23)(28,"strong"),e._uU(29),e.ALo(30,"number"),e.qZA()()()()()()),2&c){const t=e.oxw(2);e.xp6(25),e.Q6J("ngForOf",t.HeldList),e.xp6(4),e.hij("Total: GH\u20b5",e.lcZ(30,2,t.totalHeldAmount),"")}}function vd(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h4",6),e._uU(5,"Account Receivable Report"),e.qZA(),e.TgZ(6,"div",7)(7,"div",8)(8,"form",9)(9,"label",10),e._uU(10,"Select Date:"),e.qZA(),e.TgZ(11,"input",11),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()(),e.TgZ(12,"div",12)(13,"button",13),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportexcel())}),e._UZ(14,"i",14),e._uU(15," Export to Excel "),e.qZA(),e.TgZ(16,"button",15),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.printRepo())}),e._UZ(17,"i",16),e._uU(18," Print "),e.qZA()()()(),e.YNc(19,Yl,31,4,"div",17),e.qZA()()()()}if(2&c){const t=e.oxw();e.xp6(8),e.Q6J("formGroup",t.paymentForm),e.xp6(11),e.Q6J("ngIf",t.paymentForm.value.dates)}}$a.\u0275fac=function(n){return new(n||$a)(e.Y36(b.qu),e.Y36(P.X),e.Y36(me._W),e.Y36(pe.t),e.Y36(ee.Q),e.Y36(te.W),e.Y36(e.R0b))},$a.\u0275cmp=e.Xpm({type:$a,selectors:[["general-ledger"]],decls:2,vars:1,consts:[[1,"page"],["class","row",4,"blockUI"],[1,"row"],[1,"col-md-12"],[1,"card","shadow-lg","rounded"],[1,"card-body","p-4"],[1,"text-center","mb-4"],[1,"d-flex","mb-4","justify-content-between","align-items-center"],[1,"d-flex"],[1,"me-3",3,"formGroup"],["for","dates",1,"me-2"],["type","date","formControlName","dates",1,"form-control",3,"ngModelChange"],[1,"button-group"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-file-excel-o"],["type","button",1,"btn","btn-primary","btn-sm","ms-2",3,"click"],[1,"fa","fa-print"],["id","ledger-table",4,"ngIf"],["id","ledger-table"],[1,"text-secondary"],[1,"table","table-bordered"],[1,"table-light"],[1,"bg-secondary","text-white"],[4,"ngFor","ngForOf"],[1,"bg-light"],["colspan","4",1,"text-end"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Xf,20,2,"div",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"))},dependencies:[be.sg,be.O5,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,ae.PC,be.JJ,be.uU],styles:[".page[_ngcontent-%COMP%]{margin:20px}.card[_ngcontent-%COMP%]{border-radius:12px;border:none;box-shadow:0 4px 8px #0000001a;background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:30px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #dee2e6}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;color:#495057}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#fff;color:#495057}table[_ngcontent-%COMP%]   .bg-secondary[_ngcontent-%COMP%]{background-color:#6c757d!important}table[_ngcontent-%COMP%]   .bg-light[_ngcontent-%COMP%]{background-color:#f8f9fa!important}.form-control[_ngcontent-%COMP%]{max-width:200px;display:inline-block}h4[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#343a40}h5[_ngcontent-%COMP%]{font-size:1.25rem;color:#6c757d;margin-top:20px}button[_ngcontent-%COMP%]{font-size:.875rem;padding:8px 15px;border-radius:5px}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.btn-sm[_ngcontent-%COMP%]{font-size:.875rem;padding:6px 10px}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border:none}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-light[_ngcontent-%COMP%]{background-color:#f8f9fa;border:1px solid #dee2e6}.btn-light[_ngcontent-%COMP%]:hover{background-color:#e2e6ea}.d-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}table[_ngcontent-%COMP%]   .bg-light[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:#007bff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f9f9f9}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.ledger-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.ledger-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.ledger-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:500}.ledger-table[_ngcontent-%COMP%]   .debit[_ngcontent-%COMP%], .ledger-table[_ngcontent-%COMP%]   .credit[_ngcontent-%COMP%]{font-weight:700}.ledger-table[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]{color:#28a745;font-weight:700}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],$a.prototype,"loading",void 0),rr().vfs=Vo.I.vfs;class ol{constructor(n,t,s,p,C,O,qe){this.fb=n,this.roomService=t,this.toastr=s,this.paymentService=p,this.guestService=C,this.userService=O,this.ngZone=qe,this.fileName="account_receivable.xlsx",this.page=1,this.pageSize=10,this.displayStyle="none",this.openStyle="none",this.totalHeldAmount=0,this.totalPurchases=0,this.balance=0,this.paymentForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],amount:["",b.kI.required],duration:["",b.kI.required],method:["",b.kI.required],room_type:["",b.kI.required],discount:["",b.kI.required],dates:["",b.kI.required]})}ngOnInit(){this.getRoom()}getPaymentList(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.paymentService.getPayment();t&&(n.paymentList=t,n.paymentForm.patchValue({amount:n.paymentList[0].amount}));let s=0;for(let p=0;p<n.paymentList.length;p++)s+=parseInt(n.paymentList[p].amount),n.totalAmount=s,console.log(s)}catch(s){n.toastr.error(null,s)}})()}getRoom(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.roomService.getrooms();t&&(n.roomList=t)}catch(s){n.toastr.error(null,s)}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start(),n.loadHeldOrders();if(!n.paymentForm.value.dates)throw new Error("Please select a valid date.")}catch(t){console.error("Error fetching data:",t.message||t)}finally{n.loading.stop()}})()}loadHeldOrders(){this.guestService.getHeldReportOrders(this.paymentForm.value.dates).subscribe(t=>{if(console.log("API Response:",t),!Array.isArray(t)||0===t.length)return console.log("No held orders found."),this.HeldList=[],void(this.totalHeldAmount=0);this.HeldList=t.map(s=>({...s,items:Array.isArray(s.items)?s.items.map(p=>({...p,price:Number(p.price)||0,qty:Number(p.qty)||0})):[]})),console.log("Processed HeldList:",this.HeldList),this.calculateTotal()})}calculateTotal(){this.totalHeldAmount=this.HeldList.reduce((n,t)=>n+t.items.reduce((s,p)=>s+p.qty*p.price,0),0)}getBookingList(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.roomService.getBookingList();t&&(n.bookings=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}applyFilter(){var n=this;return(0,Y.Z)(function*(){try{console.log(n.paymentForm.value.filter),n.loading.start();var t=yield n.paymentService.getPaymentFilter(n.paymentForm.value.filter);t&&(n.paymentList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}openPopup(){this.header="Add Payment",this.displayStyle="block",this.getBookingList()}closePopup(){this.displayStyle="none",this.openStyle="none"}printReport(){const n=document.querySelector(".page")?.innerHTML;if(n){const t=window.open("","_blank");t?.document.write("<html><head><title>Report</title></head><body>"),t?.document.write(n),t?.document.write("</body></html>"),t?.document.close(),t?.focus(),t?.print(),t?.close()}else console.error("No content found to print.")}exportToExcel(){const n=document.getElementById("receivable-table");if(n){const t=Be.P6.table_to_book(n);Be.NC(t,"Hotel_Report.xlsx")}else console.error("Table not found for exporting to Excel.")}exportexcel(){let n=document.getElementById("receivable-table");const t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,this.fileName)}printRepo(){const n=document.getElementById("receivable-table")?.outerHTML;if(!n)return void console.error("No content found to print.");const t=window.open("","","height=800, width=800");t?(t.document.write("<html><head><title>Report</title>"),t.document.write("\n          <style>\n            body { font-family: Arial, sans-serif; margin: 0; padding: 0; }\n            table { width: 100%; border-collapse: collapse; }\n            th, td { padding: 8px; border: 1px solid #ddd; }\n            th { background-color: #f2f2f2; }\n            .text-end { text-align: end; }\n            .bg-light { background-color: #f8f9fa; }\n          </style>\n        "),t.document.write("</head><body>"),t.document.write(n||""),t.document.write("</body></html>"),t.document.close(),this.ngZone.run(()=>{t.onload=()=>{t.print(),t.close()}})):console.error("Failed to open the print window.")}}function H1(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e._UZ(6,"td"),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA()()),2&c){const t=n.$implicit,s=e.oxw(3);e.xp6(2),e.Oqu(e.xi3(3,4,t.payment_date,"yyyy-MM-dd")),e.xp6(3),e.hij("",t.name," - Room Booking"),e.xp6(3),e.Oqu(t.amount),e.xp6(2),e.Oqu(e.lcZ(11,7,s.totalAmount))}}function Y1(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e._UZ(8,"td"),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA()()),2&c){const t=n.$implicit,s=e.oxw(3);e.xp6(2),e.Oqu(e.xi3(3,4,t.refund_date,"yyyy-MM-dd")),e.xp6(3),e.hij("",t.name," - Refund"),e.xp6(2),e.Oqu(t.refund_amount),e.xp6(3),e.Oqu(e.lcZ(11,7,s.totalAmount-s.totalRefundAmount))}}function Gp(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e._UZ(6,"td"),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA()()),2&c){const t=n.$implicit,s=e.oxw(3);e.xp6(2),e.Oqu(e.xi3(3,4,t.date,"yyyy-MM-dd")),e.xp6(3),e.hij("",t.name," - Income"),e.xp6(3),e.Oqu(t.amount),e.xp6(2),e.Oqu(e.lcZ(11,7,s.totalAmount+s.totalIncome-s.totalRefundAmount))}}function K1(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e._UZ(8,"td"),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA()()),2&c){const t=n.$implicit,s=e.oxw(3);e.xp6(2),e.Oqu(e.xi3(3,4,t.date,"yyyy-MM-dd")),e.xp6(3),e.hij("",t.name," - Expense"),e.xp6(2),e.Oqu(t.amount),e.xp6(3),e.Oqu(e.lcZ(11,7,s.totalAmount+s.totalIncome-s.totalRefundAmount-s.totalExpenses))}}function eg(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e._UZ(8,"td"),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA()()),2&c){const t=n.$implicit,s=e.oxw(3);e.xp6(2),e.Oqu(e.xi3(3,4,t.request_date,"yyyy-MM-dd")),e.xp6(3),e.hij("",t.item," - Stock Purchase"),e.xp6(2),e.Oqu(t.total_cost),e.xp6(3),e.Oqu(e.lcZ(11,7,s.totalAmount+s.totalIncome-s.totalRefundAmount-s.totalExpenses-s.totalPurchases))}}function W1(c,n){if(1&c&&(e.TgZ(0,"div",19)(1,"h5",20),e._uU(2,"General Ledger"),e.qZA(),e.TgZ(3,"table",21)(4,"thead",22)(5,"tr",23)(6,"th"),e._uU(7,"Date"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Description"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Debit (GH\u20b5)"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Credit (GH\u20b5)"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Balance (GH\u20b5)"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,H1,12,9,"tr",24),e.YNc(18,Y1,12,9,"tr",24),e.YNc(19,Gp,12,9,"tr",24),e.YNc(20,K1,12,9,"tr",24),e.YNc(21,eg,12,9,"tr",24),e.TgZ(22,"tr",25)(23,"td",26)(24,"strong"),e._uU(25,"Closing Balance"),e.qZA()(),e.TgZ(26,"td")(27,"strong"),e._uU(28),e.ALo(29,"number"),e.qZA()()()()()()),2&c){const t=e.oxw(2);e.xp6(17),e.Q6J("ngForOf",t.paymentList),e.xp6(1),e.Q6J("ngForOf",t.refundList),e.xp6(1),e.Q6J("ngForOf",t.incomeList),e.xp6(1),e.Q6J("ngForOf",t.expenseList),e.xp6(1),e.Q6J("ngForOf",t.purchaseList),e.xp6(7),e.hij("GH\u20b5",e.lcZ(29,6,t.totalAmount+t.totalIncome-t.totalRefundAmount-t.totalExpenses-t.totalPurchases),"")}}function V1(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h4",6),e._uU(5,"Longford City General Ledger Report"),e.qZA(),e.TgZ(6,"div",7)(7,"div",8)(8,"form",9)(9,"label",10),e._uU(10,"Select Date:"),e.qZA(),e.TgZ(11,"input",11),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA(),e.TgZ(12,"input",12),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()(),e._UZ(13,"br")(14,"br")(15,"br"),e.TgZ(16,"div",13)(17,"button",14),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportexcel())}),e._UZ(18,"i",15),e._uU(19," Export to Excel "),e.qZA(),e.TgZ(20,"button",16),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.printRepo())}),e._UZ(21,"i",17),e._uU(22," Print "),e.qZA()()()(),e.YNc(23,W1,30,8,"div",18),e.qZA()()()()}if(2&c){const t=e.oxw();e.xp6(8),e.Q6J("formGroup",t.paymentForm),e.xp6(15),e.Q6J("ngIf",t.paymentForm.value.dates)}}ol.\u0275fac=function(n){return new(n||ol)(e.Y36(b.qu),e.Y36(P.X),e.Y36(me._W),e.Y36(pe.t),e.Y36(ee.Q),e.Y36(te.W),e.Y36(e.R0b))},ol.\u0275cmp=e.Xpm({type:ol,selectors:[["account-receivable"]],decls:2,vars:1,consts:[[1,"page"],["class","row",4,"blockUI"],[1,"row"],[1,"col-md-12"],[1,"card","shadow-lg","rounded"],[1,"card-body","p-4"],[1,"text-center","mb-4"],[1,"d-flex","mb-4","justify-content-between","align-items-center"],[1,"d-flex"],[1,"me-3",3,"formGroup"],["for","dates",1,"me-2"],["type","date","formControlName","dates",1,"form-control",3,"ngModelChange"],[1,"button-group"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-file-excel-o"],["type","button",1,"btn","btn-primary","btn-sm","ms-2",3,"click"],[1,"fa","fa-print"],["id","receivable-table",4,"ngIf"],["id","receivable-table"],[1,"text-secondary"],[1,"table","table-bordered"],[1,"table-light"],[4,"ngFor","ngForOf"],["colspan","6",1,"text-end","bg-light"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,vd,20,2,"div",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"))},dependencies:[be.sg,be.O5,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,ae.PC,be.JJ],styles:[".page[_ngcontent-%COMP%]{padding:20px}.card[_ngcontent-%COMP%]{border-radius:10px}.table[_ngcontent-%COMP%]{margin-top:20px;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:center}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f1f1f1}.bg-secondary[_ngcontent-%COMP%]{background-color:#6c757d}.text-white[_ngcontent-%COMP%]{color:#fff}.text-secondary[_ngcontent-%COMP%]{color:#6c757d}.table-light[_ngcontent-%COMP%]{background-color:#f8f9fa}.bg-light[_ngcontent-%COMP%]{background-color:#f8f9fa!important}.text-end[_ngcontent-%COMP%]{text-align:right}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.btn[_ngcontent-%COMP%]{font-size:14px;padding:8px 12px}.mr-3[_ngcontent-%COMP%]{margin-right:1rem}.ms-2[_ngcontent-%COMP%]{margin-left:.5rem}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],ol.prototype,"loading",void 0),rr().vfs=Vo.I.vfs;class il{constructor(n,t,s,p,C,O,qe){this.fb=n,this.roomService=t,this.toastr=s,this.paymentService=p,this.guestService=C,this.userService=O,this.ngZone=qe,this.fileName="general_ledger.xlsx",this.page=1,this.pageSize=10,this.displayStyle="none",this.openStyle="none",this.totalPurchases=0,this.balance=0,this.paymentForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],amount:["",b.kI.required],duration:["",b.kI.required],method:["",b.kI.required],room_type:["",b.kI.required],discount:["",b.kI.required],dates:["",b.kI.required],date_two:["",b.kI.required]})}ngOnInit(){this.getRoom()}getPaymentList(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.paymentService.getPayment();t&&(n.paymentList=t,n.paymentForm.patchValue({amount:n.paymentList[0].amount}));let s=0;for(let p=0;p<n.paymentList.length;p++)s+=parseInt(n.paymentList[p].amount),n.totalAmount=s,console.log(s)}catch(s){n.toastr.error(null,s)}})()}getRoom(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.roomService.getrooms();t&&(n.roomList=t)}catch(s){n.toastr.error(null,s)}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();const t=n.paymentForm.value.dates;if(!t)throw new Error("Please select a valid date.");const s={date:t,date_two:n.paymentForm.value.date_two},p={date:t,datetwo:n.paymentForm.value.date_two},C=yield n.paymentService.searchDatesTwo(s);n.paymentList=C||[],n.totalAmount=n.paymentList.reduce((Mn,fo)=>Mn+parseInt(fo.amount),0);const O=yield n.paymentService.searchRefundDatesTwo(s);n.refundList=O||[],n.totalRefundAmount=n.refundList.reduce((Mn,fo)=>Mn+parseInt(fo.refund_amount),0);const qe=yield n.guestService.searchIncomeDatesTwo(p);n.incomeList=qe||[],n.totalIncome=n.incomeList.reduce((Mn,fo)=>Mn+parseInt(fo.amount),0);const Ln=yield n.guestService.searchExpenseDateTwo(p);n.expenseList=Ln||[],n.totalExpenses=n.expenseList.reduce((Mn,fo)=>Mn+parseInt(fo.amount),0);const un=yield n.guestService.searchPurchaseDateTwo(s);n.purchaseList=un||[],n.totalPurchases=n.purchaseList.reduce((Mn,fo)=>Mn+parseInt(fo.total_cost),0),n.balance=n.totalAmount+n.totalIncome-n.totalRefundAmount-n.totalExpenses-n.totalPurchases}catch(t){console.error("Error fetching data:",t.message||t)}finally{n.loading.stop()}})()}getBookingList(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.roomService.getBookingList();t&&(n.bookings=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}applyFilter(){var n=this;return(0,Y.Z)(function*(){try{console.log(n.paymentForm.value.filter),n.loading.start();var t=yield n.paymentService.getPaymentFilter(n.paymentForm.value.filter);t&&(n.paymentList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}openPopup(){this.header="Add Payment",this.displayStyle="block",this.getBookingList()}closePopup(){this.displayStyle="none",this.openStyle="none"}exportexcel(){let n=document.getElementById("ledger-table");const t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,this.fileName)}printReport(){const n=document.querySelector(".page")?.innerHTML;if(n){const t=window.open("","_blank");t?.document.write("<html><head><title>Report</title></head><body>"),t?.document.write(n),t?.document.write("</body></html>"),t?.document.close(),t?.focus(),t?.print(),t?.close()}else console.error("No content found to print.")}exportToExcel(){const n=document.getElementById("excel-table");if(n){const t=Be.P6.table_to_book(n);Be.NC(t,"Hotel_Report.xlsx")}else console.error("Table not found for exporting to Excel.")}printRepo(){const n=document.getElementById("ledger-table")?.outerHTML;if(!n)return void console.error("No content found to print.");const t=window.open("","","height=800, width=800");t?(t.document.write("<html><head><title>Report</title>"),t.document.write("\n        <style>\n          body { font-family: Arial, sans-serif; margin: 0; padding: 0; }\n          table { width: 100%; border-collapse: collapse; }\n          th, td { padding: 8px; border: 1px solid #ddd; }\n          th { background-color: #f2f2f2; }\n          .text-end { text-align: end; }\n          .bg-light { background-color: #f8f9fa; }\n        </style>\n      "),t.document.write("</head><body>"),t.document.write(n||""),t.document.write("</body></html>"),t.document.close(),this.ngZone.run(()=>{t.onload=()=>{t.print(),t.close()}})):console.error("Failed to open the print window.")}}function Q1(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA()()),2&c){const t=n.$implicit,s=e.oxw().$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.qty),e.xp6(2),e.hij("GH\u20b5",t.price,""),e.xp6(2),e.hij("GH\u20b5",t.qty*t.price,""),e.xp6(2),e.Oqu(s.waiter),e.xp6(2),e.Oqu(s.customer),e.xp6(2),e.Oqu(s.phone),e.xp6(2),e.Oqu(s.status)}}function tg(c,n){if(1&c&&(e.ynx(0),e.YNc(1,Q1,17,8,"tr",23),e.BQk()),2&c){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t.items)}}function ng(c,n){if(1&c&&(e.TgZ(0,"div",19)(1,"h5",20),e._uU(2,"Account Receivable"),e.qZA(),e.TgZ(3,"table",21)(4,"thead",22)(5,"tr")(6,"th"),e._uU(7,"Item"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Quantity"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Price"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Subtotal"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Attendant"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Customer"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Phone"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Status"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,tg,2,1,"ng-container",23),e.TgZ(24,"tr")(25,"td",24)(26,"strong"),e._uU(27),e.ALo(28,"number"),e.qZA()()()()()()),2&c){const t=e.oxw(2);e.xp6(23),e.Q6J("ngForOf",t.HeldList),e.xp6(4),e.hij("Total: GH\u20b5",e.lcZ(28,2,t.totalHeldAmount),"")}}function Hp(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h4",6),e._uU(5,"Account Receivable Report"),e.qZA(),e.TgZ(6,"div",7)(7,"div",8)(8,"form",9)(9,"label",10),e._uU(10,"Select Date:"),e.qZA(),e._UZ(11,"input",11),e.TgZ(12,"input",12),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()(),e._UZ(13,"br")(14,"br")(15,"br"),e.TgZ(16,"div",13)(17,"button",14),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportexcel())}),e._UZ(18,"i",15),e._uU(19," Export to Excel "),e.qZA(),e.TgZ(20,"button",16),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.printRepo())}),e._UZ(21,"i",17),e._uU(22," Print "),e.qZA()()()(),e.YNc(23,ng,29,4,"div",18),e.qZA()()()()}if(2&c){const t=e.oxw();e.xp6(8),e.Q6J("formGroup",t.paymentForm),e.xp6(15),e.Q6J("ngIf",t.paymentForm.value.date_two)}}il.\u0275fac=function(n){return new(n||il)(e.Y36(b.qu),e.Y36(P.X),e.Y36(me._W),e.Y36(pe.t),e.Y36(ee.Q),e.Y36(te.W),e.Y36(e.R0b))},il.\u0275cmp=e.Xpm({type:il,selectors:[["ledger-pages"]],decls:2,vars:1,consts:[[1,"page"],["class","row",4,"blockUI"],[1,"row"],[1,"col-md-12"],[1,"card","shadow-lg","rounded"],[1,"card-body","p-4"],[1,"text-center","mb-4"],[1,"d-flex","mb-4","justify-content-between","align-items-center"],[1,"d-flex"],[1,"me-3",3,"formGroup"],["for","dates",1,"me-2"],["type","date","formControlName","dates",1,"form-control",3,"ngModelChange"],["type","date","formControlName","date_two",1,"form-control",3,"ngModelChange"],[1,"button-group"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-file-excel-o"],["type","button",1,"btn","btn-primary","btn-sm","ms-2",3,"click"],[1,"fa","fa-print"],["id","ledger-table",4,"ngIf"],["id","ledger-table"],[1,"text-secondary"],[1,"table","table-bordered"],[1,"table-light"],[1,"bg-secondary","text-white"],[4,"ngFor","ngForOf"],[1,"bg-light"],["colspan","4",1,"text-end"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,V1,24,2,"div",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"))},dependencies:[be.sg,be.O5,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,ae.PC,be.JJ,be.uU]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],il.prototype,"loading",void 0),rr().vfs=Vo.I.vfs;class rl{constructor(n,t,s,p,C,O,qe){this.fb=n,this.roomService=t,this.toastr=s,this.paymentService=p,this.guestService=C,this.userService=O,this.ngZone=qe,this.fileName="account_receivable.xlsx",this.page=1,this.pageSize=10,this.displayStyle="none",this.openStyle="none",this.totalHeldAmount=0,this.totalPurchases=0,this.balance=0,this.paymentForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],amount:["",b.kI.required],duration:["",b.kI.required],method:["",b.kI.required],room_type:["",b.kI.required],discount:["",b.kI.required],dates:["",b.kI.required],date_two:["",b.kI.required]})}ngOnInit(){this.getRoom()}getPaymentList(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.paymentService.getPayment();t&&(n.paymentList=t,n.paymentForm.patchValue({amount:n.paymentList[0].amount}));let s=0;for(let p=0;p<n.paymentList.length;p++)s+=parseInt(n.paymentList[p].amount),n.totalAmount=s,console.log(s)}catch(s){n.toastr.error(null,s)}})()}getRoom(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.roomService.getrooms();t&&(n.roomList=t)}catch(s){n.toastr.error(null,s)}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start(),n.loadHeldOrders();if(!n.paymentForm.value.dates)throw new Error("Please select a valid date.")}catch(t){console.error("Error fetching data:",t.message||t)}finally{n.loading.stop()}})()}loadHeldOrders(){this.guestService.getHeldReportOrdersTwo({date:this.paymentForm.value.dates,date_two:this.paymentForm.value.date_two}).subscribe(s=>{if(console.log("API Response:",s),!Array.isArray(s)||0===s.length)return console.log("No held orders found."),this.HeldList=[],void(this.totalHeldAmount=0);this.HeldList=s.map(p=>({...p,items:Array.isArray(p.items)?p.items.map(C=>({...C,price:Number(C.price)||0,qty:Number(C.qty)||0})):[]})),console.log("Processed HeldList:",this.HeldList),this.calculateTotal()})}calculateTotal(){this.totalHeldAmount=this.HeldList.reduce((n,t)=>n+t.items.reduce((s,p)=>s+p.qty*p.price,0),0)}getBookingList(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.roomService.getBookingList();t&&(n.bookings=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}applyFilter(){var n=this;return(0,Y.Z)(function*(){try{console.log(n.paymentForm.value.filter),n.loading.start();var t=yield n.paymentService.getPaymentFilter(n.paymentForm.value.filter);t&&(n.paymentList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}openPopup(){this.header="Add Payment",this.displayStyle="block",this.getBookingList()}closePopup(){this.displayStyle="none",this.openStyle="none"}printReport(){const n=document.querySelector(".page")?.innerHTML;if(n){const t=window.open("","_blank");t?.document.write("<html><head><title>Report</title></head><body>"),t?.document.write(n),t?.document.write("</body></html>"),t?.document.close(),t?.focus(),t?.print(),t?.close()}else console.error("No content found to print.")}exportToExcel(){const n=document.getElementById("receivable-table");if(n){const t=Be.P6.table_to_book(n);Be.NC(t,"Hotel_Report.xlsx")}else console.error("Table not found for exporting to Excel.")}exportexcel(){let n=document.getElementById("receivable-table");const t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,this.fileName)}printRepo(){const n=document.getElementById("receivable-table")?.outerHTML;if(!n)return void console.error("No content found to print.");const t=window.open("","","height=800, width=800");t?(t.document.write("<html><head><title>Report</title>"),t.document.write("\n          <style>\n            body { font-family: Arial, sans-serif; margin: 0; padding: 0; }\n            table { width: 100%; border-collapse: collapse; }\n            th, td { padding: 8px; border: 1px solid #ddd; }\n            th { background-color: #f2f2f2; }\n            .text-end { text-align: end; }\n            .bg-light { background-color: #f8f9fa; }\n          </style>\n        "),t.document.write("</head><body>"),t.document.write(n||""),t.document.write("</body></html>"),t.document.close(),this.ngZone.run(()=>{t.onload=()=>{t.print(),t.close()}})):console.error("Failed to open the print window.")}}function $1(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"i",52),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.deleteGop(p.id))}),e.qZA()}}function og(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"i",50),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.editGop(C.id))}),e.qZA(),e.YNc(15,$1,1,0,"i",51),e.qZA()()}if(2&c){const t=n.$implicit,s=n.index,p=e.oxw(2);e.xp6(2),e.hij(" ",s+1,""),e.xp6(2),e.hij(" ",t.name,""),e.xp6(2),e.hij(" ",t.date,""),e.xp6(2),e.hij(" ",t.user,""),e.xp6(2),e.Oqu(t.amount),e.xp6(2),e.Oqu(t.note),e.xp6(3),e.Q6J("ngIf","admin"==p.user[0].roles)}}function X1(c,n){1&c&&e._uU(0,"First")}function Yp(c,n){1&c&&e._uU(0,"Last")}function Jr(c,n){1&c&&e._uU(0,"Prev")}function ef(c,n){1&c&&e._uU(0,"Next")}function Gr(c,n){1&c&&e._uU(0,"...")}function Cs(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function ig(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",9)(2,"div",22)(3,"div",23)(4,"div",24)(5,"div",25)(6,"div",26)(7,"input",27),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.myFunction())}),e.qZA()(),e._UZ(8,"div",28),e.qZA(),e.TgZ(9,"div",29)(10,"form",30)(11,"input",31),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()(),e.TgZ(12,"div",32)(13,"button",33),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup())}),e._uU(14," Add New"),e.qZA(),e.TgZ(15,"button",34),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportexcel())}),e._UZ(16,"i",35),e._uU(17," Export "),e.qZA()()(),e.TgZ(18,"table",36)(19,"thead",37)(20,"tr",38)(21,"th",39),e._uU(22,"#"),e.qZA(),e.TgZ(23,"th",39),e._uU(24," Name"),e.qZA(),e.TgZ(25,"th",39),e._uU(26,"Date"),e.qZA(),e.TgZ(27,"th",39),e._uU(28,"User"),e.qZA(),e.TgZ(29,"th",39),e._uU(30,"Amount"),e.qZA(),e.TgZ(31,"th",39),e._uU(32,"Note"),e.qZA(),e.TgZ(33,"th",39),e._uU(34,"Action"),e.qZA()()(),e.TgZ(35,"tbody"),e.YNc(36,og,16,7,"tr",40),e.ALo(37,"slice"),e.qZA()()(),e.TgZ(38,"div",41)(39,"div",42)(40,"ngb-pagination",43),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(41,X1,1,0,"ng-template",44),e.YNc(42,Yp,1,0,"ng-template",45),e.YNc(43,Jr,1,0,"ng-template",46),e.YNc(44,ef,1,0,"ng-template",47),e.YNc(45,Gr,1,0,"ng-template",48),e.YNc(46,Cs,1,1,"ng-template",49),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(10),e.Q6J("formGroup",t.createForm),e.xp6(26),e.Q6J("ngForOf",e.Dn7(37,9,t.gopList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.gopList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function rg(c,n){1&c&&(e.TgZ(0,"div",53)(1,"button",54),e._uU(2," Save"),e.qZA()())}function Ca(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",53)(1,"button",55),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updateGOP(p.createForm.value))}),e._uU(2," Update"),e.qZA()()}}rl.\u0275fac=function(n){return new(n||rl)(e.Y36(b.qu),e.Y36(P.X),e.Y36(me._W),e.Y36(pe.t),e.Y36(ee.Q),e.Y36(te.W),e.Y36(e.R0b))},rl.\u0275cmp=e.Xpm({type:rl,selectors:[["account-receivable"]],decls:2,vars:1,consts:[[1,"page"],["class","row",4,"blockUI"],[1,"row"],[1,"col-md-12"],[1,"card","shadow-lg","rounded"],[1,"card-body","p-4"],[1,"text-center","mb-4"],[1,"d-flex","mb-4","justify-content-between","align-items-center"],[1,"d-flex"],[1,"me-3",3,"formGroup"],["for","dates",1,"me-2"],["type","date","formControlName","dates",1,"form-control"],["type","date","formControlName","date_two",1,"form-control",3,"ngModelChange"],[1,"button-group"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-file-excel-o"],["type","button",1,"btn","btn-primary","btn-sm","ms-2",3,"click"],[1,"fa","fa-print"],["id","receivable-table",4,"ngIf"],["id","receivable-table"],[1,"text-secondary"],[1,"table","table-bordered"],[1,"table-light"],[4,"ngFor","ngForOf"],["colspan","6",1,"text-end","bg-light"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Hp,24,2,"div",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"))},dependencies:[be.sg,be.O5,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,ae.PC,be.JJ]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],rl.prototype,"loading",void 0);const ag=function(c){return{display:c}};class al{constructor(n,t,s,p){this.fb=n,this.toastr=t,this.guestService=s,this.userService=p,this.displayStyle="none",this.fileName="Gop_deduction.xlsx",this.submitted=!1,this.title="Create Ad",this.isNew=!0,this.post=!0,this.update=!1,this.page=1,this.pageSize=100,this.createForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],amount:["",b.kI.required],date:["",b.kI.required],note:["",b.kI.required],dates:["",b.kI.required]})}ngOnInit(){this.getUser(),this.getgopList()}addGop(n){var t=this;return(0,Y.Z)(function*(){const s={name:n.name,amount:n.amount,note:n.note,date:n.date};try{t.loading.start(),(yield t.guestService.addGop(s))&&t.toastr.success(null,"record successfully added "),t.getgopList()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}getgopList(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.guestService.getgopList();t&&(n.gopList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}exportexcel(){let n=document.getElementById("excel-table");const t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,this.fileName)}openPopup(){this.header="Add New",this.displayStyle="block"}closePopup(){this.displayStyle="none"}editGop(n){var t=this;return(0,Y.Z)(function*(){t.header="Edit",t.displayStyle="block";try{t.loading.start(),t.expense_info=yield t.guestService.getGop(n),t.expense_info&&t.createForm.patchValue({id:t.expense_info[0].id,name:t.expense_info[0].name,amount:t.expense_info[0].amount,note:t.expense_info[0].note,date:t.expense_info[0].date})}catch(s){t.toastr.error(null,s)}finally{t.loading.stop()}})()}updateGOP(n){var t=this;return(0,Y.Z)(function*(){const s={id:n.id,name:n.name,amount:n.amount,note:n.note,date:n.date};try{t.loading.start(),yield t.guestService.updateGop(s)}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}deleteGop(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deleteGop(n))&&t.getgopList()}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){const t={date:n.createForm.value.dates};try{n.loading.start();var s=yield n.guestService.searchGopDate(t);s&&(n.gopList=s)}catch(p){n.toastr.error(null,p.message)}finally{n.loading.stop()}})()}}function tf(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.hij("GOP Deduction (",t.name,")"),e.xp6(2),e.Oqu(e.xi3(5,2,t.amount,"\u20b5"))}}function sg(c,n){if(1&c&&(e.TgZ(0,"div",14)(1,"header",15)(2,"p"),e._uU(3,"Financial Overview"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.ALo(6,"date"),e.qZA()(),e.TgZ(7,"section",16)(8,"h3"),e._uU(9,"Financial Overview"),e.qZA(),e.TgZ(10,"div",17)(11,"table",18)(12,"thead",19)(13,"tr")(14,"th"),e._uU(15,"Category"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Amount (\u20b5)"),e.qZA()()(),e.TgZ(18,"tbody")(19,"tr")(20,"td"),e._uU(21,"Gross Revenue (Total Income)"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.ALo(24,"currency"),e.qZA()(),e.TgZ(25,"tr")(26,"td"),e._uU(27,"Cost of Goods Sold (COGS)"),e.qZA(),e.TgZ(28,"td"),e._uU(29),e.ALo(30,"currency"),e.qZA()(),e.TgZ(31,"tr")(32,"td"),e._uU(33,"Gross Profit (GOP)"),e.qZA(),e.TgZ(34,"td"),e._uU(35),e.ALo(36,"currency"),e.qZA()(),e.YNc(37,tf,6,5,"tr",20),e.TgZ(38,"tr",21)(39,"td"),e._uU(40,"Total GOP Deduction"),e.qZA(),e.TgZ(41,"td"),e._uU(42),e.ALo(43,"currency"),e.qZA()(),e.TgZ(44,"tr",21)(45,"td"),e._uU(46,"Net Operating Profit (NOP)"),e.qZA(),e.TgZ(47,"td"),e._uU(48),e.ALo(49,"currency"),e.qZA()()()()()(),e.TgZ(50,"section",16)(51,"h3"),e._uU(52,"Cash at Hand"),e.qZA(),e.TgZ(53,"p")(54,"strong"),e._uU(55),e.ALo(56,"currency"),e.qZA()()(),e.TgZ(57,"footer",22)(58,"p"),e._uU(59,"Generated by: "),e.TgZ(60,"strong"),e._uU(61),e.qZA()(),e.TgZ(62,"p"),e._uU(63,"Signature: __________________________"),e.qZA()()()),2&c){const t=e.oxw(2);e.xp6(5),e.hij("Date: ",e.xi3(6,9,t.createForm.value.dates,"MMMM d, yyyy"),""),e.xp6(18),e.Oqu(e.xi3(24,12,t.totalIncome,"\u20b5")),e.xp6(6),e.Oqu(e.xi3(30,15,t.totalExpenditure,"\u20b5")),e.xp6(6),e.Oqu(e.xi3(36,18,t.totalIncome-t.totalExpenditure,"\u20b5")),e.xp6(2),e.Q6J("ngForOf",t.gopList),e.xp6(5),e.Oqu(e.xi3(43,21,t.gopDeduction,"\u20b5")),e.xp6(6),e.Oqu(e.xi3(49,24,t.nop,"\u20b5")),e.xp6(7),e.Oqu(e.xi3(56,27,t.cashAtHand,"\u20b5")),e.xp6(6),e.Oqu(t.user[0].firstname+" "+t.user[0].lastname)}}function lg(c,n){1&c&&(e.TgZ(0,"div",23)(1,"p"),e._uU(2,"No records found for the selected date."),e.qZA()())}function ug(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"form",4)(4,"div",5)(5,"label",6),e._uU(6,"Select Date:"),e.qZA(),e.TgZ(7,"input",7),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA(),e.TgZ(8,"input",8),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()()(),e.TgZ(9,"div",9)(10,"button",10),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.printToPdf())}),e._uU(11,"Print"),e.qZA(),e.TgZ(12,"button",11),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.downloadPdf())}),e._uU(13,"Download PDF"),e.qZA()(),e.YNc(14,sg,64,30,"div",12),e.YNc(15,lg,3,0,"ng-template",null,13,e.W1O),e.qZA()()()}if(2&c){const t=e.MAs(16),s=e.oxw();e.xp6(3),e.Q6J("formGroup",s.createForm),e.xp6(11),e.Q6J("ngIf",s.incomeReport.length>0||s.expenditureReport.length>0||s.gopList.length>0)("ngIfElse",t)}}al.\u0275fac=function(n){return new(n||al)(e.Y36(b.qu),e.Y36(me._W),e.Y36(ee.Q),e.Y36(te.W))},al.\u0275cmp=e.Xpm({type:al,selectors:[["expenses"]],decls:39,vars:8,consts:[[1,"page"],["class","row",4,"blockUI"],["type","button",1,"btn","btn-primary",2,"margin","50px","padding","10px","display","none",3,"click"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-16",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","name","placeholder"," ..",1,"form-control"],["type","date","formControlName","date",1,"form-control"],["type","text","formControlName","amount",1,"form-control"],["formControlName","note","id","","cols","30","rows","10",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","search..","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],[1,"table-responsive"],[3,"formGroup"],["type","date","formControlName","dates",1,"form-control",2,"width","auto",3,"ngModelChange"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],["class","fa fa-close fa-lg text-danger",3,"click",4,"ngIf"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"],["type","button",1,"btn","btn-primary","btn-round",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,ig,47,13,"div",1),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return t.openPopup()}),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.TgZ(8,"i",7),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10),e._UZ(12,"div",11),e.TgZ(13,"div",12)(14,"form",13),e.NdJ("ngSubmit",function(){return t.addGop(t.createForm.value)}),e.TgZ(15,"div",14)(16,"div",15)(17,"div",16)(18,"label"),e._uU(19," Name "),e.qZA(),e._UZ(20,"input",17),e.qZA()(),e.TgZ(21,"div",15)(22,"div",16)(23,"label"),e._uU(24," Date"),e.qZA(),e._UZ(25,"input",18),e.qZA()(),e.TgZ(26,"div",15)(27,"div",16)(28,"label"),e._uU(29," Amount"),e.qZA(),e._UZ(30,"input",19),e.qZA()(),e.TgZ(31,"div",15)(32,"div",16)(33,"label"),e._uU(34," Note"),e.qZA(),e._UZ(35,"textarea",20),e.qZA()()(),e.TgZ(36,"div",14),e.YNc(37,rg,3,0,"div",21),e.YNc(38,Ca,3,0,"div",21),e.qZA()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(2),e.Q6J("ngStyle",e.VKq(6,ag,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.createForm),e.xp6(23),e.Q6J("ngIf","Add New"==t.header),e.xp6(1),e.Q6J("ngIf","Edit"==t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],al.prototype,"loading",void 0);class Kl{constructor(n,t,s,p){this.fb=n,this.toastr=t,this.guestService=s,this.userService=p,this.displayStyle="none",this.fileName="payment.xlsx",this.submitted=!1,this.title="Create Ad",this.isNew=!0,this.post=!0,this.update=!1,this.page=1,this.pageSize=200,this.totaldeduction=0,this.totalallowance=0,this.totalIncome=0,this.totalExpenditure=0,this.gopList=[],this.gopDeduction=0,this.nop=0,this.createForm=this.fb.group({id:["",b.kI.required],role:["",b.kI.required],method:["",b.kI.required],date:["",b.kI.required],dates:["",b.kI.required],datetwo:["",b.kI.required]})}ngOnInit(){this.getUser(),this.getgopList()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){const t={date:n.createForm.value.dates,datetwo:n.createForm.value.datetwo};try{n.loading.start(),n.searchIncomeDates(t.date,t.datetwo),n.searchExpenseDates(t.date,t.datetwo),n.cashAtHand=n.totalIncome-n.totalExpenditure}catch(s){n.toastr.error(null,s.message)}finally{n.loading.stop()}})()}calculateFinancialOverview(){var n=this;return(0,Y.Z)(function*(){n.gopDeduction=n.gopList.reduce((t,s)=>t+parseInt(s.amount),0),n.nop=n.totalIncome-n.totalExpenditure-n.gopDeduction,n.cashAtHand=n.totalIncome-n.totalExpenditure-n.gopDeduction})()}searchIncomeDates(n,t){var s=this;return(0,Y.Z)(function*(){let p=0;const C={date:n,datetwo:t};try{s.loading.start();const O=yield s.guestService.searchIncomeDatesTwo(C);O&&(s.incomeReport=O);for(let qe=0;qe<s.incomeReport.length;qe++)p+=parseInt(s.incomeReport[qe].amount);s.totalIncome=p,s.calculateFinancialOverview()}catch(O){s.toastr.error(null,O.message)}finally{s.loading.stop()}})()}searchExpenseDates(n,t){var s=this;return(0,Y.Z)(function*(){let p=0;const C={date:n,datetwo:t};try{s.loading.start();const O=yield s.guestService.searchExpenseDateTwo(C);O&&(s.expenditureReport=O);for(let qe=0;qe<s.expenditureReport.length;qe++)p+=parseInt(s.expenditureReport[qe].amount);s.totalExpenditure=p,s.calculateFinancialOverview()}catch(O){s.toastr.error(null,O.message)}finally{s.loading.stop()}})()}getgopList(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();const t=yield n.guestService.getgopList();t&&(n.gopList=t),n.calculateFinancialOverview()}catch(t){n.toastr.error(null,t)}finally{n.loading.stop()}})()}printToPdf(){const n=document.getElementById("pdf"),t=window.open("","PRINT","height=800,width=600");n&&t?(t.document.write(`\n      <html>\n        <head>\n          \n      <style>\n        body, h1, h2, h3, p, table, th, td {\n          margin: 0;\n          padding: 0;\n          box-sizing: border-box;\n          font-family: Arial, sans-serif;\n          font-size: 12px; /* Adjusted font size for readability */\n        }\n        .container {\n          max-width: 100%;\n          margin: 0;\n          padding: 10px;\n          background: #fff;\n          border-radius: 4px;\n          box-shadow: none;\n        }\n        .header {\n          text-align: center;\n          margin-bottom: 10px;\n        }\n        .header h2 {\n          color: #333;\n          font-size: 16px;\n        }\n        .header p {\n          color: #666;\n          font-size: 12px;\n        }\n        .report-details h3 {\n          color: #333;\n          font-size: 14px;\n          border-bottom: 1px solid #ddd;\n          margin-bottom: 5px;\n          padding-bottom: 5px;\n        }\n        table {\n          width: 100%;\n          border-collapse: collapse;\n          margin-bottom: 15px;\n        }\n        table, th, td {\n          border: 1px solid #ddd;\n        }\n        th, td {\n          padding: 8px;\n          text-align: left;\n          font-size: 12px;\n        }\n        th {\n          background-color: #f4f4f4;\n        }\n        td {\n          background-color: #fff;\n        }\n        tr:nth-child(even) td {\n          background-color: #f9f9f9;\n        }\n        .footer {\n          text-align: center;\n          margin-top: 10px;\n          color: #666;\n          font-size: 12px;\n        }\n        @media print {\n          @page {\n            size: A4;\n            margin: 10mm;\n          }\n          body {\n            margin: 0;\n          }\n          .container {\n            max-width: 100%;\n            page-break-inside: avoid;\n          }\n        }\n      </style>\n    \n        </head>\n        <body>\n          ${n.innerHTML}\n        </body>\n      </html>\n    `),t.document.close(),t.focus(),t.print()):console.error("Print area or print window not found.")}downloadPdf(){const n=document.getElementById("pdf");n?ba()(n,{scale:2}).then(t=>{const s=t.toDataURL("image/png"),p=new Mr.ZP("p","mm","a4"),qe=210*t.height/t.width;let Ln=qe,un=0;for(p.addImage(s,"PNG",0,un,210,qe),Ln-=295;Ln>=0;)un-=295,p.addPage(),p.addImage(s,"PNG",0,un,210,qe),Ln-=295;p.save("daily_report.pdf")}):console.error("Print area not found.")}}function cg(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA()()),2&c){const t=n.$implicit,s=n.index;e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.open_date),e.xp6(2),e.Oqu(t.close_date),e.xp6(2),e.Oqu(t.status),e.xp6(2),e.Oqu(t.open_by),e.xp6(2),e.Oqu(t.close_by)}}function dg(c,n){1&c&&e._uU(0,"First")}function pg(c,n){1&c&&e._uU(0,"Last")}function nf(c,n){1&c&&e._uU(0,"Prev")}function fg(c,n){1&c&&e._uU(0,"Next")}function gg(c,n){1&c&&e._uU(0,"...")}function mg(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function hg(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",8)(2,"div",15)(3,"div",16)(4,"div",17)(5,"div",18)(6,"div",19)(7,"input",20),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchItems())}),e.qZA()(),e._UZ(8,"div",21),e.qZA()(),e.TgZ(9,"div",22)(10,"button",23),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportExcel())}),e._UZ(11,"i",24),e._uU(12," Export "),e.qZA()(),e.TgZ(13,"div",25)(14,"table",26)(15,"thead",27)(16,"tr",28)(17,"th",29),e._uU(18,"#"),e.qZA(),e.TgZ(19,"th",29),e._uU(20,"Open Date"),e.qZA(),e.TgZ(21,"th",29),e._uU(22,"Closed Date"),e.qZA(),e.TgZ(23,"th",29),e._uU(24,"Status"),e.qZA(),e.TgZ(25,"th",29),e._uU(26,"Opened by"),e.qZA(),e.TgZ(27,"th",29),e._uU(28,"Closed by"),e.qZA()()(),e.TgZ(29,"tbody"),e.YNc(30,cg,13,6,"tr",30),e.ALo(31,"slice"),e.qZA()()(),e.TgZ(32,"div",31)(33,"div",32)(34,"ngb-pagination",33),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(35,dg,1,0,"ng-template",34),e.YNc(36,pg,1,0,"ng-template",35),e.YNc(37,nf,1,0,"ng-template",36),e.YNc(38,fg,1,0,"ng-template",37),e.YNc(39,gg,1,0,"ng-template",38),e.YNc(40,mg,1,1,"ng-template",39),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(30),e.Q6J("ngForOf",e.Dn7(31,8,t.sessionList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.sessionList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}Kl.\u0275fac=function(n){return new(n||Kl)(e.Y36(b.qu),e.Y36(me._W),e.Y36(ee.Q),e.Y36(te.W))},Kl.\u0275cmp=e.Xpm({type:Kl,selectors:[["financial-overview"]],decls:1,vars:1,consts:[["class","container",4,"blockUI"],[1,"container"],[1,"card","bg-white","shadow-sm"],[1,"card-body"],[1,"mb-4",3,"formGroup"],[1,"form-group"],["for","dates"],["type","date","id","dates","formControlName","dates",1,"form-control",2,"max-width","300px",3,"ngModelChange"],["type","date","id","dates","formControlName","datetwo",1,"form-control",2,"max-width","300px",3,"ngModelChange"],[1,"d-flex","mb-4"],[1,"btn","btn-primary","mr-2",3,"click"],["id","pdfBtn",1,"btn","btn-secondary",3,"click"],["id","pdf",4,"ngIf","ngIfElse"],["noReport",""],["id","pdf"],[1,"text-center","mb-4"],[1,"report-section","mb-4"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"font-weight-bold"],[1,"footer","text-right","mt-5"],[1,"alert","alert-info","text-center"]],template:function(n,t){1&n&&e.YNc(0,ug,17,3,"div",0),2&n&&e.Q6J("blockUI","loading")},dependencies:[be.sg,be.O5,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,ae.PC,be.H9,be.uU],styles:[".financial-overview[_ngcontent-%COMP%]{padding:20px;background-color:#f4f7f6;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;font-size:24px;color:#2d3e50}.overview-table[_ngcontent-%COMP%]{width:100%;margin-top:20px;border-collapse:collapse;border-radius:8px;overflow:hidden}.overview-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .overview-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}.overview-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-size:16px}.overview-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f9f9f9}.overview-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.overview-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#555}.overview-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{font-style:italic;color:#888}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Kl.prototype,"loading",void 0);const _g=function(c){return{display:c}};class i{constructor(n,t,s,p){this.fb=n,this.toastr=t,this.userService=s,this.guestService=p,this.itemsList=[],this.stockList=[],this.groupList=[],this.familyList=[],this.sessionList=[],this.unitList=[],this.displayStyle="none",this.header="",this.page=1,this.pageSize=10,this.totalAmount=0,this.user=[],this.itemForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],quantity:["",b.kI.required],store:["",b.kI.required],description:["",b.kI.required],group:["",b.kI.required],family:["",b.kI.required],unit:["",b.kI.required]})}ngOnInit(){this.getsessionList(),this.getUser()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}getsessionList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getSessionList();t&&(n.sessionList=t)}catch{n.toastr.error("Error fetching items list")}})()}exportExcel(){const n=document.getElementById("excel-table"),t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,"session_list.xlsx")}searchItems(){const t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr");for(let C=0;C<p.length;C++){const O=p[C].getElementsByTagName("td")[0];O&&(p[C].style.display=(O.textContent||O.innerText).toUpperCase().indexOf(t)>-1?"":"none")}}}function l(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"i",49),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,C=e.oxw(2);return e.KtG(C.deleteChef(p.id))}),e.qZA()}}function a(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.YNc(10,l,1,0,"i",48),e.qZA()()),2&c){const t=n.$implicit,s=n.index,p=e.oxw(2);e.xp6(2),e.hij(" ",s+1,""),e.xp6(2),e.hij(" ",t.name,""),e.xp6(2),e.hij(" ",t.created_date,""),e.xp6(2),e.Oqu(t.food),e.xp6(2),e.Q6J("ngIf","admin"==p.user[0].roles)}}function f(c,n){1&c&&e._uU(0,"First")}function h(c,n){1&c&&e._uU(0,"Last")}function _(c,n){1&c&&e._uU(0,"Prev")}function w(c,n){1&c&&e._uU(0,"Next")}function x(c,n){1&c&&e._uU(0,"...")}function q(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function k(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",9)(2,"div",20)(3,"div",21)(4,"div",22)(5,"div",23)(6,"div",24)(7,"input",25),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.myFunction())}),e.qZA()(),e._UZ(8,"div",26),e.qZA()(),e.TgZ(9,"div",27)(10,"form",28)(11,"input",29),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()(),e.TgZ(12,"div",30)(13,"button",31),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup())}),e._uU(14," Add New"),e.qZA(),e.TgZ(15,"button",32),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportexcel())}),e._UZ(16,"i",33),e._uU(17," Export "),e.qZA()(),e.TgZ(18,"table",34)(19,"thead",35)(20,"tr",36)(21,"th",37),e._uU(22,"#"),e.qZA(),e.TgZ(23,"th",37),e._uU(24," Name"),e.qZA(),e.TgZ(25,"th",37),e._uU(26,"Date"),e.qZA(),e.TgZ(27,"th",37),e._uU(28,"Food Prepared"),e.qZA(),e.TgZ(29,"th",37),e._uU(30,"Action"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,a,11,5,"tr",38),e.ALo(33,"slice"),e.qZA()()(),e.TgZ(34,"div",39)(35,"div",40)(36,"ngb-pagination",41),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(37,f,1,0,"ng-template",42),e.YNc(38,h,1,0,"ng-template",43),e.YNc(39,_,1,0,"ng-template",44),e.YNc(40,w,1,0,"ng-template",45),e.YNc(41,x,1,0,"ng-template",46),e.YNc(42,q,1,1,"ng-template",47),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(10),e.Q6J("formGroup",t.createForm),e.xp6(22),e.Q6J("ngForOf",e.Dn7(33,9,t.chefList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.chefList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function E(c,n){1&c&&(e.TgZ(0,"div",50)(1,"button",51),e._uU(2," Save"),e.qZA()())}function H(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",50)(1,"button",52),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updateIncome(p.createForm.value))}),e._uU(2," Update"),e.qZA()()}}i.\u0275fac=function(n){return new(n||i)(e.Y36(b.qu),e.Y36(me._W),e.Y36(te.W),e.Y36(ee.Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["all-sessions"]],decls:22,vars:5,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close"],[1,"modal-body"],[1,"col-md-12",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","Search for items...","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],[1,"table-responsive"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,hg,41,12,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e._UZ(7,"i",6),e.qZA(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"form")(14,"div",12)(15,"div",13),e._UZ(16,"div",14),e.qZA(),e.TgZ(17,"div",13),e._UZ(18,"div",14),e.qZA(),e.TgZ(19,"div",13),e._UZ(20,"div",14),e.qZA()(),e._UZ(21,"div",12),e.qZA()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(3,_g,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "))},dependencies:[be.sg,be.PC,b._Y,b.JL,b.F,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],i.prototype,"loading",void 0);const V=function(c){return{display:c}};class I{constructor(n,t,s,p){this.fb=n,this.toastr=t,this.guestService=s,this.userService=p,this.displayStyle="none",this.fileName="income.xlsx",this.submitted=!1,this.title="Create Ad",this.isNew=!0,this.post=!0,this.update=!1,this.page=1,this.pageSize=200,this.createForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],food:["",b.kI.required],note:["",b.kI.required]})}ngOnInit(){this.getUser(),this.getchefList()}addChef(n){var t=this;return(0,Y.Z)(function*(){const s={name:n.name,food:n.food};try{t.loading.start(),(yield t.guestService.addChef(s))&&t.toastr.success(null,"record successfully added "),t.getchefList()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}getchefList(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.guestService.getChefList();t&&(n.chefList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}exportexcel(){let n=document.getElementById("excel-table");const t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,this.fileName)}openPopup(){this.header="Add New",this.displayStyle="block"}closePopup(){this.displayStyle="none"}deleteChef(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deleteChef(n))&&t.getchefList()}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){const t={date:n.createForm.value.dates};try{n.loading.start(),n.chefList=yield n.guestService.searchChefDates(t)}catch(s){n.toastr.error(null,s.message)}finally{n.loading.stop()}})()}}function le(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij("GH\u20b5",t.amount,""),e.xp6(2),e.Oqu(t.attendant),e.xp6(2),e.Oqu(t.cashier),e.xp6(2),e.Oqu(t.method)}}function re(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA()()),2&c){const t=n.$implicit,s=e.oxw().$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.qty),e.xp6(2),e.hij("GH\u20b5",t.price,""),e.xp6(2),e.hij("GH\u20b5",t.qty*t.price,""),e.xp6(2),e.Oqu(s.waiter),e.xp6(2),e.Oqu(s.food_confirm),e.xp6(2),e.Oqu(s.food_confirm_at),e.xp6(2),e.Oqu(s.drink_confirm),e.xp6(2),e.Oqu(s.drink_confirm_at),e.xp6(2),e.Oqu(s.created_at),e.xp6(2),e.Oqu(s.status)}}function fe(c,n){if(1&c&&(e.ynx(0),e.YNc(1,re,23,11,"tr",22),e.BQk()),2&c){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t.items)}}function X(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"strong"),e._uU(7),e.qZA()()()),2&c){const t=n.$implicit,s=n.index;e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.name),e.xp6(3),e.Oqu(t.count)}}function Se(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"strong"),e._uU(7),e.qZA()()()),2&c){const t=n.$implicit,s=n.index;e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.waiter),e.xp6(3),e.Oqu(t.count)}}function Ce(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.food)}}function Ze(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij("GH\u20b5",t.refund_amount,""),e.xp6(2),e.Oqu(t.authorized_by),e.xp6(2),e.Oqu(t.reason)}}function $e(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij("GH\u20b5",t.amount,"")}}function Zt(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij("GH\u20b5",t.amount,"")}}function gt(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.time_in),e.xp6(2),e.Oqu(t.time_out)}}function ze(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"currency"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"currency"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.item),e.xp6(2),e.Oqu(t.requested_by),e.xp6(2),e.Oqu(t.Department),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Oqu(e.lcZ(11,7,t.unit_price)),e.xp6(3),e.Oqu(e.lcZ(14,9,t.total_cost)),e.xp6(3),e.Oqu(t.status)}}function Te(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.item),e.xp6(2),e.Oqu(t.store),e.xp6(2),e.Oqu(t.quantity)}}function Je(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.quantity)}}function Q(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Oqu(t.store)}}function se(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Oqu(t.store),e.xp6(2),e.Oqu(t.operation)}}function xe(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.item),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Oqu(t.request_by),e.xp6(2),e.Oqu(t.reason)}}function Ae(c,n){if(1&c&&(e.TgZ(0,"div",18)(1,"h1"),e._uU(2),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Shop Sales"),e.qZA(),e.TgZ(5,"table",19)(6,"thead",20)(7,"tr",21)(8,"th"),e._uU(9,"Item"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Amount"),e.qZA(),e.TgZ(12,"th"),e._uU(13," Attendant"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Cashier"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Method"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,le,11,5,"tr",22),e.TgZ(20,"tr")(21,"td",23)(22,"strong"),e._uU(23),e.ALo(24,"number"),e.qZA()()()()(),e.TgZ(25,"p"),e._uU(26,"Held Orders"),e.qZA(),e.TgZ(27,"table",19)(28,"thead",20)(29,"tr")(30,"th"),e._uU(31,"Item"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Quantity"),e.qZA(),e.TgZ(34,"th"),e._uU(35,"Price"),e.qZA(),e.TgZ(36,"th"),e._uU(37,"Subtotal"),e.qZA(),e.TgZ(38,"th"),e._uU(39,"Waiter"),e.qZA(),e.TgZ(40,"th"),e._uU(41,"Food Was Confirmed By"),e.qZA(),e.TgZ(42,"th"),e._uU(43,"Date | Time (Food)"),e.qZA(),e.TgZ(44,"th"),e._uU(45,"Drink Was Confirmed By"),e.qZA(),e.TgZ(46,"th"),e._uU(47,"Date | Time (Drink)"),e.qZA(),e.TgZ(48,"th"),e._uU(49,"Actual Date | Time"),e.qZA(),e.TgZ(50,"th"),e._uU(51,"Status"),e.qZA()()(),e.TgZ(52,"tbody"),e.YNc(53,fe,2,1,"ng-container",22),e.qZA()(),e.TgZ(54,"p"),e._uU(55,"Most Ordered Item"),e.qZA(),e.TgZ(56,"table",24)(57,"thead",25)(58,"tr")(59,"th"),e._uU(60,"#"),e.qZA(),e.TgZ(61,"th"),e._uU(62,"Item Name"),e.qZA(),e.TgZ(63,"th"),e._uU(64,"Times Ordered"),e.qZA()()(),e.TgZ(65,"tbody"),e.YNc(66,X,8,3,"tr",22),e.qZA()(),e.TgZ(67,"p"),e._uU(68,"Top Seller"),e.qZA(),e.TgZ(69,"table",24)(70,"thead",25)(71,"tr")(72,"th"),e._uU(73,"#"),e.qZA(),e.TgZ(74,"th"),e._uU(75,"Item Name"),e.qZA(),e.TgZ(76,"th"),e._uU(77,"Times Sold"),e.qZA()()(),e.TgZ(78,"tbody"),e.YNc(79,Se,8,3,"tr",22),e.qZA()(),e.TgZ(80,"p"),e._uU(81,"Cook For the Day"),e.qZA(),e.TgZ(82,"table",19)(83,"thead",20)(84,"tr",21)(85,"th"),e._uU(86,"Name"),e.qZA(),e.TgZ(87,"th"),e._uU(88,"Food Prepared"),e.qZA()()(),e.TgZ(89,"tbody"),e.YNc(90,Ce,5,2,"tr",22),e.qZA()(),e.TgZ(91,"h5",26),e._uU(92,"Accounts Report"),e.qZA(),e.TgZ(93,"p"),e._uU(94,"Refunds"),e.qZA(),e.TgZ(95,"table",19)(96,"thead",20)(97,"tr",21)(98,"th"),e._uU(99,"Name"),e.qZA(),e.TgZ(100,"th"),e._uU(101,"Amount"),e.qZA(),e.TgZ(102,"th"),e._uU(103,"Authorized By"),e.qZA(),e.TgZ(104,"th"),e._uU(105,"Reason"),e.qZA()()(),e.TgZ(106,"tbody"),e.YNc(107,Ze,9,4,"tr",22),e.TgZ(108,"tr")(109,"td",23)(110,"strong"),e._uU(111),e.ALo(112,"number"),e.qZA()()()()(),e.TgZ(113,"p"),e._uU(114,"Income"),e.qZA(),e.TgZ(115,"table",19)(116,"thead",20)(117,"tr",21)(118,"th"),e._uU(119,"Source"),e.qZA(),e.TgZ(120,"th"),e._uU(121,"Amount"),e.qZA()()(),e.TgZ(122,"tbody"),e.YNc(123,$e,5,2,"tr",22),e.qZA()(),e.TgZ(124,"p"),e._uU(125,"Expenses"),e.qZA(),e.TgZ(126,"table",19)(127,"thead",20)(128,"tr",21)(129,"th"),e._uU(130,"Category"),e.qZA(),e.TgZ(131,"th"),e._uU(132,"Amount"),e.qZA()()(),e.TgZ(133,"tbody"),e.YNc(134,Zt,5,2,"tr",22),e.qZA()(),e.TgZ(135,"h5",26),e._uU(136,"Attendance Report"),e.qZA(),e.TgZ(137,"table",19)(138,"thead",20)(139,"tr",21)(140,"th"),e._uU(141,"Name"),e.qZA(),e.TgZ(142,"th"),e._uU(143,"Time In"),e.qZA(),e.TgZ(144,"th"),e._uU(145,"Time Out"),e.qZA()()(),e.TgZ(146,"tbody"),e.YNc(147,gt,7,3,"tr",22),e.qZA()(),e.TgZ(148,"h5",26),e._uU(149,"Inventory Report"),e.qZA(),e.TgZ(150,"p"),e._uU(151,"Purchase Request"),e.qZA(),e.TgZ(152,"table",19)(153,"thead",20)(154,"tr",21)(155,"th"),e._uU(156,"Item"),e.qZA(),e.TgZ(157,"th"),e._uU(158,"Requested By"),e.qZA(),e.TgZ(159,"th"),e._uU(160,"Department"),e.qZA(),e.TgZ(161,"th"),e._uU(162,"Quantity"),e.qZA(),e.TgZ(163,"th"),e._uU(164,"Unit Price"),e.qZA(),e.TgZ(165,"th"),e._uU(166,"Total Cost"),e.qZA(),e.TgZ(167,"th"),e._uU(168,"Status"),e.qZA()()(),e.TgZ(169,"tbody"),e.YNc(170,ze,17,11,"tr",22),e.qZA()(),e.TgZ(171,"p"),e._uU(172,"Purchase Order"),e.qZA(),e.TgZ(173,"table",19)(174,"thead",20)(175,"tr",21)(176,"th"),e._uU(177,"Item"),e.qZA(),e.TgZ(178,"th"),e._uU(179,"Supplier"),e.qZA(),e.TgZ(180,"th"),e._uU(181,"Quantity"),e.qZA()()(),e.TgZ(182,"tbody"),e.YNc(183,Te,7,3,"tr",22),e.qZA()(),e.TgZ(184,"p"),e._uU(185,"Received Items"),e.qZA(),e.TgZ(186,"table",19)(187,"thead",20)(188,"tr",21)(189,"th"),e._uU(190,"Item"),e.qZA(),e.TgZ(191,"th"),e._uU(192,"Quantity"),e.qZA()()(),e.TgZ(193,"tbody"),e.YNc(194,Je,5,2,"tr",22),e.qZA()(),e.TgZ(195,"p"),e._uU(196,"Stock"),e.qZA(),e.TgZ(197,"table",19)(198,"thead",20)(199,"tr",21)(200,"th"),e._uU(201,"Item"),e.qZA(),e.TgZ(202,"th"),e._uU(203,"Quantity"),e.qZA(),e.TgZ(204,"th"),e._uU(205,"Store"),e.qZA()()(),e.TgZ(206,"tbody"),e.YNc(207,Q,7,3,"tr",22),e.qZA()(),e.TgZ(208,"p"),e._uU(209,"Stock Usuage"),e.qZA(),e.TgZ(210,"table",19)(211,"thead",20)(212,"tr",21)(213,"th"),e._uU(214,"Item"),e.qZA(),e.TgZ(215,"th"),e._uU(216,"Quantity"),e.qZA(),e.TgZ(217,"th"),e._uU(218,"Received By"),e.qZA(),e.TgZ(219,"th"),e._uU(220,"Operation"),e.qZA()()(),e.TgZ(221,"tbody"),e.YNc(222,se,9,4,"tr",22),e.qZA()(),e.TgZ(223,"p"),e._uU(224,"Return Request"),e.qZA(),e.TgZ(225,"table",19)(226,"thead",20)(227,"tr",21)(228,"th"),e._uU(229,"Item"),e.qZA(),e.TgZ(230,"th"),e._uU(231,"Quantity"),e.qZA(),e.TgZ(232,"th"),e._uU(233,"Request By"),e.qZA(),e.TgZ(234,"th"),e._uU(235,"Reason"),e.qZA()()(),e.TgZ(236,"tbody"),e.YNc(237,xe,9,4,"tr",22),e.qZA()()()),2&c){const t=e.oxw(2);e.xp6(2),e.AsE("From ",t.paymentForm.value.dates," to ",t.paymentForm.value.datetwo," "),e.xp6(17),e.Q6J("ngForOf",t.posList),e.xp6(4),e.hij("Total: GH\u20b5",e.lcZ(24,19,t.totalPosAmount),""),e.xp6(30),e.Q6J("ngForOf",t.HeldList),e.xp6(13),e.Q6J("ngForOf",t.mostOrderedItems),e.xp6(13),e.Q6J("ngForOf",t.mostAttendant),e.xp6(11),e.Q6J("ngForOf",t.chefList),e.xp6(17),e.Q6J("ngForOf",t.refundList),e.xp6(4),e.hij("Daily Refunds Total: GH\u20b5",e.lcZ(112,21,t.totalRefundAmount),""),e.xp6(12),e.Q6J("ngForOf",t.incomeList),e.xp6(11),e.Q6J("ngForOf",t.expenseList),e.xp6(13),e.Q6J("ngForOf",t.attendaceList),e.xp6(23),e.Q6J("ngForOf",t.purchaseList),e.xp6(13),e.Q6J("ngForOf",t.orderList),e.xp6(11),e.Q6J("ngForOf",t.receivedList),e.xp6(13),e.Q6J("ngForOf",t.stockList),e.xp6(15),e.Q6J("ngForOf",t.stockUsuageList),e.xp6(15),e.Q6J("ngForOf",t.returnList)}}function Qe(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h4",6),e._uU(5,"Detailed Summary Report Week(s)"),e.qZA(),e.TgZ(6,"div",7),e._UZ(7,"div",8),e.TgZ(8,"div",9)(9,"form",10),e._UZ(10,"input",11),e.TgZ(11,"input",12),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()()(),e.TgZ(12,"div",9)(13,"button",13),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportexcel())}),e._UZ(14,"i",14),e._uU(15," Export to Excel "),e.qZA()(),e.TgZ(16,"div",9)(17,"button",15),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.printRepo())}),e._UZ(18,"i",16),e._uU(19," Print "),e.qZA()()(),e.YNc(20,Ae,238,23,"div",17),e.qZA()()()()}if(2&c){const t=e.oxw();e.xp6(9),e.Q6J("formGroup",t.paymentForm),e.xp6(11),e.Q6J("ngIf",t.paymentForm.value.datetwo)}}I.\u0275fac=function(n){return new(n||I)(e.Y36(b.qu),e.Y36(me._W),e.Y36(ee.Q),e.Y36(te.W))},I.\u0275cmp=e.Xpm({type:I,selectors:[["todays-food-chef"]],decls:29,vars:8,consts:[[1,"page"],["class","row",4,"blockUI"],["type","button",1,"btn","btn-primary",2,"margin","50px","padding","10px","display","none",3,"click"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-16",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","name","placeholder"," ..",1,"form-control"],["type","text","formControlName","food",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","search..","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],[1,"table-responsive"],[3,"formGroup"],["type","date","formControlName","dates",1,"form-control",2,"width","auto",3,"ngModelChange"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],["class","fa fa-close fa-lg text-danger",3,"click",4,"ngIf"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"],["type","button",1,"btn","btn-primary","btn-round",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,k,43,13,"div",1),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return t.openPopup()}),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.TgZ(8,"i",7),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10),e._UZ(12,"div",11),e.TgZ(13,"div",12)(14,"form",13),e.NdJ("ngSubmit",function(){return t.addChef(t.createForm.value)}),e.TgZ(15,"div",14)(16,"div",15)(17,"div",16)(18,"label"),e._uU(19," Name "),e.qZA(),e._UZ(20,"input",17),e.qZA()(),e.TgZ(21,"div",15)(22,"div",16)(23,"label"),e._uU(24," Food"),e.qZA(),e._UZ(25,"input",18),e.qZA()()(),e.TgZ(26,"div",14),e.YNc(27,E,3,0,"div",19),e.YNc(28,H,3,0,"div",19),e.qZA()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(2),e.Q6J("ngStyle",e.VKq(6,V,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.createForm),e.xp6(13),e.Q6J("ngIf","Add New"==t.header),e.xp6(1),e.Q6J("ngIf","Edit"==t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],I.prototype,"loading",void 0),rr().vfs=Vo.I.vfs;class rt{constructor(n,t,s,p,C,O){this.fb=n,this.roomService=t,this.toastr=s,this.paymentService=p,this.guestService=C,this.userService=O,this.fileName="detailed_sales_report_week.xlsx",this.page=1,this.pageSize=10,this.displayStyle="none",this.openStyle="none",this.totalHeldAmount=0,this.paymentForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],amount:["",b.kI.required],duration:["",b.kI.required],method:["",b.kI.required],room_type:["",b.kI.required],discount:["",b.kI.required],dates:["",b.kI.required],datetwo:["",b.kI.required]})}ngOnInit(){this.getRoom()}getPaymentList(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.paymentService.getPayment();t&&(n.paymentList=t,n.paymentForm.patchValue({amount:n.paymentList[0].amount}));let s=0;for(let p=0;p<n.paymentList.length;p++)s+=parseInt(n.paymentList[p].amount),n.totalAmount=s,console.log(s)}catch(s){n.toastr.error(null,s)}})()}getRoom(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.roomService.getrooms();t&&(n.roomList=t)}catch(s){n.toastr.error(null,s)}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start(),n.loadHeldOrders();const t=n.paymentForm.value.dates;if(!t)throw new Error("Please select a valid date.");const s={date:t,datetwo:n.paymentForm.value.datetwo},[p,C,O,qe,Ln,un,Mn,fo,ai,eo,cr,Zi,Vr,Qr,Zr]=yield Promise.all([n.paymentService.searchDatesTwo(s),n.guestService.searchReceivedDateTwo(s),n.guestService.searchStockDateTwo(s),n.guestService.searchMostAttendantDateTwo(s),n.guestService.searchStockUsuageDateTwo(s),n.guestService.searchReturnDateTwo(s),n.guestService.searchMostOrderedDateTwo(s),n.paymentService.searchRefundDatesTwo(s),n.paymentService.searchDatesPosTwo(s),n.roomService.searchRoomDatesTwo(s),n.guestService.searchIncomeDatesTwo(s),n.guestService.searchExpenseDateTwo(s),n.guestService.searchattendanceDateTwo(s),n.guestService.searchPurchaseDateTwo(s),n.guestService.searchOrderDateTwo(s)]);n.paymentList=p||[],n.receivedList=C||[],n.stockList=O||[],n.mostAttendant=qe||[],n.stockUsuageList=Ln||[],n.returnList=un||[],n.mostOrderedItems=Mn||[],n.refundList=fo||[],n.posList=ai||[],n.rooms=eo||[],n.incomeList=cr||[],n.expenseList=Zi||[],n.attendaceList=Vr||[],n.purchaseList=Qr||[],n.orderList=Zr||[],n.roomList=n.roomList||[],n.getFoodChef(s),n.totalAmount=n.paymentList.reduce((xo,No)=>xo+(parseInt(No.amount)||0),0),n.totalRefundAmount=n.refundList.reduce((xo,No)=>xo+(parseInt(No.refund_amount)||0),0),n.totalPosAmount=n.posList.reduce((xo,No)=>xo+(parseInt(No.amount)||0),0),n.totalIncome=n.incomeList.reduce((xo,No)=>xo+(parseInt(No.amount)||0),0),n.totalExpenses=n.expenseList.reduce((xo,No)=>xo+(parseInt(No.amount)||0),0),n.totalAttendance=n.attendaceList.length,n.totalAvailableRooms=n.roomList.length-n.rooms.length,n.totalOcccupiedRooms=n.rooms.length,n.occupancy=n.totalOcccupiedRooms/(n.roomList.length||1)*100;const Pr=new Date(t);Pr.setDate(Pr.getDate()-1);const Ql={date:Pr.toISOString().split("T")[0]},ka=yield n.roomService.searchYesterdayRoomDates(Ql);n.yesterdayList=ka||[],n.yesterday_total=n.yesterdayList.reduce((xo,No)=>xo+(parseInt(No.amount)||0),0),n.yester_daytodate=n.yesterday_total+n.totalAmount}catch(t){console.error("Error fetching data:",t.message||t)}finally{n.loading.stop()}})()}getBookingList(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.roomService.getBookingList();t&&(n.bookings=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}applyFilter(){var n=this;return(0,Y.Z)(function*(){try{console.log(n.paymentForm.value.filter),n.loading.start();var t=yield n.paymentService.getPaymentFilter(n.paymentForm.value.filter);t&&(n.paymentList=t)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}openPopup(){this.header="Add Payment",this.displayStyle="block",this.getBookingList()}closePopup(){this.displayStyle="none",this.openStyle="none"}exportexcel(){let n=document.getElementById("excel-table");const t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,this.fileName)}printReport(){const n=document.querySelector(".page")?.innerHTML;if(n){const t=window.open("","_blank");t?.document.write("<html><head><title>Report</title></head><body>"),t?.document.write(n),t?.document.write("</body></html>"),t?.document.close(),t?.focus(),t?.print(),t?.close()}else console.error("No content found to print.")}exportToExcel(){const n=document.getElementById("excel-table");if(n){const t=Be.P6.table_to_book(n);Be.NC(t,"Hotel_Report.xlsx")}else console.error("Table not found for exporting to Excel.")}printRepo(){const n=document.getElementById("excel-table")?.outerHTML;if(!n)return void console.error("No content found to print.");const t=window.open("","","height=800, width=800");t?(t.document.write("<html><head><title>Report</title>"),t.document.write("\n      <style>\n        body {\n          font-family: Arial, sans-serif;\n          margin: 0;\n          padding: 0;\n        }\n        table {\n          width: 100%;\n          border-collapse: collapse;\n        }\n        th, td {\n          padding: 8px;\n          border: 1px solid #ddd;\n        }\n        th {\n          background-color: #f2f2f2;\n        }\n        .text-end {\n          text-align: end;\n        }\n        .bg-light {\n          background-color: #f8f9fa;\n        }\n      </style>\n    "),t.document.write("</head><body>"),t.document.write(n||""),t.document.write("</body></html>"),t.document.close(),t.onload=()=>{t.print(),t.close()}):console.error("Failed to open the print window.")}loadHeldOrders(){this.guestService.getHeldReportOrdersTwo({date:this.paymentForm.value.dates,datetwo:this.paymentForm.value.datetwo}).subscribe(s=>{if(console.log("API Response:",s),!Array.isArray(s)||0===s.length)return console.log("No held orders found."),this.HeldList=[],void(this.totalHeldAmount=0);this.HeldList=s.map(p=>({...p,items:Array.isArray(p.items)?p.items.map(C=>({...C,price:Number(C.price)||0,qty:Number(C.qty)||0})):[]})),console.log("Processed HeldList:",this.HeldList),this.calculateTotal()})}calculateTotal(){this.totalHeldAmount=this.HeldList.reduce((n,t)=>n+t.items.reduce((s,p)=>s+p.qty*p.price,0),0)}getFoodChef(n){var t=this;return(0,Y.Z)(function*(){var s=yield t.guestService.searchChefDatesTwo(n);s&&(t.chefList=s)})()}}function ft(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA(),e.TgZ(23,"td")(24,"i",61),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.editIncome(C.id))}),e.qZA()()()}if(2&c){const t=n.$implicit,s=n.index;e.xp6(2),e.hij(" ",s+1,""),e.xp6(2),e.hij(" ",t.name,""),e.xp6(2),e.hij(" ",t.date,""),e.xp6(2),e.hij(" ",t.start_time,""),e.xp6(2),e.hij(" ",t.end_time,""),e.xp6(2),e.Oqu(t.amount),e.xp6(2),e.Oqu(t.balance),e.xp6(2),e.Oqu(t.customer_name),e.xp6(2),e.Oqu(t.customer_phone),e.xp6(2),e.Oqu(t.note),e.xp6(2),e.Oqu(t.status)}}function Ge(c,n){1&c&&e._uU(0,"First")}function ct(c,n){1&c&&e._uU(0,"Last")}function Pt(c,n){1&c&&e._uU(0,"Prev")}function At(c,n){1&c&&e._uU(0,"Next")}function J(c,n){1&c&&e._uU(0,"...")}function ce(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function _e(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",9)(2,"div",32)(3,"div",33)(4,"div",34)(5,"div",35)(6,"div",36)(7,"input",37),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.myFunction())}),e.qZA()(),e.TgZ(8,"div",38)(9,"p",39),e._uU(10),e.ALo(11,"number"),e.qZA()()()(),e.TgZ(12,"div",40)(13,"form",41)(14,"input",42),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()(),e.TgZ(15,"div",43)(16,"button",44),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup())}),e._uU(17," Add New"),e.qZA(),e.TgZ(18,"button",45),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportexcel())}),e._UZ(19,"i",46),e._uU(20," Export "),e.qZA()(),e.TgZ(21,"table",47)(22,"thead",48)(23,"tr",49)(24,"th",50),e._uU(25,"#"),e.qZA(),e.TgZ(26,"th",50),e._uU(27," Event Name"),e.qZA(),e.TgZ(28,"th",50),e._uU(29,"Date"),e.qZA(),e.TgZ(30,"th",50),e._uU(31,"Start Time"),e.qZA(),e.TgZ(32,"th",50),e._uU(33,"End Time"),e.qZA(),e.TgZ(34,"th",50),e._uU(35,"Amount"),e.qZA(),e.TgZ(36,"th",50),e._uU(37,"Balance"),e.qZA(),e.TgZ(38,"th",50),e._uU(39,"Paid by"),e.qZA(),e.TgZ(40,"th",50),e._uU(41,"Phone "),e.qZA(),e.TgZ(42,"th",50),e._uU(43,"Note"),e.qZA(),e.TgZ(44,"th",50),e._uU(45,"Status"),e.qZA(),e.TgZ(46,"th",50),e._uU(47,"Action"),e.qZA()()(),e.TgZ(48,"tbody"),e.YNc(49,ft,25,11,"tr",51),e.ALo(50,"slice"),e.qZA()()(),e.TgZ(51,"div",52)(52,"div",53)(53,"ngb-pagination",54),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(54,Ge,1,0,"ng-template",55),e.YNc(55,ct,1,0,"ng-template",56),e.YNc(56,Pt,1,0,"ng-template",57),e.YNc(57,At,1,0,"ng-template",58),e.YNc(58,J,1,0,"ng-template",59),e.YNc(59,ce,1,1,"ng-template",60),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(10),e.hij("Total Payments: GH\u20b5",e.lcZ(11,10,t.totalAmount),""),e.xp6(3),e.Q6J("formGroup",t.createForm),e.xp6(36),e.Q6J("ngForOf",e.Dn7(50,12,t.incomeList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.incomeList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function ke(c,n){1&c&&(e.TgZ(0,"div",62)(1,"button",63),e._uU(2," Save"),e.qZA()())}function Oe(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",62)(1,"button",64),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.updateIncome(p.createForm.value))}),e._uU(2," Update"),e.qZA()()}}rt.\u0275fac=function(n){return new(n||rt)(e.Y36(b.qu),e.Y36(P.X),e.Y36(me._W),e.Y36(pe.t),e.Y36(ee.Q),e.Y36(te.W))},rt.\u0275cmp=e.Xpm({type:rt,selectors:[["detailed-summary-two"]],decls:2,vars:1,consts:[[1,"page"],["class","row",4,"blockUI"],[1,"row"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-body","p-4"],[1,"text-center","mb-4"],[1,"d-flex","mb-3"],[1,"flex-grow-1"],[1,"ms-3"],[3,"formGroup"],["type","date","formControlName","dates",1,"form-control"],["type","date","formControlName","datetwo",1,"form-control",3,"ngModelChange"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-file-excel-o"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-print"],["id","excel-table",4,"ngIf"],["id","excel-table"],[1,"table","table-bordered"],[1,"table-light"],[1,"bg-secondary","text-white"],[4,"ngFor","ngForOf"],["colspan","5",1,"text-end","bg-light"],[1,"table","table-bordered","mt-3"],[1,"thead-light"],[1,"text-gray-500","mt-4"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Qe,21,2,"div",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"))},dependencies:[be.sg,be.O5,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,ae.PC,be.JJ,be.H9]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],rt.prototype,"loading",void 0);const De=function(c){return{display:c}};class Ve{constructor(n,t,s,p){this.fb=n,this.toastr=t,this.guestService=s,this.userService=p,this.displayStyle="none",this.fileName="income.xlsx",this.submitted=!1,this.title="Create Ad",this.isNew=!0,this.post=!0,this.update=!1,this.page=1,this.pageSize=200,this.createForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],amount:["",b.kI.required],date:["",b.kI.required],note:["",b.kI.required],dates:["",b.kI.required],customer_name:["",b.kI.required],customer_phone:["",b.kI.required],start_time:["",b.kI.required],end_time:["",b.kI.required],balance:["",b.kI.required],method:["",b.kI.required]})}ngOnInit(){this.getUser(),this.getIncomeList()}addIncome(n){var t=this;return(0,Y.Z)(function*(){const s={name:n.name,amount:n.amount,note:n.note,date:n.date,customer_name:n.customer_name,customer_phone:n.customer_phone,balance:n.balance,start_time:n.start_time,end_time:n.end_time,method:n.method};try{t.loading.start(),(yield t.guestService.addHallPayment(s))&&t.toastr.success(null,"record successfully added "),t.getIncomeList()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}getIncomeList(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start();var t=yield n.guestService.getHallPayment();t&&(n.incomeList=t);let s=0;for(let p=0;p<n.incomeList.length;p++)s+=parseInt(n.incomeList[p].amount),n.totalAmount=s,console.log(s)}catch(s){n.toastr.error(null,s)}finally{n.loading.stop()}})()}exportexcel(){let n=document.getElementById("excel-table");const t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,this.fileName)}openPopup(){this.header="Add New",this.displayStyle="block"}closePopup(){this.displayStyle="none"}editIncome(n){var t=this;return(0,Y.Z)(function*(){t.header="Edit",t.displayStyle="block";try{t.loading.start(),t.expense_info=yield t.guestService.getHallPaymentOne(n),t.expense_info&&t.createForm.patchValue({id:t.expense_info[0].id,name:t.expense_info[0].name,amount:t.expense_info[0].amount,note:t.expense_info[0].note,date:t.expense_info[0].date,customer_name:t.expense_info[0].customer_name,balance:t.expense_info[0].balance,customer_phone:t.expense_info[0].customer_phone,start_time:t.expense_info[0].start_time,end_time:t.expense_info[0].end_time,method:t.expense_info[0].method})}catch(s){t.toastr.error(null,s)}finally{t.loading.stop()}})()}updateIncome(n){var t=this;return(0,Y.Z)(function*(){const s={id:n.id,name:n.name,amount:n.amount,note:n.note,method:n.method,date:n.date,customer_name:n.customer_name,customer_phone:n.customer_phone,balance:n.balance,start_time:n.start_time,end_time:n.end_time};try{t.loading.start(),(yield t.guestService.updateHallPayment(s))&&t.getIncomeList()}catch(C){t.toastr.error(null,C)}finally{t.loading.stop()}})()}deleteIncome(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deleteIncome(n))&&t.getIncomeList()}catch(p){t.toastr.error(null,p)}finally{t.loading.stop()}})()}myFunction(){var t,p,C,O;for(t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr"),O=0;O<p.length;O++)(C=p[O].getElementsByTagName("td")[0])&&(p[O].style.display=(C.textContent||C.innerText).toUpperCase().indexOf(t)>-1?"":"none")}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){const t={date:n.createForm.value.dates};try{n.loading.start(),n.incomeList=yield n.guestService.searchIncomeDates(t)}catch(s){n.toastr.error(null,s.message)}finally{n.loading.stop()}})()}}function We(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"i",47),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.openPopup("Edit",C))}),e.qZA()()()}if(2&c){const t=n.$implicit,s=n.index;e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Oqu(t.department),e.xp6(2),e.Oqu(t.created_date)}}function dt(c,n){1&c&&e._uU(0,"First")}function Ut(c,n){1&c&&e._uU(0,"Last")}function jt(c,n){1&c&&e._uU(0,"Prev")}function Bt(c,n){1&c&&e._uU(0,"Next")}function et(c,n){1&c&&e._uU(0,"...")}function de(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function Yn(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",8)(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"div",25)(7,"input",26),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchItems())}),e.qZA()(),e._UZ(8,"div",27),e.qZA()(),e.TgZ(9,"div",28)(10,"button",29),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup("Add New"))}),e._uU(11," Add New "),e.qZA(),e.TgZ(12,"button",30),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportExcel())}),e._UZ(13,"i",31),e._uU(14," Export "),e.qZA()(),e.TgZ(15,"div",32)(16,"table",33)(17,"thead",34)(18,"tr",35)(19,"th",36),e._uU(20,"#"),e.qZA(),e.TgZ(21,"th",36),e._uU(22,"Item Name"),e.qZA(),e.TgZ(23,"th",36),e._uU(24,"Quantity"),e.qZA(),e.TgZ(25,"th",36),e._uU(26,"Location"),e.qZA(),e.TgZ(27,"th",36),e._uU(28,"Date"),e.qZA(),e.TgZ(29,"th",36),e._uU(30,"Action"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,We,13,5,"tr",37),e.ALo(33,"slice"),e.qZA()()(),e.TgZ(34,"div",38)(35,"div",39)(36,"ngb-pagination",40),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(37,dt,1,0,"ng-template",41),e.YNc(38,Ut,1,0,"ng-template",42),e.YNc(39,jt,1,0,"ng-template",43),e.YNc(40,Bt,1,0,"ng-template",44),e.YNc(41,et,1,0,"ng-template",45),e.YNc(42,de,1,1,"ng-template",46),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(32),e.Q6J("ngForOf",e.Dn7(33,8,t.transferList,(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("collectionSize",t.transferList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function kn(c,n){if(1&c&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function dn(c,n){1&c&&(e.TgZ(0,"div",49)(1,"button",50),e._uU(2,"Save"),e.qZA()())}function Ct(c,n){1&c&&(e.TgZ(0,"div",49)(1,"button",50),e._uU(2,"Update"),e.qZA()())}Ve.\u0275fac=function(n){return new(n||Ve)(e.Y36(b.qu),e.Y36(me._W),e.Y36(ee.Q),e.Y36(te.W))},Ve.\u0275cmp=e.Xpm({type:Ve,selectors:[["add-event-payment"]],decls:77,vars:8,consts:[[1,"page"],["class","row",4,"blockUI"],["type","button",1,"btn","btn-primary",2,"margin","50px","padding","10px","display","none",3,"click"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-16",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","name","placeholder"," ..",1,"form-control"],["type","date","formControlName","date",1,"form-control"],["type","time","formControlName","start_time",1,"form-control"],["type","time","formControlName","end_time",1,"form-control"],["type","text","formControlName","amount",1,"form-control"],["type","text","formControlName","balance",1,"form-control"],["formControlName","method","id","",2,"color","black"],["value","Cash"],["value","Mobile Money"],["value","Mobile Money & Cash"],["value","Credit Card"],["type","text","formControlName","customer_name",1,"form-control"],["type","text","formControlName","customer_phone",1,"form-control"],["formControlName","note","id","","cols","30","rows","10",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","search..","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],[2,"float","left","color","gray"],[1,"table-responsive"],[3,"formGroup"],["type","date","formControlName","dates",1,"form-control",2,"width","auto",3,"ngModelChange"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"],["type","button",1,"btn","btn-primary","btn-round",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,_e,60,16,"div",1),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){return t.openPopup()}),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.TgZ(8,"i",7),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10),e._UZ(12,"div",11),e.TgZ(13,"div",12)(14,"form",13),e.NdJ("ngSubmit",function(){return t.addIncome(t.createForm.value)}),e.TgZ(15,"div",14)(16,"div",15)(17,"div",16)(18,"label"),e._uU(19," Event Name "),e.qZA(),e._UZ(20,"input",17),e.qZA()(),e.TgZ(21,"div",15)(22,"div",16)(23,"label"),e._uU(24," Date"),e.qZA(),e._UZ(25,"input",18),e.qZA()(),e.TgZ(26,"div",15)(27,"div",16)(28,"label"),e._uU(29," Start Time"),e.qZA(),e._UZ(30,"input",19),e.qZA()(),e.TgZ(31,"div",15)(32,"div",16)(33,"label"),e._uU(34," End Time"),e.qZA(),e._UZ(35,"input",20),e.qZA()(),e.TgZ(36,"div",15)(37,"div",16)(38,"label"),e._uU(39," Amount"),e.qZA(),e._UZ(40,"input",21),e.qZA()(),e.TgZ(41,"div",15)(42,"div",16)(43,"label"),e._uU(44," Balance"),e.qZA(),e._UZ(45,"input",22),e.qZA()(),e.TgZ(46,"div",15)(47,"div",16)(48,"label"),e._uU(49," Payment Method"),e.qZA(),e.TgZ(50,"select",23)(51,"option",24),e._uU(52,"Cash"),e.qZA(),e.TgZ(53,"option",25),e._uU(54,"MoMo"),e.qZA(),e.TgZ(55,"option",26),e._uU(56,"MoMo & Cash"),e.qZA(),e.TgZ(57,"option",27),e._uU(58,"Credit CArd"),e.qZA()()()(),e.TgZ(59,"div",15)(60,"div",16)(61,"label"),e._uU(62," Customer Name"),e.qZA(),e._UZ(63,"input",28),e.qZA()(),e.TgZ(64,"div",15)(65,"div",16)(66,"label"),e._uU(67," Customer Phone Number"),e.qZA(),e._UZ(68,"input",29),e.qZA()(),e.TgZ(69,"div",15)(70,"div",16)(71,"label"),e._uU(72," Note"),e.qZA(),e._UZ(73,"textarea",30),e.qZA()()(),e.TgZ(74,"div",14),e.YNc(75,ke,3,0,"div",31),e.YNc(76,Oe,3,0,"div",31),e.qZA()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(2),e.Q6J("ngStyle",e.VKq(6,De,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.createForm),e.xp6(61),e.Q6J("ngIf","Add New"==t.header),e.xp6(1),e.Q6J("ngIf","Edit"==t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU,be.JJ]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Ve.prototype,"loading",void 0);const nn=function(c){return{display:c}};class It{constructor(n,t,s,p){this.fb=n,this.userService=t,this.toastr=s,this.guestService=p,this.itemsList=[],this.departmentList=[],this.transferList=[],this.storeList=[],this.unitList=[],this.displayStyle="none",this.header="",this.page=1,this.pageSize=100,this.totalAmount=0,this.user=[],this.itemForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],description:["",b.kI.required],department:["",b.kI.required],quantity:["",b.kI.required]})}ngOnInit(){this.getDepartmentList(),this.getItemsList(),this.getTransferList(),this.getUser()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}getItemsList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getItemsList();t&&(n.itemsList=t)}catch{n.toastr.error("Error fetching items list")}})()}getTransferList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getStockTransferListOutside();t&&(n.transferList=t)}catch{n.toastr.error("Error fetching items list")}})()}getDepartmentList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getDepartmentList();t&&(n.departmentList=t)}catch{n.toastr.error("Error fetching department list")}})()}openPopup(n,t=null){this.header=n,"Add New"===n?this.itemForm.reset():"Edit"===n&&t&&this.itemForm.patchValue(t),this.displayStyle="block"}closePopup(){this.displayStyle="none"}saveTransfer(n){var t=this;return(0,Y.Z)(function*(){try{let s;t.loading.start(),"Add New"===t.header?(s=yield t.guestService.addStockTransferOutside(n),t.toastr.success("Item successfully added")):"Edit"===t.header&&(s=yield t.guestService.updateStockTransfer(n),t.toastr.success("Item successfully updated")),s&&(t.getTransferList(),t.closePopup())}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}deleteTransfer(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),(yield t.guestService.deleteDepartment(n))&&(t.toastr.success("Item successfully deleted"),t.getTransferList())}catch{t.toastr.error("Error deleting item")}finally{t.loading.stop()}})()}exportExcel(){const n=document.getElementById("excel-table"),t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,"stock_transfer_outside.xlsx")}searchItems(){const t=document.getElementById("myInput").value.toUpperCase(),p=document.getElementById("excel-table").getElementsByTagName("tr");for(let C=0;C<p.length;C++){const O=p[C].getElementsByTagName("td")[0];O&&(p[C].style.display=(O.textContent||O.innerText).toUpperCase().indexOf(t)>-1?"":"none")}}pageClick(){}}function Nn(c,n){1&c&&(e.TgZ(0,"td"),e._UZ(1,"input",23),e.qZA())}function ln(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.YNc(3,Nn,2,0,"td",22),e.qZA()),2&c){const t=n.$implicit,s=e.oxw(2);e.xp6(2),e.Oqu(t.description),e.xp6(1),e.Q6J("ngForOf",s.columns)}}function oo(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"span",12),e._uU(4),e.qZA(),e.TgZ(5,"button",13),e._uU(6," Toggle "),e.qZA()(),e.TgZ(7,"div",14)(8,"div",15)(9,"div",16)(10,"input",17),e.NdJ("ngModelChange",function(p){const O=e.CHM(t).$implicit;return e.KtG(O.searchTerm=p)}),e.qZA()(),e.TgZ(11,"table",18)(12,"thead",19)(13,"tr")(14,"th",20),e._uU(15,"ITEM"),e.qZA(),e.TgZ(16,"th",21),e._uU(17,"SHIFT 1"),e.qZA(),e.TgZ(18,"th",21),e._uU(19,"SHIFT 2"),e.qZA()(),e.TgZ(20,"tr")(21,"th"),e._uU(22,"OP. STK"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"REC'VD"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"TRSF IN"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"TRSF OUT"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"SOLD"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"SP'LGE"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"CL.STK"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"VAR."),e.qZA(),e.TgZ(37,"th"),e._uU(38,"OP. STK"),e.qZA(),e.TgZ(39,"th"),e._uU(40,"REC'VD"),e.qZA(),e.TgZ(41,"th"),e._uU(42,"TRSF IN"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"TRSF OUT"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"SOLD"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"SP'LGE"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"CL.STK"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"VAR."),e.qZA()()(),e.TgZ(53,"tbody"),e.YNc(54,ln,4,2,"tr",22),e.qZA()()()()()()}if(2&c){const t=n.$implicit,s=n.index;e.xp6(4),e.Oqu(t.category),e.xp6(1),e.uIk("data-target","#collapse"+s),e.xp6(2),e.Q6J("id","collapse"+s),e.xp6(3),e.MGl("placeholder","Search in ",t.category,"..."),e.Q6J("ngModel",t.searchTerm),e.xp6(44),e.Q6J("ngForOf",t.items)}}It.\u0275fac=function(n){return new(n||It)(e.Y36(b.qu),e.Y36(te.W),e.Y36(me._W),e.Y36(ee.Q))},It.\u0275cmp=e.Xpm({type:It,selectors:[["outside-stock-side"]],decls:34,vars:9,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-12",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["formControlName","name",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","department","placeholder","enter Location",1,"form-control"],["type","number","formControlName","quantity","placeholder","Enter quantity",1,"form-control"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","Search for items...","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],[1,"table-responsive"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],[3,"value"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Yn,43,12,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"i",6),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"form",12),e.NdJ("ngSubmit",function(){return t.saveTransfer(t.itemForm.value)}),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"label"),e._uU(18,"Item"),e.qZA(),e.TgZ(19,"select",16),e.YNc(20,kn,2,2,"option",17),e.qZA()()(),e.TgZ(21,"div",14)(22,"div",15)(23,"label"),e._uU(24,"Location"),e.qZA(),e._UZ(25,"input",18),e.qZA()(),e.TgZ(26,"div",14)(27,"div",15)(28,"label"),e._uU(29,"Quanity"),e.qZA(),e._UZ(30,"input",19),e.qZA()()(),e.TgZ(31,"div",13),e.YNc(32,dn,3,0,"div",20),e.YNc(33,Ct,3,0,"div",20),e.qZA()()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(7,nn,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.itemForm),e.xp6(7),e.Q6J("ngForOf",t.itemsList),e.xp6(12),e.Q6J("ngIf","Add New"===t.header),e.xp6(1),e.Q6J("ngIf","Edit"===t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.wV,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC,be.OU]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],It.prototype,"loading",void 0);let Tn=(()=>{class c{constructor(t){this.stockService=t,this.columns=["op_stk_1","recvd_1","trsf_in_1","trsf_out_1","sold_1","spoilage_1","cl_stk_1","var_1","op_stk_2","recvd_2","trsf_in_2","trsf_out_2","sold_2","spoilage_2","cl_stk_2","var_2"],this.stockData=[]}ngOnInit(){var t=this;return(0,Y.Z)(function*(){try{t.stockData=yield t.stockService.getStockItems()}catch(s){console.error("Error fetching stock items:",s)}})()}}return c.\u0275fac=function(t){return new(t||c)(e.Y36(ee.Q))},c.\u0275cmp=e.Xpm({type:c,selectors:[["stock-sheet"]],decls:28,vars:1,consts:[[1,"container","my-4"],[1,"text-center","font-weight-bold"],[1,"text-center","mb-4"],[1,"text-right","mb-3"],["class","mb-3",4,"ngFor","ngForOf"],[1,"form-group","mt-4"],["type","text","placeholder","Enter names",1,"form-control"],[1,"form-group"],["rows","3","placeholder","Enter any notes...",1,"form-control"],[1,"mb-3"],[1,"card"],[1,"card-header","bg-primary","text-white","d-flex","justify-content-between","align-items-center"],[1,"font-weight-bold"],["type","button","data-toggle","collapse","aria-expanded","false","aria-controls","'collapse' + i",1,"btn","btn-light","btn-sm"],[1,"collapse","show",3,"id"],[1,"card-body","p-0"],[1,"p-2"],["type","text",1,"form-control","form-control-sm","mb-2",3,"placeholder","ngModel","ngModelChange"],[1,"table","table-bordered","table-sm","mb-0"],[1,"thead-light","text-center"],["rowspan","2"],["colspan","8"],[4,"ngFor","ngForOf"],["type","text",1,"form-control","form-control-sm"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"LONGFORD CITY"),e.qZA(),e.TgZ(3,"h4",2),e._uU(4,"RESTAURANT STOCK RECEIVED FORM"),e.qZA(),e.TgZ(5,"div",3)(6,"strong"),e._uU(7,"SIGN:"),e.qZA(),e._uU(8," ___________________ \xa0\xa0\xa0 "),e.TgZ(9,"strong"),e._uU(10,"DATE:"),e.qZA(),e._uU(11," ___________________ "),e.qZA(),e.YNc(12,oo,55,6,"div",4),e.TgZ(13,"div",5)(14,"label")(15,"strong"),e._uU(16,"SHIFT 1 STAFF:"),e.qZA()(),e._UZ(17,"input",6),e.qZA(),e.TgZ(18,"div",7)(19,"label")(20,"strong"),e._uU(21,"SHIFT 2 STAFF:"),e.qZA()(),e._UZ(22,"input",6),e.qZA(),e.TgZ(23,"div",7)(24,"label")(25,"strong"),e._uU(26,"NOTES:"),e.qZA()(),e._UZ(27,"textarea",8),e.qZA()()),2&t&&(e.xp6(12),e.Q6J("ngForOf",s.stockData))},dependencies:[be.sg,b.Fj,b.JJ,b.On],styles:["table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#343a40;color:#fff}.table-secondary[_ngcontent-%COMP%]{background-color:#e9ecef}"]}),c})();function wn(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.item),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Oqu(t.unit_price),e.xp6(2),e.Oqu(t.total_cost),e.xp6(2),e.Oqu(t.requested_by)}}function ho(c,n){if(1&c&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&c){const t=e.oxw();e.xp6(1),e.hij(" ",t.errorMessage,"\n")}}let Pn=(()=>{class c{constructor(t){this.guestService=t,this.purchases=[],this.cartId=null,this.errorMessage="",this.searched=!1,this.today=new Date}ngOnInit(){}loadVoucher(){this.cartId?(this.errorMessage="",this.searched=!1,this.guestService.getPurchaseRequestsByCartId(this.cartId).subscribe(t=>{this.purchases=t,this.searched=!0},t=>{this.errorMessage="Error fetching data or no results found.",this.purchases=[],this.searched=!0})):this.errorMessage="Please enter a valid Cart ID."}getTotalCost(){return this.purchases.reduce((t,s)=>t+Number(s.total_cost||0),0)}printVoucher(){const t=document.getElementById("printSection")?.innerHTML;if(!t)return;const s=window.open("","_blank","width=800,height=600");s&&(s.document.open(),s.document.write(`\n      <html>\n        <head>\n          <title>Print Voucher</title>\n          <style>\n            body {\n              font-family: 'Segoe UI', sans-serif;\n              padding: 20px;\n            }\n\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              font-size: 13px;\n            }\n\n            th, td {\n              border: 1px solid #000;\n              padding: 6px;\n              text-align: left;\n            }\n\n            .table-success th {\n              background-color: #c8e6c9;\n            }\n\n            .text-right {\n              text-align: right;\n            }\n          </style>\n        </head>\n        <body onload="window.print(); window.close();">\n          ${t}\n        </body>\n      </html>\n    `),s.document.close())}}return c.\u0275fac=function(t){return new(t||c)(e.Y36(ee.Q))},c.\u0275cmp=e.Xpm({type:c,selectors:[["print-vorcher"]],decls:97,vars:13,consts:[["id","printSection"],[1,"voucher-container"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"voucher-title"],[1,"text-right","company-info"],[1,"table","table-bordered","voucher-table"],[1,"table-success"],[4,"ngFor","ngForOf"],["colspan","3",1,"text-right"],["colspan","2"],[1,"mt-4"],[1,"row"],[1,"col-sm-6"],[1,"row","mt-3"],[1,"form-group","row","no-print","mt-4"],["type","number","placeholder","Enter Cart ID",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-3"],[1,"btn","btn-primary",3,"click"],[1,"col-sm-3","text-right"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-print"],["class","alert alert-danger mt-2 no-print",4,"ngIf"],[1,"alert","alert-danger","mt-2","no-print"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h2",3),e._uU(5,"PURCHASE VOUCHER"),e.qZA(),e.TgZ(6,"p")(7,"strong"),e._uU(8,"Department:"),e.qZA(),e._uU(9),e.qZA(),e.TgZ(10,"p")(11,"strong"),e._uU(12,"Cart / Requisition No:"),e.qZA(),e._uU(13),e.qZA(),e.TgZ(14,"p")(15,"strong"),e._uU(16,"Date:"),e.qZA(),e._uU(17),e.ALo(18,"date"),e.qZA(),e.TgZ(19,"p")(20,"strong"),e._uU(21,"Supplier:"),e.qZA(),e._uU(22," _______________________________"),e.qZA()(),e.TgZ(23,"div",4)(24,"strong"),e._uU(25,"Longford Prestige "),e.qZA(),e._UZ(26,"br"),e._uU(27," Krofofrom -Adwei Nkwanta, Kumasi"),e._UZ(28,"br"),e._uU(29," Phone: 024-327-7506"),e._UZ(30,"br"),e.qZA()(),e.TgZ(31,"table",5)(32,"thead",6)(33,"tr")(34,"th"),e._uU(35,"Item"),e.qZA(),e.TgZ(36,"th"),e._uU(37,"Quantity"),e.qZA(),e.TgZ(38,"th"),e._uU(39,"Unit Price (\u20b5)"),e.qZA(),e.TgZ(40,"th"),e._uU(41,"Total Cost (\u20b5)"),e.qZA(),e.TgZ(42,"th"),e._uU(43,"Requested By"),e.qZA()()(),e.TgZ(44,"tbody"),e.YNc(45,wn,11,5,"tr",7),e.qZA(),e.TgZ(46,"tfoot")(47,"tr")(48,"td",8)(49,"strong"),e._uU(50,"Grand Total"),e.qZA()(),e.TgZ(51,"td",9)(52,"strong"),e._uU(53),e.ALo(54,"number"),e.qZA()()()()(),e.TgZ(55,"div",10)(56,"div",11)(57,"div",12)(58,"p")(59,"strong"),e._uU(60,"Prepared by:"),e.qZA(),e._uU(61," ________________________"),e.qZA(),e.TgZ(62,"p")(63,"strong"),e._uU(64,"Date:"),e.qZA(),e._uU(65," ________________________"),e.qZA()(),e.TgZ(66,"div",12)(67,"p")(68,"strong"),e._uU(69,"Approved by:"),e.qZA(),e._uU(70," ________________________"),e.qZA(),e.TgZ(71,"p")(72,"strong"),e._uU(73,"Date:"),e.qZA(),e._uU(74," ________________________"),e.qZA()()(),e.TgZ(75,"div",13)(76,"div",12)(77,"p")(78,"strong"),e._uU(79,"Store Keeper:"),e.qZA(),e._uU(80," ________________________"),e.qZA()(),e.TgZ(81,"div",12)(82,"p")(83,"strong"),e._uU(84,"Received by:"),e.qZA(),e._uU(85," ________________________"),e.qZA()()()()()(),e.TgZ(86,"div",14)(87,"div",12)(88,"input",15),e.NdJ("ngModelChange",function(C){return s.cartId=C}),e.qZA()(),e.TgZ(89,"div",16)(90,"button",17),e.NdJ("click",function(){return s.loadVoucher()}),e._uU(91,"Search"),e.qZA()(),e.TgZ(92,"div",18)(93,"button",19),e.NdJ("click",function(){return s.printVoucher()}),e._UZ(94,"i",20),e._uU(95," Print "),e.qZA()()(),e.YNc(96,ho,2,1,"div",21)),2&t&&(e.xp6(9),e.hij(" ",(null==s.purchases[0]?null:s.purchases[0].department)||"___________________________",""),e.xp6(4),e.hij(" ",s.cartId||"___________________________",""),e.xp6(4),e.hij(" ",e.xi3(18,7,s.today,"mediumDate"),""),e.xp6(28),e.Q6J("ngForOf",s.purchases),e.xp6(8),e.hij("\u20b5",e.xi3(54,10,s.getTotalCost(),"1.2-2"),""),e.xp6(35),e.Q6J("ngModel",s.cartId),e.xp6(8),e.Q6J("ngIf",s.errorMessage))},dependencies:[be.sg,be.O5,b.Fj,b.wV,b.JJ,b.On,be.JJ,be.uU],styles:[".voucher-container[_ngcontent-%COMP%]{max-width:900px;margin:20px auto;padding:25px;border:2px solid #000;background:#fff;font-family:Segoe UI,sans-serif}.voucher-title[_ngcontent-%COMP%]{font-weight:900;font-size:22px;margin-bottom:10px}.company-info[_ngcontent-%COMP%]{font-size:14px;text-align:right}.voucher-table[_ngcontent-%COMP%]{margin-top:20px;font-size:14px}.voucher-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .voucher-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle;padding:8px}tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;background:#e0ffe0}@media print{.no-print[_ngcontent-%COMP%]{display:none!important}body[_ngcontent-%COMP%]{-webkit-print-color-adjust:exact;print-color-adjust:exact}.voucher-container[_ngcontent-%COMP%]{border:none;box-shadow:none}}@media print{.no-print[_ngcontent-%COMP%]{display:none!important}}"]}),c})();function rn(c,n){if(1&c&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.firstname+" "+t.lastname),e.xp6(1),e.Oqu(t.firstname+" "+t.lastname)}}function hn(c,n){if(1&c&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA()()),2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(e.xi3(5,4,t.amount,"\u20b5")),e.xp6(3),e.Oqu(t.attendant),e.xp6(2),e.Oqu(t.created_date)}}function an(c,n){if(1&c&&(e.TgZ(0,"div",20)(1,"header",21)(2,"p"),e._uU(3,"Canceled Order Report"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.ALo(6,"date"),e.ALo(7,"date"),e.qZA()(),e.TgZ(8,"section",22)(9,"h5"),e._uU(10,"Canceled Order"),e.qZA(),e.TgZ(11,"div",23)(12,"table",24)(13,"thead",25)(14,"tr")(15,"th"),e._uU(16,"Item"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Amount (\u20b5)"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Waiter"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Date"),e.qZA()()(),e.TgZ(23,"tbody"),e.YNc(24,hn,10,7,"tr",26),e.qZA(),e.TgZ(25,"tfoot")(26,"tr",27)(27,"td"),e._uU(28,"Total "),e.qZA(),e.TgZ(29,"td"),e._uU(30),e.ALo(31,"currency"),e.qZA()()()()()(),e.TgZ(32,"section",22)(33,"h5"),e._uU(34,"Total"),e.qZA(),e.TgZ(35,"p")(36,"strong"),e._uU(37),e.ALo(38,"currency"),e.qZA()()(),e.TgZ(39,"footer",28)(40,"p"),e._uU(41," Generated by: "),e.TgZ(42,"strong"),e._uU(43),e.qZA()(),e.TgZ(44,"p"),e._uU(45,"Signature: __________________________"),e.qZA()()()),2&c){const t=e.oxw(2);e.xp6(5),e.AsE(" Date: ",e.xi3(6,6,t.createForm.value.dates,"MMMM d, yyyy")," to ",e.xi3(7,9,t.createForm.value.datestwo,"MMMM d, yyyy")," "),e.xp6(19),e.Q6J("ngForOf",t.incomeReport),e.xp6(6),e.Oqu(e.xi3(31,12,t.totalIncome,"\u20b5")),e.xp6(7),e.Oqu(e.xi3(38,15,t.totalIncome,"\u20b5")),e.xp6(6),e.Oqu(t.user[0].firstname+" "+t.user[0].lastname)}}function Co(c,n){1&c&&(e.TgZ(0,"div",29)(1,"p"),e._uU(2,"No records found for the selected date range."),e.qZA()())}function io(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h4",4),e._uU(4,"Canceled Order Report"),e.qZA(),e.TgZ(5,"form",5)(6,"div",6)(7,"label",7),e._uU(8,"Start Date:"),e.qZA(),e._UZ(9,"input",8),e.qZA(),e.TgZ(10,"div",6)(11,"label",9),e._uU(12,"End Date:"),e.qZA(),e.TgZ(13,"input",10),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchDates())}),e.qZA()(),e.TgZ(14,"label",11),e._uU(15,"Filter By Waiter"),e.qZA(),e.TgZ(16,"select",12),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.findWaiter())}),e.YNc(17,rn,2,2,"option",13),e.qZA()(),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.printToPdf())}),e._uU(20," Print "),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.downloadPdf())}),e._uU(22," Download PDF "),e.qZA()(),e.YNc(23,an,46,18,"div",17),e.YNc(24,Co,3,0,"ng-template",null,18,e.W1O),e.qZA()()()}if(2&c){const t=e.MAs(25),s=e.oxw();e.xp6(5),e.Q6J("formGroup",s.createForm),e.xp6(12),e.Q6J("ngForOf",s.users),e.xp6(6),e.Q6J("ngIf",s.incomeReport.length>0)("ngIfElse",t)}}class Ht{constructor(n,t,s,p){this.fb=n,this.toastr=t,this.guestService=s,this.userService=p,this.displayStyle="none",this.fileName="daily_income_week.xlsx",this.submitted=!1,this.title="Create Ad",this.isNew=!0,this.post=!0,this.update=!1,this.page=1,this.pageSize=200,this.totaldeduction=0,this.totalallowance=0,this.totalIncome=0,this.totalExpenditure=0,this.createForm=this.fb.group({id:["",b.kI.required],role:["",b.kI.required],method:["",b.kI.required],date:["",b.kI.required],dates:["",b.kI.required],datestwo:["",b.kI.required],employee:["",b.kI.required],cashier:["",b.kI.required],paymethod:["",b.kI.required],barrest:[b.kI.required],categos:[b.kI.required]})}ngOnInit(){this.getUser(),this.getUsers(),this.getCashiers(),this.getCategoryList()}getCategoryList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getCategoryList();t&&(n.categoryList=t)}catch{}})()}getCashiers(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start(),n.cashiers=yield n.userService.get_users_cashiers()}catch{}finally{n.loading.stop()}console.log(n.users)})()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}findDepartment(n){var t=this;return(0,Y.Z)(function*(){let s=0;const p={date:t.createForm.value.dates,waiter:t.createForm.value.barrest,datetwo:t.createForm.value.datestwo};try{t.loading.start();var C=yield t.guestService.searchDepartmentDatesTwo(p);C&&(t.incomeReport=C);for(let O=0;O<t.incomeReport.length;O++)s+=parseInt(t.incomeReport[O].amount),t.totalIncome=s}catch(O){t.toastr.error(null,O.message)}finally{t.loading.stop()}})()}findCategory(n){var t=this;return(0,Y.Z)(function*(){let s=0;const p={date:t.createForm.value.dates,waiter:t.createForm.value.categos,datetwo:t.createForm.value.datestwo};try{t.loading.start();var C=yield t.guestService.searchCategoryDatesTwo(p);C&&(t.incomeReport=C);for(let O=0;O<t.incomeReport.length;O++)s+=parseInt(t.incomeReport[O].amount),t.totalIncome=s}catch(O){t.toastr.error(null,O.message)}finally{t.loading.stop()}})()}getUsers(){var n=this;return(0,Y.Z)(function*(){try{n.loading.start(),n.users=yield n.userService.get_users_waiter()}catch{}finally{n.loading.stop()}console.log(n.users)})()}findWaiter(){var n=this;return(0,Y.Z)(function*(){let t=0;const s={date:n.createForm.value.dates,waiter:n.createForm.value.employee,datetwo:n.createForm.value.datestwo};try{n.loading.start();var p=yield n.guestService.searchattendantDatesTwo(s);p&&(n.incomeReport=p);for(let C=0;C<n.incomeReport.length;C++)t+=parseInt(n.incomeReport[C].amount),n.totalIncome=t}catch(C){n.toastr.error(null,C.message)}finally{n.loading.stop()}})()}findMethod(){var n=this;return(0,Y.Z)(function*(){let t=0;const s={date:n.createForm.value.dates,waiter:n.createForm.value.paymethod,datetwo:n.createForm.value.datestwo};try{n.loading.start();var p=yield n.guestService.searchMethodDatesTwo(s);p&&(n.incomeReport=p);for(let C=0;C<n.incomeReport.length;C++)t+=parseInt(n.incomeReport[C].amount),n.totalIncome=t}catch(C){n.toastr.error(null,C.message)}finally{n.loading.stop()}})()}findCashier(){var n=this;return(0,Y.Z)(function*(){let t=0;const s={date:n.createForm.value.dates,waiter:n.createForm.value.cashier,datetwo:n.createForm.value.datestwo};try{n.loading.start();var p=yield n.guestService.searchCashierDatesTwo(s);p&&(n.incomeReport=p);for(let C=0;C<n.incomeReport.length;C++)t+=parseInt(n.incomeReport[C].amount),n.totalIncome=t}catch(C){n.toastr.error(null,C.message)}finally{n.loading.stop()}})()}searchDates(){var n=this;return(0,Y.Z)(function*(){const t={date:n.createForm.value.dates,datetwo:n.createForm.value.datestwo};try{n.loading.start(),n.searchIncomeDates(t.date,t.datetwo),n.cashAtHand=n.totalIncome-n.totalExpenditure}catch(s){n.toastr.error(null,s.message)}finally{n.loading.stop()}})()}searchIncomeDates(n,t){var s=this;return(0,Y.Z)(function*(){let p=0;const C={date:n,datetwo:t};try{s.loading.start();var O=yield s.guestService.searchCanceledDate(C);O&&(s.incomeReport=O);for(let qe=0;qe<s.incomeReport.length;qe++)p+=parseInt(s.incomeReport[qe].amount),s.totalIncome=p}catch(qe){s.toastr.error(null,qe.message)}finally{s.loading.stop()}})()}searchExpenseDates(n,t){var s=this;return(0,Y.Z)(function*(){let p=0;const C={date:n,datetwo:t};try{s.loading.start();var O=yield s.guestService.searchExpenseDateTwo(C);O&&(s.expenditureReport=O);for(let qe=0;qe<s.expenditureReport.length;qe++)p+=parseInt(s.expenditureReport[qe].amount),s.totalExpenditure=p}catch(qe){s.toastr.error(null,qe.message)}finally{s.loading.stop()}})()}printToPdf(){const n=document.getElementById("pdf"),t=window.open("","PRINT","height=800,width=600");n&&t?(t.document.write(`\n    <html>\n      <head>\n        \n    <style>\n      body, h1, h2, h3, p, table, th, td {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n        font-family: Arial, sans-serif;\n        font-size: 12px; /* Adjusted font size for readability */\n      }\n      .container {\n        max-width: 100%;\n        margin: 0;\n        padding: 10px;\n        background: #fff;\n        border-radius: 4px;\n        box-shadow: none;\n      }\n      .header {\n        text-align: center;\n        margin-bottom: 10px;\n      }\n      .header h2 {\n        color: #333;\n        font-size: 16px;\n      }\n      .header p {\n        color: #666;\n        font-size: 12px;\n      }\n      .report-details h3 {\n        color: #333;\n        font-size: 14px;\n        border-bottom: 1px solid #ddd;\n        margin-bottom: 5px;\n        padding-bottom: 5px;\n      }\n      table {\n        width: 100%;\n        border-collapse: collapse;\n        margin-bottom: 15px;\n      }\n      table, th, td {\n        border: 1px solid #ddd;\n      }\n      th, td {\n        padding: 8px;\n        text-align: left;\n        font-size: 12px;\n      }\n      th {\n        background-color: #f4f4f4;\n      }\n      td {\n        background-color: #fff;\n      }\n      tr:nth-child(even) td {\n        background-color: #f9f9f9;\n      }\n      .footer {\n        text-align: center;\n        margin-top: 10px;\n        color: #666;\n        font-size: 12px;\n      }\n      @media print {\n        @page {\n          size: A4;\n          margin: 10mm;\n        }\n        body {\n          margin: 0;\n        }\n        .container {\n          max-width: 100%;\n          page-break-inside: avoid;\n        }\n      }\n    </style>\n  \n      </head>\n      <body>\n        ${n.innerHTML}\n      </body>\n    </html>\n  `),t.document.close(),t.focus(),t.print()):console.error("Print area or print window not found.")}downloadPdf(){const n=document.getElementById("pdf");n?ba()(n,{scale:2}).then(t=>{const s=t.toDataURL("image/png"),p=new Mr.ZP("p","mm","a4"),qe=210*t.height/t.width;let Ln=qe,un=0;for(p.addImage(s,"PNG",0,un,210,qe),Ln-=295;Ln>=0;)un-=295,p.addPage(),p.addImage(s,"PNG",0,un,210,qe),Ln-=295;p.save("daily_report.pdf")}):console.error("Print area not found.")}}function Cn(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"button",3),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw();return e.KtG(O.editCustomer(C.id))}),e._uU(15,"Edit"),e.qZA(),e.TgZ(16,"button",4),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw();return e.KtG(O.deleteCustomer(C.id))}),e._uU(17,"Delete"),e.qZA(),e.TgZ(18,"button",5),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw();return e.KtG(O.openCouponModal(C.id))}),e._uU(19,"Apply Coupon"),e.qZA()()()}if(2&c){const t=n.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.firstname),e.xp6(2),e.Oqu(t.lastname),e.xp6(2),e.Oqu(t.company_name),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.created_date)}}function bo(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"span",8),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.closeCouponModal())}),e._uU(3,"\xd7"),e.qZA(),e.TgZ(4,"h2"),e._uU(5,"Enter Discount Value"),e.qZA(),e.TgZ(6,"label",9),e._uU(7,"Discount (%): "),e.qZA(),e.TgZ(8,"input",10),e.NdJ("ngModelChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.discountValue=p)}),e.qZA(),e.TgZ(9,"button",11),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.applyCoupon())}),e._uU(10,"Apply Coupon"),e.qZA()()()}if(2&c){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t.discountValue)}}Ht.\u0275fac=function(n){return new(n||Ht)(e.Y36(b.qu),e.Y36(me._W),e.Y36(ee.Q),e.Y36(te.W))},Ht.\u0275cmp=e.Xpm({type:Ht,selectors:[["canceled-order"]],decls:1,vars:1,consts:[["class","container",4,"blockUI"],[1,"container"],[1,"card","shadow-sm"],[1,"card-body","p-4"],[1,"card-title","text-center","mb-4"],[1,"mb-4",3,"formGroup"],[1,"form-group"],["for","start-date"],["type","date","id","start-date","formControlName","dates",1,"form-control","mb-2",2,"max-width","300px"],["for","end-date"],["type","date","id","end-date","formControlName","datestwo",1,"form-control","mb-2",2,"max-width","300px",3,"ngModelChange"],["for",""],["formControlName","employee","id","",3,"ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","mb-4"],[1,"btn","btn-primary","mr-2",3,"click"],["id","pdfBtn",1,"btn","btn-secondary",3,"click"],["id","pdf",4,"ngIf","ngIfElse"],["noReport",""],[3,"value"],["id","pdf"],[1,"text-center","mb-4"],[1,"report-section","mb-4"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"font-weight-bold"],[1,"footer","text-right","mt-5"],[1,"alert","alert-info","text-center"]],template:function(n,t){1&n&&e.YNc(0,io,26,4,"div",0),2&n&&e.Q6J("blockUI","loading")},dependencies:[be.sg,be.O5,b._Y,b.YN,b.Kr,b.Fj,b.EJ,b.JJ,b.JL,b.sg,b.u,ae.PC,be.H9,be.uU],styles:[".container[_ngcontent-%COMP%]{padding:20px}header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px;font-size:1.5rem;color:#333}header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:5px;color:#555}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;vertical-align:middle}.table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#f8f9fa;font-weight:700}.buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:120px}@media (max-width: 576px){.form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{width:100%}.buttons[_ngcontent-%COMP%]{flex-direction:column}.buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-bottom:10px}}"]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Ht.prototype,"loading",void 0);let pn=(()=>{class c{constructor(t){this.guestService=t,this.customers=[],this.isCouponModalOpen=!1,this.discountValue=0,this.currentCustomerId=null}ngOnInit(){this.getCustomers()}getCustomers(){var t=this;return(0,Y.Z)(function*(){var s=yield t.guestService.getCustomers();t.customers=s||[]})()}openCouponModal(t){this.currentCustomerId=t,this.isCouponModalOpen=!0}closeCouponModal(){this.isCouponModalOpen=!1,this.discountValue=0}applyCoupon(){this.discountValue<0||this.discountValue>100?alert("Please enter a valid discount value between 0 and 100."):this.guestService.applyCoupon(this.currentCustomerId,this.discountValue).subscribe(()=>{alert(`Coupon applied successfully! Discount: ${this.discountValue}%`),this.closeCouponModal(),this.getCustomers()})}editCustomer(t){console.log("Edit customer",t)}deleteCustomer(t){this.guestService.deleteCustomer(t).subscribe(()=>{this.getCustomers()})}}return c.\u0275fac=function(t){return new(t||c)(e.Y36(ee.Q))},c.\u0275cmp=e.Xpm({type:c,selectors:[["customers"]],decls:23,vars:2,consts:[[1,"table","table-bordered","table-striped"],[4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[1,"btn","btn-info","btn","sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],["for","discount"],["type","number","id","discount","min","0","max","100",3,"ngModel","ngModelChange"],[3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"div")(1,"h1"),e._uU(2,"Customer List"),e.qZA(),e.TgZ(3,"table",0)(4,"thead")(5,"tr")(6,"th"),e._uU(7,"ID"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"First Name"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Last Name"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Company Name"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Phone"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Created Date"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Actions"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,Cn,20,6,"tr",1),e.qZA()(),e.YNc(22,bo,11,1,"div",2),e.qZA()),2&t&&(e.xp6(21),e.Q6J("ngForOf",s.customers),e.xp6(1),e.Q6J("ngIf",s.isCouponModalOpen))},dependencies:[be.sg,be.O5,b.Fj,b.wV,b.JJ,b.qQ,b.Fd,b.On],styles:[".modal[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;width:400px}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:30px;color:#aaa;cursor:pointer}.close[_ngcontent-%COMP%]:hover{color:#000}button[_ngcontent-%COMP%]{margin-top:10px;padding:8px 16px;cursor:pointer}"]}),c})();function Vn(c,n){if(1&c&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function qn(c,n){if(1&c&&(e.TgZ(0,"td")(1,"span",54),e._uU(2),e.qZA()()),2&c){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.subcategory)}}function oi(c,n){if(1&c&&(e.TgZ(0,"td")(1,"span",55),e._uU(2),e.qZA()()),2&c){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.subcategory)}}function fi(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.YNc(5,qn,3,1,"td",51),e.YNc(6,oi,3,1,"td",51),e.TgZ(7,"td")(8,"i",52),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.openPopup("Edit",C))}),e.qZA(),e.TgZ(9,"i",53),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.deleteItem(C.id))}),e.qZA()()()}if(2&c){const t=n.$implicit,s=n.index;e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf","Uncategorized"==t.subcategory),e.xp6(1),e.Q6J("ngIf","Uncategorized"!=t.subcategory)}}function Zo(c,n){1&c&&e._uU(0,"First")}function Zn(c,n){1&c&&e._uU(0,"Last")}function uo(c,n){1&c&&e._uU(0,"Prev")}function sl(c,n){1&c&&e._uU(0,"Next")}function Hi(c,n){1&c&&e._uU(0,"...")}function Xa(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function qa(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",8)(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"div",25)(7,"input",26),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchItems())}),e.qZA()(),e._UZ(8,"div",27),e.qZA()(),e.TgZ(9,"form",28)(10,"label",29),e._uU(11,"Filter"),e.qZA(),e.TgZ(12,"select",30),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.findAccountGroup())}),e.YNc(13,Vn,2,2,"option",19),e.qZA()(),e.TgZ(14,"div",31)(15,"button",32),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup("Add New"))}),e._uU(16," Add New Group "),e.qZA(),e.TgZ(17,"button",33),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportExcel())}),e._UZ(18,"i",34),e._uU(19," Export "),e.qZA()(),e.TgZ(20,"div",35)(21,"table",36)(22,"thead",37)(23,"tr",38)(24,"th",39),e._uU(25,"#"),e.qZA(),e.TgZ(26,"th",39),e._uU(27,"Group Name"),e.qZA(),e.TgZ(28,"th",39),e._uU(29," Parent"),e.qZA(),e.TgZ(30,"th",39),e._uU(31,"Action"),e.qZA()()(),e.TgZ(32,"tbody"),e.YNc(33,fi,10,4,"tr",40),e.qZA()()(),e.TgZ(34,"div",41)(35,"div",42)(36,"ngb-pagination",43),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(37,Zo,1,0,"ng-template",44),e.YNc(38,Zn,1,0,"ng-template",45),e.YNc(39,uo,1,0,"ng-template",46),e.YNc(40,sl,1,0,"ng-template",47),e.YNc(41,Hi,1,0,"ng-template",48),e.YNc(42,Xa,1,1,"ng-template",49),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(9),e.Q6J("formGroup",t.itemForm),e.xp6(4),e.Q6J("ngForOf",t.findList),e.xp6(20),e.Q6J("ngForOf",t.itemsList),e.xp6(3),e.Q6J("collectionSize",t.itemsList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function fn(c,n){if(1&c&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function es(c,n){1&c&&(e.TgZ(0,"div",56)(1,"button",57),e._uU(2,"Save"),e.qZA()())}function ts(c,n){1&c&&(e.TgZ(0,"div",56)(1,"button",57),e._uU(2,"Update"),e.qZA()())}const Sr=function(c){return{display:c}};class Si{constructor(n,t,s,p){this.fb=n,this.toastr=t,this.userService=s,this.guestService=p,this.itemsList=[],this.categoryList=[],this.groupList=[],this.familyList=[],this.findList=[],this.unitList=[],this.users=[],this.displayStyle="none",this.header="",this.page=1,this.pageSize=60,this.totalAmount=0}ngOnInit(){this.initializeForm(),this.fetchData()}initializeForm(){this.itemForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],category:["",b.kI.required],price:["",b.kI.required],description:["",b.kI.required],subcategory:["Uncategorized",b.kI.required],family:["",b.kI.required],unit:["",b.kI.required],wholesale:["",b.kI.required]})}fetchData(){var n=this;return(0,Y.Z)(function*(){yield Promise.all([n.getItemsList(),n.getUsers(),n.getUser(),n.GroupSorted()])})()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}findAccountGroup(){var n=this;return(0,Y.Z)(function*(){const t={find:n.itemForm.value.name};try{const s=yield n.guestService.findAccountGroup(t);Array.isArray(s)?n.itemsList=s:alert("Not found or result is not an array")}catch(s){console.error("Error finding account group:",s),alert("An error occurred")}})()}getUsers(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.userService.getUser();t&&(n.users=t)}catch(t){console.error("Error fetching users:",t)}})()}getItemsList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getAccountGroupList();t&&(n.itemsList=t)}catch{n.toastr.error("Error fetching items list")}})()}GroupSorted(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.GroupSorted();t&&(n.findList=t)}catch{n.toastr.error("Error fetching items list")}})()}getCategoryList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getCategoryList();t&&(n.categoryList=t)}catch{n.toastr.error("Error fetching category list")}})()}getFamilyList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getFamilyList();t&&(n.familyList=t)}catch{n.toastr.error("Error fetching family list")}})()}getGroupList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getGroupList();t&&(n.groupList=t)}catch{n.toastr.error("Error fetching group list")}})()}getUnitList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getUnitList();t&&(n.unitList=t)}catch{n.toastr.error("Error fetching unit list")}})()}openPopup(n,t=null){this.header=n,this.itemForm.reset(),"Edit"===n&&t&&this.itemForm.patchValue(t),this.displayStyle="block"}closePopup(){this.displayStyle="none"}saveItem(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start();const s=t.itemForm.value;"Add New"===t.header?(yield t.guestService.addAccountGroup(s),t.toastr.success("Item successfully added")):(yield t.guestService.updateACcountGroup(s),t.toastr.success("Item successfully updated")),yield t.getItemsList()}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}deleteItem(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),yield t.guestService.deleteAccountGroup(n),t.toastr.success("Item successfully deleted"),yield t.getItemsList()}catch{t.toastr.error("Error deleting item")}finally{t.loading.stop()}})()}exportExcel(){const n=document.getElementById("excel-table");if(!n)return void this.toastr.error("Table element not found");const t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,"items_list.xlsx")}searchItems(){const n=document.getElementById("myInput");if(!n)return;const t=n.value.toUpperCase(),s=document.getElementById("excel-table");if(!s)return;const p=s.getElementsByTagName("tr");for(let C=0;C<p.length;C++){const O=p[C].getElementsByTagName("td")[0];O&&(p[C].style.display=(O.textContent||O.innerText).toUpperCase().includes(t)?"":"none")}}}function Ho(c,n){if(1&c&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function bi(c,n){if(1&c&&(e.TgZ(0,"td")(1,"span",55),e._uU(2),e.qZA()()),2&c){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.subcategory)}}function ki(c,n){if(1&c&&(e.TgZ(0,"td")(1,"span",56),e._uU(2),e.qZA()()),2&c){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.subcategory)}}function ll(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.YNc(5,bi,3,1,"td",52),e.YNc(6,ki,3,1,"td",52),e.TgZ(7,"td")(8,"i",53),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.openPopup("Edit",C))}),e.qZA(),e.TgZ(9,"i",54),e.NdJ("click",function(){const C=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.deleteItem(C.id))}),e.qZA()()()}if(2&c){const t=n.$implicit,s=n.index;e.xp6(2),e.Oqu(s+1),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf","Uncategorized"==t.subcategory),e.xp6(1),e.Q6J("ngIf","Uncategorized"!=t.subcategory)}}function qs(c,n){1&c&&e._uU(0,"First")}function Hr(c,n){1&c&&e._uU(0,"Last")}function Ua(c,n){1&c&&e._uU(0,"Prev")}function Yr(c,n){1&c&&e._uU(0,"Next")}function Kr(c,n){1&c&&e._uU(0,"...")}function kr(c,n){1&c&&e._uU(0),2&c&&e.Oqu(n.$implicit)}function ul(c,n){if(1&c){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",8)(2,"div",22)(3,"div",23)(4,"div",24)(5,"div",25)(6,"div",26)(7,"input",27),e.NdJ("keyup",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.searchItems())}),e.qZA()(),e._UZ(8,"div",28),e.qZA()(),e.TgZ(9,"form",29)(10,"label",30),e._uU(11,"Filter"),e.qZA(),e.TgZ(12,"select",31),e.NdJ("ngModelChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.findAccountGroup())}),e.YNc(13,Ho,2,2,"option",20),e.qZA()(),e.TgZ(14,"div",32)(15,"button",33),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.openPopup("Add New"))}),e._uU(16," Add New Account "),e.qZA(),e.TgZ(17,"button",34),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.exportExcel())}),e._UZ(18,"i",35),e._uU(19," Export "),e.qZA()(),e.TgZ(20,"div",36)(21,"table",37)(22,"thead",38)(23,"tr",39)(24,"th",40),e._uU(25,"#"),e.qZA(),e.TgZ(26,"th",40),e._uU(27,"Group Name"),e.qZA(),e.TgZ(28,"th",40),e._uU(29," Parent"),e.qZA(),e.TgZ(30,"th",40),e._uU(31,"Action"),e.qZA()()(),e.TgZ(32,"tbody"),e.YNc(33,ll,10,4,"tr",41),e.qZA()()(),e.TgZ(34,"div",42)(35,"div",43)(36,"ngb-pagination",44),e.NdJ("pageChange",function(p){e.CHM(t);const C=e.oxw();return e.KtG(C.page=p)})("pageChange",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.pageClick())}),e.YNc(37,qs,1,0,"ng-template",45),e.YNc(38,Hr,1,0,"ng-template",46),e.YNc(39,Ua,1,0,"ng-template",47),e.YNc(40,Yr,1,0,"ng-template",48),e.YNc(41,Kr,1,0,"ng-template",49),e.YNc(42,kr,1,1,"ng-template",50),e.qZA()()()()()()()}if(2&c){const t=e.oxw();e.xp6(9),e.Q6J("formGroup",t.itemForm),e.xp6(4),e.Q6J("ngForOf",t.findList),e.xp6(20),e.Q6J("ngForOf",t.itemsList),e.xp6(3),e.Q6J("collectionSize",t.itemsList.length)("pageSize",t.pageSize)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}function Sa(c,n){if(1&c&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&c){const t=n.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function cl(c,n){1&c&&(e.TgZ(0,"div",57)(1,"button",58),e._uU(2,"Save"),e.qZA()())}function Wl(c,n){1&c&&(e.TgZ(0,"div",57)(1,"button",58),e._uU(2,"Update"),e.qZA()())}Si.\u0275fac=function(n){return new(n||Si)(e.Y36(b.qu),e.Y36(me._W),e.Y36(te.W),e.Y36(ee.Q))},Si.\u0275cmp=e.Xpm({type:Si,selectors:[["account-group"]],decls:31,vars:9,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-12",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","name","placeholder","Enter item name",1,"form-control"],["formControlName","subcategory",1,"form-control"],["value","uncategorized","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","Search for items...","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],[1,"mb-4",3,"formGroup"],["for",""],["formControlName","name","id","",3,"ngModelChange"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],[1,"table-responsive"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[3,"value"],[4,"ngIf"],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[1,"badge","badge-danger","badge","sm"],[1,"badge","badge-success","badge","sm"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,qa,43,10,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"i",6),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"form",12),e.NdJ("ngSubmit",function(){return t.saveItem(t.itemForm.value)}),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"label"),e._uU(18,"Group Name"),e.qZA(),e._UZ(19,"input",16),e.qZA()(),e.TgZ(20,"div",14)(21,"div",15)(22,"label"),e._uU(23,"Parent"),e.qZA(),e.TgZ(24,"select",17)(25,"option",18),e._uU(26,"Uncategorized"),e.qZA(),e.YNc(27,fn,2,2,"option",19),e.qZA()()()(),e.TgZ(28,"div",13),e.YNc(29,es,3,0,"div",20),e.YNc(30,ts,3,0,"div",20),e.qZA()()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(7,Sr,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.itemForm),e.xp6(14),e.Q6J("ngForOf",t.findList),e.xp6(2),e.Q6J("ngIf","Add New"===t.header),e.xp6(1),e.Q6J("ngIf","Edit"===t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Si.prototype,"loading",void 0);const Vl=function(c){return{display:c}};class Wr{constructor(n,t,s,p){this.fb=n,this.toastr=t,this.userService=s,this.guestService=p,this.itemsList=[],this.categoryList=[],this.groupList=[],this.familyList=[],this.findList=[],this.unitList=[],this.users=[],this.displayStyle="none",this.header="",this.page=1,this.pageSize=60,this.totalAmount=0}ngOnInit(){this.initializeForm(),this.fetchData()}initializeForm(){this.itemForm=this.fb.group({id:["",b.kI.required],name:["",b.kI.required],category:["",b.kI.required],price:["",b.kI.required],description:["",b.kI.required],subcategory:["Uncategorized",b.kI.required],family:["",b.kI.required],unit:["",b.kI.required],wholesale:["",b.kI.required],amount:["",b.kI.required]})}fetchData(){var n=this;return(0,Y.Z)(function*(){yield Promise.all([n.getItemsList(),n.getUsers(),n.getUser(),n.GroupSorted()])})()}getUser(){var n=this;return(0,Y.Z)(function*(){try{var t=yield n.userService.getUser();t&&(n.user=t)}catch(s){console.log(s)}finally{console.log("success")}})()}findAccountGroup(){var n=this;return(0,Y.Z)(function*(){const t={find:n.itemForm.value.name};try{const s=yield n.guestService.findAccount(t);Array.isArray(s)?n.itemsList=s:alert("Not found or result is not an array")}catch(s){console.error("Error finding account group:",s),alert("An error occurred")}})()}getUsers(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.userService.getUser();t&&(n.users=t)}catch(t){console.error("Error fetching users:",t)}})()}getItemsList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getAccountList();t&&(n.itemsList=t)}catch{n.toastr.error("Error fetching items list")}})()}GroupSorted(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.AccountSorted();t&&(n.findList=t)}catch{n.toastr.error("Error fetching items list")}})()}getCategoryList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getCategoryList();t&&(n.categoryList=t)}catch{n.toastr.error("Error fetching category list")}})()}getFamilyList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getFamilyList();t&&(n.familyList=t)}catch{n.toastr.error("Error fetching family list")}})()}getUnitList(){var n=this;return(0,Y.Z)(function*(){try{const t=yield n.guestService.getUnitList();t&&(n.unitList=t)}catch{n.toastr.error("Error fetching unit list")}})()}openPopup(n,t=null){this.header=n,this.itemForm.reset(),"Edit"===n&&t&&this.itemForm.patchValue(t),this.displayStyle="block"}closePopup(){this.displayStyle="none"}saveItem(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start();const s=t.itemForm.value;"Add New"===t.header?(yield t.guestService.addAccount(s),t.toastr.success("Item successfully added")):(yield t.guestService.updateACcount(s),t.toastr.success("Item successfully updated")),yield t.getItemsList()}catch{t.toastr.error("Error saving item")}finally{t.loading.stop()}})()}deleteItem(n){var t=this;return(0,Y.Z)(function*(){try{t.loading.start(),yield t.guestService.deleteAccount(n),t.toastr.success("Item successfully deleted"),yield t.getItemsList()}catch{t.toastr.error("Error deleting item")}finally{t.loading.stop()}})()}exportExcel(){const n=document.getElementById("excel-table");if(!n)return void this.toastr.error("Table element not found");const t=Be.P6.table_to_sheet(n),s=Be.P6.book_new();Be.P6.book_append_sheet(s,t,"Sheet1"),Be.NC(s,"items_list.xlsx")}searchItems(){const n=document.getElementById("myInput");if(!n)return;const t=n.value.toUpperCase(),s=document.getElementById("excel-table");if(!s)return;const p=s.getElementsByTagName("tr");for(let C=0;C<p.length;C++){const O=p[C].getElementsByTagName("td")[0];O&&(p[C].style.display=(O.textContent||O.innerText).toUpperCase().includes(t)?"":"none")}}}function Kp(c,n){if(1&c&&(e.TgZ(0,"div",14)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"number"),e.qZA()()),2&c){const t=n.$implicit,s=e.oxw().$implicit,p=e.oxw(2);e.xp6(2),e.Oqu(t),e.xp6(2),e.Oqu(e.xi3(5,2,p.result.expense_groups[s][t],"1.2-2"))}}function Hu(c,n){if(1&c&&(e.TgZ(0,"div",18)(1,"div",19),e._uU(2),e.qZA(),e.YNc(3,Kp,6,5,"div",20),e.TgZ(4,"div",21)(5,"span"),e._uU(6),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.ALo(9,"number"),e.qZA()()()),2&c){const t=n.$implicit,s=e.oxw(2);e.xp6(2),e.Oqu(t),e.xp6(1),e.Q6J("ngForOf",s.subKeys(t)),e.xp6(3),e.hij("Total \u2014 ",t,""),e.xp6(2),e.Oqu(e.xi3(9,4,s.result.expense_totals[t],"1.2-2"))}}function yd(c,n){if(1&c&&(e.TgZ(0,"div",12)(1,"h4",13),e._uU(2,"Assets"),e.qZA(),e.TgZ(3,"div",14)(4,"span"),e._uU(5,"Income"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"number"),e.qZA()(),e.TgZ(9,"div",14)(10,"span"),e._uU(11,"Accounts Receivable (Credit Sales Pending)"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.ALo(14,"number"),e.qZA()(),e.TgZ(15,"div",14)(16,"span"),e._uU(17,"Stock Available for Sale"),e.qZA(),e.TgZ(18,"span"),e._uU(19),e.ALo(20,"number"),e.qZA()(),e.TgZ(21,"div",14)(22,"span"),e._uU(23,"Stock in Store"),e.qZA(),e.TgZ(24,"span"),e._uU(25),e.ALo(26,"number"),e.qZA()(),e.TgZ(27,"div",15)(28,"span"),e._uU(29,"Total Assets"),e.qZA(),e.TgZ(30,"span"),e._uU(31),e.ALo(32,"number"),e.qZA()(),e._UZ(33,"br"),e.TgZ(34,"h4",13),e._uU(35,"Liabilities"),e.qZA(),e.TgZ(36,"h5",16),e._uU(37,"Current Liabilities"),e.qZA(),e.YNc(38,Hu,10,7,"div",17),e.TgZ(39,"div",15)(40,"span"),e._uU(41,"Total \u2014 Current Liabilities"),e.qZA(),e.TgZ(42,"span"),e._uU(43),e.ALo(44,"number"),e.qZA()(),e._UZ(45,"br"),e.TgZ(46,"h4",13),e._uU(47,"Net Assets"),e.qZA(),e.TgZ(48,"div",15)(49,"span"),e._uU(50,"Net Assets"),e.qZA(),e.TgZ(51,"span"),e._uU(52),e.ALo(53,"number"),e.qZA()(),e._UZ(54,"br"),e.TgZ(55,"h4",13),e._uU(56,"Equity"),e.qZA(),e.TgZ(57,"div",14)(58,"span"),e._uU(59,"Retained Earnings"),e.qZA(),e.TgZ(60,"span"),e._uU(61),e.ALo(62,"number"),e.qZA()(),e.TgZ(63,"div",15)(64,"span"),e._uU(65,"Total Equity"),e.qZA(),e.TgZ(66,"span"),e._uU(67),e.ALo(68,"number"),e.qZA()()()),2&c){const t=e.oxw();e.xp6(7),e.Oqu(e.xi3(8,10,t.result.income_total,"1.2-2")),e.xp6(6),e.Oqu(e.xi3(14,13,t.result.accounts_receivable,"1.2-2")),e.xp6(6),e.Oqu(e.xi3(20,16,t.result.stock_for_sale,"1.2-2")),e.xp6(6),e.Oqu(e.xi3(26,19,t.result.stock_in_store,"1.2-2")),e.xp6(6),e.Oqu(e.xi3(32,22,t.result.income_total+t.result.accounts_receivable+t.result.stock_for_sale+t.result.stock_in_store,"1.2-2")),e.xp6(7),e.Q6J("ngForOf",t.expenseKeys),e.xp6(5),e.Oqu(e.xi3(44,25,t.result.total_expenses,"1.2-2")),e.xp6(9),e.Oqu(e.xi3(53,28,t.result.net,"1.2-2")),e.xp6(9),e.Oqu(e.xi3(62,31,t.result.net,"1.2-2")),e.xp6(6),e.Oqu(e.xi3(68,34,t.result.net,"1.2-2"))}}Wr.\u0275fac=function(n){return new(n||Wr)(e.Y36(b.qu),e.Y36(me._W),e.Y36(te.W),e.Y36(ee.Q))},Wr.\u0275cmp=e.Xpm({type:Wr,selectors:[["add-account"]],decls:38,vars:9,consts:[[1,"page"],["class","row",4,"blockUI"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fa","fa-close",3,"click"],[1,"modal-body"],[1,"col-md-12",2,"width","100%"],[1,"card","card-room"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-5","pr-1"],[1,"form-group"],["type","text","formControlName","name","placeholder","Enter item name",1,"form-control"],["type","text","formControlName","amount","placeholder","Enter item name",1,"form-control"],["formControlName","subcategory",1,"form-control"],["value","Uncategorized","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","update ml-auto mr-auto",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-body","p-2"],[1,"menus"],[1,"d-flex"],[1,"w-200"],["placeholder","Search for items...","type","text","id","myInput",1,"form-control",2,"width","350px","height","40px",3,"keyup"],[1,"w-100"],[1,"mb-4",3,"formGroup"],["for",""],["formControlName","name","id","",3,"ngModelChange"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-sm","btn-info",2,"float","right",3,"click"],["type","button",1,"btn","btn-sm","btn-warning",2,"float","right",3,"click"],[1,"fa","fa-file-excel-o"],[1,"table-responsive"],["id","excel-table",1,"table","table-striped"],[1,"table-light"],[1,"bg-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-9"],[3,"collectionSize","pageSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationEllipsis",""],["ngbPaginationNumber",""],[3,"value"],[4,"ngIf"],[1,"fa","fa-edit","fa-lg","text-info",3,"click"],[1,"fa","fa-close","fa-lg","text-danger",3,"click"],[1,"badge","badge-danger","badge","sm"],[1,"badge","badge-success","badge","sm"],[1,"update","ml-auto","mr-auto"],["type","submit",1,"btn","btn-primary","btn-round"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,ul,43,10,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.TgZ(7,"i",6),e.NdJ("click",function(){return t.closePopup()}),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"form",12),e.NdJ("ngSubmit",function(){return t.saveItem(t.itemForm.value)}),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"label"),e._uU(18,"Account Name"),e.qZA(),e._UZ(19,"input",16),e.qZA()(),e.TgZ(20,"div",14)(21,"div",15)(22,"label"),e._uU(23,"Amount"),e.qZA(),e._UZ(24,"input",17),e.qZA()(),e.TgZ(25,"div",14)(26,"div",15)(27,"label"),e._uU(28,"Parent"),e.qZA(),e.TgZ(29,"select",18)(30,"option",19),e._uU(31,"Uncategorized"),e.qZA(),e.YNc(32,Sa,2,2,"option",20),e.qZA()()()(),e.TgZ(33,"div",13),e.YNc(34,cl,3,0,"div",21),e.YNc(35,Wl,3,0,"div",21),e.qZA()()()()()()()()()(),e.TgZ(36,"p"),e._uU(37,"add-account works!"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("blockUI","loading"),e.xp6(1),e.Q6J("ngStyle",e.VKq(7,Vl,t.displayStyle)),e.xp6(4),e.hij(" ",t.header," "),e.xp6(7),e.Q6J("formGroup",t.itemForm),e.xp6(19),e.Q6J("ngForOf",t.itemsList),e.xp6(2),e.Q6J("ngIf","Add New"===t.header),e.xp6(1),e.Q6J("ngIf","Edit"===t.header))},dependencies:[be.sg,be.O5,be.PC,b._Y,b.YN,b.Kr,b.Fj,b.EJ,b.JJ,b.JL,b.sg,b.u,W.N9,W.tg,W.eC,W.pV,W.GZ,W.LD,W.ju,ae.PC]}),(0,He.gn)([(0,ae.bH)("loading"),(0,He.w6)("design:type",Object)],Wr.prototype,"loading",void 0);const Nr=[{path:"dashboard",component:Ee},{path:"user",component:Ke},{path:"table",component:ot},{path:"typography",component:yt},{path:"icons",component:Rt},{path:"maps",component:Wt},{path:"notifications",component:tn},{path:"upgrade",component:Mt},{path:"purchase-request",component:Rr},{path:"purchase-order",component:Hl},{path:"order",component:Tt},{path:"calender",component:va},{path:"all-users",component:Ot},{path:"room-types",component:Yi},{path:"all-rooms",component:Ye},{path:"room-status",component:Ei},{path:"all-guest",component:mr},{path:"all-bookings",component:as},{path:"payment",component:da},{path:"employees",component:yi},{path:"attendance",component:za},{path:"all-reservations",component:ds},{path:"todo-list",component:Ga},{path:"house-keeping",component:Jn},{path:"refund-list",component:Ha},{path:"detailed-report",component:yr},{path:"detailed-report-week",component:rt},{path:"add-purchase",component:qi},{path:"expenses",component:jo},{path:"add-budget",component:Ka},{path:"income",component:Wa},{path:"budget-report",component:_s},{path:"add-chef",component:I},{path:"daily-income",component:Va},{path:"daily-income-dates",component:ys},{path:"item",component:Xi},{path:"item-unit",component:Aa},{path:"item-receieved",component:Ur},{path:"item-family",component:F},{path:"item-category",component:Hn},{path:"item-store",component:Ks},{path:"item-stock",component:ju},{path:"stock-sheet",component:Tn},{path:"department",component:Xo},{path:"item-transfer",component:Vs},{path:"vendor",component:Xs},{path:"return-request",component:ws},{path:"general-ledger",component:$a},{path:"account-receivable",component:ol},{path:"general-ledger-dates",component:il},{path:"account-receivable-dates",component:rl},{path:"gop-deduction",component:al},{path:"financial-overview",component:Kl},{path:"all-sessions",component:i},{path:"add-event-payment",component:Ve},{path:"outside-stock-transfer",component:It},{path:"print-voucher",component:Pn},{path:"canceled-order",component:Ht},{path:"customers",component:pn},{path:"account-group",component:Si},{path:"add-account",component:Wr},{path:"balance-sheet",component:(()=>{class c{constructor(t,s){this.fb=t,this.guestService=s,this.result=null,this.loading=!1,this.expenseKeys=[]}ngOnInit(){this.filterForm=this.fb.group({from_date:[""],to_date:[""]})}subKeys(t){return this.result?.expense_groups&&this.result.expense_groups[t]?Object.keys(this.result.expense_groups[t]):[]}fetchBalance(){this.loading=!0,this.guestService.getBalanceSheet(this.filterForm.value).subscribe({next:t=>{this.result=t,this.expenseKeys=t.expense_groups?Object.keys(t.expense_groups):[],this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}}return c.\u0275fac=function(t){return new(t||c)(e.Y36(b.qu),e.Y36(ee.Q))},c.\u0275cmp=e.Xpm({type:c,selectors:[["balancesheet"]],decls:22,vars:5,consts:[[1,"balance-container"],[1,"sheet-card"],[1,"company-title"],[1,"sheet-title"],[1,"sheet-date"],[1,"divider"],[1,"filter-row",3,"formGroup"],["type","date","formControlName","from_date"],["type","date","formControlName","to_date"],[1,"btn-container"],[1,"btn-generate",3,"disabled","click"],["class","sheet-content",4,"ngIf"],[1,"sheet-content"],[1,"section-title"],[1,"row-item"],[1,"grand-total"],[1,"subsection-title"],["class","category-group",4,"ngFor","ngForOf"],[1,"category-group"],[1,"category-name"],["class","row-item",4,"ngFor","ngForOf"],[1,"total-row"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Longford Prestige"),e.qZA(),e.TgZ(4,"h3",3),e._uU(5,"Balance Sheet"),e.qZA(),e.TgZ(6,"p",4),e._uU(7),e.qZA(),e._UZ(8,"hr",5),e.TgZ(9,"form",6)(10,"div")(11,"label"),e._uU(12,"From Date"),e.qZA(),e._UZ(13,"input",7),e.qZA(),e.TgZ(14,"div")(15,"label"),e._uU(16,"To Date"),e.qZA(),e._UZ(17,"input",8),e.qZA(),e.TgZ(18,"div",9)(19,"button",10),e.NdJ("click",function(){return s.fetchBalance()}),e._uU(20),e.qZA()()(),e.YNc(21,yd,69,37,"div",11),e.qZA()()),2&t&&(e.xp6(7),e.hij("As at ",null==s.result?null:s.result.date,""),e.xp6(2),e.Q6J("formGroup",s.filterForm),e.xp6(10),e.Q6J("disabled",s.loading),e.xp6(1),e.hij(" ",s.loading?"Loading...":"Generate"," "),e.xp6(1),e.Q6J("ngIf",s.result))},dependencies:[be.sg,be.O5,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,be.JJ],styles:[".balance-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:30px;background:#f5f6fa}.sheet-card[_ngcontent-%COMP%]{width:900px;background:#fff;padding:40px;border-radius:12px;box-shadow:0 4px 15px #00000014;font-family:Segoe UI,Tahoma,sans-serif}.company-title[_ngcontent-%COMP%]{text-align:center;font-size:26px;font-weight:700;letter-spacing:.5px;margin-bottom:5px}.sheet-title[_ngcontent-%COMP%]{text-align:center;font-size:22px;font-weight:600;margin-bottom:3px}.sheet-date[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#555}.divider[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:25px;border:none;border-top:1px solid #ccc}.filter-row[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:25px}.filter-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}.filter-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;display:block;margin-bottom:4px}.filter-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 10px;border-radius:6px;border:1px solid #bbb}.btn-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.btn-generate[_ngcontent-%COMP%]{width:100%;background:#0077ff;color:#fff;padding:10px;border-radius:6px;border:none;font-weight:600;transition:.3s}.btn-generate[_ngcontent-%COMP%]:hover:not([disabled]){background:#005fcc}.section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin-top:25px}.subsection-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-top:8px;color:#333}.category-group[_ngcontent-%COMP%]{margin-top:10px;padding-left:10px}.category-name[_ngcontent-%COMP%]{font-weight:600;margin-bottom:5px}.row-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:4px 0;border-bottom:1px dotted #ddd}.total-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:4px;font-weight:600;padding:6px 0;border-top:1px solid #ccc}.grand-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-weight:700;margin-top:10px;padding:10px 0;border-top:2px solid #000}"]}),c})()}];var Yu=cn(6984);let bd=(()=>{class c{}return c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[Gt.Bz.forChild(Nr),Ne.JF,be.ez,b.u5,b.UX,W.IJ,ae.uh.forRoot({template:Yu.V})]}),c})()},8332:function(Ea,fr,cn){Ea.exports=function(Gt){"use strict";Gt=Gt&&Gt.hasOwnProperty("default")?Gt.default:Gt;var Y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},He=function be(o,r){return o(r={exports:{}},r.exports),r.exports}(function(o){var r={};for(var u in Y)Y.hasOwnProperty(u)&&(r[Y[u]]=u);var d=o.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var g in d)if(d.hasOwnProperty(g)){if(!("channels"in d[g]))throw new Error("missing channels property: "+g);if(!("labels"in d[g]))throw new Error("missing channel labels property: "+g);if(d[g].labels.length!==d[g].channels)throw new Error("channel and label counts mismatch: "+g);var v=d[g].channels,Z=d[g].labels;delete d[g].channels,delete d[g].labels,Object.defineProperty(d[g],"channels",{value:v}),Object.defineProperty(d[g],"labels",{value:Z})}function U(A,N){return Math.pow(A[0]-N[0],2)+Math.pow(A[1]-N[1],2)+Math.pow(A[2]-N[2],2)}d.rgb.hsl=function(A){var ve,pt,N=A[0]/255,M=A[1]/255,F=A[2]/255,G=Math.min(N,M,F),ue=Math.max(N,M,F),ge=ue-G;return ue===G?ve=0:N===ue?ve=(M-F)/ge:M===ue?ve=2+(F-N)/ge:F===ue&&(ve=4+(N-M)/ge),(ve=Math.min(60*ve,360))<0&&(ve+=360),pt=(G+ue)/2,[ve,100*(ue===G?0:pt<=.5?ge/(ue+G):ge/(2-ue-G)),100*pt]},d.rgb.hsv=function(A){var N,M,F,G,ue,ge=A[0]/255,ve=A[1]/255,Pe=A[2]/255,pt=Math.max(ge,ve,Pe),Ft=pt-Math.min(ge,ve,Pe),zt=function(bn){return(pt-bn)/6/Ft+.5};return 0===Ft?G=ue=0:(ue=Ft/pt,N=zt(ge),M=zt(ve),F=zt(Pe),ge===pt?G=F-M:ve===pt?G=1/3+N-F:Pe===pt&&(G=2/3+M-N),G<0?G+=1:G>1&&(G-=1)),[360*G,100*ue,100*pt]},d.rgb.hwb=function(A){var N=A[0],M=A[1],F=A[2];return[d.rgb.hsl(A)[0],1/255*Math.min(N,Math.min(M,F))*100,100*(F=1-1/255*Math.max(N,Math.max(M,F)))]},d.rgb.cmyk=function(A){var ve,N=A[0]/255,M=A[1]/255,F=A[2]/255;return[100*((1-N-(ve=Math.min(1-N,1-M,1-F)))/(1-ve)||0),100*((1-M-ve)/(1-ve)||0),100*((1-F-ve)/(1-ve)||0),100*ve]},d.rgb.keyword=function(A){var N=r[A];if(N)return N;var F,M=1/0;for(var G in Y)if(Y.hasOwnProperty(G)){var ge=U(A,Y[G]);ge<M&&(M=ge,F=G)}return F},d.keyword.rgb=function(A){return Y[A]},d.rgb.xyz=function(A){var N=A[0]/255,M=A[1]/255,F=A[2]/255;return[100*(.4124*(N=N>.04045?Math.pow((N+.055)/1.055,2.4):N/12.92)+.3576*(M=M>.04045?Math.pow((M+.055)/1.055,2.4):M/12.92)+.1805*(F=F>.04045?Math.pow((F+.055)/1.055,2.4):F/12.92)),100*(.2126*N+.7152*M+.0722*F),100*(.0193*N+.1192*M+.9505*F)]},d.rgb.lab=function(A){var N=d.rgb.xyz(A),M=N[0],F=N[1],G=N[2];return F/=100,G/=108.883,M=(M/=95.047)>.008856?Math.pow(M,1/3):7.787*M+16/116,[116*(F=F>.008856?Math.pow(F,1/3):7.787*F+16/116)-16,500*(M-F),200*(F-(G=G>.008856?Math.pow(G,1/3):7.787*G+16/116))]},d.hsl.rgb=function(A){var G,ue,ge,ve,Pe,N=A[0]/360,M=A[1]/100,F=A[2]/100;if(0===M)return[Pe=255*F,Pe,Pe];G=2*F-(ue=F<.5?F*(1+M):F+M-F*M),ve=[0,0,0];for(var pt=0;pt<3;pt++)(ge=N+1/3*-(pt-1))<0&&ge++,ge>1&&ge--,ve[pt]=255*(Pe=6*ge<1?G+6*(ue-G)*ge:2*ge<1?ue:3*ge<2?G+(ue-G)*(2/3-ge)*6:G);return ve},d.hsl.hsv=function(A){var N=A[0],M=A[1]/100,F=A[2]/100,G=M,ue=Math.max(F,.01);return M*=(F*=2)<=1?F:2-F,G*=ue<=1?ue:2-ue,[N,100*(0===F?2*G/(ue+G):2*M/(F+M)),(F+M)/2*100]},d.hsv.rgb=function(A){var N=A[0]/60,M=A[1]/100,F=A[2]/100,G=Math.floor(N)%6,ue=N-Math.floor(N),ge=255*F*(1-M),ve=255*F*(1-M*ue),Pe=255*F*(1-M*(1-ue));switch(F*=255,G){case 0:return[F,Pe,ge];case 1:return[ve,F,ge];case 2:return[ge,F,Pe];case 3:return[ge,ve,F];case 4:return[Pe,ge,F];case 5:return[F,ge,ve]}},d.hsv.hsl=function(A){var ue,ge,ve,N=A[0],M=A[1]/100,F=A[2]/100,G=Math.max(F,.01);return ve=(2-M)*F,ge=M*G,[N,100*(ge=(ge/=(ue=(2-M)*G)<=1?ue:2-ue)||0),100*(ve/=2)]},d.hwb.rgb=function(A){var ue,ge,ve,Pe,pt,Ft,zt,N=A[0]/360,M=A[1]/100,F=A[2]/100,G=M+F;switch(G>1&&(M/=G,F/=G),ve=6*N-(ue=Math.floor(6*N)),0!=(1&ue)&&(ve=1-ve),Pe=M+ve*((ge=1-F)-M),ue){default:case 6:case 0:pt=ge,Ft=Pe,zt=M;break;case 1:pt=Pe,Ft=ge,zt=M;break;case 2:pt=M,Ft=ge,zt=Pe;break;case 3:pt=M,Ft=Pe,zt=ge;break;case 4:pt=Pe,Ft=M,zt=ge;break;case 5:pt=ge,Ft=M,zt=Pe}return[255*pt,255*Ft,255*zt]},d.cmyk.rgb=function(A){var M=A[1]/100,F=A[2]/100,G=A[3]/100;return[255*(1-Math.min(1,A[0]/100*(1-G)+G)),255*(1-Math.min(1,M*(1-G)+G)),255*(1-Math.min(1,F*(1-G)+G))]},d.xyz.rgb=function(A){var G,ue,ge,N=A[0]/100,M=A[1]/100,F=A[2]/100;return ue=-.9689*N+1.8758*M+.0415*F,ge=.0557*N+-.204*M+1.057*F,G=(G=3.2406*N+-1.5372*M+-.4986*F)>.0031308?1.055*Math.pow(G,1/2.4)-.055:12.92*G,ue=ue>.0031308?1.055*Math.pow(ue,1/2.4)-.055:12.92*ue,ge=ge>.0031308?1.055*Math.pow(ge,1/2.4)-.055:12.92*ge,[255*(G=Math.min(Math.max(0,G),1)),255*(ue=Math.min(Math.max(0,ue),1)),255*(ge=Math.min(Math.max(0,ge),1))]},d.xyz.lab=function(A){var N=A[0],M=A[1],F=A[2];return M/=100,F/=108.883,N=(N/=95.047)>.008856?Math.pow(N,1/3):7.787*N+16/116,[116*(M=M>.008856?Math.pow(M,1/3):7.787*M+16/116)-16,500*(N-M),200*(M-(F=F>.008856?Math.pow(F,1/3):7.787*F+16/116))]},d.lab.xyz=function(A){var G,ue,ge;G=A[1]/500+(ue=(A[0]+16)/116),ge=ue-A[2]/200;var ve=Math.pow(ue,3),Pe=Math.pow(G,3),pt=Math.pow(ge,3);return ue=ve>.008856?ve:(ue-16/116)/7.787,G=Pe>.008856?Pe:(G-16/116)/7.787,ge=pt>.008856?pt:(ge-16/116)/7.787,[G*=95.047,ue*=100,ge*=108.883]},d.lab.lch=function(A){var ue,N=A[0],M=A[1],F=A[2];return(ue=360*Math.atan2(F,M)/2/Math.PI)<0&&(ue+=360),[N,Math.sqrt(M*M+F*F),ue]},d.lch.lab=function(A){var ge,M=A[1];return ge=A[2]/360*2*Math.PI,[A[0],M*Math.cos(ge),M*Math.sin(ge)]},d.rgb.ansi16=function(A){var N=A[0],M=A[1],F=A[2],G=1 in arguments?arguments[1]:d.rgb.hsv(A)[2];if(0===(G=Math.round(G/50)))return 30;var ue=30+(Math.round(F/255)<<2|Math.round(M/255)<<1|Math.round(N/255));return 2===G&&(ue+=60),ue},d.hsv.ansi16=function(A){return d.rgb.ansi16(d.hsv.rgb(A),A[2])},d.rgb.ansi256=function(A){var N=A[0],M=A[1],F=A[2];return N===M&&M===F?N<8?16:N>248?231:Math.round((N-8)/247*24)+232:16+36*Math.round(N/255*5)+6*Math.round(M/255*5)+Math.round(F/255*5)},d.ansi16.rgb=function(A){var N=A%10;if(0===N||7===N)return A>50&&(N+=3.5),[N=N/10.5*255,N,N];var M=.5*(1+~~(A>50));return[(1&N)*M*255,(N>>1&1)*M*255,(N>>2&1)*M*255]},d.ansi256.rgb=function(A){if(A>=232){var N=10*(A-232)+8;return[N,N,N]}var M;return A-=16,[Math.floor(A/36)/5*255,Math.floor((M=A%36)/6)/5*255,M%6/5*255]},d.rgb.hex=function(A){var M=(((255&Math.round(A[0]))<<16)+((255&Math.round(A[1]))<<8)+(255&Math.round(A[2]))).toString(16).toUpperCase();return"000000".substring(M.length)+M},d.hex.rgb=function(A){var N=A.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!N)return[0,0,0];var M=N[0];3===N[0].length&&(M=M.split("").map(function(ve){return ve+ve}).join(""));var F=parseInt(M,16);return[F>>16&255,F>>8&255,255&F]},d.rgb.hcg=function(A){var Pe,N=A[0]/255,M=A[1]/255,F=A[2]/255,G=Math.max(Math.max(N,M),F),ue=Math.min(Math.min(N,M),F),ge=G-ue;return Pe=ge<=0?0:G===N?(M-F)/ge%6:G===M?2+(F-N)/ge:4+(N-M)/ge+4,Pe/=6,[360*(Pe%=1),100*ge,100*(ge<1?ue/(1-ge):0)]},d.hsl.hcg=function(A){var F,N=A[1]/100,M=A[2]/100,G=0;return(F=M<.5?2*N*M:2*N*(1-M))<1&&(G=(M-.5*F)/(1-F)),[A[0],100*F,100*G]},d.hsv.hcg=function(A){var M=A[2]/100,F=A[1]/100*M,G=0;return F<1&&(G=(M-F)/(1-F)),[A[0],100*F,100*G]},d.hcg.rgb=function(A){var M=A[1]/100,F=A[2]/100;if(0===M)return[255*F,255*F,255*F];var Pe,G=[0,0,0],ue=A[0]/360%1*6,ge=ue%1,ve=1-ge;switch(Math.floor(ue)){case 0:G[0]=1,G[1]=ge,G[2]=0;break;case 1:G[0]=ve,G[1]=1,G[2]=0;break;case 2:G[0]=0,G[1]=1,G[2]=ge;break;case 3:G[0]=0,G[1]=ve,G[2]=1;break;case 4:G[0]=ge,G[1]=0,G[2]=1;break;default:G[0]=1,G[1]=0,G[2]=ve}return[255*(M*G[0]+(Pe=(1-M)*F)),255*(M*G[1]+Pe),255*(M*G[2]+Pe)]},d.hcg.hsv=function(A){var N=A[1]/100,F=N+A[2]/100*(1-N),G=0;return F>0&&(G=N/F),[A[0],100*G,100*F]},d.hcg.hsl=function(A){var N=A[1]/100,F=A[2]/100*(1-N)+.5*N,G=0;return F>0&&F<.5?G=N/(2*F):F>=.5&&F<1&&(G=N/(2*(1-F))),[A[0],100*G,100*F]},d.hcg.hwb=function(A){var N=A[1]/100,F=N+A[2]/100*(1-N);return[A[0],100*(F-N),100*(1-F)]},d.hwb.hcg=function(A){var F=1-A[2]/100,G=F-A[1]/100,ue=0;return G<1&&(ue=(F-G)/(1-G)),[A[0],100*G,100*ue]},d.apple.rgb=function(A){return[A[0]/65535*255,A[1]/65535*255,A[2]/65535*255]},d.rgb.apple=function(A){return[A[0]/255*65535,A[1]/255*65535,A[2]/255*65535]},d.gray.rgb=function(A){return[A[0]/100*255,A[0]/100*255,A[0]/100*255]},d.gray.hsl=d.gray.hsv=function(A){return[0,0,A[0]]},d.gray.hwb=function(A){return[0,100,A[0]]},d.gray.cmyk=function(A){return[0,0,0,A[0]]},d.gray.lab=function(A){return[A[0],0,0]},d.gray.hex=function(A){var N=255&Math.round(A[0]/100*255),F=((N<<16)+(N<<8)+N).toString(16).toUpperCase();return"000000".substring(F.length)+F},d.rgb.gray=function(A){return[(A[0]+A[1]+A[2])/3/255*100]}});function Rt(o){var r=function yt(){for(var o={},r=Object.keys(He),u=r.length,d=0;d<u;d++)o[r[d]]={distance:-1,parent:null};return o}(),u=[o];for(r[o].distance=0;u.length;)for(var d=u.pop(),g=Object.keys(He[d]),v=g.length,Z=0;Z<v;Z++){var U=g[Z],A=r[U];-1===A.distance&&(A.distance=r[d].distance+1,A.parent=d,u.unshift(U))}return r}function Wt(o,r){return function(u){return r(o(u))}}function tn(o,r){for(var u=[r[o].parent,o],d=He[r[o].parent][o],g=r[o].parent;r[g].parent;)u.unshift(r[g].parent),d=Wt(He[r[g].parent][g],d),g=r[g].parent;return d.conversion=u,d}var Tt={};Object.keys(He).forEach(function(o){Tt[o]={},Object.defineProperty(Tt[o],"channels",{value:He[o].channels}),Object.defineProperty(Tt[o],"labels",{value:He[o].labels});var r=function(o){for(var r=Rt(o),u={},d=Object.keys(r),g=d.length,v=0;v<g;v++){var Z=d[v];null!==r[Z].parent&&(u[Z]=tn(Z,r))}return u}(o);Object.keys(r).forEach(function(d){var g=r[d];Tt[o][d]=function Nt(o){var r=function(u){if(null==u)return u;arguments.length>1&&(u=Array.prototype.slice.call(arguments));var d=o(u);if("object"==typeof d)for(var g=d.length,v=0;v<g;v++)d[v]=Math.round(d[v]);return d};return"conversion"in o&&(r.conversion=o.conversion),r}(g),Tt[o][d].raw=function kt(o){var r=function(u){return null==u?u:(arguments.length>1&&(u=Array.prototype.slice.call(arguments)),o(u))};return"conversion"in o&&(r.conversion=o.conversion),r}(g)})});var bt=Tt,Dt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Et={getRgba:vt,getHsla:it,getRgb:function Fe(o){var r=vt(o);return r&&r.slice(0,3)},getHsl:function ht(o){var r=it(o);return r&&r.slice(0,3)},getHwb:ut,getAlpha:function wt(o){var r=vt(o);return r||(r=it(o))||(r=ut(o))?r[3]:void 0},hexString:function Ot(o,u){return u=void 0!==u&&3===o.length?u:o[3],"#"+qo(o[0])+qo(o[1])+qo(o[2])+(u>=0&&u<1?qo(Math.round(255*u)):"")},rgbString:function Rn(o,r){return r<1||o[3]&&o[3]<1?vo(o,r):"rgb("+o[0]+", "+o[1]+", "+o[2]+")"},rgbaString:vo,percentString:function so(o,r){return r<1||o[3]&&o[3]<1?co(o,r):"rgb("+Math.round(o[0]/255*100)+"%, "+Math.round(o[1]/255*100)+"%, "+Math.round(o[2]/255*100)+"%)"},percentaString:co,hslString:function Kn(o,r){return r<1||o[3]&&o[3]<1?lo(o,r):"hsl("+o[0]+", "+o[1]+"%, "+o[2]+"%)"},hslaString:lo,hwbString:function Eo(o,r){return void 0===r&&(r=void 0!==o[3]?o[3]:1),"hwb("+o[0]+", "+o[1]+"%, "+o[2]+"%"+(void 0!==r&&1!==r?", "+r:"")+")"},keyword:function Gn(o){return gr[o.slice(0,3)]}};function vt(o){if(o){var Z=[0,0,0],U=1,A=o.match(/^#([a-fA-F0-9]{3,4})$/i),N="";if(A){N=(A=A[1])[3];for(var M=0;M<Z.length;M++)Z[M]=parseInt(A[M]+A[M],16);N&&(U=Math.round(parseInt(N+N,16)/255*100)/100)}else if(A=o.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(N=A[2],A=A[1],M=0;M<Z.length;M++)Z[M]=parseInt(A.slice(2*M,2*M+2),16);N&&(U=Math.round(parseInt(N,16)/255*100)/100)}else if(A=o.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(M=0;M<Z.length;M++)Z[M]=parseInt(A[M+1]);U=parseFloat(A[4])}else if(A=o.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(M=0;M<Z.length;M++)Z[M]=Math.round(2.55*parseFloat(A[M+1]));U=parseFloat(A[4])}else if(A=o.match(/(\w+)/)){if("transparent"==A[1])return[0,0,0,0];if(!(Z=Dt[A[1]]))return}for(M=0;M<Z.length;M++)Z[M]=En(Z[M],0,255);return U=U||0==U?En(U,0,1):1,Z[3]=U,Z}}function it(o){if(o){var u=o.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(u){var d=parseFloat(u[4]);return[En(parseInt(u[1]),0,360),En(parseFloat(u[2]),0,100),En(parseFloat(u[3]),0,100),En(isNaN(d)?1:d,0,1)]}}}function ut(o){if(o){var u=o.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(u){var d=parseFloat(u[4]);return[En(parseInt(u[1]),0,360),En(parseFloat(u[2]),0,100),En(parseFloat(u[3]),0,100),En(isNaN(d)?1:d,0,1)]}}}function vo(o,r){return void 0===r&&(r=void 0!==o[3]?o[3]:1),"rgba("+o[0]+", "+o[1]+", "+o[2]+", "+r+")"}function co(o,r){return"rgba("+Math.round(o[0]/255*100)+"%, "+Math.round(o[1]/255*100)+"%, "+Math.round(o[2]/255*100)+"%, "+(r||o[3]||1)+")"}function lo(o,r){return void 0===r&&(r=void 0!==o[3]?o[3]:1),"hsla("+o[0]+", "+o[1]+"%, "+o[2]+"%, "+r+")"}function En(o,r,u){return Math.min(Math.max(r,o),u)}function qo(o){var r=o.toString(16).toUpperCase();return r.length<2?"0"+r:r}var gr={};for(var Yi in Dt)gr[Dt[Yi]]=Yi;var Yo=function(o){return o instanceof Yo?o:this instanceof Yo?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof o?(r=Et.getRgba(o))?this.setValues("rgb",r):(r=Et.getHsla(o))?this.setValues("hsl",r):(r=Et.getHwb(o))&&this.setValues("hwb",r):"object"==typeof o&&(void 0!==(r=o).r||void 0!==r.red?this.setValues("rgb",r):void 0!==r.l||void 0!==r.lightness?this.setValues("hsl",r):void 0!==r.v||void 0!==r.value?this.setValues("hsv",r):void 0!==r.w||void 0!==r.whiteness?this.setValues("hwb",r):(void 0!==r.c||void 0!==r.cyan)&&this.setValues("cmyk",r)))):new Yo(o);var r};Yo.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var o=this.values;return 1!==o.alpha?o.hwb.concat([o.alpha]):o.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var o=this.values;return o.rgb.concat([o.alpha])},hslaArray:function(){var o=this.values;return o.hsl.concat([o.alpha])},alpha:function(o){return void 0===o?this.values.alpha:(this.setValues("alpha",o),this)},red:function(o){return this.setChannel("rgb",0,o)},green:function(o){return this.setChannel("rgb",1,o)},blue:function(o){return this.setChannel("rgb",2,o)},hue:function(o){return o&&(o=(o%=360)<0?360+o:o),this.setChannel("hsl",0,o)},saturation:function(o){return this.setChannel("hsl",1,o)},lightness:function(o){return this.setChannel("hsl",2,o)},saturationv:function(o){return this.setChannel("hsv",1,o)},whiteness:function(o){return this.setChannel("hwb",1,o)},blackness:function(o){return this.setChannel("hwb",2,o)},value:function(o){return this.setChannel("hsv",2,o)},cyan:function(o){return this.setChannel("cmyk",0,o)},magenta:function(o){return this.setChannel("cmyk",1,o)},yellow:function(o){return this.setChannel("cmyk",2,o)},black:function(o){return this.setChannel("cmyk",3,o)},hexString:function(){return Et.hexString(this.values.rgb)},rgbString:function(){return Et.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return Et.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return Et.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return Et.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return Et.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return Et.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return Et.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var o=this.values.rgb;return o[0]<<16|o[1]<<8|o[2]},luminosity:function(){for(var o=this.values.rgb,r=[],u=0;u<o.length;u++){var d=o[u]/255;r[u]=d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4)}return.2126*r[0]+.7152*r[1]+.0722*r[2]},contrast:function(o){var r=this.luminosity(),u=o.luminosity();return r>u?(r+.05)/(u+.05):(u+.05)/(r+.05)},level:function(o){var r=this.contrast(o);return r>=7.1?"AAA":r>=4.5?"AA":""},dark:function(){var o=this.values.rgb;return(299*o[0]+587*o[1]+114*o[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var o=[],r=0;r<3;r++)o[r]=255-this.values.rgb[r];return this.setValues("rgb",o),this},lighten:function(o){var r=this.values.hsl;return r[2]+=r[2]*o,this.setValues("hsl",r),this},darken:function(o){var r=this.values.hsl;return r[2]-=r[2]*o,this.setValues("hsl",r),this},saturate:function(o){var r=this.values.hsl;return r[1]+=r[1]*o,this.setValues("hsl",r),this},desaturate:function(o){var r=this.values.hsl;return r[1]-=r[1]*o,this.setValues("hsl",r),this},whiten:function(o){var r=this.values.hwb;return r[1]+=r[1]*o,this.setValues("hwb",r),this},blacken:function(o){var r=this.values.hwb;return r[2]+=r[2]*o,this.setValues("hwb",r),this},greyscale:function(){var o=this.values.rgb,r=.3*o[0]+.59*o[1]+.11*o[2];return this.setValues("rgb",[r,r,r]),this},clearer:function(o){var r=this.values.alpha;return this.setValues("alpha",r-r*o),this},opaquer:function(o){var r=this.values.alpha;return this.setValues("alpha",r+r*o),this},rotate:function(o){var r=this.values.hsl,u=(r[0]+o)%360;return r[0]=u<0?360+u:u,this.setValues("hsl",r),this},mix:function(o,r){var u=this,d=o,g=void 0===r?.5:r,v=2*g-1,Z=u.alpha()-d.alpha(),U=((v*Z==-1?v:(v+Z)/(1+v*Z))+1)/2,A=1-U;return this.rgb(U*u.red()+A*d.red(),U*u.green()+A*d.green(),U*u.blue()+A*d.blue()).alpha(u.alpha()*g+d.alpha()*(1-g))},toJSON:function(){return this.rgb()},clone:function(){var d,g,o=new Yo,r=this.values,u=o.values;for(var v in r)r.hasOwnProperty(v)&&("[object Array]"===(g={}.toString.call(d=r[v]))?u[v]=d.slice(0):"[object Number]"===g?u[v]=d:console.error("unexpected color value:",d));return o}},Yo.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Yo.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Yo.prototype.getValues=function(o){for(var r=this.values,u={},d=0;d<o.length;d++)u[o.charAt(d)]=r[o][d];return 1!==r.alpha&&(u.a=r.alpha),u},Yo.prototype.setValues=function(o,r){var Z,A,u=this.values,d=this.spaces,g=this.maxes,v=1;if(this.valid=!0,"alpha"===o)v=r;else if(r.length)u[o]=r.slice(0,o.length),v=r[o.length];else if(void 0!==r[o.charAt(0)]){for(Z=0;Z<o.length;Z++)u[o][Z]=r[o.charAt(Z)];v=r.a}else if(void 0!==r[d[o][0]]){var U=d[o];for(Z=0;Z<o.length;Z++)u[o][Z]=r[U[Z]];v=r.alpha}if(u.alpha=Math.max(0,Math.min(1,void 0===v?u.alpha:v)),"alpha"===o)return!1;for(Z=0;Z<o.length;Z++)A=Math.max(0,Math.min(g[o][Z],u[o][Z])),u[o][Z]=Math.round(A);for(var N in d)N!==o&&(u[N]=bt[o][N](u[o]));return!0},Yo.prototype.setSpace=function(o,r){var u=r[0];return void 0===u?this.getValues(o):("number"==typeof u&&(u=Array.prototype.slice.call(r)),this.setValues(o,u),this)},Yo.prototype.setChannel=function(o,r,u){var d=this.values[o];return void 0===u?d[r]:(u===d[r]||(d[r]=u,this.setValues(o,d)),this)},typeof window<"u"&&(window.Color=Yo);var Mo=Yo;function Bo(o){return-1===["__proto__","prototype","constructor"].indexOf(o)}var o,_n={noop:function(){},uid:(o=0,function(){return o++}),isNullOrUndef:function(o){return null===o||typeof o>"u"},isArray:function(o){if(Array.isArray&&Array.isArray(o))return!0;var r=Object.prototype.toString.call(o);return"[object"===r.substr(0,7)&&"Array]"===r.substr(-6)},isObject:function(o){return null!==o&&"[object Object]"===Object.prototype.toString.call(o)},isFinite:function(o){return("number"==typeof o||o instanceof Number)&&isFinite(o)},valueOrDefault:function(o,r){return typeof o>"u"?r:o},valueAtIndexOrDefault:function(o,r,u){return _n.valueOrDefault(_n.isArray(o)?o[r]:o,u)},callback:function(o,r,u){if(o&&"function"==typeof o.call)return o.apply(u,r)},each:function(o,r,u,d){var g,v,Z;if(_n.isArray(o))if(v=o.length,d)for(g=v-1;g>=0;g--)r.call(u,o[g],g);else for(g=0;g<v;g++)r.call(u,o[g],g);else if(_n.isObject(o))for(v=(Z=Object.keys(o)).length,g=0;g<v;g++)r.call(u,o[Z[g]],Z[g])},arrayEquals:function(o,r){var u,d,g,v;if(!o||!r||o.length!==r.length)return!1;for(u=0,d=o.length;u<d;++u)if(v=r[u],(g=o[u])instanceof Array&&v instanceof Array){if(!_n.arrayEquals(g,v))return!1}else if(g!==v)return!1;return!0},clone:function(o){if(_n.isArray(o))return o.map(_n.clone);if(_n.isObject(o)){for(var r=Object.create(o),u=Object.keys(o),d=u.length,g=0;g<d;++g)r[u[g]]=_n.clone(o[u[g]]);return r}return o},_merger:function(o,r,u,d){if(Bo(o)){var g=r[o],v=u[o];_n.isObject(g)&&_n.isObject(v)?_n.merge(g,v,d):r[o]=_n.clone(v)}},_mergerIf:function(o,r,u){if(Bo(o)){var d=r[o],g=u[o];_n.isObject(d)&&_n.isObject(g)?_n.mergeIf(d,g):r.hasOwnProperty(o)||(r[o]=_n.clone(g))}},merge:function(o,r,u){var v,Z,U,A,N,d=_n.isArray(r)?r:[r],g=d.length;if(!_n.isObject(o))return o;for(v=(u=u||{}).merger||_n._merger,Z=0;Z<g;++Z)if(_n.isObject(r=d[Z]))for(N=0,A=(U=Object.keys(r)).length;N<A;++N)v(U[N],o,r,u);return o},mergeIf:function(o,r){return _n.merge(o,r,{merger:_n._mergerIf})},extend:Object.assign||function(o){return _n.merge(o,[].slice.call(arguments,1),{merger:function(r,u,d){u[r]=d[r]}})},inherits:function(o){var r=this,u=o&&o.hasOwnProperty("constructor")?o.constructor:function(){return r.apply(this,arguments)},d=function(){this.constructor=u};return d.prototype=r.prototype,u.prototype=new d,u.extend=_n.inherits,o&&_n.extend(u.prototype,o),u.__super__=r.prototype,u},_deprecated:function(o,r,u,d){void 0!==r&&console.warn(o+': "'+u+'" is deprecated. Please use "'+d+'" instead')}},Fo=_n;_n.callCallback=_n.callback,_n.indexOf=function(o,r,u){return Array.prototype.indexOf.call(o,r,u)},_n.getValueOrDefault=_n.valueOrDefault,_n.getValueAtIndexOrDefault=_n.valueAtIndexOrDefault;var no={linear:function(o){return o},easeInQuad:function(o){return o*o},easeOutQuad:function(o){return-o*(o-2)},easeInOutQuad:function(o){return(o/=.5)<1?.5*o*o:-.5*(--o*(o-2)-1)},easeInCubic:function(o){return o*o*o},easeOutCubic:function(o){return(o-=1)*o*o+1},easeInOutCubic:function(o){return(o/=.5)<1?.5*o*o*o:.5*((o-=2)*o*o+2)},easeInQuart:function(o){return o*o*o*o},easeOutQuart:function(o){return-((o-=1)*o*o*o-1)},easeInOutQuart:function(o){return(o/=.5)<1?.5*o*o*o*o:-.5*((o-=2)*o*o*o-2)},easeInQuint:function(o){return o*o*o*o*o},easeOutQuint:function(o){return(o-=1)*o*o*o*o+1},easeInOutQuint:function(o){return(o/=.5)<1?.5*o*o*o*o*o:.5*((o-=2)*o*o*o*o+2)},easeInSine:function(o){return 1-Math.cos(o*(Math.PI/2))},easeOutSine:function(o){return Math.sin(o*(Math.PI/2))},easeInOutSine:function(o){return-.5*(Math.cos(Math.PI*o)-1)},easeInExpo:function(o){return 0===o?0:Math.pow(2,10*(o-1))},easeOutExpo:function(o){return 1===o?1:1-Math.pow(2,-10*o)},easeInOutExpo:function(o){return 0===o?0:1===o?1:(o/=.5)<1?.5*Math.pow(2,10*(o-1)):.5*(2-Math.pow(2,-10*--o))},easeInCirc:function(o){return o>=1?o:-(Math.sqrt(1-o*o)-1)},easeOutCirc:function(o){return Math.sqrt(1-(o-=1)*o)},easeInOutCirc:function(o){return(o/=.5)<1?-.5*(Math.sqrt(1-o*o)-1):.5*(Math.sqrt(1-(o-=2)*o)+1)},easeInElastic:function(o){var r=1.70158,u=0,d=1;return 0===o?0:1===o?1:(u||(u=.3),d<1?(d=1,r=u/4):r=u/(2*Math.PI)*Math.asin(1/d),-d*Math.pow(2,10*(o-=1))*Math.sin((o-r)*(2*Math.PI)/u))},easeOutElastic:function(o){var r=1.70158,u=0,d=1;return 0===o?0:1===o?1:(u||(u=.3),d<1?(d=1,r=u/4):r=u/(2*Math.PI)*Math.asin(1/d),d*Math.pow(2,-10*o)*Math.sin((o-r)*(2*Math.PI)/u)+1)},easeInOutElastic:function(o){var r=1.70158,u=0,d=1;return 0===o?0:2==(o/=.5)?1:(u||(u=.45),d<1?(d=1,r=u/4):r=u/(2*Math.PI)*Math.asin(1/d),o<1?d*Math.pow(2,10*(o-=1))*Math.sin((o-r)*(2*Math.PI)/u)*-.5:d*Math.pow(2,-10*(o-=1))*Math.sin((o-r)*(2*Math.PI)/u)*.5+1)},easeInBack:function(o){var r=1.70158;return o*o*((r+1)*o-r)},easeOutBack:function(o){var r=1.70158;return(o-=1)*o*((r+1)*o+r)+1},easeInOutBack:function(o){var r=1.70158;return(o/=.5)<1?o*o*((1+(r*=1.525))*o-r)*.5:.5*((o-=2)*o*((1+(r*=1.525))*o+r)+2)},easeInBounce:function(o){return 1-no.easeOutBounce(1-o)},easeOutBounce:function(o){return o<1/2.75?7.5625*o*o:o<2/2.75?7.5625*(o-=1.5/2.75)*o+.75:o<2.5/2.75?7.5625*(o-=2.25/2.75)*o+.9375:7.5625*(o-=2.625/2.75)*o+.984375},easeInOutBounce:function(o){return o<.5?.5*no.easeInBounce(2*o):.5*no.easeOutBounce(2*o-1)+.5}},Ti={effects:no};Fo.easingEffects=no;var Ko=Math.PI,Ki=Ko/180,Er=2*Ko,Wo=Ko/2,wo=Ko/4,Ma=2*Ko/3,Ye={clear:function(o){o.ctx.clearRect(0,0,o.width,o.height)},roundedRect:function(o,r,u,d,g,v){if(v){var Z=Math.min(v,g/2,d/2),U=r+Z,A=u+Z,N=r+d-Z,M=u+g-Z;o.moveTo(r,A),U<N&&A<M?(o.arc(U,A,Z,-Ko,-Wo),o.arc(N,A,Z,-Wo,0),o.arc(N,M,Z,0,Wo),o.arc(U,M,Z,Wo,Ko)):U<N?(o.moveTo(U,u),o.arc(N,A,Z,-Wo,Wo),o.arc(U,A,Z,Wo,Ko+Wo)):A<M?(o.arc(U,A,Z,-Ko,0),o.arc(U,M,Z,0,Ko)):o.arc(U,A,Z,-Ko,Ko),o.closePath(),o.moveTo(r,u)}else o.rect(r,u,d,g)},drawPoint:function(o,r,u,d,g,v){var Z,U,A,N,M,F=(v||0)*Ki;if(r&&"object"==typeof r&&("[object HTMLImageElement]"===(Z=r.toString())||"[object HTMLCanvasElement]"===Z))return o.save(),o.translate(d,g),o.rotate(F),o.drawImage(r,-r.width/2,-r.height/2,r.width,r.height),void o.restore();if(!(isNaN(u)||u<=0)){switch(o.beginPath(),r){default:o.arc(d,g,u,0,Er),o.closePath();break;case"triangle":o.moveTo(d+Math.sin(F)*u,g-Math.cos(F)*u),F+=Ma,o.lineTo(d+Math.sin(F)*u,g-Math.cos(F)*u),F+=Ma,o.lineTo(d+Math.sin(F)*u,g-Math.cos(F)*u),o.closePath();break;case"rectRounded":N=u-(M=.516*u),U=Math.cos(F+wo)*N,A=Math.sin(F+wo)*N,o.arc(d-U,g-A,M,F-Ko,F-Wo),o.arc(d+A,g-U,M,F-Wo,F),o.arc(d+U,g+A,M,F,F+Wo),o.arc(d-A,g+U,M,F+Wo,F+Ko),o.closePath();break;case"rect":if(!v){N=Math.SQRT1_2*u,o.rect(d-N,g-N,2*N,2*N);break}F+=wo;case"rectRot":U=Math.cos(F)*u,A=Math.sin(F)*u,o.moveTo(d-U,g-A),o.lineTo(d+A,g-U),o.lineTo(d+U,g+A),o.lineTo(d-A,g+U),o.closePath();break;case"crossRot":F+=wo;case"cross":U=Math.cos(F)*u,A=Math.sin(F)*u,o.moveTo(d-U,g-A),o.lineTo(d+U,g+A),o.moveTo(d+A,g-U),o.lineTo(d-A,g+U);break;case"star":U=Math.cos(F)*u,A=Math.sin(F)*u,o.moveTo(d-U,g-A),o.lineTo(d+U,g+A),o.moveTo(d+A,g-U),o.lineTo(d-A,g+U),F+=wo,U=Math.cos(F)*u,A=Math.sin(F)*u,o.moveTo(d-U,g-A),o.lineTo(d+U,g+A),o.moveTo(d+A,g-U),o.lineTo(d-A,g+U);break;case"line":U=Math.cos(F)*u,A=Math.sin(F)*u,o.moveTo(d-U,g-A),o.lineTo(d+U,g+A);break;case"dash":o.moveTo(d,g),o.lineTo(d+Math.cos(F)*u,g+Math.sin(F)*u)}o.fill(),o.stroke()}},_isPointInArea:function(o,r){var u=1e-6;return o.x>r.left-u&&o.x<r.right+u&&o.y>r.top-u&&o.y<r.bottom+u},clipArea:function(o,r){o.save(),o.beginPath(),o.rect(r.left,r.top,r.right-r.left,r.bottom-r.top),o.clip()},unclipArea:function(o){o.restore()},lineTo:function(o,r,u,d){var g=u.steppedLine;if(g){if("middle"===g){var v=(r.x+u.x)/2;o.lineTo(v,d?u.y:r.y),o.lineTo(v,d?r.y:u.y)}else"after"===g&&!d||"after"!==g&&d?o.lineTo(r.x,u.y):o.lineTo(u.x,r.y);o.lineTo(u.x,u.y)}else u.tension?o.bezierCurveTo(d?r.controlPointPreviousX:r.controlPointNextX,d?r.controlPointPreviousY:r.controlPointNextY,d?u.controlPointNextX:u.controlPointPreviousX,d?u.controlPointNextY:u.controlPointPreviousY,u.x,u.y):o.lineTo(u.x,u.y)}},qt=Ye;Fo.clear=Ye.clear,Fo.drawRoundedRectangle=function(o){o.beginPath(),Ye.roundedRect.apply(Ye,arguments)};var St={_set:function(o,r){return Fo.merge(this[o]||(this[o]={}),r)}};St._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var lt=St,sn=Fo.valueOrDefault;var Uo={toLineHeight:function(o,r){var u=(""+o).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!u||"normal"===u[1])return 1.2*r;switch(o=+u[2],u[3]){case"px":return o;case"%":o/=100}return r*o},toPadding:function(o){var r,u,d,g;return Fo.isObject(o)?(r=+o.top||0,u=+o.right||0,d=+o.bottom||0,g=+o.left||0):r=u=d=g=+o||0,{top:r,right:u,bottom:d,left:g,height:r+d,width:g+u}},_parseFont:function(o){var r=lt.global,u=sn(o.fontSize,r.defaultFontSize),d={family:sn(o.fontFamily,r.defaultFontFamily),lineHeight:Fo.options.toLineHeight(sn(o.lineHeight,r.defaultLineHeight),u),size:u,style:sn(o.fontStyle,r.defaultFontStyle),weight:null,string:""};return d.string=function vn(o){return!o||Fo.isNullOrUndef(o.size)||Fo.isNullOrUndef(o.family)?null:(o.style?o.style+" ":"")+(o.weight?o.weight+" ":"")+o.size+"px "+o.family}(d),d},resolve:function(o,r,u,d){var v,Z,U,g=!0;for(v=0,Z=o.length;v<Z;++v)if(void 0!==(U=o[v])&&(void 0!==r&&"function"==typeof U&&(U=U(r),g=!1),void 0!==u&&Fo.isArray(U)&&(U=U[u],g=!1),void 0!==U))return d&&!g&&(d.cacheable=!1),U}},Wi={_factorize:function(o){var d,r=[],u=Math.sqrt(o);for(d=1;d<u;d++)o%d==0&&(r.push(d),r.push(o/d));return u===(0|u)&&r.push(u),r.sort(function(g,v){return g-v}).pop(),r},log10:Math.log10||function(o){var r=Math.log(o)*Math.LOG10E,u=Math.round(r);return o===Math.pow(10,u)?u:r}},Ei=Wi;Fo.log10=Wi.log10;var j=Fo,vi=qt,Ns=Uo,gu=Ei,mr={getRtlAdapter:function(o,r,u){return o?function(o,r){return{x:function(u){return o+o+r-u},setWidth:function(u){r=u},textAlign:function(u){return"center"===u?u:"right"===u?"left":"right"},xPlus:function(u,d){return u-d},leftForLtr:function(u,d){return u-d}}}(r,u):{x:function(o){return o},setWidth:function(o){},textAlign:function(o){return o},xPlus:function(o,r){return o+r},leftForLtr:function(o,r){return o}}},overrideTextDirection:function(o,r){var u,d;("ltr"===r||"rtl"===r)&&(d=[(u=o.canvas.style).getPropertyValue("direction"),u.getPropertyPriority("direction")],u.setProperty("direction",r,"important"),o.prevTextDirection=d)},restoreTextDirection:function(o){var r=o.prevTextDirection;void 0!==r&&(delete o.prevTextDirection,o.canvas.style.setProperty("direction",r[0],r[1]))}};j.easing=Ti,j.canvas=vi,j.options=Ns,j.math=gu,j.rtl=mr;var pc=function(o){j.extend(this,o),this.initialize.apply(this,arguments)};j.extend(pc.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var o=this;return o._view||(o._view=j.extend({},o._model)),o._start={},o},transition:function(o){var r=this,u=r._model,d=r._start,g=r._view;return u&&1!==o?(g||(g=r._view={}),d||(d=r._start={}),function kd(o,r,u,d){var v,Z,U,A,N,M,F,G,ue,g=Object.keys(u);for(v=0,Z=g.length;v<Z;++v)if(M=u[U=g[v]],r.hasOwnProperty(U)||(r[U]=M),(A=r[U])!==M&&"_"!==U[0]){if(o.hasOwnProperty(U)||(o[U]=A),(F=typeof M)==typeof(N=o[U]))if("string"===F){if((G=Mo(N)).valid&&(ue=Mo(M)).valid){r[U]=ue.mix(G,d).rgbString();continue}}else if(j.isFinite(N)&&j.isFinite(M)){r[U]=N+(M-N)*d;continue}r[U]=M}}(d,g,u,o),r):(r._view=j.extend({},u),r._start=null,r)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return j.isNumber(this._model.x)&&j.isNumber(this._model.y)}}),pc.extend=j.inherits;var Mi=pc,mu=Mi.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),hu=mu;Object.defineProperty(mu.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(mu.prototype,"chartInstance",{get:function(){return this.chart},set:function(o){this.chart=o}}),lt._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:j.noop,onComplete:j.noop}});var fc={animations:[],request:null,addAnimation:function(o,r,u,d){var v,Z,g=this.animations;for(r.chart=o,r.startTime=Date.now(),r.duration=u,d||(o.animating=!0),v=0,Z=g.length;v<Z;++v)if(g[v].chart===o)return void(g[v]=r);g.push(r),1===g.length&&this.requestAnimationFrame()},cancelAnimation:function(o){var r=j.findIndex(this.animations,function(u){return u.chart===o});-1!==r&&(this.animations.splice(r,1),o.animating=!1)},requestAnimationFrame:function(){var o=this;null===o.request&&(o.request=j.requestAnimFrame.call(window,function(){o.request=null,o.startDigest()}))},startDigest:function(){var o=this;o.advance(),o.animations.length>0&&o.requestAnimationFrame()},advance:function(){for(var r,u,d,g,o=this.animations,v=0;v<o.length;)u=(r=o[v]).chart,d=r.numSteps,g=Math.floor((Date.now()-r.startTime)/r.duration*d)+1,r.currentStep=Math.min(g,d),j.callback(r.render,[u,r],u),j.callback(r.onAnimationProgress,[r],u),r.currentStep>=d?(j.callback(r.onAnimationComplete,[r],u),u.animating=!1,o.splice(v,1)):++v}},So=j.options.resolve,sa=["push","pop","shift","splice","unshift"];function gc(o,r){var u=o._chartjs;if(u){var d=u.listeners,g=d.indexOf(r);-1!==g&&d.splice(g,1),!(d.length>0)&&(sa.forEach(function(v){delete o[v]}),delete o._chartjs)}}var Ps=function(o,r){this.initialize(o,r)};j.extend(Ps.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(o,r){var u=this;u.chart=o,u.index=r,u.linkScales(),u.addElements(),u._type=u.getMeta().type},updateIndex:function(o){this.index=o},linkScales:function(){var o=this,r=o.getMeta(),u=o.chart,d=u.scales,g=o.getDataset(),v=u.options.scales;(null===r.xAxisID||!(r.xAxisID in d)||g.xAxisID)&&(r.xAxisID=g.xAxisID||v.xAxes[0].id),(null===r.yAxisID||!(r.yAxisID in d)||g.yAxisID)&&(r.yAxisID=g.yAxisID||v.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(o){return this.chart.scales[o]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&gc(this._data,this)},createMetaDataset:function(){var o=this,r=o.datasetElementType;return r&&new r({_chart:o.chart,_datasetIndex:o.index})},createMetaData:function(o){var r=this,u=r.dataElementType;return u&&new u({_chart:r.chart,_datasetIndex:r.index,_index:o})},addElements:function(){var g,v,o=this,r=o.getMeta(),u=o.getDataset().data||[],d=r.data;for(g=0,v=u.length;g<v;++g)d[g]=d[g]||o.createMetaData(g);r.dataset=r.dataset||o.createMetaDataset()},addElementAndReset:function(o){var r=this.createMetaData(o);this.getMeta().data.splice(o,0,r),this.updateElement(r,o,!0)},buildOrUpdateElements:function(){var o=this,r=o.getDataset(),u=r.data||(r.data=[]);o._data!==u&&(o._data&&gc(o._data,o),u&&Object.isExtensible(u)&&function Fa(o,r){o._chartjs?o._chartjs.listeners.push(r):(Object.defineProperty(o,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),sa.forEach(function(u){var d="onData"+u.charAt(0).toUpperCase()+u.slice(1),g=o[u];Object.defineProperty(o,u,{configurable:!0,enumerable:!1,value:function(){var v=Array.prototype.slice.call(arguments),Z=g.apply(this,v);return j.each(o._chartjs.listeners,function(U){"function"==typeof U[d]&&U[d].apply(U,v)}),Z}})}))}(u,o),o._data=u),o.resyncElements()},_configure:function(){var o=this;o._config=j.merge(Object.create(null),[o.chart.options.datasets[o._type],o.getDataset()],{merger:function(r,u,d){"_meta"!==r&&"data"!==r&&j._merger(r,u,d)}})},_update:function(o){var r=this;r._configure(),r._cachedDataOpts=null,r.update(o)},update:j.noop,transition:function(o){for(var r=this.getMeta(),u=r.data||[],d=u.length,g=0;g<d;++g)u[g].transition(o);r.dataset&&r.dataset.transition(o)},draw:function(){var o=this.getMeta(),r=o.data||[],u=r.length,d=0;for(o.dataset&&o.dataset.draw();d<u;++d)r[d].draw()},getStyle:function(o){var g,r=this,u=r.getMeta(),d=u.dataset;return r._configure(),(!1===(g=d&&void 0===o?r._resolveDatasetElementOptions(d||{}):r._resolveDataElementOptions(u.data[o=o||0]||{},o)).fill||null===g.fill)&&(g.backgroundColor=g.borderColor),g},_resolveDatasetElementOptions:function(o,r){var N,M,F,G,u=this,d=u.chart,g=u._config,v=o.custom||{},Z=d.options.elements[u.datasetElementType.prototype._type]||{},U=u._datasetElementOptions,A={},ue={chart:d,dataset:u.getDataset(),datasetIndex:u.index,hover:r};for(N=0,M=U.length;N<M;++N)F=U[N],G=r?"hover"+F.charAt(0).toUpperCase()+F.slice(1):F,A[F]=So([v[G],g[G],Z[G]],ue);return A},_resolveDataElementOptions:function(o,r){var u=this,d=o&&o.custom,g=u._cachedDataOpts;if(g&&!d)return g;var G,ue,ge,ve,v=u.chart,Z=u._config,U=v.options.elements[u.dataElementType.prototype._type]||{},A=u._dataElementOptions,N={},M={chart:v,dataIndex:r,dataset:u.getDataset(),datasetIndex:u.index},F={cacheable:!d};if(d=d||{},j.isArray(A))for(ue=0,ge=A.length;ue<ge;++ue)N[ve=A[ue]]=So([d[ve],Z[ve],U[ve]],M,r,F);else for(ue=0,ge=(G=Object.keys(A)).length;ue<ge;++ue)N[ve=G[ue]]=So([d[ve],Z[A[ve]],Z[ve],U[ve]],M,r,F);return F.cacheable&&(u._cachedDataOpts=Object.freeze(N)),N},removeHoverStyle:function(o){j.merge(o._model,o.$previousStyle||{}),delete o.$previousStyle},setHoverStyle:function(o){var r=this.chart.data.datasets[o._datasetIndex],u=o._index,d=o.custom||{},g=o._model,v=j.getHoverColor;o.$previousStyle={backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth},g.backgroundColor=So([d.hoverBackgroundColor,r.hoverBackgroundColor,v(g.backgroundColor)],void 0,u),g.borderColor=So([d.hoverBorderColor,r.hoverBorderColor,v(g.borderColor)],void 0,u),g.borderWidth=So([d.hoverBorderWidth,r.hoverBorderWidth,g.borderWidth],void 0,u)},_removeDatasetHoverStyle:function(){var o=this.getMeta().dataset;o&&this.removeHoverStyle(o)},_setDatasetHoverStyle:function(){var u,d,g,v,Z,U,o=this.getMeta().dataset,r={};if(o){for(U=o._model,Z=this._resolveDatasetElementOptions(o,!0),u=0,d=(v=Object.keys(Z)).length;u<d;++u)r[g=v[u]]=U[g],U[g]=Z[g];o.$previousStyle=r}},resyncElements:function(){var o=this,r=o.getMeta(),u=o.getDataset().data,d=r.data.length,g=u.length;g<d?r.data.splice(g,d-g):g>d&&o.insertElements(d,g-d)},insertElements:function(o,r){for(var u=0;u<r;++u)this.addElementAndReset(o+u)},onDataPush:function(){var o=arguments.length;this.insertElements(this.getDataset().data.length-o,o)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(o,r){this.getMeta().data.splice(o,r),this.insertElements(o,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Ps.extend=j.inherits;var ir=Ps,ci=2*Math.PI;function mc(o,r){var u=r.startAngle,d=r.endAngle,g=r.pixelMargin,v=g/r.outerRadius,Z=r.x,U=r.y;o.beginPath(),o.arc(Z,U,r.outerRadius,u-v,d+v),r.innerRadius>g?o.arc(Z,U,r.innerRadius-g,d+(v=g/r.innerRadius),u-v,!0):o.arc(Z,U,g,d+Math.PI/2,u-Math.PI/2),o.closePath(),o.clip()}function Nd(o,r,u){var d="inner"===r.borderAlign;d?(o.lineWidth=2*r.borderWidth,o.lineJoin="round"):(o.lineWidth=r.borderWidth,o.lineJoin="bevel"),u.fullCircles&&function la(o,r,u,d){var v,g=u.endAngle;for(d&&(u.endAngle=u.startAngle+ci,mc(o,u),u.endAngle=g,u.endAngle===u.startAngle&&u.fullCircles&&(u.endAngle+=ci,u.fullCircles--)),o.beginPath(),o.arc(u.x,u.y,u.innerRadius,u.startAngle+ci,u.startAngle,!0),v=0;v<u.fullCircles;++v)o.stroke();for(o.beginPath(),o.arc(u.x,u.y,r.outerRadius,u.startAngle,u.startAngle+ci),v=0;v<u.fullCircles;++v)o.stroke()}(o,r,u,d),d&&mc(o,u),o.beginPath(),o.arc(u.x,u.y,r.outerRadius,u.startAngle,u.endAngle),o.arc(u.x,u.y,u.innerRadius,u.endAngle,u.startAngle,!0),o.closePath(),o.stroke()}lt._set("global",{elements:{arc:{backgroundColor:lt.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var as=Mi.extend({_type:"arc",inLabelRange:function(o){var r=this._view;return!!r&&Math.pow(o-r.x,2)<Math.pow(r.radius+r.hoverRadius,2)},inRange:function(o,r){var u=this._view;if(u){for(var d=j.getAngleFromPoint(u,{x:o,y:r}),g=d.angle,v=d.distance,Z=u.startAngle,U=u.endAngle;U<Z;)U+=ci;for(;g>U;)g-=ci;for(;g<Z;)g+=ci;return g>=Z&&g<=U&&v>=u.innerRadius&&v<=u.outerRadius}return!1},getCenterPoint:function(){var o=this._view,r=(o.startAngle+o.endAngle)/2,u=(o.innerRadius+o.outerRadius)/2;return{x:o.x+Math.cos(r)*u,y:o.y+Math.sin(r)*u}},getArea:function(){var o=this._view;return Math.PI*((o.endAngle-o.startAngle)/(2*Math.PI))*(Math.pow(o.outerRadius,2)-Math.pow(o.innerRadius,2))},tooltipPosition:function(){var o=this._view,r=o.startAngle+(o.endAngle-o.startAngle)/2,u=(o.outerRadius-o.innerRadius)/2+o.innerRadius;return{x:o.x+Math.cos(r)*u,y:o.y+Math.sin(r)*u}},draw:function(){var g,o=this._chart.ctx,r=this._view,u="inner"===r.borderAlign?.33:0,d={x:r.x,y:r.y,innerRadius:r.innerRadius,outerRadius:Math.max(r.outerRadius-u,0),pixelMargin:u,startAngle:r.startAngle,endAngle:r.endAngle,fullCircles:Math.floor(r.circumference/ci)};if(o.save(),o.fillStyle=r.backgroundColor,o.strokeStyle=r.borderColor,d.fullCircles){for(d.endAngle=d.startAngle+ci,o.beginPath(),o.arc(d.x,d.y,d.outerRadius,d.startAngle,d.endAngle),o.arc(d.x,d.y,d.innerRadius,d.endAngle,d.startAngle,!0),o.closePath(),g=0;g<d.fullCircles;++g)o.fill();d.endAngle=d.startAngle+r.circumference%ci}o.beginPath(),o.arc(d.x,d.y,d.outerRadius,d.startAngle,d.endAngle),o.arc(d.x,d.y,d.innerRadius,d.endAngle,d.startAngle,!0),o.closePath(),o.fill(),r.borderWidth&&Nd(o,r,d),o.restore()}}),Be=j.valueOrDefault,Mr=lt.global.defaultColor;lt._set("global",{elements:{line:{tension:.4,backgroundColor:Mr,borderWidth:3,borderColor:Mr,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var di=Mi.extend({_type:"line",draw:function(){var N,M,F,o=this,r=o._view,u=o._chart.ctx,d=r.spanGaps,g=o._children.slice(),v=lt.global,Z=v.elements.line,U=-1,A=o._loop;if(g.length){if(o._loop){for(N=0;N<g.length;++N)if(M=j.previousItem(g,N),!g[N]._view.skip&&M._view.skip){g=g.slice(N).concat(g.slice(0,N)),A=d;break}A&&g.push(g[0])}for(u.save(),u.lineCap=r.borderCapStyle||Z.borderCapStyle,u.setLineDash&&u.setLineDash(r.borderDash||Z.borderDash),u.lineDashOffset=Be(r.borderDashOffset,Z.borderDashOffset),u.lineJoin=r.borderJoinStyle||Z.borderJoinStyle,u.lineWidth=Be(r.borderWidth,Z.borderWidth),u.strokeStyle=r.borderColor||v.defaultColor,u.beginPath(),(F=g[0]._view).skip||(u.moveTo(F.x,F.y),U=0),N=1;N<g.length;++N)F=g[N]._view,M=-1===U?j.previousItem(g,N):g[U],F.skip||(U!==N-1&&!d||-1===U?u.moveTo(F.x,F.y):j.canvas.lineTo(u,M._view,F),U=N);A&&u.closePath(),u.stroke(),u.restore()}}}),rr=j.valueOrDefault,Vo=lt.global.defaultColor;function hc(o){var r=this._view;return!!r&&Math.abs(o-r.x)<r.radius+r.hitRadius}lt._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Vo,borderColor:Vo,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var _c=Mi.extend({_type:"point",inRange:function(o,r){var u=this._view;return!!u&&Math.pow(o-u.x,2)+Math.pow(r-u.y,2)<Math.pow(u.hitRadius+u.radius,2)},inLabelRange:hc,inXRange:hc,inYRange:function Zl(o){var r=this._view;return!!r&&Math.abs(o-r.y)<r.radius+r.hitRadius},getCenterPoint:function(){var o=this._view;return{x:o.x,y:o.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var o=this._view;return{x:o.x,y:o.y,padding:o.radius+o.borderWidth}},draw:function(o){var r=this._view,u=this._chart.ctx,d=r.pointStyle,g=r.rotation,v=r.radius,Z=r.x,U=r.y,A=lt.global,N=A.defaultColor;r.skip||(void 0===o||j.canvas._isPointInArea(r,o))&&(u.strokeStyle=r.borderColor||N,u.lineWidth=rr(r.borderWidth,A.elements.point.borderWidth),u.fillStyle=r.backgroundColor||N,j.canvas.drawPoint(u,d,v,Z,U,g))}}),vc=lt.global.defaultColor;function ja(o){return o&&void 0!==o.width}function yc(o){var r,u,d,g,v;return ja(o)?(r=o.x-(v=o.width/2),u=o.x+v,d=Math.min(o.y,o.base),g=Math.max(o.y,o.base)):(v=o.height/2,r=Math.min(o.x,o.base),u=Math.max(o.x,o.base),d=o.y-v,g=o.y+v),{left:r,top:d,right:u,bottom:g}}function bc(o,r,u){return o===r?u:o===u?r:o}function Id(o,r,u){var v,Z,U,A,d=o.borderWidth,g=function Pd(o){var r=o.borderSkipped,u={};return r&&(o.horizontal?o.base>o.x&&(r=bc(r,"left","right")):o.base<o.y&&(r=bc(r,"bottom","top")),u[r]=!0),u}(o);return j.isObject(d)?(v=+d.top||0,Z=+d.right||0,U=+d.bottom||0,A=+d.left||0):v=Z=U=A=+d||0,{t:g.top||v<0?0:v>u?u:v,r:g.right||Z<0?0:Z>r?r:Z,b:g.bottom||U<0?0:U>u?u:U,l:g.left||A<0?0:A>r?r:A}}function Is(o,r,u){var d=null===r,g=null===u,v=!(!o||d&&g)&&yc(o);return v&&(d||r>=v.left&&r<=v.right)&&(g||u>=v.top&&u<=v.bottom)}lt._set("global",{elements:{rectangle:{backgroundColor:vc,borderColor:vc,borderSkipped:"bottom",borderWidth:0}}});var Ld=Mi.extend({_type:"rectangle",draw:function(){var o=this._chart.ctx,r=this._view,u=function xl(o){var r=yc(o),u=r.right-r.left,d=r.bottom-r.top,g=Id(o,u/2,d/2);return{outer:{x:r.left,y:r.top,w:u,h:d},inner:{x:r.left+g.l,y:r.top+g.t,w:u-g.l-g.r,h:d-g.t-g.b}}}(r),d=u.outer,g=u.inner;o.fillStyle=r.backgroundColor,o.fillRect(d.x,d.y,d.w,d.h),(d.w!==g.w||d.h!==g.h)&&(o.save(),o.beginPath(),o.rect(d.x,d.y,d.w,d.h),o.clip(),o.fillStyle=r.borderColor,o.rect(g.x,g.y,g.w,g.h),o.fill("evenodd"),o.restore())},height:function(){var o=this._view;return o.base-o.y},inRange:function(o,r){return Is(this._view,o,r)},inLabelRange:function(o,r){var u=this._view;return ja(u)?Is(u,o,null):Is(u,null,r)},inXRange:function(o){return Is(this._view,o,null)},inYRange:function(o){return Is(this._view,null,o)},getCenterPoint:function(){var r,u,o=this._view;return ja(o)?(r=o.x,u=(o.y+o.base)/2):(r=(o.x+o.base)/2,u=o.y),{x:r,y:u}},getArea:function(){var o=this._view;return ja(o)?o.width*Math.abs(o.y-o.base):o.height*Math.abs(o.x-o.base)},tooltipPosition:function(){var o=this._view;return{x:o.x,y:o.y}}}),Fi={},y1=di,_u=_c,Ed=Ld;Fi.Arc=as,Fi.Line=y1,Fi.Point=_u,Fi.Rectangle=Ed;var Ls=j._deprecated,ss=j.valueOrDefault;function zn(o,r,u){var U,A,d=u.barThickness,g=r.stackCount,v=r.pixels[o],Z=j.isNullOrUndef(d)?function Md(o,r){var d,g,v,Z,u=o._length;for(v=1,Z=r.length;v<Z;++v)u=Math.min(u,Math.abs(r[v]-r[v-1]));for(v=0,Z=o.getTicks().length;v<Z;++v)g=o.getPixelForTick(v),u=v>0?Math.min(u,Math.abs(g-d)):u,d=g;return u}(r.scale,r.pixels):-1;return j.isNullOrUndef(d)?(U=Z*u.categoryPercentage,A=u.barPercentage):(U=d*g,A=1),{chunk:U/g,ratio:A,start:v-U/2}}lt._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),lt._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var hr=ir.extend({dataElementType:Fi.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var r,u,o=this;ir.prototype.initialize.apply(o,arguments),(r=o.getMeta()).stack=o.getDataset().stack,r.bar=!0,u=o._getIndexScale().options,Ls("bar chart",u.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Ls("bar chart",u.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Ls("bar chart",u.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Ls("bar chart",o._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Ls("bar chart",u.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(o){var d,g,r=this,u=r.getMeta().data;for(r._ruler=r.getRuler(),d=0,g=u.length;d<g;++d)r.updateElement(u[d],d,o)},updateElement:function(o,r,u){var d=this,g=d.getMeta(),v=d.getDataset(),Z=d._resolveDataElementOptions(o,r);o._xScale=d.getScaleForId(g.xAxisID),o._yScale=d.getScaleForId(g.yAxisID),o._datasetIndex=d.index,o._index=r,o._model={backgroundColor:Z.backgroundColor,borderColor:Z.borderColor,borderSkipped:Z.borderSkipped,borderWidth:Z.borderWidth,datasetLabel:v.label,label:d.chart.data.labels[r]},j.isArray(v.data[r])&&(o._model.borderSkipped=null),d._updateElementGeometry(o,r,u,Z),o.pivot()},_updateElementGeometry:function(o,r,u,d){var g=this,v=o._model,Z=g._getValueScale(),U=Z.getBasePixel(),A=Z.isHorizontal(),N=g._ruler||g.getRuler(),M=g.calculateBarValuePixels(g.index,r,d),F=g.calculateBarIndexPixels(g.index,r,N,d);v.horizontal=A,v.base=u?U:M.base,v.x=A?u?U:M.head:F.center,v.y=A?F.center:u?U:M.head,v.height=A?F.size:void 0,v.width=A?void 0:F.size},_getStacks:function(o){var U,A,u=this._getIndexScale(),d=u._getMatchingVisibleMetas(this._type),g=u.options.stacked,v=d.length,Z=[];for(U=0;U<v&&(A=d[U],(!1===g||-1===Z.indexOf(A.stack)||void 0===g&&void 0===A.stack)&&Z.push(A.stack),A.index!==o);++U);return Z},getStackCount:function(){return this._getStacks().length},getStackIndex:function(o,r){var u=this._getStacks(o),d=void 0!==r?u.indexOf(r):-1;return-1===d?u.length-1:d},getRuler:function(){var d,g,o=this,r=o._getIndexScale(),u=[];for(d=0,g=o.getMeta().data.length;d<g;++d)u.push(r.getPixelForValue(null,d,o.index));return{pixels:u,start:r._startPixel,end:r._endPixel,stackCount:o.getStackCount(),scale:r}},calculateBarValuePixels:function(o,r,u){var Pe,pt,Ft,zt,bn,yn,Dn,d=this,g=d.chart,v=d._getValueScale(),Z=v.isHorizontal(),U=g.data.datasets,A=v._getMatchingVisibleMetas(d._type),N=v._parseValue(U[o].data[r]),M=u.minBarLength,F=v.options.stacked,G=d.getMeta().stack,ue=void 0===N.start?0:N.max>=0&&N.min>=0?N.min:N.max,ge=void 0===N.start?N.end:N.max>=0&&N.min>=0?N.max-N.min:N.min-N.max,ve=A.length;if(F||void 0===F&&void 0!==G)for(Pe=0;Pe<ve&&(pt=A[Pe]).index!==o;++Pe)pt.stack===G&&(Ft=void 0===(Dn=v._parseValue(U[pt.index].data[r])).start?Dn.end:Dn.min>=0&&Dn.max>=0?Dn.max:Dn.min,(N.min<0&&Ft<0||N.max>=0&&Ft>0)&&(ue+=Ft));return zt=v.getPixelForValue(ue),yn=(bn=v.getPixelForValue(ue+ge))-zt,void 0!==M&&Math.abs(yn)<M&&(yn=M,bn=ge>=0&&!Z||ge<0&&Z?zt-M:zt+M),{size:yn,base:zt,head:bn,center:bn+yn/2}},calculateBarIndexPixels:function(o,r,u,d){var v="flex"===d.barThickness?function ua(o,r,u){var A,d=r.pixels,g=d[o],v=o>0?d[o-1]:null,Z=o<d.length-1?d[o+1]:null,U=u.categoryPercentage;return null===v&&(v=g-(null===Z?r.end-r.start:Z-g)),null===Z&&(Z=g+g-v),A=g-(g-Math.min(v,Z))/2*U,{chunk:Math.abs(Z-v)/2*U/r.stackCount,ratio:u.barPercentage,start:A}}(r,u,d):zn(r,u,d),Z=this.getStackIndex(o,this.getMeta().stack),U=v.start+v.chunk*Z+v.chunk/2,A=Math.min(ss(d.maxBarThickness,1/0),v.chunk*v.ratio);return{base:U-A/2,head:U+A/2,center:U,size:A}},draw:function(){var o=this,r=o.chart,u=o._getValueScale(),d=o.getMeta().data,g=o.getDataset(),v=d.length,Z=0;for(j.canvas.clipArea(r.ctx,r.chartArea);Z<v;++Z){var U=u._parseValue(g.data[Z]);!isNaN(U.min)&&!isNaN(U.max)&&d[Z].draw()}j.canvas.unclipArea(r.ctx)},_resolveDataElementOptions:function(){var o=this,r=j.extend({},ir.prototype._resolveDataElementOptions.apply(o,arguments)),u=o._getIndexScale().options,d=o._getValueScale().options;return r.barPercentage=ss(u.barPercentage,r.barPercentage),r.barThickness=ss(u.barThickness,r.barThickness),r.categoryPercentage=ss(u.categoryPercentage,r.categoryPercentage),r.maxBarThickness=ss(u.maxBarThickness,r.maxBarThickness),r.minBarLength=ss(d.minBarLength,r.minBarLength),r}}),vu=j.valueOrDefault,ca=j.options.resolve;lt._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(o,r){return(r.datasets[o.datasetIndex].label||"")+": ("+o.xLabel+", "+o.yLabel+", "+r.datasets[o.datasetIndex].data[o.index].r+")"}}}});var da=ir.extend({dataElementType:Fi.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(o){var r=this,u=r.getMeta();j.each(u.data,function(g,v){r.updateElement(g,v,o)})},updateElement:function(o,r,u){var d=this,g=d.getMeta(),v=o.custom||{},Z=d.getScaleForId(g.xAxisID),U=d.getScaleForId(g.yAxisID),A=d._resolveDataElementOptions(o,r),N=d.getDataset().data[r],M=d.index,F=u?Z.getPixelForDecimal(.5):Z.getPixelForValue("object"==typeof N?N:NaN,r,M),G=u?U.getBasePixel():U.getPixelForValue(N,r,M);o._xScale=Z,o._yScale=U,o._options=A,o._datasetIndex=M,o._index=r,o._model={backgroundColor:A.backgroundColor,borderColor:A.borderColor,borderWidth:A.borderWidth,hitRadius:A.hitRadius,pointStyle:A.pointStyle,rotation:A.rotation,radius:u?0:A.radius,skip:v.skip||isNaN(F)||isNaN(G),x:F,y:G},o.pivot()},setHoverStyle:function(o){var r=o._model,u=o._options,d=j.getHoverColor;o.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,radius:r.radius},r.backgroundColor=vu(u.hoverBackgroundColor,d(u.backgroundColor)),r.borderColor=vu(u.hoverBorderColor,d(u.borderColor)),r.borderWidth=vu(u.hoverBorderWidth,u.borderWidth),r.radius=u.radius+u.hoverRadius},_resolveDataElementOptions:function(o,r){var u=this,d=u.chart,g=u.getDataset(),v=o.custom||{},Z=g.data[r]||{},U=ir.prototype._resolveDataElementOptions.apply(u,arguments),A={chart:d,dataIndex:r,dataset:g,datasetIndex:u.index};return u._cachedDataOpts===U&&(U=j.extend({},U)),U.radius=ca([v.radius,Z.r,u._config.radius,d.options.elements.point.radius],A,r),U}}),Qo=j.valueOrDefault,Cr=Math.PI,zo=2*Cr,ji=Cr/2;lt._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(o){var v,Z,U,r=document.createElement("ul"),u=o.data,d=u.datasets,g=u.labels;if(r.setAttribute("class",o.id+"-legend"),d.length)for(v=0,Z=d[0].data.length;v<Z;++v)(U=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=d[0].backgroundColor[v],g[v]&&U.appendChild(document.createTextNode(g[v]));return r.outerHTML},legend:{labels:{generateLabels:function(o){var r=o.data;return r.labels.length&&r.datasets.length?r.labels.map(function(u,d){var g=o.getDatasetMeta(0),v=g.controller.getStyle(d);return{text:u,fillStyle:v.backgroundColor,strokeStyle:v.borderColor,lineWidth:v.borderWidth,hidden:isNaN(r.datasets[0].data[d])||g.data[d].hidden,index:d}}):[]}},onClick:function(o,r){var g,v,Z,u=r.index,d=this.chart;for(g=0,v=(d.data.datasets||[]).length;g<v;++g)(Z=d.getDatasetMeta(g)).data[u]&&(Z.data[u].hidden=!Z.data[u].hidden);d.update()}},cutoutPercentage:50,rotation:-ji,circumference:zo,tooltips:{callbacks:{title:function(){return""},label:function(o,r){var u=r.labels[o.index],d=": "+r.datasets[o.datasetIndex].data[o.index];return j.isArray(u)?(u=u.slice())[0]+=d:u+=d,u}}}});var pa=ir.extend({dataElementType:Fi.Arc,linkScales:j.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(o){for(var r=0,u=0;u<o;++u)this.chart.isDatasetVisible(u)&&++r;return r},update:function(o){var Pe,pt,r=this,u=r.chart,d=u.chartArea,g=u.options,v=1,Z=1,U=0,A=0,N=r.getMeta(),M=N.data,F=g.cutoutPercentage/100||0,G=g.circumference,ue=r._getRingWeight(r.index);if(G<zo){var Ft=g.rotation%zo,zt=(Ft+=Ft>=Cr?-zo:Ft<-Cr?zo:0)+G,bn=Math.cos(Ft),yn=Math.sin(Ft),Dn=Math.cos(zt),Wn=Math.sin(zt),Hn=Ft<=0&&zt>=0||zt>=zo,mo=Ft<=ji&&zt>=ji||zt>=zo+ji,Jo=Ft<=-ji&&zt>=-ji||zt>=Cr+ji,Ro=Ft===-Cr||zt>=Cr?-1:Math.min(bn,bn*F,Dn,Dn*F),ri=Jo?-1:Math.min(yn,yn*F,Wn,Wn*F),bs=Hn?1:Math.max(bn,bn*F,Dn,Dn*F),Qa=mo?1:Math.max(yn,yn*F,Wn,Wn*F);v=(bs-Ro)/2,Z=(Qa-ri)/2,U=-(bs+Ro)/2,A=-(Qa+ri)/2}for(Pe=0,pt=M.length;Pe<pt;++Pe)M[Pe]._options=r._resolveDataElementOptions(M[Pe],Pe);for(u.borderWidth=r.getMaxBorderWidth(),u.outerRadius=Math.max(Math.min((d.right-d.left-u.borderWidth)/v,(d.bottom-d.top-u.borderWidth)/Z)/2,0),u.innerRadius=Math.max(u.outerRadius*F,0),u.radiusLength=(u.outerRadius-u.innerRadius)/(r._getVisibleDatasetWeightTotal()||1),u.offsetX=U*u.outerRadius,u.offsetY=A*u.outerRadius,N.total=r.calculateTotal(),r.outerRadius=u.outerRadius-u.radiusLength*r._getRingWeightOffset(r.index),r.innerRadius=Math.max(r.outerRadius-u.radiusLength*ue,0),Pe=0,pt=M.length;Pe<pt;++Pe)r.updateElement(M[Pe],Pe,o)},updateElement:function(o,r,u){var d=this,g=d.chart,v=g.chartArea,Z=g.options,U=Z.animation,A=(v.left+v.right)/2,N=(v.top+v.bottom)/2,M=Z.rotation,F=Z.rotation,G=d.getDataset(),ue=u&&U.animateRotate||o.hidden?0:d.calculateCircumference(G.data[r])*(Z.circumference/zo),Pe=o._options||{};j.extend(o,{_datasetIndex:d.index,_index:r,_model:{backgroundColor:Pe.backgroundColor,borderColor:Pe.borderColor,borderWidth:Pe.borderWidth,borderAlign:Pe.borderAlign,x:A+g.offsetX,y:N+g.offsetY,startAngle:M,endAngle:F,circumference:ue,outerRadius:u&&U.animateScale?0:d.outerRadius,innerRadius:u&&U.animateScale?0:d.innerRadius,label:j.valueAtIndexOrDefault(G.label,r,g.data.labels[r])}});var pt=o._model;(!u||!U.animateRotate)&&(pt.startAngle=0===r?Z.rotation:d.getMeta().data[r-1]._model.endAngle,pt.endAngle=pt.startAngle+pt.circumference),o.pivot()},calculateTotal:function(){var d,o=this.getDataset(),r=this.getMeta(),u=0;return j.each(r.data,function(g,v){d=o.data[v],!isNaN(d)&&!g.hidden&&(u+=Math.abs(d))}),u},calculateCircumference:function(o){var r=this.getMeta().total;return r>0&&!isNaN(o)?zo*(Math.abs(o)/r):0},getMaxBorderWidth:function(o){var g,v,Z,U,A,N,M,F,u=0,d=this.chart;if(!o)for(g=0,v=d.data.datasets.length;g<v;++g)if(d.isDatasetVisible(g)){o=(Z=d.getDatasetMeta(g)).data,g!==this.index&&(A=Z.controller);break}if(!o)return 0;for(g=0,v=o.length;g<v;++g)U=o[g],A?(A._configure(),N=A._resolveDataElementOptions(U,g)):N=U._options,"inner"!==N.borderAlign&&(u=(F=N.hoverBorderWidth)>(u=(M=N.borderWidth)>u?M:u)?F:u);return u},setHoverStyle:function(o){var r=o._model,u=o._options,d=j.getHoverColor;o.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=Qo(u.hoverBackgroundColor,d(u.backgroundColor)),r.borderColor=Qo(u.hoverBorderColor,d(u.borderColor)),r.borderWidth=Qo(u.hoverBorderWidth,u.borderWidth)},_getRingWeightOffset:function(o){for(var r=0,u=0;u<o;++u)this.chart.isDatasetVisible(u)&&(r+=this._getRingWeight(u));return r},_getRingWeight:function(o){return Math.max(Qo(this.chart.data.datasets[o].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});lt._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),lt._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Os=hr.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),ko=j.valueOrDefault,ls=j.options.resolve,Fr=j.canvas._isPointInArea;function Ra(o,r){var u=o&&o.options.ticks||{},d=u.reverse,g=void 0===u.min?r:0,v=void 0===u.max?r:0;return{start:d?v:g,end:d?g:v}}function Fd(o,r,u){var d=u/2,g=Ra(o,d),v=Ra(r,d);return{top:v.end,right:g.end,bottom:v.start,left:g.start}}function Da(o){var r,u,d,g;return j.isObject(o)?(r=o.top,u=o.right,d=o.bottom,g=o.left):r=u=d=g=o,{top:r,right:u,bottom:d,left:g}}lt._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var yu=ir.extend({datasetElementType:Fi.Line,dataElementType:Fi.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(o){var A,N,r=this,u=r.getMeta(),d=u.dataset,g=u.data||[],Z=r._config,U=r._showLine=ko(Z.showLine,r.chart.options.showLines);for(r._xScale=r.getScaleForId(u.xAxisID),r._yScale=r.getScaleForId(u.yAxisID),U&&(void 0!==Z.tension&&void 0===Z.lineTension&&(Z.lineTension=Z.tension),d._scale=r._yScale,d._datasetIndex=r.index,d._children=g,d._model=r._resolveDatasetElementOptions(d),d.pivot()),A=0,N=g.length;A<N;++A)r.updateElement(g[A],A,o);for(U&&0!==d._model.tension&&r.updateBezierControlPoints(),A=0,N=g.length;A<N;++A)g[A].pivot()},updateElement:function(o,r,u){var G,ue,d=this,g=d.getMeta(),v=o.custom||{},Z=d.getDataset(),U=d.index,A=Z.data[r],N=d._xScale,M=d._yScale,F=g.dataset._model,ge=d._resolveDataElementOptions(o,r);G=N.getPixelForValue("object"==typeof A?A:NaN,r,U),ue=u?M.getBasePixel():d.calculatePointY(A,r,U),o._xScale=N,o._yScale=M,o._options=ge,o._datasetIndex=U,o._index=r,o._model={x:G,y:ue,skip:v.skip||isNaN(G)||isNaN(ue),radius:ge.radius,pointStyle:ge.pointStyle,rotation:ge.rotation,backgroundColor:ge.backgroundColor,borderColor:ge.borderColor,borderWidth:ge.borderWidth,tension:ko(v.tension,F?F.tension:0),steppedLine:!!F&&F.steppedLine,hitRadius:ge.hitRadius}},_resolveDatasetElementOptions:function(o){var r=this,u=r._config,d=o.custom||{},g=r.chart.options,v=g.elements.line,Z=ir.prototype._resolveDatasetElementOptions.apply(r,arguments);return Z.spanGaps=ko(u.spanGaps,g.spanGaps),Z.tension=ko(u.lineTension,v.tension),Z.steppedLine=ls([d.steppedLine,u.steppedLine,v.stepped]),Z.clip=Da(ko(u.clip,Fd(r._xScale,r._yScale,Z.borderWidth))),Z},calculatePointY:function(o,r,u){var A,M,F,G,ue,ge,g=this.chart,v=this._yScale,Z=0,U=0;if(v.options.stacked){for(G=+v.getRightValue(o),ge=(ue=g._getSortedVisibleDatasetMetas()).length,A=0;A<ge&&(M=ue[A]).index!==u;++A)"line"===M.type&&M.yAxisID===v.id&&((F=+v.getRightValue(g.data.datasets[M.index].data[r]))<0?U+=F||0:Z+=F||0);return v.getPixelForValue(G<0?U+G:Z+G)}return v.getPixelForValue(o)},updateBezierControlPoints:function(){var Z,U,A,N,r=this.chart,u=this.getMeta(),d=u.dataset._model,g=r.chartArea,v=u.data||[];function M(F,G,ue){return Math.max(Math.min(F,ue),G)}if(d.spanGaps&&(v=v.filter(function(F){return!F._model.skip})),"monotone"===d.cubicInterpolationMode)j.splineCurveMonotone(v);else for(Z=0,U=v.length;Z<U;++Z)A=v[Z]._model,N=j.splineCurve(j.previousItem(v,Z)._model,A,j.nextItem(v,Z)._model,d.tension),A.controlPointPreviousX=N.previous.x,A.controlPointPreviousY=N.previous.y,A.controlPointNextX=N.next.x,A.controlPointNextY=N.next.y;if(r.options.elements.line.capBezierPoints)for(Z=0,U=v.length;Z<U;++Z)Fr(A=v[Z]._model,g)&&(Z>0&&Fr(v[Z-1]._model,g)&&(A.controlPointPreviousX=M(A.controlPointPreviousX,g.left,g.right),A.controlPointPreviousY=M(A.controlPointPreviousY,g.top,g.bottom)),Z<v.length-1&&Fr(v[Z+1]._model,g)&&(A.controlPointNextX=M(A.controlPointNextX,g.left,g.right),A.controlPointNextY=M(A.controlPointNextY,g.top,g.bottom)))},draw:function(){var A,o=this,r=o.chart,u=o.getMeta(),d=u.data||[],g=r.chartArea,v=r.canvas,Z=0,U=d.length;for(o._showLine&&(j.canvas.clipArea(r.ctx,{left:!1===(A=u.dataset._model.clip).left?0:g.left-A.left,right:!1===A.right?v.width:g.right+A.right,top:!1===A.top?0:g.top-A.top,bottom:!1===A.bottom?v.height:g.bottom+A.bottom}),u.dataset.draw(),j.canvas.unclipArea(r.ctx));Z<U;++Z)d[Z].draw(g)},setHoverStyle:function(o){var r=o._model,u=o._options,d=j.getHoverColor;o.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,radius:r.radius},r.backgroundColor=ko(u.hoverBackgroundColor,d(u.backgroundColor)),r.borderColor=ko(u.hoverBorderColor,d(u.borderColor)),r.borderWidth=ko(u.hoverBorderWidth,u.borderWidth),r.radius=ko(u.hoverRadius,u.radius)}}),fa=j.options.resolve;lt._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(o){var v,Z,U,r=document.createElement("ul"),u=o.data,d=u.datasets,g=u.labels;if(r.setAttribute("class",o.id+"-legend"),d.length)for(v=0,Z=d[0].data.length;v<Z;++v)(U=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=d[0].backgroundColor[v],g[v]&&U.appendChild(document.createTextNode(g[v]));return r.outerHTML},legend:{labels:{generateLabels:function(o){var r=o.data;return r.labels.length&&r.datasets.length?r.labels.map(function(u,d){var g=o.getDatasetMeta(0),v=g.controller.getStyle(d);return{text:u,fillStyle:v.backgroundColor,strokeStyle:v.borderColor,lineWidth:v.borderWidth,hidden:isNaN(r.datasets[0].data[d])||g.data[d].hidden,index:d}}):[]}},onClick:function(o,r){var g,v,Z,u=r.index,d=this.chart;for(g=0,v=(d.data.datasets||[]).length;g<v;++g)(Z=d.getDatasetMeta(g)).data[u].hidden=!Z.data[u].hidden;d.update()}},tooltips:{callbacks:{title:function(){return""},label:function(o,r){return r.labels[o.index]+": "+o.yLabel}}}});var jd=ir.extend({dataElementType:Fi.Arc,linkScales:j.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(o){var A,N,M,r=this,u=r.getDataset(),d=r.getMeta(),g=r.chart.options.startAngle||0,v=r._starts=[],Z=r._angles=[],U=d.data;for(r._updateRadius(),d.count=r.countVisibleElements(),A=0,N=u.data.length;A<N;A++)v[A]=g,M=r._computeAngle(A),Z[A]=M,g+=M;for(A=0,N=U.length;A<N;++A)U[A]._options=r._resolveDataElementOptions(U[A],A),r.updateElement(U[A],A,o)},_updateRadius:function(){var o=this,r=o.chart,u=r.chartArea,d=r.options,g=Math.min(u.right-u.left,u.bottom-u.top);r.outerRadius=Math.max(g/2,0),r.innerRadius=Math.max(d.cutoutPercentage?r.outerRadius/100*d.cutoutPercentage:1,0),r.radiusLength=(r.outerRadius-r.innerRadius)/r.getVisibleDatasetCount(),o.outerRadius=r.outerRadius-r.radiusLength*o.index,o.innerRadius=o.outerRadius-r.radiusLength},updateElement:function(o,r,u){var d=this,g=d.chart,v=d.getDataset(),Z=g.options,U=Z.animation,A=g.scale,N=g.data.labels,M=A.xCenter,F=A.yCenter,G=Z.startAngle,ue=o.hidden?0:A.getDistanceFromCenterForValue(v.data[r]),ge=d._starts[r],ve=ge+(o.hidden?0:d._angles[r]),Pe=U.animateScale?0:A.getDistanceFromCenterForValue(v.data[r]),pt=o._options||{};j.extend(o,{_datasetIndex:d.index,_index:r,_scale:A,_model:{backgroundColor:pt.backgroundColor,borderColor:pt.borderColor,borderWidth:pt.borderWidth,borderAlign:pt.borderAlign,x:M,y:F,innerRadius:0,outerRadius:u?Pe:ue,startAngle:u&&U.animateRotate?G:ge,endAngle:u&&U.animateRotate?G:ve,label:j.valueAtIndexOrDefault(N,r,N[r])}}),o.pivot()},countVisibleElements:function(){var o=this.getDataset(),r=this.getMeta(),u=0;return j.each(r.data,function(d,g){!isNaN(o.data[g])&&!d.hidden&&u++}),u},setHoverStyle:function(o){var r=o._model,u=o._options,d=j.getHoverColor,g=j.valueOrDefault;o.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=g(u.hoverBackgroundColor,d(u.backgroundColor)),r.borderColor=g(u.hoverBorderColor,d(u.borderColor)),r.borderWidth=g(u.hoverBorderWidth,u.borderWidth)},_computeAngle:function(o){var r=this,u=this.getMeta().count,d=r.getDataset(),g=r.getMeta();return isNaN(d.data[o])||g.data[o].hidden?0:fa([r.chart.options.elements.arc.angle,2*Math.PI/u],{chart:r.chart,dataIndex:o,dataset:d,datasetIndex:r.index},o)}});lt._set("pie",j.clone(lt.doughnut)),lt._set("pie",{cutoutPercentage:0});var b1=pa,Ri=j.valueOrDefault;lt._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var Vi=ir.extend({datasetElementType:Fi.Line,dataElementType:Fi.Point,linkScales:j.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(o){var U,A,r=this,u=r.getMeta(),d=u.dataset,g=u.data||[],v=r.chart.scale,Z=r._config;for(void 0!==Z.tension&&void 0===Z.lineTension&&(Z.lineTension=Z.tension),d._scale=v,d._datasetIndex=r.index,d._children=g,d._loop=!0,d._model=r._resolveDatasetElementOptions(d),d.pivot(),U=0,A=g.length;U<A;++U)r.updateElement(g[U],U,o);for(r.updateBezierControlPoints(),U=0,A=g.length;U<A;++U)g[U].pivot()},updateElement:function(o,r,u){var d=this,g=o.custom||{},v=d.getDataset(),Z=d.chart.scale,U=Z.getPointPositionForValue(r,v.data[r]),A=d._resolveDataElementOptions(o,r),N=d.getMeta().dataset._model,M=u?Z.xCenter:U.x,F=u?Z.yCenter:U.y;o._scale=Z,o._options=A,o._datasetIndex=d.index,o._index=r,o._model={x:M,y:F,skip:g.skip||isNaN(M)||isNaN(F),radius:A.radius,pointStyle:A.pointStyle,rotation:A.rotation,backgroundColor:A.backgroundColor,borderColor:A.borderColor,borderWidth:A.borderWidth,tension:Ri(g.tension,N?N.tension:0),hitRadius:A.hitRadius}},_resolveDatasetElementOptions:function(){var o=this,r=o._config,u=o.chart.options,d=ir.prototype._resolveDatasetElementOptions.apply(o,arguments);return d.spanGaps=Ri(r.spanGaps,u.spanGaps),d.tension=Ri(r.lineTension,u.elements.line.tension),d},updateBezierControlPoints:function(){var g,v,Z,U,r=this.getMeta(),u=this.chart.chartArea,d=r.data||[];function A(N,M,F){return Math.max(Math.min(N,F),M)}for(r.dataset._model.spanGaps&&(d=d.filter(function(N){return!N._model.skip})),g=0,v=d.length;g<v;++g)Z=d[g]._model,U=j.splineCurve(j.previousItem(d,g,!0)._model,Z,j.nextItem(d,g,!0)._model,Z.tension),Z.controlPointPreviousX=A(U.previous.x,u.left,u.right),Z.controlPointPreviousY=A(U.previous.y,u.top,u.bottom),Z.controlPointNextX=A(U.next.x,u.left,u.right),Z.controlPointNextY=A(U.next.y,u.top,u.bottom)},setHoverStyle:function(o){var r=o._model,u=o._options,d=j.getHoverColor;o.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,radius:r.radius},r.backgroundColor=Ri(u.hoverBackgroundColor,d(u.backgroundColor)),r.borderColor=Ri(u.hoverBorderColor,d(u.borderColor)),r.borderWidth=Ri(u.hoverBorderWidth,u.borderWidth),r.radius=Ri(u.hoverRadius,u.radius)}});lt._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(o){return"("+o.xLabel+", "+o.yLabel+")"}}}}),lt._set("global",{datasets:{scatter:{showLine:!1}}});var Qn={bar:hr,bubble:da,doughnut:pa,horizontalBar:Os,line:yu,polarArea:jd,pie:b1,radar:Vi,scatter:yu};function yi(o,r){return o.native?{x:o.x,y:o.y}:j.getRelativePosition(o,r)}function Ba(o,r){var d,g,v,Z,U,A,u=o._getSortedVisibleDatasetMetas();for(g=0,Z=u.length;g<Z;++g)for(v=0,U=(d=u[g].data).length;v<U;++v)(A=d[v])._view.skip||r(A)}function Al(o,r){var u=[];return Ba(o,function(d){d.inRange(r.x,r.y)&&u.push(d)}),u}function ga(o,r,u,d){var g=Number.POSITIVE_INFINITY,v=[];return Ba(o,function(Z){if(!u||Z.inRange(r.x,r.y)){var U=Z.getCenterPoint(),A=d(r,U);A<g?(v=[Z],g=A):A===g&&v.push(Z)}}),v}function Tl(o){var r=-1!==o.indexOf("x"),u=-1!==o.indexOf("y");return function(d,g){var v=r?Math.abs(d.x-g.x):0,Z=u?Math.abs(d.y-g.y):0;return Math.sqrt(Math.pow(v,2)+Math.pow(Z,2))}}function Es(o,r,u){var d=yi(r,o);u.axis=u.axis||"x";var g=Tl(u.axis),v=u.intersect?Al(o,d):ga(o,d,!1,g),Z=[];return v.length?(o._getSortedVisibleDatasetMetas().forEach(function(U){var A=U.data[v[0]._index];A&&!A._view.skip&&Z.push(A)}),Z):[]}var _r={modes:{single:function(o,r){var u=yi(r,o),d=[];return Ba(o,function(g){if(g.inRange(u.x,u.y))return d.push(g),d}),d.slice(0,1)},label:Es,index:Es,dataset:function(o,r,u){var d=yi(r,o);u.axis=u.axis||"xy";var g=Tl(u.axis),v=u.intersect?Al(o,d):ga(o,d,!1,g);return v.length>0&&(v=o.getDatasetMeta(v[0]._datasetIndex).data),v},"x-axis":function(o,r){return Es(o,r,{intersect:!1})},point:function(o,r){return Al(o,yi(r,o))},nearest:function(o,r,u){var d=yi(r,o);u.axis=u.axis||"xy";var g=Tl(u.axis);return ga(o,d,u.intersect,g)},x:function(o,r,u){var d=yi(r,o),g=[],v=!1;return Ba(o,function(Z){Z.inXRange(d.x)&&g.push(Z),Z.inRange(d.x,d.y)&&(v=!0)}),u.intersect&&!v&&(g=[]),g},y:function(o,r,u){var d=yi(r,o),g=[],v=!1;return Ba(o,function(Z){Z.inYRange(d.y)&&g.push(Z),Z.inRange(d.x,d.y)&&(v=!0)}),u.intersect&&!v&&(g=[]),g}}},bu=j.extend;function Ms(o,r){return j.where(o,function(u){return u.pos===r})}function $i(o,r){return o.sort(function(u,d){var g=r?d:u,v=r?u:d;return g.weight===v.weight?g.index-v.index:g.weight-v.weight})}function us(o,r,u,d){return Math.max(o[u],r[u])+Math.max(o[d],r[d])}function Zc(o,r,u){var v,Z,d=u.box,g=o.maxPadding;if(u.size&&(o[u.pos]-=u.size),u.size=u.horizontal?d.height:d.width,o[u.pos]+=u.size,d.getPadding){var U=d.getPadding();g.top=Math.max(g.top,U.top),g.left=Math.max(g.left,U.left),g.bottom=Math.max(g.bottom,U.bottom),g.right=Math.max(g.right,U.right)}if(v=r.outerWidth-us(g,o,"left","right"),Z=r.outerHeight-us(g,o,"top","bottom"),v!==o.w||Z!==o.h){o.w=v,o.h=Z;var A=u.horizontal?[v,o.w]:[Z,o.h];return!(A[0]===A[1]||isNaN(A[0])&&isNaN(A[1]))}}function Bd(o,r){var u=r.maxPadding;return function d(g){var v={left:0,top:0,right:0,bottom:0};return g.forEach(function(Z){v[Z]=Math.max(r[Z],u[Z])}),v}(o?["left","right"]:["top","bottom"])}function js(o,r,u){var g,v,Z,U,A,N,d=[];for(g=0,v=o.length;g<v;++g)(U=(Z=o[g]).box).update(Z.width||r.w,Z.height||r.h,Bd(Z.horizontal,r)),Zc(r,u,Z)&&(N=!0,d.length&&(A=!0)),U.fullWidth||d.push(Z);return A&&js(d,r,u)||N}function xc(o,r,u){var Z,U,A,N,d=u.padding,g=r.x,v=r.y;for(Z=0,U=o.length;Z<U;++Z)N=(A=o[Z]).box,A.horizontal?(N.left=N.fullWidth?d.left:r.left,N.right=N.fullWidth?u.outerWidth-d.right:r.left+r.w,N.top=v,N.bottom=v+N.height,N.width=N.right-N.left,v=N.bottom):(N.left=g,N.right=g+N.width,N.top=r.top,N.bottom=r.top+r.h,N.height=N.bottom-N.top,g=N.right);r.x=g,r.y=v}lt._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var ar={defaults:{},addBox:function(o,r){o.boxes||(o.boxes=[]),r.fullWidth=r.fullWidth||!1,r.position=r.position||"top",r.weight=r.weight||0,r._layers=r._layers||function(){return[{z:0,draw:function(){r.draw.apply(r,arguments)}}]},o.boxes.push(r)},removeBox:function(o,r){var u=o.boxes?o.boxes.indexOf(r):-1;-1!==u&&o.boxes.splice(u,1)},configure:function(o,r,u){for(var Z,d=["fullWidth","position","weight"],g=d.length,v=0;v<g;++v)u.hasOwnProperty(Z=d[v])&&(r[Z]=u[Z])},update:function(o,r,u){if(o){var g=j.options.toPadding((o.options.layout||{}).padding),v=r-g.width,Z=u-g.height,U=function Dd(o){var r=function Fs(o){var u,d,g,r=[];for(u=0,d=(o||[]).length;u<d;++u)r.push({index:u,box:g=o[u],pos:g.position,horizontal:g.isHorizontal(),weight:g.weight});return r}(o),u=$i(Ms(r,"left"),!0),d=$i(Ms(r,"right")),g=$i(Ms(r,"top"),!0),v=$i(Ms(r,"bottom"));return{leftAndTop:u.concat(g),rightAndBottom:d.concat(v),chartArea:Ms(r,"chartArea"),vertical:u.concat(d),horizontal:g.concat(v)}}(o.boxes),A=U.vertical,N=U.horizontal,M=Object.freeze({outerWidth:r,outerHeight:u,padding:g,availableWidth:v,vBoxMaxWidth:v/2/A.length,hBoxMaxHeight:Z/2}),F=bu({maxPadding:bu({},g),w:v,h:Z,x:g.left,y:g.top},g);(function Rd(o,r){var u,d,g;for(u=0,d=o.length;u<d;++u)(g=o[u]).width=g.horizontal?g.box.fullWidth&&r.availableWidth:r.vBoxMaxWidth,g.height=g.horizontal&&r.hBoxMaxHeight})(A.concat(N),M),js(A,F,M),js(N,F,M)&&js(A,F,M),function za(o){var r=o.maxPadding;function u(d){var g=Math.max(r[d]-o[d],0);return o[d]+=g,g}o.y+=u("top"),o.x+=u("left"),u("right"),u("bottom")}(F),xc(U.leftAndTop,F,M),F.x+=F.w,F.y+=F.h,xc(U.rightAndBottom,F,M),o.chartArea={left:F.left,top:F.top,right:F.left+F.w,bottom:F.top+F.h},j.each(U.chartArea,function(G){var ue=G.box;bu(ue,o.chartArea),ue.update(F.w,F.h)})}}},Hd=function b(o){return o&&o.default||o}(Object.freeze({__proto__:null,default:"/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n"})),wi="$chartjs",Zu="chartjs-",xu=Zu+"size-monitor",Ac=Zu+"render-monitor",Tc=["animationstart","webkitAnimationStart"],Kd={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function cs(o,r){var u=j.getStyle(o,r),d=u&&u.match(/^(\d+)(\.\d+)?px$/);return d?Number(d[1]):void 0}var wc=!!function(){var o=!1;try{var r=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("e",null,r)}catch{}return o}()&&{passive:!0};function ma(o,r,u){o.addEventListener(r,u,wc)}function wl(o,r,u){o.removeEventListener(r,u,wc)}function Ja(o,r,u,d,g){return{type:o,chart:r,native:g||null,x:void 0!==u?u:null,y:void 0!==d?d:null}}function Rs(o){var r=document.createElement("div");return r.className=o||"",r}function Cc(o,r,u){var d=o[wi]||(o[wi]={}),g=d.resizer=function $d(o){var r=1e6,u=Rs(xu),d=Rs(xu+"-expand"),g=Rs(xu+"-shrink");d.appendChild(Rs()),g.appendChild(Rs()),u.appendChild(d),u.appendChild(g),u._reset=function(){d.scrollLeft=r,d.scrollTop=r,g.scrollLeft=r,g.scrollTop=r};var v=function(){u._reset(),o()};return ma(d,"scroll",v.bind(d,"expand")),ma(g,"scroll",v.bind(g,"shrink")),u}(function Qd(o,r){var u=!1,d=[];return function(){d=Array.prototype.slice.call(arguments),r=r||this,u||(u=!0,j.requestAnimFrame.call(window,function(){u=!1,o.apply(r,d)}))}}(function(){if(d.resizer){var v=u.options.maintainAspectRatio&&o.parentNode,Z=v?v.clientWidth:0;r(Ja("resize",u)),v&&v.clientWidth<Z&&u.canvas&&r(Ja("resize",u))}}));!function Ds(o,r){var u=o[wi]||(o[wi]={}),d=u.renderProxy=function(g){"chartjs-render-animation"===g.animationName&&r()};j.each(Tc,function(g){ma(o,g,d)}),u.reflow=!!o.offsetParent,o.classList.add(Ac)}(o,function(){if(d.resizer){var v=o.parentNode;v&&v!==g.parentNode&&v.insertBefore(g,v.firstChild),g._reset()}})}function Ga(o){var r=o[wi]||{},u=r.resizer;delete r.resizer,function Xd(o){var r=o[wi]||{},u=r.renderProxy;u&&(j.each(Tc,function(d){wl(o,d,u)}),delete r.renderProxy),o.classList.remove(Ac)}(o),u&&u.parentNode&&u.parentNode.removeChild(u)}var Uc={disableCSSInjection:!1,_enabled:typeof window<"u"&&typeof document<"u",_ensureLoaded:function(o){if(!this.disableCSSInjection){var r=o.getRootNode?o.getRootNode():document;!function qc(o,r){var u=o[wi]||(o[wi]={});if(!u.containsStyles){u.containsStyles=!0,r="/* Chart.js */\n"+r;var d=document.createElement("style");d.setAttribute("type","text/css"),d.appendChild(document.createTextNode(r)),o.appendChild(d)}}(r.host?r:document.head,Hd)}},acquireContext:function(o,r){"string"==typeof o?o=document.getElementById(o):o.length&&(o=o[0]),o&&o.canvas&&(o=o.canvas);var u=o&&o.getContext&&o.getContext("2d");return u&&u.canvas===o?(this._ensureLoaded(o),function ds(o,r){var u=o.style,d=o.getAttribute("height"),g=o.getAttribute("width");if(o[wi]={initial:{height:d,width:g,style:{display:u.display,height:u.height,width:u.width}}},u.display=u.display||"block",null===g||""===g){var v=cs(o,"width");void 0!==v&&(o.width=v)}if(null===d||""===d)if(""===o.style.height)o.height=o.width/(r.options.aspectRatio||2);else{var Z=cs(o,"height");void 0!==v&&(o.height=Z)}return o}(o,r),u):null},releaseContext:function(o){var r=o.canvas;if(r[wi]){var u=r[wi].initial;["height","width"].forEach(function(d){var g=u[d];j.isNullOrUndef(g)?r.removeAttribute(d):r.setAttribute(d,g)}),j.each(u.style||{},function(d,g){r.style[g]=d}),r.width=r.width,delete r[wi]}},addEventListener:function(o,r,u){var d=o.canvas;if("resize"!==r){var g=u[wi]||(u[wi]={});ma(d,r,(g.proxies||(g.proxies={}))[o.id+"_"+r]=function(U){u(function Vd(o,r){var u=Kd[o.type]||o.type,d=j.getRelativePosition(o,r);return Ja(u,r,d.x,d.y,o)}(U,o))})}else Cc(d,u,o)},removeEventListener:function(o,r,u){var d=o.canvas;if("resize"!==r){var Z=((u[wi]||{}).proxies||{})[o.id+"_"+r];!Z||wl(d,r,Z)}else Ga(d)}};j.addEvent=ma,j.removeEvent=wl;var ps=j.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Uc._enabled?Uc:{acquireContext:function(o){return o&&o.canvas&&(o=o.canvas),o&&o.getContext("2d")||null}});lt._set("global",{plugins:{}});var Jn={_plugins:[],_cacheId:0,register:function(o){var r=this._plugins;[].concat(o).forEach(function(u){-1===r.indexOf(u)&&r.push(u)}),this._cacheId++},unregister:function(o){var r=this._plugins;[].concat(o).forEach(function(u){var d=r.indexOf(u);-1!==d&&r.splice(d,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(o,r,u){var v,Z,U,A,N,d=this.descriptors(o),g=d.length;for(v=0;v<g;++v)if("function"==typeof(N=(U=(Z=d[v]).plugin)[r])&&((A=[o].concat(u||[])).push(Z.options),!1===N.apply(U,A)))return!1;return!0},descriptors:function(o){var r=o.$plugins||(o.$plugins={});if(r.id===this._cacheId)return r.descriptors;var u=[],d=[],g=o&&o.config||{},v=g.options&&g.options.plugins||{};return this._plugins.concat(g.plugins||[]).forEach(function(Z){if(-1===u.indexOf(Z)){var A=Z.id,N=v[A];!1!==N&&(!0===N&&(N=j.clone(lt.global.plugins[A])),u.push(Z),d.push({plugin:Z,options:N||{}}))}}),r.descriptors=d,r.id=this._cacheId,d},_invalidate:function(o){delete o.$plugins}},Bs={constructors:{},defaults:{},registerScaleType:function(o,r,u){this.constructors[o]=r,this.defaults[o]=j.clone(u)},getScaleConstructor:function(o){return this.constructors.hasOwnProperty(o)?this.constructors[o]:void 0},getScaleDefaults:function(o){return this.defaults.hasOwnProperty(o)?j.merge(Object.create(null),[lt.scale,this.defaults[o]]):{}},updateScaleDefaults:function(o,r){var u=this;u.defaults.hasOwnProperty(o)&&(u.defaults[o]=j.extend(u.defaults[o],r))},addScalesToLayout:function(o){j.each(o.scales,function(r){r.fullWidth=r.options.fullWidth,r.position=r.options.position,r.weight=r.options.weight,ar.addBox(o,r)})}},jr=j.valueOrDefault,Au=j.rtl.getRtlAdapter;lt._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:j.noop,title:function(o,r){var u="",d=r.labels,g=d?d.length:0;if(o.length>0){var v=o[0];v.label?u=v.label:v.xLabel?u=v.xLabel:g>0&&v.index<g&&(u=d[v.index])}return u},afterTitle:j.noop,beforeBody:j.noop,beforeLabel:j.noop,label:function(o,r){var u=r.datasets[o.datasetIndex].label||"";return u&&(u+=": "),j.isNullOrUndef(o.value)?u+=o.yLabel:u+=o.value,u},labelColor:function(o,r){var g=r.getDatasetMeta(o.datasetIndex).data[o.index]._view;return{borderColor:g.borderColor,backgroundColor:g.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:j.noop,afterBody:j.noop,beforeFooter:j.noop,footer:j.noop,afterFooter:j.noop}}});var Sc={average:function(o){if(!o.length)return!1;var r,u,d=0,g=0,v=0;for(r=0,u=o.length;r<u;++r){var Z=o[r];if(Z&&Z.hasValue()){var U=Z.tooltipPosition();d+=U.x,g+=U.y,++v}}return{x:d/v,y:g/v}},nearest:function(o,r){var v,Z,U,u=r.x,d=r.y,g=Number.POSITIVE_INFINITY;for(v=0,Z=o.length;v<Z;++v){var A=o[v];if(A&&A.hasValue()){var N=A.getCenterPoint(),M=j.distanceBetweenPoints(r,N);M<g&&(g=M,U=A)}}if(U){var F=U.tooltipPosition();u=F.x,d=F.y}return{x:u,y:d}}};function Di(o,r){return r&&(j.isArray(r)?Array.prototype.push.apply(o,r):o.push(r)),o}function vr(o){return("string"==typeof o||o instanceof String)&&o.indexOf("\n")>-1?o.split("\n"):o}function tp(o){var r=o._xScale,u=o._yScale||o._scale,d=o._index,g=o._datasetIndex,v=o._chart.getDatasetMeta(g).controller,Z=v._getIndexScale(),U=v._getValueScale();return{xLabel:r?r.getLabelForIndex(d,g):"",yLabel:u?u.getLabelForIndex(d,g):"",label:Z?""+Z.getLabelForIndex(d,g):"",value:U?""+U.getLabelForIndex(d,g):"",index:d,datasetIndex:g,x:o._model.x,y:o._model.y}}function kc(o){var r=lt.global;return{xPadding:o.xPadding,yPadding:o.yPadding,xAlign:o.xAlign,yAlign:o.yAlign,rtl:o.rtl,textDirection:o.textDirection,bodyFontColor:o.bodyFontColor,_bodyFontFamily:jr(o.bodyFontFamily,r.defaultFontFamily),_bodyFontStyle:jr(o.bodyFontStyle,r.defaultFontStyle),_bodyAlign:o.bodyAlign,bodyFontSize:jr(o.bodyFontSize,r.defaultFontSize),bodySpacing:o.bodySpacing,titleFontColor:o.titleFontColor,_titleFontFamily:jr(o.titleFontFamily,r.defaultFontFamily),_titleFontStyle:jr(o.titleFontStyle,r.defaultFontStyle),titleFontSize:jr(o.titleFontSize,r.defaultFontSize),_titleAlign:o.titleAlign,titleSpacing:o.titleSpacing,titleMarginBottom:o.titleMarginBottom,footerFontColor:o.footerFontColor,_footerFontFamily:jr(o.footerFontFamily,r.defaultFontFamily),_footerFontStyle:jr(o.footerFontStyle,r.defaultFontStyle),footerFontSize:jr(o.footerFontSize,r.defaultFontSize),_footerAlign:o.footerAlign,footerSpacing:o.footerSpacing,footerMarginTop:o.footerMarginTop,caretSize:o.caretSize,cornerRadius:o.cornerRadius,backgroundColor:o.backgroundColor,opacity:0,legendColorBackground:o.multiKeyBackground,displayColors:o.displayColors,borderColor:o.borderColor,borderWidth:o.borderWidth}}function Cl(o,r){return"center"===r?o.x+o.width/2:"right"===r?o.x+o.width-o.xPadding:o.x+o.xPadding}function Ha(o){return Di([],vr(o))}var rp=Mi.extend({initialize:function(){this._model=kc(this._options),this._lastActive=[]},getTitle:function(){var o=this,u=o._options.callbacks,d=u.beforeTitle.apply(o,arguments),g=u.title.apply(o,arguments),v=u.afterTitle.apply(o,arguments),Z=[];return Z=Di(Z,vr(d)),Z=Di(Z,vr(g)),Di(Z,vr(v))},getBeforeBody:function(){return Ha(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(o,r){var u=this,d=u._options.callbacks,g=[];return j.each(o,function(v){var Z={before:[],lines:[],after:[]};Di(Z.before,vr(d.beforeLabel.call(u,v,r))),Di(Z.lines,d.label.call(u,v,r)),Di(Z.after,vr(d.afterLabel.call(u,v,r))),g.push(Z)}),g},getAfterBody:function(){return Ha(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var o=this,r=o._options.callbacks,u=r.beforeFooter.apply(o,arguments),d=r.footer.apply(o,arguments),g=r.afterFooter.apply(o,arguments),v=[];return v=Di(v,vr(u)),v=Di(v,vr(d)),Di(v,vr(g))},update:function(o){var F,G,r=this,u=r._options,d=r._model,g=r._model=kc(u),v=r._active,Z=r._data,U={xAlign:d.xAlign,yAlign:d.yAlign},A={x:d.x,y:d.y},N={width:d.width,height:d.height},M={x:d.caretX,y:d.caretY};if(v.length){g.opacity=1;var ue=[],ge=[];M=Sc[u.position].call(r,v,r._eventPosition);var ve=[];for(F=0,G=v.length;F<G;++F)ve.push(tp(v[F]));u.filter&&(ve=ve.filter(function(Pe){return u.filter(Pe,Z)})),u.itemSort&&(ve=ve.sort(function(Pe,pt){return u.itemSort(Pe,pt,Z)})),j.each(ve,function(Pe){ue.push(u.callbacks.labelColor.call(r,Pe,r._chart)),ge.push(u.callbacks.labelTextColor.call(r,Pe,r._chart))}),g.title=r.getTitle(ve,Z),g.beforeBody=r.getBeforeBody(ve,Z),g.body=r.getBody(ve,Z),g.afterBody=r.getAfterBody(ve,Z),g.footer=r.getFooter(ve,Z),g.x=M.x,g.y=M.y,g.caretPadding=u.caretPadding,g.labelColors=ue,g.labelTextColors=ge,g.dataPoints=ve,A=function ip(o,r,u,d){var g=o.x,v=o.y,U=o.caretPadding,N=u.xAlign,M=u.yAlign,F=o.caretSize+U,G=o.cornerRadius+U;return"right"===N?g-=r.width:"center"===N&&((g-=r.width/2)+r.width>d.width&&(g=d.width-r.width),g<0&&(g=0)),"top"===M?v+=F:v-="bottom"===M?r.height+F:r.height/2,"center"===M?"left"===N?g+=F:"right"===N&&(g-=F):"left"===N?g-=G:"right"===N&&(g+=G),{x:g,y:v}}(g,N=function np(o,r){var u=o._chart.ctx,d=2*r.yPadding,g=0,v=r.body,Z=v.reduce(function(ge,ve){return ge+ve.before.length+ve.lines.length+ve.after.length},0),U=r.title.length,A=r.footer.length,N=r.titleFontSize,M=r.bodyFontSize,F=r.footerFontSize;d+=U*N,d+=U?(U-1)*r.titleSpacing:0,d+=U?r.titleMarginBottom:0,d+=(Z+=r.beforeBody.length+r.afterBody.length)*M,d+=Z?(Z-1)*r.bodySpacing:0,d+=A?r.footerMarginTop:0,d+=A*F,d+=A?(A-1)*r.footerSpacing:0;var G=0,ue=function(ge){g=Math.max(g,u.measureText(ge).width+G)};return u.font=j.fontString(N,r._titleFontStyle,r._titleFontFamily),j.each(r.title,ue),u.font=j.fontString(M,r._bodyFontStyle,r._bodyFontFamily),j.each(r.beforeBody.concat(r.afterBody),ue),G=r.displayColors?M+2:0,j.each(v,function(ge){j.each(ge.before,ue),j.each(ge.lines,ue),j.each(ge.after,ue)}),G=0,u.font=j.fontString(F,r._footerFontStyle,r._footerFontFamily),j.each(r.footer,ue),{width:g+=2*r.xPadding,height:d}}(this,g),U=function op(o,r){var u=o._model,d=o._chart,g=o._chart.chartArea,v="center",Z="center";u.y<r.height?Z="top":u.y>d.height-r.height&&(Z="bottom");var U,A,N,M,F,G=(g.left+g.right)/2,ue=(g.top+g.bottom)/2;"center"===Z?(U=function(ve){return ve<=G},A=function(ve){return ve>G}):(U=function(ve){return ve<=r.width/2},A=function(ve){return ve>=d.width-r.width/2}),N=function(ve){return ve+r.width+u.caretSize+u.caretPadding>d.width},M=function(ve){return ve-r.width-u.caretSize-u.caretPadding<0},F=function(ve){return ve<=ue?"top":"bottom"},U(u.x)?(v="left",N(u.x)&&(v="center",Z=F(u.y))):A(u.x)&&(v="right",M(u.x)&&(v="center",Z=F(u.y)));var ge=o._options;return{xAlign:ge.xAlign?ge.xAlign:v,yAlign:ge.yAlign?ge.yAlign:Z}}(this,N),r._chart)}else g.opacity=0;return g.xAlign=U.xAlign,g.yAlign=U.yAlign,g.x=A.x,g.y=A.y,g.width=N.width,g.height=N.height,g.caretX=M.x,g.caretY=M.y,r._model=g,o&&u.custom&&u.custom.call(r,g),r},drawCaret:function(o,r){var u=this._chart.ctx,g=this.getCaretPosition(o,r,this._view);u.lineTo(g.x1,g.y1),u.lineTo(g.x2,g.y2),u.lineTo(g.x3,g.y3)},getCaretPosition:function(o,r,u){var d,g,v,Z,U,A,N=u.caretSize,M=u.cornerRadius,F=u.xAlign,G=u.yAlign,ue=o.x,ge=o.y,ve=r.width,Pe=r.height;if("center"===G)U=ge+Pe/2,"left"===F?(g=(d=ue)-N,v=d,Z=U+N,A=U-N):(g=(d=ue+ve)+N,v=d,Z=U-N,A=U+N);else if("left"===F?(d=(g=ue+M+N)-N,v=g+N):"right"===F?(d=(g=ue+ve-M-N)-N,v=g+N):(d=(g=u.caretX)-N,v=g+N),"top"===G)U=(Z=ge)-N,A=Z;else{U=(Z=ge+Pe)+N,A=Z;var pt=v;v=d,d=pt}return{x1:d,x2:g,x3:v,y1:Z,y2:U,y3:A}},drawTitle:function(o,r,u){var v,Z,U,d=r.title,g=d.length;if(g){var A=Au(r.rtl,r.x,r.width);for(o.x=Cl(r,r._titleAlign),u.textAlign=A.textAlign(r._titleAlign),u.textBaseline="middle",v=r.titleFontSize,Z=r.titleSpacing,u.fillStyle=r.titleFontColor,u.font=j.fontString(v,r._titleFontStyle,r._titleFontFamily),U=0;U<g;++U)u.fillText(d[U],A.x(o.x),o.y+v/2),o.y+=v+Z,U+1===g&&(o.y+=r.titleMarginBottom-Z)}},drawBody:function(o,r,u){var G,ue,ge,ve,Pe,pt,Ft,zt,d=r.bodyFontSize,g=r.bodySpacing,v=r._bodyAlign,Z=r.body,U=r.displayColors,A=0,N=U?Cl(r,"left"):0,M=Au(r.rtl,r.x,r.width),F=function(Dn){u.fillText(Dn,M.x(o.x+A),o.y+d/2),o.y+=d+g},bn=M.textAlign(v);for(u.textAlign=v,u.textBaseline="middle",u.font=j.fontString(d,r._bodyFontStyle,r._bodyFontFamily),o.x=Cl(r,bn),u.fillStyle=r.bodyFontColor,j.each(r.beforeBody,F),A=U&&"right"!==bn?"center"===v?d/2+1:d+2:0,Pe=0,Ft=Z.length;Pe<Ft;++Pe){for(G=Z[Pe],ge=r.labelColors[Pe],u.fillStyle=ue=r.labelTextColors[Pe],j.each(G.before,F),pt=0,zt=(ve=G.lines).length;pt<zt;++pt){if(U){var yn=M.x(N);u.fillStyle=r.legendColorBackground,u.fillRect(M.leftForLtr(yn,d),o.y,d,d),u.lineWidth=1,u.strokeStyle=ge.borderColor,u.strokeRect(M.leftForLtr(yn,d),o.y,d,d),u.fillStyle=ge.backgroundColor,u.fillRect(M.leftForLtr(M.xPlus(yn,1),d-2),o.y+1,d-2,d-2),u.fillStyle=ue}F(ve[pt])}j.each(G.after,F)}A=0,j.each(r.afterBody,F),o.y-=g},drawFooter:function(o,r,u){var v,Z,d=r.footer,g=d.length;if(g){var U=Au(r.rtl,r.x,r.width);for(o.x=Cl(r,r._footerAlign),o.y+=r.footerMarginTop,u.textAlign=U.textAlign(r._footerAlign),u.textBaseline="middle",v=r.footerFontSize,u.fillStyle=r.footerFontColor,u.font=j.fontString(v,r._footerFontStyle,r._footerFontFamily),Z=0;Z<g;++Z)u.fillText(d[Z],U.x(o.x),o.y+v/2),o.y+=v+r.footerSpacing}},drawBackground:function(o,r,u,d){u.fillStyle=r.backgroundColor,u.strokeStyle=r.borderColor,u.lineWidth=r.borderWidth;var g=r.xAlign,v=r.yAlign,Z=o.x,U=o.y,A=d.width,N=d.height,M=r.cornerRadius;u.beginPath(),u.moveTo(Z+M,U),"top"===v&&this.drawCaret(o,d),u.lineTo(Z+A-M,U),u.quadraticCurveTo(Z+A,U,Z+A,U+M),"center"===v&&"right"===g&&this.drawCaret(o,d),u.lineTo(Z+A,U+N-M),u.quadraticCurveTo(Z+A,U+N,Z+A-M,U+N),"bottom"===v&&this.drawCaret(o,d),u.lineTo(Z+M,U+N),u.quadraticCurveTo(Z,U+N,Z,U+N-M),"center"===v&&"left"===g&&this.drawCaret(o,d),u.lineTo(Z,U+M),u.quadraticCurveTo(Z,U,Z+M,U),u.closePath(),u.fill(),r.borderWidth>0&&u.stroke()},draw:function(){var o=this._chart.ctx,r=this._view;if(0!==r.opacity){var u={width:r.width,height:r.height},d={x:r.x,y:r.y},g=Math.abs(r.opacity<.001)?0:r.opacity;this._options.enabled&&(r.title.length||r.beforeBody.length||r.body.length||r.afterBody.length||r.footer.length)&&(o.save(),o.globalAlpha=g,this.drawBackground(d,r,o,u),d.y+=r.yPadding,j.rtl.overrideTextDirection(o,r.textDirection),this.drawTitle(d,r,o),this.drawBody(d,r,o),this.drawFooter(d,r,o),j.rtl.restoreTextDirection(o,r.textDirection),o.restore())}},handleEvent:function(o){var d,r=this,u=r._options;return r._lastActive=r._lastActive||[],"mouseout"===o.type?r._active=[]:(r._active=r._chart.getElementsAtEventForMode(o,u.mode,u),u.reverse&&r._active.reverse()),(d=!j.arrayEquals(r._active,r._lastActive))&&(r._lastActive=r._active,(u.enabled||u.custom)&&(r._eventPosition={x:o.x,y:o.y},r.update(!0),r.pivot())),d}}),Tu=rp;Tu.positioners=Sc;var wu=j.valueOrDefault;function Ya(){return j.merge(Object.create(null),[].slice.call(arguments),{merger:function(o,r,u,d){if("xAxes"===o||"yAxes"===o){var v,Z,U,g=u[o].length;for(r[o]||(r[o]=[]),v=0;v<g;++v)Z=wu((U=u[o][v]).type,"xAxes"===o?"category":"linear"),v>=r[o].length&&r[o].push({}),j.merge(r[o][v],!r[o][v].type||U.type&&U.type!==r[o][v].type?[Bs.getScaleDefaults(Z),U]:U)}else j._merger(o,r,u,d)}})}function Ul(){return j.merge(Object.create(null),[].slice.call(arguments),{merger:function(o,r,u,d){var g=r[o]||Object.create(null),v=u[o];"scales"===o?r[o]=Ya(g,v):"scale"===o?r[o]=j.merge(g,[Bs.getScaleDefaults(v.type),v]):j._merger(o,r,u,d)}})}function Pc(o){var r=o.options;j.each(o.scales,function(u){ar.removeBox(o,u)}),r=Ul(lt.global,lt[o.config.type],r),o.options=o.config.options=r,o.ensureScalesHaveIDs(),o.buildOrUpdateScales(),o.tooltip._options=r.tooltips,o.tooltip.initialize()}function Sl(o,r,u){var d,g=function(v){return v.id===d};do{d=r+u++}while(j.findIndex(o,g)>=0);return d}function Cu(o){return"top"===o||"bottom"===o}function Ic(o,r){return function(u,d){return u[o]===d[o]?u[r]-d[r]:u[o]-d[o]}}lt._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var ha=function(o,r){return this.construct(o,r),this};j.extend(ha.prototype,{construct:function(o,r){var u=this;r=function Nc(o){var r=(o=o||Object.create(null)).data=o.data||{};return r.datasets=r.datasets||[],r.labels=r.labels||[],o.options=Ul(lt.global,lt[o.type],o.options||{}),o}(r);var d=ps.acquireContext(o,r),g=d&&d.canvas,v=g&&g.height,Z=g&&g.width;u.id=j.uid(),u.ctx=d,u.canvas=g,u.config=r,u.width=Z,u.height=v,u.aspectRatio=v?Z/v:null,u.options=r.options,u._bufferedRender=!1,u._layers=[],u.chart=u,u.controller=u,ha.instances[u.id]=u,Object.defineProperty(u,"data",{get:function(){return u.config.data},set:function(U){u.config.data=U}}),d&&g?(u.initialize(),u.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var o=this;return Jn.notify(o,"beforeInit"),j.retinaScale(o,o.options.devicePixelRatio),o.bindEvents(),o.options.responsive&&o.resize(!0),o.initToolTip(),Jn.notify(o,"afterInit"),o},clear:function(){return j.canvas.clear(this),this},stop:function(){return fc.cancelAnimation(this),this},resize:function(o){var r=this,u=r.options,d=r.canvas,g=u.maintainAspectRatio&&r.aspectRatio||null,v=Math.max(0,Math.floor(j.getMaximumWidth(d))),Z=Math.max(0,Math.floor(g?v/g:j.getMaximumHeight(d)));if((r.width!==v||r.height!==Z)&&(d.width=r.width=v,d.height=r.height=Z,d.style.width=v+"px",d.style.height=Z+"px",j.retinaScale(r,u.devicePixelRatio),!o)){var U={width:v,height:Z};Jn.notify(r,"resize",[U]),u.onResize&&u.onResize(r,U),r.stop(),r.update({duration:u.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var o=this.options,r=o.scales||{},u=o.scale;j.each(r.xAxes,function(d,g){d.id||(d.id=Sl(r.xAxes,"x-axis-",g))}),j.each(r.yAxes,function(d,g){d.id||(d.id=Sl(r.yAxes,"y-axis-",g))}),u&&(u.id=u.id||"scale")},buildOrUpdateScales:function(){var o=this,r=o.options,u=o.scales||{},d=[],g=Object.keys(u).reduce(function(v,Z){return v[Z]=!1,v},{});r.scales&&(d=d.concat((r.scales.xAxes||[]).map(function(v){return{options:v,dtype:"category",dposition:"bottom"}}),(r.scales.yAxes||[]).map(function(v){return{options:v,dtype:"linear",dposition:"left"}}))),r.scale&&d.push({options:r.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),j.each(d,function(v){var Z=v.options,U=Z.id,A=wu(Z.type,v.dtype);Cu(Z.position)!==Cu(v.dposition)&&(Z.position=v.dposition),g[U]=!0;var N=null;if(U in u&&u[U].type===A)(N=u[U]).options=Z,N.ctx=o.ctx,N.chart=o;else{var M=Bs.getScaleConstructor(A);if(!M)return;N=new M({id:U,type:A,options:Z,ctx:o.ctx,chart:o}),u[N.id]=N}N.mergeTicksOptions(),v.isDefault&&(o.scale=N)}),j.each(g,function(v,Z){v||delete u[Z]}),o.scales=u,Bs.addScalesToLayout(this)},buildOrUpdateControllers:function(){var d,g,o=this,r=[],u=o.data.datasets;for(d=0,g=u.length;d<g;d++){var v=u[d],Z=o.getDatasetMeta(d),U=v.type||o.config.type;if(Z.type&&Z.type!==U&&(o.destroyDatasetMeta(d),Z=o.getDatasetMeta(d)),Z.type=U,Z.order=v.order||0,Z.index=d,Z.controller)Z.controller.updateIndex(d),Z.controller.linkScales();else{var A=Qn[Z.type];if(void 0===A)throw new Error('"'+Z.type+'" is not a chart type.');Z.controller=new A(o,d),r.push(Z.controller)}}return r},resetElements:function(){var o=this;j.each(o.data.datasets,function(r,u){o.getDatasetMeta(u).controller.reset()},o)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(o){var u,d,r=this;if((!o||"object"!=typeof o)&&(o={duration:o,lazy:arguments[1]}),Pc(r),Jn._invalidate(r),!1!==Jn.notify(r,"beforeUpdate")){r.tooltip._data=r.data;var g=r.buildOrUpdateControllers();for(u=0,d=r.data.datasets.length;u<d;u++)r.getDatasetMeta(u).controller.buildOrUpdateElements();r.updateLayout(),r.options.animation&&r.options.animation.duration&&j.each(g,function(v){v.reset()}),r.updateDatasets(),r.tooltip.initialize(),r.lastActive=[],Jn.notify(r,"afterUpdate"),r._layers.sort(Ic("z","_idx")),r._bufferedRender?r._bufferedRequest={duration:o.duration,easing:o.easing,lazy:o.lazy}:r.render(o)}},updateLayout:function(){var o=this;!1!==Jn.notify(o,"beforeLayout")&&(ar.update(this,this.width,this.height),o._layers=[],j.each(o.boxes,function(r){r._configure&&r._configure(),o._layers.push.apply(o._layers,r._layers())},o),o._layers.forEach(function(r,u){r._idx=u}),Jn.notify(o,"afterScaleUpdate"),Jn.notify(o,"afterLayout"))},updateDatasets:function(){var o=this;if(!1!==Jn.notify(o,"beforeDatasetsUpdate")){for(var r=0,u=o.data.datasets.length;r<u;++r)o.updateDataset(r);Jn.notify(o,"afterDatasetsUpdate")}},updateDataset:function(o){var r=this,u=r.getDatasetMeta(o),d={meta:u,index:o};!1!==Jn.notify(r,"beforeDatasetUpdate",[d])&&(u.controller._update(),Jn.notify(r,"afterDatasetUpdate",[d]))},render:function(o){var r=this;(!o||"object"!=typeof o)&&(o={duration:o,lazy:arguments[1]});var u=r.options.animation,d=wu(o.duration,u&&u.duration),g=o.lazy;if(!1!==Jn.notify(r,"beforeRender")){var v=function(U){Jn.notify(r,"afterRender"),j.callback(u&&u.onComplete,[U],r)};if(u&&d){var Z=new hu({numSteps:d/16.66,easing:o.easing||u.easing,render:function(U,A){var M=A.currentStep,F=M/A.numSteps;U.draw((0,j.easing.effects[A.easing])(F),F,M)},onAnimationProgress:u.onProgress,onAnimationComplete:v});fc.addAnimation(r,Z,d,g)}else r.draw(),v(new hu({numSteps:0,chart:r}));return r}},draw:function(o){var u,d,r=this;if(r.clear(),j.isNullOrUndef(o)&&(o=1),r.transition(o),!(r.width<=0||r.height<=0)&&!1!==Jn.notify(r,"beforeDraw",[o])){for(d=r._layers,u=0;u<d.length&&d[u].z<=0;++u)d[u].draw(r.chartArea);for(r.drawDatasets(o);u<d.length;++u)d[u].draw(r.chartArea);r._drawTooltip(o),Jn.notify(r,"afterDraw",[o])}},transition:function(o){for(var r=this,u=0,d=(r.data.datasets||[]).length;u<d;++u)r.isDatasetVisible(u)&&r.getDatasetMeta(u).controller.transition(o);r.tooltip.transition(o)},_getSortedDatasetMetas:function(o){var g,v,r=this,d=[];for(g=0,v=(r.data.datasets||[]).length;g<v;++g)(!o||r.isDatasetVisible(g))&&d.push(r.getDatasetMeta(g));return d.sort(Ic("order","index")),d},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(o){var u,d,r=this;if(!1!==Jn.notify(r,"beforeDatasetsDraw",[o])){for(d=(u=r._getSortedVisibleDatasetMetas()).length-1;d>=0;--d)r.drawDataset(u[d],o);Jn.notify(r,"afterDatasetsDraw",[o])}},drawDataset:function(o,r){var d={meta:o,index:o.index,easingValue:r};!1!==Jn.notify(this,"beforeDatasetDraw",[d])&&(o.controller.draw(r),Jn.notify(this,"afterDatasetDraw",[d]))},_drawTooltip:function(o){var r=this,u=r.tooltip,d={tooltip:u,easingValue:o};!1!==Jn.notify(r,"beforeTooltipDraw",[d])&&(u.draw(),Jn.notify(r,"afterTooltipDraw",[d]))},getElementAtEvent:function(o){return _r.modes.single(this,o)},getElementsAtEvent:function(o){return _r.modes.label(this,o,{intersect:!0})},getElementsAtXAxis:function(o){return _r.modes["x-axis"](this,o,{intersect:!0})},getElementsAtEventForMode:function(o,r,u){var d=_r.modes[r];return"function"==typeof d?d(this,o,u):[]},getDatasetAtEvent:function(o){return _r.modes.dataset(this,o,{intersect:!0})},getDatasetMeta:function(o){var r=this,u=r.data.datasets[o];u._meta||(u._meta={});var d=u._meta[r.id];return d||(d=u._meta[r.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:u.order||0,index:o}),d},getVisibleDatasetCount:function(){for(var o=0,r=0,u=this.data.datasets.length;r<u;++r)this.isDatasetVisible(r)&&o++;return o},isDatasetVisible:function(o){var r=this.getDatasetMeta(o);return"boolean"==typeof r.hidden?!r.hidden:!this.data.datasets[o].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(o){var r=this.id,u=this.data.datasets[o],d=u._meta&&u._meta[r];d&&(d.controller.destroy(),delete u._meta[r])},destroy:function(){var u,d,o=this,r=o.canvas;for(o.stop(),u=0,d=o.data.datasets.length;u<d;++u)o.destroyDatasetMeta(u);r&&(o.unbindEvents(),j.canvas.clear(o),ps.releaseContext(o.ctx),o.canvas=null,o.ctx=null),Jn.notify(o,"destroy"),delete ha.instances[o.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var o=this;o.tooltip=new Tu({_chart:o,_chartInstance:o,_data:o.data,_options:o.options.tooltips},o)},bindEvents:function(){var o=this,r=o._listeners={},u=function(){o.eventHandler.apply(o,arguments)};j.each(o.options.events,function(d){ps.addEventListener(o,d,u),r[d]=u}),o.options.responsive&&(u=function(){o.resize()},ps.addEventListener(o,"resize",u),r.resize=u)},unbindEvents:function(){var o=this,r=o._listeners;!r||(delete o._listeners,j.each(r,function(u,d){ps.removeEventListener(o,d,u)}))},updateHoverStyle:function(o,r,u){var g,v,Z,d=u?"set":"remove";for(v=0,Z=o.length;v<Z;++v)(g=o[v])&&this.getDatasetMeta(g._datasetIndex).controller[d+"HoverStyle"](g);"dataset"===r&&this.getDatasetMeta(o[0]._datasetIndex).controller["_"+d+"DatasetHoverStyle"]()},eventHandler:function(o){var r=this,u=r.tooltip;if(!1!==Jn.notify(r,"beforeEvent",[o])){r._bufferedRender=!0,r._bufferedRequest=null;var d=r.handleEvent(o);u&&(d=u._start?u.handleEvent(o):d|u.handleEvent(o)),Jn.notify(r,"afterEvent",[o]);var g=r._bufferedRequest;return g?r.render(g):d&&!r.animating&&(r.stop(),r.render({duration:r.options.hover.animationDuration,lazy:!0})),r._bufferedRender=!1,r._bufferedRequest=null,r}},handleEvent:function(o){var g,r=this,u=r.options||{},d=u.hover;return r.lastActive=r.lastActive||[],r.active="mouseout"===o.type?[]:r.getElementsAtEventForMode(o,d.mode,d),j.callback(u.onHover||u.hover.onHover,[o.native,r.active],r),("mouseup"===o.type||"click"===o.type)&&u.onClick&&u.onClick.call(r,o.native,r.active),r.lastActive.length&&r.updateHoverStyle(r.lastActive,d.mode,!1),r.active.length&&d.mode&&r.updateHoverStyle(r.active,d.mode,!0),g=!j.arrayEquals(r.active,r.lastActive),r.lastActive=r.active,g}}),ha.instances={};var Sn=ha;ha.Controller=ha,ha.types={},j.configMerge=Ul,j.scaleMerge=Ya;function fs(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function _a(o){this.options=o||{}}j.extend(_a.prototype,{formats:fs,parse:fs,format:fs,add:fs,diff:fs,startOf:fs,endOf:fs,_create:function(o){return o}}),_a.override=function(o){j.extend(_a.prototype,o)};var kl={_date:_a},yr={formatters:{values:function(o){return j.isArray(o)?o:""+o},linear:function(o,r,u){var d=u.length>3?u[2]-u[1]:u[1]-u[0];Math.abs(d)>1&&o!==Math.floor(o)&&(d=o-Math.floor(o));var g=j.log10(Math.abs(d)),v="";if(0!==o)if(Math.max(Math.abs(u[0]),Math.abs(u[u.length-1]))<1e-4){var U=j.log10(Math.abs(o)),A=Math.floor(U)-Math.floor(g);A=Math.max(Math.min(A,20),0),v=o.toExponential(A)}else{var N=-1*Math.floor(g);N=Math.max(Math.min(N,20),0),v=o.toFixed(N)}else v="0";return v},logarithmic:function(o,r,u){var d=o/Math.pow(10,Math.floor(j.log10(o)));return 0===o?"0":1===d||2===d||5===d||0===r||r===u.length-1?o.toExponential():""}}},va=j.isArray,zs=j.isNullOrUndef,qr=j.valueOrDefault,sr=j.valueAtIndexOrDefault;function up(o,r,u){var N,d=o.getTicks().length,g=Math.min(r,d-1),v=o.getPixelForTick(g),Z=o._startPixel,U=o._endPixel,A=1e-6;if(!(u&&(N=1===d?Math.max(v-Z,U-v):0===r?(o.getPixelForTick(1)-v)/2:(v-o.getPixelForTick(g-1))/2,v+=g<r?N:-N,v<Z-A||v>U+A)))return v}function Lc(o,r,u,d){var M,F,G,ue,ge,ve,Pe,pt,Ft,zt,bn,yn,Dn,g=u.length,v=[],Z=[],U=[],A=0,N=0;for(M=0;M<g;++M){if(ue=u[M].label,o.font=ve=(ge=u[M].major?r.major:r.minor).string,Pe=d[ve]=d[ve]||{data:{},gc:[]},pt=ge.lineHeight,Ft=zt=0,zs(ue)||va(ue)){if(va(ue))for(F=0,G=ue.length;F<G;++F)!zs(bn=ue[F])&&!va(bn)&&(Ft=j.measureText(o,Pe.data,Pe.gc,Ft,bn),zt+=pt)}else Ft=j.measureText(o,Pe.data,Pe.gc,Ft,ue),zt=pt;v.push(Ft),Z.push(zt),U.push(pt/2),A=Math.max(Ft,A),N=Math.max(zt,N)}function Wn(Hn){return{width:v[Hn]||0,height:Z[Hn]||0,offset:U[Hn]||0}}return function lr(o,r){j.each(o,function(u){var v,d=u.gc,g=d.length/2;if(g>r){for(v=0;v<g;++v)delete u.data[d[v]];d.splice(0,g)}})}(d,g),yn=v.indexOf(A),Dn=Z.indexOf(N),{first:Wn(0),last:Wn(g-1),widest:Wn(yn),highest:Wn(Dn)}}function gs(o){return o.drawTicks?o.tickMarkLength:0}function qu(o){var r,u;return o.display?(r=j.options._parseFont(o),u=j.options.toPadding(o.padding),r.lineHeight+u.height):0}function Uu(o,r){return j.extend(j.options._parseFont({fontFamily:qr(r.fontFamily,o.fontFamily),fontSize:qr(r.fontSize,o.fontSize),fontStyle:qr(r.fontStyle,o.fontStyle),lineHeight:qr(r.lineHeight,o.lineHeight)}),{color:j.options.resolve([r.fontColor,o.fontColor,lt.global.defaultFontColor])})}function ms(o){var r=Uu(o,o.minor);return{minor:r,major:o.major.enabled?Uu(o,o.major):r}}function Nl(o){var u,d,g,r=[];for(d=0,g=o.length;d<g;++d)typeof(u=o[d])._index<"u"&&r.push(u);return r}function Js(o,r,u,d){var U,A,N,M,g=qr(u,0),v=Math.min(qr(d,o.length),o.length),Z=0;for(r=Math.ceil(r),d&&(r=(U=d-u)/Math.floor(U/r)),M=g;M<0;)Z++,M=Math.round(g+Z*r);for(A=Math.max(g,0);A<v;A++)N=o[A],A===M?(N._index=A,Z++,M=Math.round(g+Z*r)):delete N.label}lt._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:yr.formatters.values,minor:{},major:{}}});var Pl=Mi.extend({zeroLineIndex:0,getPadding:function(){var o=this;return{left:o.paddingLeft||0,top:o.paddingTop||0,right:o.paddingRight||0,bottom:o.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var o=this.chart.data;return this.options.labels||(this.isHorizontal()?o.xLabels:o.yLabels)||o.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){j.callback(this.options.beforeUpdate,[this])},update:function(o,r,u){var Z,U,A,N,M,d=this,g=d.options.ticks,v=g.sampleSize;if(d.beforeUpdate(),d.maxWidth=o,d.maxHeight=r,d.margins=j.extend({left:0,right:0,top:0,bottom:0},u),d._ticks=null,d.ticks=null,d._labelSizes=null,d._maxLabelLines=0,d.longestLabelWidth=0,d.longestTextCache=d.longestTextCache||{},d._gridLineItems=null,d._labelItems=null,d.beforeSetDimensions(),d.setDimensions(),d.afterSetDimensions(),d.beforeDataLimits(),d.determineDataLimits(),d.afterDataLimits(),d.beforeBuildTicks(),N=d.buildTicks()||[],(!(N=d.afterBuildTicks(N)||N)||!N.length)&&d.ticks)for(N=[],Z=0,U=d.ticks.length;Z<U;++Z)N.push({value:d.ticks[Z],major:!1});return d._ticks=N,A=d._convertTicksToLabels((M=v<N.length)?function lp(o,r){for(var u=[],d=o.length/r,g=0,v=o.length;g<v;g+=d)u.push(o[Math.floor(g)]);return u}(N,v):N),d._configure(),d.beforeCalculateTickRotation(),d.calculateTickRotation(),d.afterCalculateTickRotation(),d.beforeFit(),d.fit(),d.afterFit(),d._ticksToDraw=g.display&&(g.autoSkip||"auto"===g.source)?d._autoSkip(N):N,M&&(A=d._convertTicksToLabels(d._ticksToDraw)),d.ticks=A,d.afterUpdate(),d.minSize},_configure:function(){var u,d,o=this,r=o.options.ticks.reverse;o.isHorizontal()?(u=o.left,d=o.right):(u=o.top,d=o.bottom,r=!r),o._startPixel=u,o._endPixel=d,o._reversePixels=r,o._length=d-u},afterUpdate:function(){j.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){j.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var o=this;o.isHorizontal()?(o.width=o.maxWidth,o.left=0,o.right=o.width):(o.height=o.maxHeight,o.top=0,o.bottom=o.height),o.paddingLeft=0,o.paddingTop=0,o.paddingRight=0,o.paddingBottom=0},afterSetDimensions:function(){j.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){j.callback(this.options.beforeDataLimits,[this])},determineDataLimits:j.noop,afterDataLimits:function(){j.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){j.callback(this.options.beforeBuildTicks,[this])},buildTicks:j.noop,afterBuildTicks:function(o){var r=this;return va(o)&&o.length?j.callback(r.options.afterBuildTicks,[r,o]):(r.ticks=j.callback(r.options.afterBuildTicks,[r,r.ticks])||r.ticks,o)},beforeTickToLabelConversion:function(){j.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var o=this,r=o.options.ticks;o.ticks=o.ticks.map(r.userCallback||r.callback,this)},afterTickToLabelConversion:function(){j.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){j.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var U,A,N,M,F,G,ue,o=this,r=o.options,u=r.ticks,d=o.getTicks().length,g=u.minRotation||0,v=u.maxRotation,Z=g;!o._isVisible()||!u.display||g>=v||d<=1||!o.isHorizontal()?o.labelRotation=g:(A=(U=o._getLabelSizes()).widest.width,N=U.highest.height-U.highest.offset,M=Math.min(o.maxWidth,o.chart.width-A),A+6>(F=r.offset?o.maxWidth/d:M/(d-1))&&(F=M/(d-(r.offset?.5:1)),G=o.maxHeight-gs(r.gridLines)-u.padding-qu(r.scaleLabel),ue=Math.sqrt(A*A+N*N),Z=j.toDegrees(Math.min(Math.asin(Math.min((U.highest.height+6)/F,1)),Math.asin(Math.min(G/ue,1))-Math.asin(N/ue))),Z=Math.max(g,Math.min(v,Z))),o.labelRotation=Z)},afterCalculateTickRotation:function(){j.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){j.callback(this.options.beforeFit,[this])},fit:function(){var o=this,r=o.minSize={width:0,height:0},u=o.chart,d=o.options,g=d.ticks,v=d.scaleLabel,Z=d.gridLines,U=o._isVisible(),A="bottom"===d.position,N=o.isHorizontal();if(N?r.width=o.maxWidth:U&&(r.width=gs(Z)+qu(v)),N?U&&(r.height=gs(Z)+qu(v)):r.height=o.maxHeight,g.display&&U){var M=ms(g),F=o._getLabelSizes(),G=F.first,ue=F.last,ge=F.widest,ve=F.highest,Pe=.4*M.minor.lineHeight,pt=g.padding;if(N){var Ft=0!==o.labelRotation,zt=j.toRadians(o.labelRotation),bn=Math.cos(zt),yn=Math.sin(zt);r.height=Math.min(o.maxHeight,r.height+(yn*ge.width+bn*(ve.height-(Ft?ve.offset:0))+(Ft?0:Pe))+pt);var mo,$o,Wn=o.getPixelForTick(0)-o.left,Hn=o.right-o.getPixelForTick(o.getTicks().length-1);Ft?(mo=A?bn*G.width+yn*G.offset:yn*(G.height-G.offset),$o=A?yn*(ue.height-ue.offset):bn*ue.width+yn*ue.offset):(mo=G.width/2,$o=ue.width/2),o.paddingLeft=Math.max((mo-Wn)*o.width/(o.width-Wn),0)+3,o.paddingRight=Math.max(($o-Hn)*o.width/(o.width-Hn),0)+3}else r.width=Math.min(o.maxWidth,r.width+(g.mirror?0:ge.width+pt+Pe)),o.paddingTop=G.height/2,o.paddingBottom=ue.height/2}o.handleMargins(),N?(o.width=o._length=u.width-o.margins.left-o.margins.right,o.height=r.height):(o.width=r.width,o.height=o._length=u.height-o.margins.top-o.margins.bottom)},handleMargins:function(){var o=this;o.margins&&(o.margins.left=Math.max(o.paddingLeft,o.margins.left),o.margins.top=Math.max(o.paddingTop,o.margins.top),o.margins.right=Math.max(o.paddingRight,o.margins.right),o.margins.bottom=Math.max(o.paddingBottom,o.margins.bottom))},afterFit:function(){j.callback(this.options.afterFit,[this])},isHorizontal:function(){var o=this.options.position;return"top"===o||"bottom"===o},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(o){if(zs(o))return NaN;if(("number"==typeof o||o instanceof Number)&&!isFinite(o))return NaN;if(o)if(this.isHorizontal()){if(void 0!==o.x)return this.getRightValue(o.x)}else if(void 0!==o.y)return this.getRightValue(o.y);return o},_convertTicksToLabels:function(o){var u,d,g,r=this;for(r.ticks=o.map(function(v){return v.value}),r.beforeTickToLabelConversion(),u=r.convertTicksToLabels(o)||r.ticks,r.afterTickToLabelConversion(),d=0,g=o.length;d<g;++d)o[d].label=u[d];return u},_getLabelSizes:function(){var o=this,r=o._labelSizes;return r||(o._labelSizes=r=Lc(o.ctx,ms(o.options.ticks),o.getTicks(),o.longestTextCache),o.longestLabelWidth=r.widest.width),r},_parseValue:function(o){var r,u,d,g;return va(o)?(r=+this.getRightValue(o[0]),u=+this.getRightValue(o[1]),d=Math.min(r,u),g=Math.max(r,u)):(r=void 0,u=o=+this.getRightValue(o),d=o,g=o),{min:d,max:g,start:r,end:u}},_getScaleLabel:function(o){var r=this._parseValue(o);return void 0!==r.start?"["+r.start+", "+r.end+"]":+this.getRightValue(o)},getLabelForIndex:j.noop,getPixelForValue:j.noop,getValueForPixel:j.noop,getPixelForTick:function(o){var r=this,u=r.options.offset,d=r._ticks.length,g=1/Math.max(d-(u?0:1),1);return o<0||o>d-1?null:r.getPixelForDecimal(o*g+(u?g/2:0))},getPixelForDecimal:function(o){var r=this;return r._reversePixels&&(o=1-o),r._startPixel+o*r._length},getDecimalForPixel:function(o){var r=(o-this._startPixel)/this._length;return this._reversePixels?1-r:r},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var o=this,r=o.min,u=o.max;return o.beginAtZero?0:r<0&&u<0?u:r>0&&u>0?r:0},_autoSkip:function(o){var N,M,F,G,r=this,u=r.options.ticks,d=r._length,g=u.maxTicksLimit||d/r._tickSize()+1,v=u.major.enabled?function Mc(o){var u,d,r=[];for(u=0,d=o.length;u<d;u++)o[u].major&&r.push(u);return r}(o):[],Z=v.length,U=v[0],A=v[Z-1];if(Z>g)return function Fc(o,r,u){var v,Z,d=0,g=r[0];for(u=Math.ceil(u),v=0;v<o.length;v++)Z=o[v],v===g?(Z._index=v,g=r[++d*u]):delete Z.label}(o,v,Z/g),Nl(o);if(F=function Ec(o,r,u,d){var Z,U,A,N,g=function Oc(o){var u,d,r=o.length;if(r<2)return!1;for(d=o[0],u=1;u<r;++u)if(o[u]-o[u-1]!==d)return!1;return d}(o),v=(r.length-1)/d;if(!g)return Math.max(v,1);for(A=0,N=(Z=j.math._factorize(g)).length-1;A<N;A++)if((U=Z[A])>v)return U;return Math.max(v,1)}(v,o,0,g),Z>0){for(N=0,M=Z-1;N<M;N++)Js(o,F,v[N],v[N+1]);return Js(o,F,j.isNullOrUndef(G=Z>1?(A-U)/(Z-1):null)?0:U-G,U),Js(o,F,A,j.isNullOrUndef(G)?o.length:A+G),Nl(o)}return Js(o,F),Nl(o)},_tickSize:function(){var o=this,r=o.options.ticks,u=j.toRadians(o.labelRotation),d=Math.abs(Math.cos(u)),g=Math.abs(Math.sin(u)),v=o._getLabelSizes(),Z=r.autoSkipPadding||0,U=v?v.widest.width+Z:0,A=v?v.highest.height+Z:0;return o.isHorizontal()?A*d>U*g?U/d:A/g:A*g<U*d?A/d:U/g},_isVisible:function(){var d,g,v,o=this,r=o.chart,u=o.options.display;if("auto"!==u)return!!u;for(d=0,g=r.data.datasets.length;d<g;++d)if(r.isDatasetVisible(d)&&((v=r.getDatasetMeta(d)).xAxisID===o.id||v.yAxisID===o.id))return!0;return!1},_computeGridLineItems:function(o){var Pe,pt,Ft,zt,bn,yn,Dn,Wn,Hn,mo,$o,Jo,Ro,ri,bs,Qa,Fu,r=this,u=r.chart,d=r.options,g=d.gridLines,v=d.position,Z=g.offsetGridLines,U=r.isHorizontal(),A=r._ticksToDraw,N=A.length+(Z?1:0),M=gs(g),F=[],G=g.drawBorder?sr(g.lineWidth,0,0):0,ue=G/2,ge=j._alignPixel,ve=function(x1){return ge(u,x1,G)};for("top"===v?(Pe=ve(r.bottom),Dn=r.bottom-M,Hn=Pe-ue,$o=ve(o.top)+ue,Ro=o.bottom):"bottom"===v?(Pe=ve(r.top),$o=o.top,Ro=ve(o.bottom)-ue,Dn=Pe+ue,Hn=r.top+M):"left"===v?(Pe=ve(r.right),yn=r.right-M,Wn=Pe-ue,mo=ve(o.left)+ue,Jo=o.right):(Pe=ve(r.left),mo=o.left,Jo=ve(o.right)-ue,yn=Pe+ue,Wn=r.left+M),pt=0;pt<N;++pt)!(zs((Ft=A[pt]||{}).label)&&pt<A.length)&&(pt===r.zeroLineIndex&&d.offset===Z?(ri=g.zeroLineWidth,bs=g.zeroLineColor,Qa=g.zeroLineBorderDash||[],Fu=g.zeroLineBorderDashOffset||0):(ri=sr(g.lineWidth,pt,1),bs=sr(g.color,pt,"rgba(0,0,0,0.1)"),Qa=g.borderDash||[],Fu=g.borderDashOffset||0),void 0!==(zt=up(r,Ft._index||pt,Z))&&(bn=ge(u,zt,ri),U?yn=Wn=mo=Jo=bn:Dn=Hn=$o=Ro=bn,F.push({tx1:yn,ty1:Dn,tx2:Wn,ty2:Hn,x1:mo,y1:$o,x2:Jo,y2:Ro,width:ri,color:bs,borderDash:Qa,borderDashOffset:Fu})));return F.ticksLength=N,F.borderValue=Pe,F},_computeLabelItems:function(){var G,ue,ge,ve,Pe,pt,Ft,zt,bn,yn,Dn,Wn,o=this,r=o.options,u=r.ticks,d=r.position,g=u.mirror,v=o.isHorizontal(),Z=o._ticksToDraw,U=ms(u),A=u.padding,N=gs(r.gridLines),M=-j.toRadians(o.labelRotation),F=[];for("top"===d?(pt=o.bottom-N-A,Ft=M?"left":"center"):"bottom"===d?(pt=o.top+N+A,Ft=M?"right":"center"):"left"===d?(Pe=o.right-(g?0:N)-A,Ft=g?"left":"right"):(Pe=o.left+(g?0:N)+A,Ft=g?"right":"left"),G=0,ue=Z.length;G<ue;++G)!zs(ve=(ge=Z[G]).label)&&(zt=o.getPixelForTick(ge._index||G)+u.labelOffset,yn=(bn=ge.major?U.major:U.minor).lineHeight,Dn=va(ve)?ve.length:1,v?(Pe=zt,Wn="top"===d?((M?1:.5)-Dn)*yn:(M?0:.5)*yn):(pt=zt,Wn=(1-Dn)*yn/2),F.push({x:Pe,y:pt,rotation:M,label:ve,font:bn,textOffset:Wn,textAlign:Ft}));return F},_drawGrid:function(o){var r=this,u=r.options.gridLines;if(u.display){var A,N,M,F,G,d=r.ctx,g=r.chart,v=j._alignPixel,Z=u.drawBorder?sr(u.lineWidth,0,0):0,U=r._gridLineItems||(r._gridLineItems=r._computeGridLineItems(o));for(M=0,F=U.length;M<F;++M)N=(G=U[M]).color,(A=G.width)&&N&&(d.save(),d.lineWidth=A,d.strokeStyle=N,d.setLineDash&&(d.setLineDash(G.borderDash),d.lineDashOffset=G.borderDashOffset),d.beginPath(),u.drawTicks&&(d.moveTo(G.tx1,G.ty1),d.lineTo(G.tx2,G.ty2)),u.drawOnChartArea&&(d.moveTo(G.x1,G.y1),d.lineTo(G.x2,G.y2)),d.stroke(),d.restore());if(Z){var Pe,pt,Ft,zt,ue=Z,ge=sr(u.lineWidth,U.ticksLength-1,1),ve=U.borderValue;r.isHorizontal()?(Pe=v(g,r.left,ue)-ue/2,pt=v(g,r.right,ge)+ge/2,Ft=zt=ve):(Ft=v(g,r.top,ue)-ue/2,zt=v(g,r.bottom,ge)+ge/2,Pe=pt=ve),d.lineWidth=Z,d.strokeStyle=sr(u.color,0),d.beginPath(),d.moveTo(Pe,Ft),d.lineTo(pt,zt),d.stroke()}}},_drawLabels:function(){var o=this;if(o.options.ticks.display){var g,v,Z,U,A,N,M,F,u=o.ctx,d=o._labelItems||(o._labelItems=o._computeLabelItems());for(g=0,Z=d.length;g<Z;++g){if(N=(A=d[g]).font,u.save(),u.translate(A.x,A.y),u.rotate(A.rotation),u.font=N.string,u.fillStyle=N.color,u.textBaseline="middle",u.textAlign=A.textAlign,F=A.textOffset,va(M=A.label))for(v=0,U=M.length;v<U;++v)u.fillText(""+M[v],0,F),F+=N.lineHeight;else u.fillText(M,0,F);u.restore()}}},_drawTitle:function(){var o=this,r=o.ctx,u=o.options,d=u.scaleLabel;if(d.display){var M,F,g=qr(d.fontColor,lt.global.defaultFontColor),v=j.options._parseFont(d),Z=j.options.toPadding(d.padding),U=v.lineHeight/2,A=u.position,N=0;if(o.isHorizontal())M=o.left+o.width/2,F="bottom"===A?o.bottom-U-Z.bottom:o.top+U+Z.top;else{var G="left"===A;M=G?o.left+U+Z.top:o.right-U-Z.top,F=o.top+o.height/2,N=G?-.5*Math.PI:.5*Math.PI}r.save(),r.translate(M,F),r.rotate(N),r.textAlign="center",r.textBaseline="middle",r.fillStyle=g,r.font=v.string,r.fillText(d.labelString,0,0),r.restore()}},draw:function(o){var r=this;!r._isVisible()||(r._drawGrid(o),r._drawTitle(),r._drawLabels())},_layers:function(){var o=this,r=o.options,u=r.ticks&&r.ticks.z||0,d=r.gridLines&&r.gridLines.z||0;return o._isVisible()&&u!==d&&o.draw===o._draw?[{z:d,draw:function(){o._drawGrid.apply(o,arguments),o._drawTitle.apply(o,arguments)}},{z:u,draw:function(){o._drawLabels.apply(o,arguments)}}]:[{z:u,draw:function(){o.draw.apply(o,arguments)}}]},_getMatchingVisibleMetas:function(o){var r=this,u=r.isHorizontal();return r.chart._getSortedVisibleDatasetMetas().filter(function(d){return(!o||d.type===o)&&(u?d.xAxisID===r.id:d.yAxisID===r.id)})}});Pl.prototype._draw=Pl.prototype.draw;var Ci=Pl,Rr=j.isNullOrUndef,qi=Ci.extend({determineDataLimits:function(){var U,o=this,r=o._getLabels(),u=o.options.ticks,d=u.min,g=u.max,v=0,Z=r.length-1;void 0!==d&&(U=r.indexOf(d))>=0&&(v=U),void 0!==g&&(U=r.indexOf(g))>=0&&(Z=U),o.minIndex=v,o.maxIndex=Z,o.min=r[v],o.max=r[Z]},buildTicks:function(){var o=this,r=o._getLabels(),u=o.minIndex,d=o.maxIndex;o.ticks=0===u&&d===r.length-1?r:r.slice(u,d+1)},getLabelForIndex:function(o,r){var u=this,d=u.chart;return d.getDatasetMeta(r).controller._getValueScaleId()===u.id?u.getRightValue(d.data.datasets[r].data[o]):u._getLabels()[o]},_configure:function(){var o=this,r=o.options.offset,u=o.ticks;Ci.prototype._configure.call(o),o.isHorizontal()||(o._reversePixels=!o._reversePixels),u&&(o._startValue=o.minIndex-(r?.5:0),o._valueRange=Math.max(u.length-(r?0:1),1))},getPixelForValue:function(o,r,u){var g,v,Z,d=this;return!Rr(r)&&!Rr(u)&&(o=d.chart.data.datasets[u].data[r]),Rr(o)||(g=d.isHorizontal()?o.x:o.y),(void 0!==g||void 0!==o&&isNaN(r))&&(v=d._getLabels(),o=j.valueOrDefault(g,o),r=-1!==(Z=v.indexOf(o))?Z:r,isNaN(r)&&(r=o)),d.getPixelForDecimal((r-d._startValue)/d._valueRange)},getPixelForTick:function(o){var r=this.ticks;return o<0||o>r.length-1?null:this.getPixelForValue(r[o],o+this.minIndex)},getValueForPixel:function(o){var r=this,u=Math.round(r._startValue+r.getDecimalForPixel(o)*r._valueRange);return Math.min(Math.max(u,0),r.ticks.length-1)},getBasePixel:function(){return this.bottom}});qi._defaults={position:"bottom"};var Dr=j.isNullOrUndef;var Gs=Ci.extend({getRightValue:function(o){return"string"==typeof o?+o:Ci.prototype.getRightValue.call(this,o)},handleTickRangeOptions:function(){var o=this,u=o.options.ticks;if(u.beginAtZero){var d=j.sign(o.min),g=j.sign(o.max);d<0&&g<0?o.max=0:d>0&&g>0&&(o.min=0)}var v=void 0!==u.min||void 0!==u.suggestedMin,Z=void 0!==u.max||void 0!==u.suggestedMax;void 0!==u.min?o.min=u.min:void 0!==u.suggestedMin&&(o.min=null===o.min?u.suggestedMin:Math.min(o.min,u.suggestedMin)),void 0!==u.max?o.max=u.max:void 0!==u.suggestedMax&&(o.max=null===o.max?u.suggestedMax:Math.max(o.max,u.suggestedMax)),v!==Z&&o.min>=o.max&&(v?o.max=o.min+1:o.min=o.max-1),o.min===o.max&&(o.max++,u.beginAtZero||o.min--)},getTickLimit:function(){var g,o=this,r=o.options.ticks,u=r.stepSize,d=r.maxTicksLimit;return u?g=Math.ceil(o.max/u)-Math.floor(o.min/u)+1:(g=o._computeTickLimit(),d=d||11),d&&(g=Math.min(d,g)),g},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:j.noop,buildTicks:function(){var o=this,u=o.options.ticks,d=o.getTickLimit(),g={maxTicks:d=Math.max(2,d),min:u.min,max:u.max,precision:u.precision,stepSize:j.valueOrDefault(u.fixedStepSize,u.stepSize)},v=o.ticks=function Rc(o,r){var ue,ge,ve,Pe,u=[],g=o.stepSize,v=g||1,Z=o.maxTicks-1,U=o.min,A=o.max,N=o.precision,M=r.min,F=r.max,G=j.niceNum((F-M)/Z/v)*v;if(G<1e-14&&Dr(U)&&Dr(A))return[M,F];(Pe=Math.ceil(F/G)-Math.floor(M/G))>Z&&(G=j.niceNum(Pe*G/Z/v)*v),g||Dr(N)?ue=Math.pow(10,j._decimalPlaces(G)):(ue=Math.pow(10,N),G=Math.ceil(G*ue)/ue),ge=Math.floor(M/G)*G,ve=Math.ceil(F/G)*G,g&&(!Dr(U)&&j.almostWhole(U/G,G/1e3)&&(ge=U),!Dr(A)&&j.almostWhole(A/G,G/1e3)&&(ve=A)),Pe=j.almostEquals(Pe=(ve-ge)/G,Math.round(Pe),G/1e3)?Math.round(Pe):Math.ceil(Pe),ge=Math.round(ge*ue)/ue,ve=Math.round(ve*ue)/ue,u.push(Dr(U)?ge:U);for(var pt=1;pt<Pe;++pt)u.push(Math.round((ge+pt*G)*ue)/ue);return u.push(Dr(A)?ve:A),u}(g,o);o.handleDirectionalChanges(),o.max=j.max(v),o.min=j.min(v),u.reverse?(v.reverse(),o.start=o.max,o.end=o.min):(o.start=o.min,o.end=o.max)},convertTicksToLabels:function(){var o=this;o.ticksAsNumbers=o.ticks.slice(),o.zeroLineIndex=o.ticks.indexOf(0),Ci.prototype.convertTicksToLabels.call(o)},_configure:function(){var g,o=this,r=o.getTicks(),u=o.min,d=o.max;Ci.prototype._configure.call(o),o.options.offset&&r.length&&(u-=g=(d-u)/Math.max(r.length-1,1)/2,d+=g),o._startValue=u,o._endValue=d,o._valueRange=d-u}}),Dc={position:"left",ticks:{callback:yr.formatters.linear}};function zc(o,r,u,d){var M,F,g=o.options,Z=function Ol(o,r,u){var d=[u.type,void 0===r&&void 0===u.stack?u.index:"",u.stack].join(".");return void 0===o[d]&&(o[d]={pos:[],neg:[]}),o[d]}(r,g.stacked,u),U=Z.pos,A=Z.neg,N=d.length;for(M=0;M<N;++M)F=o._parseValue(d[M]),!(isNaN(F.min)||isNaN(F.max)||u.data[M].hidden)&&(U[M]=U[M]||0,A[M]=A[M]||0,g.relativePoints?U[M]=100:F.min<0||F.max<0?A[M]+=F.min:U[M]+=F.max)}function Jc(o,r,u){var g,v,d=u.length;for(g=0;g<d;++g)v=o._parseValue(u[g]),!(isNaN(v.min)||isNaN(v.max)||r.data[g].hidden)&&(o.min=Math.min(o.min,v.min),o.max=Math.max(o.max,v.max))}var ku=Gs.extend({determineDataLimits:function(){var A,N,M,F,o=this,r=o.options,d=o.chart.data.datasets,g=o._getMatchingVisibleMetas(),v=r.stacked,Z={},U=g.length;if(o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,void 0===v)for(A=0;!v&&A<U;++A)v=void 0!==(N=g[A]).stack;for(A=0;A<U;++A)M=d[(N=g[A]).index].data,v?zc(o,Z,N,M):Jc(o,N,M);j.each(Z,function(G){F=G.pos.concat(G.neg),o.min=Math.min(o.min,j.min(F)),o.max=Math.max(o.max,j.max(F))}),o.min=j.isFinite(o.min)&&!isNaN(o.min)?o.min:0,o.max=j.isFinite(o.max)&&!isNaN(o.max)?o.max:1,o.handleTickRangeOptions()},_computeTickLimit:function(){var r,o=this;return o.isHorizontal()?Math.ceil(o.width/40):(r=j.options._parseFont(o.options.ticks),Math.ceil(o.height/r.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(o,r){return this._getScaleLabel(this.chart.data.datasets[r].data[o])},getPixelForValue:function(o){var r=this;return r.getPixelForDecimal((+r.getRightValue(o)-r._startValue)/r._valueRange)},getValueForPixel:function(o){return this._startValue+this.getDecimalForPixel(o)*this._valueRange},getPixelForTick:function(o){var r=this.ticksAsNumbers;return o<0||o>r.length-1?null:this.getPixelForValue(r[o])}});ku._defaults=Dc;var El=j.valueOrDefault,jo=j.math.log10;var Yc={position:"left",ticks:{callback:yr.formatters.logarithmic}};function po(o,r){return j.isFinite(o)&&o>=0?o:r}var Nu=Ci.extend({determineDataLimits:function(){var Z,U,A,N,M,F,o=this,r=o.options,u=o.chart,d=u.data.datasets,g=o.isHorizontal();function v(Pe){return g?Pe.xAxisID===o.id:Pe.yAxisID===o.id}o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,o.minNotZero=Number.POSITIVE_INFINITY;var G=r.stacked;if(void 0===G)for(Z=0;Z<d.length;Z++)if(U=u.getDatasetMeta(Z),u.isDatasetVisible(Z)&&v(U)&&void 0!==U.stack){G=!0;break}if(r.stacked||G){var ue={};for(Z=0;Z<d.length;Z++){var ge=[(U=u.getDatasetMeta(Z)).type,void 0===r.stacked&&void 0===U.stack?Z:"",U.stack].join(".");if(u.isDatasetVisible(Z)&&v(U))for(void 0===ue[ge]&&(ue[ge]=[]),M=0,F=(N=d[Z].data).length;M<F;M++){var ve=ue[ge];A=o._parseValue(N[M]),!(isNaN(A.min)||isNaN(A.max)||U.data[M].hidden||A.min<0||A.max<0)&&(ve[M]=ve[M]||0,ve[M]+=A.max)}}j.each(ue,function(Pe){if(Pe.length>0){var pt=j.min(Pe),Ft=j.max(Pe);o.min=Math.min(o.min,pt),o.max=Math.max(o.max,Ft)}})}else for(Z=0;Z<d.length;Z++)if(U=u.getDatasetMeta(Z),u.isDatasetVisible(Z)&&v(U))for(M=0,F=(N=d[Z].data).length;M<F;M++)A=o._parseValue(N[M]),!(isNaN(A.min)||isNaN(A.max)||U.data[M].hidden||A.min<0||A.max<0)&&(o.min=Math.min(A.min,o.min),o.max=Math.max(A.max,o.max),0!==A.min&&(o.minNotZero=Math.min(A.min,o.minNotZero)));o.min=j.isFinite(o.min)?o.min:null,o.max=j.isFinite(o.max)?o.max:null,o.minNotZero=j.isFinite(o.minNotZero)?o.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var o=this,r=o.options.ticks;o.min=po(r.min,o.min),o.max=po(r.max,o.max),o.min===o.max&&(0!==o.min&&null!==o.min?(o.min=Math.pow(10,Math.floor(jo(o.min))-1),o.max=Math.pow(10,Math.floor(jo(o.max))+1)):(o.min=1,o.max=10)),null===o.min&&(o.min=Math.pow(10,Math.floor(jo(o.max))-1)),null===o.max&&(o.max=0!==o.min?Math.pow(10,Math.floor(jo(o.min))+1):10),null===o.minNotZero&&(o.minNotZero=o.min>0?o.min:o.max<1?Math.pow(10,Math.floor(jo(o.max))):1)},buildTicks:function(){var o=this,r=o.options.ticks,u=!o.isHorizontal(),d={min:po(r.min),max:po(r.max)},g=o.ticks=function Hc(o,r){var Z,U,u=[],d=El(o.min,Math.pow(10,Math.floor(jo(r.min)))),g=Math.floor(jo(r.max)),v=Math.ceil(r.max/Math.pow(10,g));0===d?(Z=Math.floor(jo(r.minNotZero)),U=Math.floor(r.minNotZero/Math.pow(10,Z)),u.push(d),d=U*Math.pow(10,Z)):(Z=Math.floor(jo(d)),U=Math.floor(d/Math.pow(10,Z)));var A=Z<0?Math.pow(10,Math.abs(Z)):1;do{u.push(d),10==++U&&(U=1,A=++Z>=0?1:A),d=Math.round(U*Math.pow(10,Z)*A)/A}while(Z<g||Z===g&&U<v);var N=El(o.max,d);return u.push(N),u}(d,o);o.max=j.max(g),o.min=j.min(g),r.reverse?(u=!u,o.start=o.max,o.end=o.min):(o.start=o.min,o.end=o.max),u&&g.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),Ci.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(o,r){return this._getScaleLabel(this.chart.data.datasets[r].data[o])},getPixelForTick:function(o){var r=this.tickValues;return o<0||o>r.length-1?null:this.getPixelForValue(r[o])},_getFirstTickValue:function(o){var r=Math.floor(jo(o));return Math.floor(o/Math.pow(10,r))*Math.pow(10,r)},_configure:function(){var o=this,r=o.min,u=0;Ci.prototype._configure.call(o),0===r&&(r=o._getFirstTickValue(o.minNotZero),u=El(o.options.ticks.fontSize,lt.global.defaultFontSize)/o._length),o._startValue=jo(r),o._valueOffset=u,o._valueRange=(jo(o.max)-jo(r))/(1-u)},getPixelForValue:function(o){var r=this,u=0;return(o=+r.getRightValue(o))>r.min&&o>0&&(u=(jo(o)-r._startValue)/r._valueRange+r._valueOffset),r.getPixelForDecimal(u)},getValueForPixel:function(o){var r=this,u=r.getDecimalForPixel(o);return 0===u&&0===r.min?0:Math.pow(10,r._startValue+(u-r._valueOffset)*r._valueRange)}});Nu._defaults=Yc;var Ml=j.valueOrDefault,Pu=j.valueAtIndexOrDefault,cp=j.options.resolve,dp={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:yr.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(o){return o}}};function Fl(o){var r=o.ticks;return r.display&&o.display?Ml(r.fontSize,lt.global.defaultFontSize)+2*r.backdropPaddingY:0}function pp(o,r,u){return j.isArray(u)?{w:j.longestText(o,o.font,u),h:u.length*r}:{w:o.measureText(u).width,h:r}}function ya(o,r,u,d,g){return o===d||o===g?{start:r-u/2,end:r+u/2}:o<d||o>g?{start:r-u,end:r}:{start:r,end:r+u}}function Wc(o){return 0===o||180===o?"center":o<180?"left":"right"}function Vc(o,r,u,d){var v,Z,g=u.y+d/2;if(j.isArray(r))for(v=0,Z=r.length;v<Z;++v)o.fillText(r[v],u.x,g),g+=d;else o.fillText(r,u.x,g)}function Qc(o,r,u){90===o||270===o?u.y-=r.h/2:(o>270||o<90)&&(u.y-=r.h)}function hs(o){return j.isNumber(o)?o:0}var jl=Gs.extend({setDimensions:function(){var o=this;o.width=o.maxWidth,o.height=o.maxHeight,o.paddingTop=Fl(o.options)/2,o.xCenter=Math.floor(o.width/2),o.yCenter=Math.floor((o.height-o.paddingTop)/2),o.drawingArea=Math.min(o.height-o.paddingTop,o.width)/2},determineDataLimits:function(){var o=this,r=o.chart,u=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY;j.each(r.data.datasets,function(g,v){if(r.isDatasetVisible(v)){var Z=r.getDatasetMeta(v);j.each(g.data,function(U,A){var N=+o.getRightValue(U);isNaN(N)||Z.data[A].hidden||(u=Math.min(N,u),d=Math.max(N,d))})}}),o.min=u===Number.POSITIVE_INFINITY?0:u,o.max=d===Number.NEGATIVE_INFINITY?0:d,o.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Fl(this.options))},convertTicksToLabels:function(){var o=this;Gs.prototype.convertTicksToLabels.call(o),o.pointLabels=o.chart.data.labels.map(function(){var r=j.callback(o.options.pointLabels.callback,arguments,o);return r||0===r?r:""})},getLabelForIndex:function(o,r){return+this.getRightValue(this.chart.data.datasets[r].data[o])},fit:function(){var o=this,r=o.options;r.display&&r.pointLabels.display?function Ka(o){var g,v,Z,r=j.options._parseFont(o.options.pointLabels),u={l:0,r:o.width,t:0,b:o.height-o.paddingTop},d={};o.ctx.font=r.string,o._pointLabelSizes=[];var U=o.chart.data.labels.length;for(g=0;g<U;g++){Z=o.getPointPosition(g,o.drawingArea+5),v=pp(o.ctx,r.lineHeight,o.pointLabels[g]),o._pointLabelSizes[g]=v;var A=o.getIndexAngle(g),N=j.toDegrees(A)%360,M=ya(N,Z.x,v.w,0,180),F=ya(N,Z.y,v.h,90,270);M.start<u.l&&(u.l=M.start,d.l=A),M.end>u.r&&(u.r=M.end,d.r=A),F.start<u.t&&(u.t=F.start,d.t=A),F.end>u.b&&(u.b=F.end,d.b=A)}o.setReductions(o.drawingArea,u,d)}(o):o.setCenterPoint(0,0,0,0)},setReductions:function(o,r,u){var d=this,g=r.l/Math.sin(u.l),v=Math.max(r.r-d.width,0)/Math.sin(u.r),Z=-r.t/Math.cos(u.t),U=-Math.max(r.b-(d.height-d.paddingTop),0)/Math.cos(u.b);g=hs(g),v=hs(v),Z=hs(Z),U=hs(U),d.drawingArea=Math.min(Math.floor(o-(g+v)/2),Math.floor(o-(Z+U)/2)),d.setCenterPoint(g,v,Z,U)},setCenterPoint:function(o,r,u,d){var g=this,U=u+g.drawingArea,A=g.height-g.paddingTop-d-g.drawingArea;g.xCenter=Math.floor((o+g.drawingArea+(g.width-r-g.drawingArea))/2+g.left),g.yCenter=Math.floor((U+A)/2+g.top+g.paddingTop)},getIndexAngle:function(o){var r=this.chart,v=(o*(360/r.data.labels.length)+((r.options||{}).startAngle||0))%360;return(v<0?v+360:v)*Math.PI*2/360},getDistanceFromCenterForValue:function(o){var r=this;if(j.isNullOrUndef(o))return NaN;var u=r.drawingArea/(r.max-r.min);return r.options.ticks.reverse?(r.max-o)*u:(o-r.min)*u},getPointPosition:function(o,r){var u=this,d=u.getIndexAngle(o)-Math.PI/2;return{x:Math.cos(d)*r+u.xCenter,y:Math.sin(d)*r+u.yCenter}},getPointPositionForValue:function(o,r){return this.getPointPosition(o,this.getDistanceFromCenterForValue(r))},getBasePosition:function(o){var r=this,u=r.min,d=r.max;return r.getPointPositionForValue(o||0,r.beginAtZero?0:u<0&&d<0?d:u>0&&d>0?u:0)},_drawGrid:function(){var U,A,N,o=this,r=o.ctx,u=o.options,d=u.gridLines,g=u.angleLines,v=Ml(g.lineWidth,d.lineWidth),Z=Ml(g.color,d.color);if(u.pointLabels.display&&function fp(o){var r=o.ctx,u=o.options,d=u.pointLabels,g=Fl(u),v=o.getDistanceFromCenterForValue(u.ticks.reverse?o.min:o.max),Z=j.options._parseFont(d);r.save(),r.font=Z.string,r.textBaseline="middle";for(var U=o.chart.data.labels.length-1;U>=0;U--){var N=o.getPointPosition(U,v+(0===U?g/2:0)+5),M=Pu(d.fontColor,U,lt.global.defaultFontColor);r.fillStyle=M;var F=o.getIndexAngle(U),G=j.toDegrees(F);r.textAlign=Wc(G),Qc(G,o._pointLabelSizes[U],N),Vc(r,o.pointLabels[U],N,Z.lineHeight)}r.restore()}(o),d.display&&j.each(o.ticks,function(M,F){0!==F&&(A=o.getDistanceFromCenterForValue(o.ticksAsNumbers[F]),function $c(o,r,u,d){var N,g=o.ctx,v=r.circular,Z=o.chart.data.labels.length,U=Pu(r.color,d-1),A=Pu(r.lineWidth,d-1);if((v||Z)&&U&&A){if(g.save(),g.strokeStyle=U,g.lineWidth=A,g.setLineDash&&(g.setLineDash(r.borderDash||[]),g.lineDashOffset=r.borderDashOffset||0),g.beginPath(),v)g.arc(o.xCenter,o.yCenter,u,0,2*Math.PI);else{N=o.getPointPosition(0,u),g.moveTo(N.x,N.y);for(var M=1;M<Z;M++)N=o.getPointPosition(M,u),g.lineTo(N.x,N.y)}g.closePath(),g.stroke(),g.restore()}}(o,d,A,F))}),g.display&&v&&Z){for(r.save(),r.lineWidth=v,r.strokeStyle=Z,r.setLineDash&&(r.setLineDash(cp([g.borderDash,d.borderDash,[]])),r.lineDashOffset=cp([g.borderDashOffset,d.borderDashOffset,0])),U=o.chart.data.labels.length-1;U>=0;U--)A=o.getDistanceFromCenterForValue(u.ticks.reverse?o.min:o.max),N=o.getPointPosition(U,A),r.beginPath(),r.moveTo(o.xCenter,o.yCenter),r.lineTo(N.x,N.y),r.stroke();r.restore()}},_drawLabels:function(){var o=this,r=o.ctx,d=o.options.ticks;if(d.display){var U,A,g=o.getIndexAngle(0),v=j.options._parseFont(d),Z=Ml(d.fontColor,lt.global.defaultFontColor);r.save(),r.font=v.string,r.translate(o.xCenter,o.yCenter),r.rotate(g),r.textAlign="center",r.textBaseline="middle",j.each(o.ticks,function(N,M){0===M&&!d.reverse||(U=o.getDistanceFromCenterForValue(o.ticksAsNumbers[M]),d.showLabelBackdrop&&(A=r.measureText(N).width,r.fillStyle=d.backdropColor,r.fillRect(-A/2-d.backdropPaddingX,-U-v.size/2-d.backdropPaddingY,A+2*d.backdropPaddingX,v.size+2*d.backdropPaddingY)),r.fillStyle=Z,r.fillText(N,0,-U))}),r.restore()}},_drawTitle:j.noop});jl._defaults=dp;var Rl=j._deprecated,Xc=j.options.resolve,mp=j.valueOrDefault,Wa=Number.MIN_SAFE_INTEGER||-9007199254740991,Iu=Number.MAX_SAFE_INTEGER||9007199254740991,ba={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bi=Object.keys(ba);function ed(o,r){return o-r}function td(o){return j.valueOrDefault(o.time.min,o.ticks.min)}function nd(o){return j.valueOrDefault(o.time.max,o.ticks.max)}function vs(o,r,u,d){var g=function _p(o,r,u){for(var v,Z,U,d=0,g=o.length-1;d>=0&&d<=g;){if(U=o[v=d+g>>1],!(Z=o[v-1]||null))return{lo:null,hi:U};if(U[r]<u)d=v+1;else{if(!(Z[r]>u))return{lo:Z,hi:U};g=v-1}}return{lo:U,hi:null}}(o,r,u),v=g.lo?g.hi?g.lo:o[o.length-2]:o[0],Z=g.lo?g.hi?g.hi:o[o.length-1]:o[1],U=Z[r]-v[r];return v[d]+(Z[d]-v[d])*(U?(u-v[r])/U:0)}function Lu(o,r){var u=o._adapter,d=o.options.time,g=d.parser,v=g||d.format,Z=r;return"function"==typeof g&&(Z=g(Z)),j.isFinite(Z)||(Z="string"==typeof v?u.parse(Z,v):u.parse(Z)),null!==Z?+Z:(!g&&"function"==typeof v&&(Z=v(r),j.isFinite(Z)||(Z=u.parse(Z))),Z)}function Ui(o,r){if(j.isNullOrUndef(r))return null;var u=o.options.time,d=Lu(o,o.getRightValue(r));return null===d||u.round&&(d=+o._adapter.startOf(d,u.round)),d}function od(o,r,u,d){var v,Z,g=Bi.length;for(v=Bi.indexOf(o);v<g-1;++v)if((Z=ba[Bi[v]]).common&&Math.ceil((u-r)/((Z.steps?Z.steps:Iu)*Z.size))<=d)return Bi[v];return Bi[g-1]}function Dl(o,r,u){var Z,U,d=[],g={},v=r.length;for(Z=0;Z<v;++Z)g[U=r[Z]]=Z,d.push({value:U,major:!1});return 0!==v&&u?function Hs(o,r,u,d){var U,A,g=o._adapter,v=+g.startOf(r[0].value,d),Z=r[r.length-1].value;for(U=v;U<=Z;U=+g.add(U,1,d))(A=u[U])>=0&&(r[A].major=!0);return r}(o,d,g,u):d}var id=Ci.extend({initialize:function(){this.mergeTicksOptions(),Ci.prototype.initialize.call(this)},update:function(){var o=this,r=o.options,u=r.time||(r.time={}),d=o._adapter=new kl._date(r.adapters.date);return Rl("time scale",u.format,"time.format","time.parser"),Rl("time scale",u.min,"time.min","ticks.min"),Rl("time scale",u.max,"time.max","ticks.max"),j.mergeIf(u.displayFormats,d.formats()),Ci.prototype.update.apply(o,arguments)},getRightValue:function(o){return o&&void 0!==o.t&&(o=o.t),Ci.prototype.getRightValue.call(this,o)},determineDataLimits:function(){var M,F,G,ue,ge,ve,Pe,o=this,r=o.chart,u=o._adapter,d=o.options,g=d.time.unit||"day",v=Iu,Z=Wa,U=[],A=[],N=[],pt=o._getLabels();for(M=0,G=pt.length;M<G;++M)N.push(Ui(o,pt[M]));for(M=0,G=(r.data.datasets||[]).length;M<G;++M)if(r.isDatasetVisible(M))if(j.isObject((ge=r.data.datasets[M].data)[0]))for(A[M]=[],F=0,ue=ge.length;F<ue;++F)ve=Ui(o,ge[F]),U.push(ve),A[M][F]=ve;else A[M]=N.slice(0),Pe||(U=U.concat(N),Pe=!0);else A[M]=[];N.length&&(v=Math.min(v,N[0]),Z=Math.max(Z,N[N.length-1])),U.length&&(U=G>1?function hp(o){var d,g,v,r={},u=[];for(d=0,g=o.length;d<g;++d)r[v=o[d]]||(r[v]=!0,u.push(v));return u}(U).sort(ed):U.sort(ed),v=Math.min(v,U[0]),Z=Math.max(Z,U[U.length-1])),v=Ui(o,td(d))||v,Z=Ui(o,nd(d))||Z,v=v===Iu?+u.startOf(Date.now(),g):v,Z=Z===Wa?+u.endOf(Date.now(),g)+1:Z,o.min=Math.min(v,Z),o.max=Math.max(v+1,Z),o._table=[],o._timestamps={data:U,datasets:A,labels:N}},buildTicks:function(){var F,G,ue,o=this,r=o.min,u=o.max,d=o.options,g=d.ticks,v=d.time,Z=o._timestamps,U=[],A=o.getLabelCapacity(r),N=g.source,M=d.distribution;for(Z="data"===N||"auto"===N&&"series"===M?Z.data:"labels"===N?Z.labels:function yp(o,r,u,d){var G,g=o._adapter,v=o.options,Z=v.time,U=Z.unit||od(Z.minUnit,r,u,d),A=Xc([Z.stepSize,Z.unitStepSize,1]),N="week"===U&&Z.isoWeekday,M=r,F=[];if(N&&(M=+g.startOf(M,"isoWeek",N)),M=+g.startOf(M,N?"day":U),g.diff(u,r,U)>1e5*A)throw r+" and "+u+" are too far apart with stepSize of "+A+" "+U;for(G=M;G<u;G=+g.add(G,A,U))F.push(G);return(G===u||"ticks"===v.bounds)&&F.push(G),F}(o,r,u,A),"ticks"===d.bounds&&Z.length&&(r=Z[0],u=Z[Z.length-1]),r=Ui(o,td(d))||r,u=Ui(o,nd(d))||u,F=0,G=Z.length;F<G;++F)(ue=Z[F])>=r&&ue<=u&&U.push(ue);return o.min=r,o.max=u,o._unit=v.unit||(g.autoSkip?od(v.minUnit,o.min,o.max,A):function vp(o,r,u,d,g){var v,Z;for(v=Bi.length-1;v>=Bi.indexOf(u);v--)if(ba[Z=Bi[v]].common&&o._adapter.diff(g,d,Z)>=r-1)return Z;return Bi[u?Bi.indexOf(u):0]}(o,U.length,v.minUnit,o.min,o.max)),o._majorUnit=g.major.enabled&&"year"!==o._unit?function Va(o){for(var r=Bi.indexOf(o)+1,u=Bi.length;r<u;++r)if(ba[Bi[r]].common)return Bi[r]}(o._unit):void 0,o._table=function _s(o,r,u,d){if("linear"===d||!o.length)return[{time:r,pos:0},{time:u,pos:1}];var Z,U,A,N,M,g=[],v=[r];for(Z=0,U=o.length;Z<U;++Z)(N=o[Z])>r&&N<u&&v.push(N);for(v.push(u),Z=0,U=v.length;Z<U;++Z)M=v[Z+1],N=v[Z],(void 0===(A=v[Z-1])||void 0===M||Math.round((M+A)/2)!==N)&&g.push({time:N,pos:Z/(U-1)});return g}(o._timestamps.data,r,u,M),o._offsets=function bp(o,r,u,d,g){var U,A,v=0,Z=0;return g.offset&&r.length&&(U=vs(o,"time",r[0],"pos"),v=1===r.length?1-U:(vs(o,"time",r[1],"pos")-U)/2,A=vs(o,"time",r[r.length-1],"pos"),Z=1===r.length?A:(A-vs(o,"time",r[r.length-2],"pos"))/2),{start:v,end:Z,factor:1/(v+1+Z)}}(o._table,U,0,0,d),g.reverse&&U.reverse(),Dl(o,U,o._majorUnit)},getLabelForIndex:function(o,r){var u=this,d=u._adapter,g=u.chart.data,v=u.options.time,Z=g.labels&&o<g.labels.length?g.labels[o]:"",U=g.datasets[r].data[o];return j.isObject(U)&&(Z=u.getRightValue(U)),v.tooltipFormat?d.format(Lu(u,Z),v.tooltipFormat):"string"==typeof Z?Z:d.format(Lu(u,Z),v.displayFormats.datetime)},tickFormatFunction:function(o,r,u,d){var g=this,Z=g.options,U=Z.time.displayFormats,N=g._majorUnit,M=U[N],F=u[r],G=Z.ticks,ue=N&&M&&F&&F.major,ge=g._adapter.format(o,d||(ue?M:U[g._unit])),ve=ue?G.major:G.minor,Pe=Xc([ve.callback,ve.userCallback,G.callback,G.userCallback]);return Pe?Pe(ge,r,u):ge},convertTicksToLabels:function(o){var u,d,r=[];for(u=0,d=o.length;u<d;++u)r.push(this.tickFormatFunction(o[u].value,u,o));return r},getPixelForOffset:function(o){var r=this,u=r._offsets,d=vs(r._table,"time",o,"pos");return r.getPixelForDecimal((u.start+d)*u.factor)},getPixelForValue:function(o,r,u){var d=this,g=null;if(void 0!==r&&void 0!==u&&(g=d._timestamps.datasets[u][r]),null===g&&(g=Ui(d,o)),null!==g)return d.getPixelForOffset(g)},getPixelForTick:function(o){var r=this.getTicks();return o>=0&&o<r.length?this.getPixelForOffset(r[o].value):null},getValueForPixel:function(o){var r=this,u=r._offsets,d=r.getDecimalForPixel(o)/u.factor-u.end,g=vs(r._table,"pos",d,"time");return r._adapter._create(g)},_getLabelSize:function(o){var r=this,u=r.options.ticks,d=r.ctx.measureText(o).width,g=j.toRadians(r.isHorizontal()?u.maxRotation:u.minRotation),v=Math.cos(g),Z=Math.sin(g),U=mp(u.fontSize,lt.global.defaultFontSize);return{w:d*v+U*Z,h:d*Z+U*v}},getLabelWidth:function(o){return this._getLabelSize(o).w},getLabelCapacity:function(o){var r=this,u=r.options.time,d=u.displayFormats,g=d[u.unit]||d.millisecond,v=r.tickFormatFunction(o,0,Dl(r,[o],r._majorUnit),g),Z=r._getLabelSize(v),U=Math.floor(r.isHorizontal()?r.width/Z.w:r.height/Z.h);return r.options.offset&&U--,U>0?U:1}});id._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var ys={category:qi,linear:ku,logarithmic:Nu,radialLinear:jl,time:id},Ys={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};kl._date.override("function"==typeof Gt?{_id:"moment",formats:function(){return Ys},parse:function(o,r){return"string"==typeof o&&"string"==typeof r?o=Gt(o,r):o instanceof Gt||(o=Gt(o)),o.isValid()?o.valueOf():null},format:function(o,r){return Gt(o).format(r)},add:function(o,r,u){return Gt(o).add(r,u).valueOf()},diff:function(o,r,u){return Gt(o).diff(Gt(r),u)},startOf:function(o,r,u){return o=Gt(o),"isoWeek"===r?o.isoWeekday(u).valueOf():o.startOf(r).valueOf()},endOf:function(o,r){return Gt(o).endOf(r).valueOf()},_create:function(o){return Gt(o)}}:{}),lt._set("global",{plugins:{filler:{propagate:!0}}});var Eu={dataset:function(o){var r=o.fill,u=o.chart,d=u.getDatasetMeta(r),v=d&&u.isDatasetVisible(r)&&d.dataset._children||[],Z=v.length||0;return Z?function(U,A){return A<Z&&v[A]._view||null}:null},boundary:function(o){var r=o.boundary,u=r?r.x:null,d=r?r.y:null;return j.isArray(r)?function(g,v){return r[v]}:function(g){return{x:null===u?g.x:u,y:null===d?g.y:d}}}};function Zp(o,r,u){var v,d=o._model||{},g=d.fill;if(void 0===g&&(g=!!d.backgroundColor),!1===g||null===g)return!1;if(!0===g)return"origin";if(v=parseFloat(g,10),isFinite(v)&&Math.floor(v)===v)return("-"===g[0]||"+"===g[0])&&(v=r+v),!(v===r||v<0||v>=u)&&v;switch(g){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return g;default:return!1}}function Tp(o){return(o.el._scale||{}).getPointPositionForValue?function Ap(o){var Z,U,A,N,M,r=o.el._scale,u=r.options,d=r.chart.data.labels.length,g=o.fill,v=[];if(!d)return null;for(U=u.ticks.reverse?r.min:r.max,A=r.getPointPositionForValue(0,Z=u.ticks.reverse?r.max:r.min),N=0;N<d;++N)M="start"===g||"end"===g?r.getPointPositionForValue(N,"start"===g?Z:U):r.getBasePosition(N),u.gridLines.circular&&(M.cx=A.x,M.cy=A.y,M.angle=r.getIndexAngle(N)-Math.PI/2),v.push(M);return v}(o):function xp(o){var v,r=o.el._model||{},u=o.el._scale||{},d=o.fill,g=null;if(isFinite(d))return null;if("start"===d?g=void 0===r.scaleBottom?u.bottom:r.scaleBottom:"end"===d?g=void 0===r.scaleTop?u.top:r.scaleTop:void 0!==r.scaleZero?g=r.scaleZero:u.getBasePixel&&(g=u.getBasePixel()),null!=g){if(void 0!==g.x&&void 0!==g.y)return g;if(j.isFinite(g))return{x:(v=u.isHorizontal())?g:null,y:v?null:g}}return null}(o)}function wp(o,r,u){var Z,g=o[r].fill,v=[r];if(!u)return g;for(;!1!==g&&-1===v.indexOf(g);){if(!isFinite(g))return g;if(!(Z=o[g]))return!1;if(Z.visible)return g;v.push(g),g=Z.fill}return!1}function Cp(o){var r=o.fill,u="dataset";return!1===r?null:(isFinite(r)||(u="boundary"),Eu[u](o))}function ad(o){return o&&!o.skip}function sd(o,r,u,d,g){var v,Z,U,A;if(d&&g){for(o.moveTo(r[0].x,r[0].y),v=1;v<d;++v)j.canvas.lineTo(o,r[v-1],r[v]);if(void 0!==u[0].angle){for(Z=u[0].cx,U=u[0].cy,A=Math.sqrt(Math.pow(u[0].x-Z,2)+Math.pow(u[0].y-U,2)),v=g-1;v>0;--v)o.arc(Z,U,A,u[v].angle,u[v-1].angle,!0);return}for(o.lineTo(u[g-1].x,u[g-1].y),v=g-1;v>0;--v)j.canvas.lineTo(o,u[v],u[v-1],!0)}}function qp(o,r,u,d,g,v){var G,ue,ge,ve,Pe,pt,Ft,zt,Z=r.length,U=d.spanGaps,A=[],N=[],M=0,F=0;for(o.beginPath(),G=0,ue=Z;G<ue;++G)Pe=u(ve=r[ge=G%Z]._view,ge,d),pt=ad(ve),Ft=ad(Pe),v&&void 0===zt&&pt&&(ue=Z+(zt=G+1)),pt&&Ft?(M=A.push(ve),F=N.push(Pe)):M&&F&&(U?(pt&&A.push(ve),Ft&&N.push(Pe)):(sd(o,A,N,M,F),M=F=0,A=[],N=[]));sd(o,A,N,M,F),o.closePath(),o.fillStyle=g,o.fill()}var Up={id:"filler",afterDatasetsUpdate:function(o,r){var v,Z,U,A,u=(o.data.datasets||[]).length,d=r.propagate,g=[];for(Z=0;Z<u;++Z)A=null,(U=(v=o.getDatasetMeta(Z)).dataset)&&U._model&&U instanceof Fi.Line&&(A={visible:o.isDatasetVisible(Z),fill:Zp(U,Z,u),chart:o,el:U}),v.$filler=A,g.push(A);for(Z=0;Z<u;++Z)(A=g[Z])&&(A.fill=wp(g,Z,d),A.boundary=Tp(A),A.mapper=Cp(A))},beforeDatasetsDraw:function(o){var d,g,v,Z,U,A,N,r=o._getSortedVisibleDatasetMetas(),u=o.ctx;for(g=r.length-1;g>=0;--g)(d=r[g].$filler)&&d.visible&&(U=(v=d.el)._children||[],N=(Z=v._view).backgroundColor||lt.global.defaultColor,(A=d.mapper)&&N&&U.length&&(j.canvas.clipArea(u,o.chartArea),qp(u,U,A,Z,N,v._loop),j.canvas.unclipArea(u)))}},Sp=j.rtl.getRtlAdapter,Za=j.noop,Xi=j.valueOrDefault;function Mu(o,r){return o.usePointStyle&&o.boxWidth>r?r:o.boxWidth}lt._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(o,r){var u=r.datasetIndex,d=this.chart,g=d.getDatasetMeta(u);g.hidden=null===g.hidden?!d.data.datasets[u].hidden:null,d.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(o){var r=o.data.datasets,u=o.options.legend||{},d=u.labels&&u.labels.usePointStyle;return o._getSortedDatasetMetas().map(function(g){var v=g.controller.getStyle(d?0:void 0);return{text:r[g.index].label,fillStyle:v.backgroundColor,hidden:!o.isDatasetVisible(g.index),lineCap:v.borderCapStyle,lineDash:v.borderDash,lineDashOffset:v.borderDashOffset,lineJoin:v.borderJoinStyle,lineWidth:v.borderWidth,strokeStyle:v.borderColor,pointStyle:v.pointStyle,rotation:v.rotation,datasetIndex:g.index}},this)}}},legendCallback:function(o){var d,g,v,r=document.createElement("ul"),u=o.data.datasets;for(r.setAttribute("class",o.id+"-legend"),d=0,g=u.length;d<g;d++)(v=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=u[d].backgroundColor,u[d].label&&v.appendChild(document.createTextNode(u[d].label));return r.outerHTML}});var ld=Mi.extend({initialize:function(o){var r=this;j.extend(r,o),r.legendHitBoxes=[],r._hoveredItem=null,r.doughnutMode=!1},beforeUpdate:Za,update:function(o,r,u){var d=this;return d.beforeUpdate(),d.maxWidth=o,d.maxHeight=r,d.margins=u,d.beforeSetDimensions(),d.setDimensions(),d.afterSetDimensions(),d.beforeBuildLabels(),d.buildLabels(),d.afterBuildLabels(),d.beforeFit(),d.fit(),d.afterFit(),d.afterUpdate(),d.minSize},afterUpdate:Za,beforeSetDimensions:Za,setDimensions:function(){var o=this;o.isHorizontal()?(o.width=o.maxWidth,o.left=0,o.right=o.width):(o.height=o.maxHeight,o.top=0,o.bottom=o.height),o.paddingLeft=0,o.paddingTop=0,o.paddingRight=0,o.paddingBottom=0,o.minSize={width:0,height:0}},afterSetDimensions:Za,beforeBuildLabels:Za,buildLabels:function(){var o=this,r=o.options.labels||{},u=j.callback(r.generateLabels,[o.chart],o)||[];r.filter&&(u=u.filter(function(d){return r.filter(d,o.chart.data)})),o.options.reverse&&u.reverse(),o.legendItems=u},afterBuildLabels:Za,beforeFit:Za,fit:function(){var o=this,r=o.options,u=r.labels,d=r.display,g=o.ctx,v=j.options._parseFont(u),Z=v.size,U=o.legendHitBoxes=[],A=o.minSize,N=o.isHorizontal();if(N?(A.width=o.maxWidth,A.height=d?10:0):(A.width=d?10:0,A.height=o.maxHeight),d){if(g.font=v.string,N){var M=o.lineWidths=[0],F=0;g.textAlign="left",g.textBaseline="middle",j.each(o.legendItems,function(Ft,zt){var yn=Mu(u,Z)+Z/2+g.measureText(Ft.text).width;(0===zt||M[M.length-1]+yn+2*u.padding>A.width)&&(F+=Z+u.padding,M[M.length-(zt>0?0:1)]=0),U[zt]={left:0,top:0,width:yn,height:Z},M[M.length-1]+=yn+u.padding}),A.height+=F}else{var G=u.padding,ue=o.columnWidths=[],ge=o.columnHeights=[],ve=u.padding,Pe=0,pt=0;j.each(o.legendItems,function(Ft,zt){var yn=Mu(u,Z)+Z/2+g.measureText(Ft.text).width;zt>0&&pt+Z+2*G>A.height&&(ve+=Pe+u.padding,ue.push(Pe),ge.push(pt),Pe=0,pt=0),Pe=Math.max(Pe,yn),pt+=Z+G,U[zt]={left:0,top:0,width:yn,height:Z}}),ve+=Pe,ue.push(Pe),ge.push(pt),A.width+=ve}o.width=A.width,o.height=A.height}else o.width=A.width=o.height=A.height=0},afterFit:Za,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var o=this,r=o.options,u=r.labels,d=lt.global,g=d.defaultColor,v=d.elements.line,Z=o.height,U=o.columnHeights,A=o.width,N=o.lineWidths;if(r.display){var ve,M=Sp(r.rtl,o.left,o.minSize.width),F=o.ctx,G=Xi(u.fontColor,d.defaultFontColor),ue=j.options._parseFont(u),ge=ue.size;F.textAlign=M.textAlign("left"),F.textBaseline="middle",F.lineWidth=.5,F.strokeStyle=G,F.fillStyle=G,F.font=ue.string;var Pe=Mu(u,ge),pt=o.legendHitBoxes,bn=function(Wn,Hn){switch(r.align){case"start":return u.padding;case"end":return Wn-Hn;default:return(Wn-Hn+u.padding)/2}},yn=o.isHorizontal();ve=yn?{x:o.left+bn(A,N[0]),y:o.top+u.padding,line:0}:{x:o.left+u.padding,y:o.top+bn(Z,U[0]),line:0},j.rtl.overrideTextDirection(o.ctx,r.textDirection);var Dn=ge+u.padding;j.each(o.legendItems,function(Wn,Hn){var mo=F.measureText(Wn.text).width,$o=Pe+ge/2+mo,Jo=ve.x,Ro=ve.y;M.setWidth(o.minSize.width),yn?Hn>0&&Jo+$o+u.padding>o.left+o.minSize.width&&(Ro=ve.y+=Dn,ve.line++,Jo=ve.x=o.left+bn(A,N[ve.line])):Hn>0&&Ro+Dn>o.top+o.minSize.height&&(Jo=ve.x=Jo+o.columnWidths[ve.line]+u.padding,ve.line++,Ro=ve.y=o.top+bn(Z,U[ve.line]));var ri=M.x(Jo);(function(Wn,Hn,mo){if(!(isNaN(Pe)||Pe<=0)){F.save();var $o=Xi(mo.lineWidth,v.borderWidth);if(F.fillStyle=Xi(mo.fillStyle,g),F.lineCap=Xi(mo.lineCap,v.borderCapStyle),F.lineDashOffset=Xi(mo.lineDashOffset,v.borderDashOffset),F.lineJoin=Xi(mo.lineJoin,v.borderJoinStyle),F.lineWidth=$o,F.strokeStyle=Xi(mo.strokeStyle,g),F.setLineDash&&F.setLineDash(Xi(mo.lineDash,v.borderDash)),u&&u.usePointStyle){var Jo=Pe*Math.SQRT2/2,Ro=M.xPlus(Wn,Pe/2);j.canvas.drawPoint(F,mo.pointStyle,Jo,Ro,Hn+ge/2,mo.rotation)}else F.fillRect(M.leftForLtr(Wn,Pe),Hn,Pe,ge),0!==$o&&F.strokeRect(M.leftForLtr(Wn,Pe),Hn,Pe,ge);F.restore()}})(ri,Ro,Wn),pt[Hn].left=M.leftForLtr(ri,pt[Hn].width),pt[Hn].top=Ro,function(Wn,Hn,mo,$o){var Jo=ge/2,Ro=M.xPlus(Wn,Pe+Jo),ri=Hn+Jo;F.fillText(mo.text,Ro,ri),mo.hidden&&(F.beginPath(),F.lineWidth=2,F.moveTo(Ro,ri),F.lineTo(M.xPlus(Ro,$o),ri),F.stroke())}(ri,Ro,Wn,mo),yn?ve.x+=$o+u.padding:ve.y+=Dn}),j.rtl.restoreTextDirection(o.ctx,r.textDirection)}},_getLegendItemAt:function(o,r){var d,g,v,u=this;if(o>=u.left&&o<=u.right&&r>=u.top&&r<=u.bottom)for(v=u.legendHitBoxes,d=0;d<v.length;++d)if(o>=(g=v[d]).left&&o<=g.left+g.width&&r>=g.top&&r<=g.top+g.height)return u.legendItems[d];return null},handleEvent:function(o){var g,r=this,u=r.options,d="mouseup"===o.type?"click":o.type;if("mousemove"===d){if(!u.onHover&&!u.onLeave)return}else{if("click"!==d)return;if(!u.onClick)return}g=r._getLegendItemAt(o.x,o.y),"click"===d?g&&u.onClick&&u.onClick.call(r,o.native,g):(u.onLeave&&g!==r._hoveredItem&&(r._hoveredItem&&u.onLeave.call(r,o.native,r._hoveredItem),r._hoveredItem=g),u.onHover&&g&&u.onHover.call(r,o.native,g))}});function ud(o,r){var u=new ld({ctx:o.ctx,options:r,chart:o});ar.configure(o,u,r),ar.addBox(o,u),o.legend=u}var kp={id:"legend",_element:ld,beforeInit:function(o){var r=o.options.legend;r&&ud(o,r)},beforeUpdate:function(o){var r=o.options.legend,u=o.legend;r?(j.mergeIf(r,lt.global.legend),u?(ar.configure(o,u,r),u.options=r):ud(o,r)):u&&(ar.removeBox(o,u),delete o.legend)},afterEvent:function(o,r){var u=o.legend;u&&u.handleEvent(r)}},Br=j.noop;lt._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var cd=Mi.extend({initialize:function(o){j.extend(this,o),this.legendHitBoxes=[]},beforeUpdate:Br,update:function(o,r,u){var d=this;return d.beforeUpdate(),d.maxWidth=o,d.maxHeight=r,d.margins=u,d.beforeSetDimensions(),d.setDimensions(),d.afterSetDimensions(),d.beforeBuildLabels(),d.buildLabels(),d.afterBuildLabels(),d.beforeFit(),d.fit(),d.afterFit(),d.afterUpdate(),d.minSize},afterUpdate:Br,beforeSetDimensions:Br,setDimensions:function(){var o=this;o.isHorizontal()?(o.width=o.maxWidth,o.left=0,o.right=o.width):(o.height=o.maxHeight,o.top=0,o.bottom=o.height),o.paddingLeft=0,o.paddingTop=0,o.paddingRight=0,o.paddingBottom=0,o.minSize={width:0,height:0}},afterSetDimensions:Br,beforeBuildLabels:Br,buildLabels:Br,afterBuildLabels:Br,beforeFit:Br,fit:function(){var v,o=this,r=o.options,u=o.minSize={},d=o.isHorizontal();r.display?(v=(j.isArray(r.text)?r.text.length:1)*j.options._parseFont(r).lineHeight+2*r.padding,o.width=u.width=d?o.maxWidth:v,o.height=u.height=d?v:o.maxHeight):o.width=u.width=o.height=u.height=0},afterFit:Br,isHorizontal:function(){var o=this.options.position;return"top"===o||"bottom"===o},draw:function(){var o=this,r=o.ctx,u=o.options;if(u.display){var F,G,ue,d=j.options._parseFont(u),g=d.lineHeight,v=g/2+u.padding,Z=0,U=o.top,A=o.left,N=o.bottom,M=o.right;r.fillStyle=j.valueOrDefault(u.fontColor,lt.global.defaultFontColor),r.font=d.string,o.isHorizontal()?(G=A+(M-A)/2,ue=U+v,F=M-A):(G="left"===u.position?A+v:M-v,ue=U+(N-U)/2,F=N-U,Z=Math.PI*("left"===u.position?-.5:.5)),r.save(),r.translate(G,ue),r.rotate(Z),r.textAlign="center",r.textBaseline="middle";var ge=u.text;if(j.isArray(ge))for(var ve=0,Pe=0;Pe<ge.length;++Pe)r.fillText(ge[Pe],0,ve,F),ve+=g;else r.fillText(ge,0,0,F);r.restore()}}});function Bl(o,r){var u=new cd({ctx:o.ctx,options:r,chart:o});ar.configure(o,u,r),ar.addBox(o,u),o.titleBlock=u}var xa={},Np=Up,Pp=kp,Z1={id:"title",_element:cd,beforeInit:function(o){var r=o.options.title;r&&Bl(o,r)},beforeUpdate:function(o){var r=o.options.title,u=o.titleBlock;r?(j.mergeIf(r,lt.global.title),u?(ar.configure(o,u,r),u.options=r):Bl(o,r)):u&&(ar.removeBox(o,u),delete o.titleBlock)}};for(var Aa in xa.filler=Np,xa.legend=Pp,xa.title=Z1,Sn.helpers=j,function(){function o(d,g,v){var Z;return"string"==typeof d?(Z=parseInt(d,10),-1!==d.indexOf("%")&&(Z=Z/100*g.parentNode[v])):Z=d,Z}function r(d){return null!=d&&"none"!==d}function u(d,g,v){var Z=document.defaultView,U=j._getParentNode(d),A=Z.getComputedStyle(d)[g],N=Z.getComputedStyle(U)[g],M=r(A),F=r(N),G=Number.POSITIVE_INFINITY;return M||F?Math.min(M?o(A,d,v):G,F?o(N,U,v):G):"none"}j.where=function(d,g){if(j.isArray(d)&&Array.prototype.filter)return d.filter(g);var v=[];return j.each(d,function(Z){g(Z)&&v.push(Z)}),v},j.findIndex=Array.prototype.findIndex?function(d,g,v){return d.findIndex(g,v)}:function(d,g,v){v=void 0===v?d:v;for(var Z=0,U=d.length;Z<U;++Z)if(g.call(v,d[Z],Z,d))return Z;return-1},j.findNextWhere=function(d,g,v){j.isNullOrUndef(v)&&(v=-1);for(var Z=v+1;Z<d.length;Z++){var U=d[Z];if(g(U))return U}},j.findPreviousWhere=function(d,g,v){j.isNullOrUndef(v)&&(v=d.length);for(var Z=v-1;Z>=0;Z--){var U=d[Z];if(g(U))return U}},j.isNumber=function(d){return!isNaN(parseFloat(d))&&isFinite(d)},j.almostEquals=function(d,g,v){return Math.abs(d-g)<v},j.almostWhole=function(d,g){var v=Math.round(d);return v-g<=d&&v+g>=d},j.max=function(d){return d.reduce(function(g,v){return isNaN(v)?g:Math.max(g,v)},Number.NEGATIVE_INFINITY)},j.min=function(d){return d.reduce(function(g,v){return isNaN(v)?g:Math.min(g,v)},Number.POSITIVE_INFINITY)},j.sign=Math.sign?function(d){return Math.sign(d)}:function(d){return 0==(d=+d)||isNaN(d)?d:d>0?1:-1},j.toRadians=function(d){return d*(Math.PI/180)},j.toDegrees=function(d){return d*(180/Math.PI)},j._decimalPlaces=function(d){if(j.isFinite(d)){for(var g=1,v=0;Math.round(d*g)/g!==d;)g*=10,v++;return v}},j.getAngleFromPoint=function(d,g){var v=g.x-d.x,Z=g.y-d.y,U=Math.sqrt(v*v+Z*Z),A=Math.atan2(Z,v);return A<-.5*Math.PI&&(A+=2*Math.PI),{angle:A,distance:U}},j.distanceBetweenPoints=function(d,g){return Math.sqrt(Math.pow(g.x-d.x,2)+Math.pow(g.y-d.y,2))},j.aliasPixel=function(d){return d%2==0?0:.5},j._alignPixel=function(d,g,v){var Z=d.currentDevicePixelRatio,U=v/2;return Math.round((g-U)*Z)/Z+U},j.splineCurve=function(d,g,v,Z){var U=d.skip?g:d,A=g,N=v.skip?g:v,M=Math.sqrt(Math.pow(A.x-U.x,2)+Math.pow(A.y-U.y,2)),F=Math.sqrt(Math.pow(N.x-A.x,2)+Math.pow(N.y-A.y,2)),G=M/(M+F),ue=F/(M+F),ge=Z*(G=isNaN(G)?0:G),ve=Z*(ue=isNaN(ue)?0:ue);return{previous:{x:A.x-ge*(N.x-U.x),y:A.y-ge*(N.y-U.y)},next:{x:A.x+ve*(N.x-U.x),y:A.y+ve*(N.y-U.y)}}},j.EPSILON=Number.EPSILON||1e-14,j.splineCurveMonotone=function(d){var Z,U,A,N,F,G,ue,ge,ve,g=(d||[]).map(function(Pe){return{model:Pe._model,deltaK:0,mK:0}}),v=g.length;for(Z=0;Z<v;++Z)if(!(A=g[Z]).model.skip){if(U=Z>0?g[Z-1]:null,(N=Z<v-1?g[Z+1]:null)&&!N.model.skip){var M=N.model.x-A.model.x;A.deltaK=0!==M?(N.model.y-A.model.y)/M:0}A.mK=!U||U.model.skip?A.deltaK:!N||N.model.skip?U.deltaK:this.sign(U.deltaK)!==this.sign(A.deltaK)?0:(U.deltaK+A.deltaK)/2}for(Z=0;Z<v-1;++Z)if(N=g[Z+1],!(A=g[Z]).model.skip&&!N.model.skip){if(j.almostEquals(A.deltaK,0,this.EPSILON)){A.mK=N.mK=0;continue}F=A.mK/A.deltaK,G=N.mK/A.deltaK,!((ge=Math.pow(F,2)+Math.pow(G,2))<=9)&&(ue=3/Math.sqrt(ge),A.mK=F*ue*A.deltaK,N.mK=G*ue*A.deltaK)}for(Z=0;Z<v;++Z)!(A=g[Z]).model.skip&&(N=Z<v-1?g[Z+1]:null,(U=Z>0?g[Z-1]:null)&&!U.model.skip&&(A.model.controlPointPreviousX=A.model.x-(ve=(A.model.x-U.model.x)/3),A.model.controlPointPreviousY=A.model.y-ve*A.mK),N&&!N.model.skip&&(A.model.controlPointNextX=A.model.x+(ve=(N.model.x-A.model.x)/3),A.model.controlPointNextY=A.model.y+ve*A.mK))},j.nextItem=function(d,g,v){return v?g>=d.length-1?d[0]:d[g+1]:g>=d.length-1?d[d.length-1]:d[g+1]},j.previousItem=function(d,g,v){return v?g<=0?d[d.length-1]:d[g-1]:g<=0?d[0]:d[g-1]},j.niceNum=function(d,g){var v=Math.floor(j.log10(d)),Z=d/Math.pow(10,v);return(g?Z<1.5?1:Z<3?2:Z<7?5:10:Z<=1?1:Z<=2?2:Z<=5?5:10)*Math.pow(10,v)},j.requestAnimFrame=typeof window>"u"?function(d){d()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(d){return window.setTimeout(d,1e3/60)},j.getRelativePosition=function(d,g){var v,Z,U=d.originalEvent||d,A=d.target||d.srcElement,N=A.getBoundingClientRect(),M=U.touches;M&&M.length>0?(v=M[0].clientX,Z=M[0].clientY):(v=U.clientX,Z=U.clientY);var F=parseFloat(j.getStyle(A,"padding-left")),G=parseFloat(j.getStyle(A,"padding-top")),ue=parseFloat(j.getStyle(A,"padding-right")),ge=parseFloat(j.getStyle(A,"padding-bottom")),Pe=N.bottom-N.top-G-ge;return{x:v=Math.round((v-N.left-F)/(N.right-N.left-F-ue)*A.width/g.currentDevicePixelRatio),y:Z=Math.round((Z-N.top-G)/Pe*A.height/g.currentDevicePixelRatio)}},j.getConstraintWidth=function(d){return u(d,"max-width","clientWidth")},j.getConstraintHeight=function(d){return u(d,"max-height","clientHeight")},j._calculatePadding=function(d,g,v){return(g=j.getStyle(d,g)).indexOf("%")>-1?v*parseInt(g,10)/100:parseInt(g,10)},j._getParentNode=function(d){var g=d.parentNode;return g&&"[object ShadowRoot]"===g.toString()&&(g=g.host),g},j.getMaximumWidth=function(d){var g=j._getParentNode(d);if(!g)return d.clientWidth;var v=g.clientWidth,A=v-j._calculatePadding(g,"padding-left",v)-j._calculatePadding(g,"padding-right",v),N=j.getConstraintWidth(d);return isNaN(N)?A:Math.min(A,N)},j.getMaximumHeight=function(d){var g=j._getParentNode(d);if(!g)return d.clientHeight;var v=g.clientHeight,A=v-j._calculatePadding(g,"padding-top",v)-j._calculatePadding(g,"padding-bottom",v),N=j.getConstraintHeight(d);return isNaN(N)?A:Math.min(A,N)},j.getStyle=function(d,g){return d.currentStyle?d.currentStyle[g]:document.defaultView.getComputedStyle(d,null).getPropertyValue(g)},j.retinaScale=function(d,g){var v=d.currentDevicePixelRatio=g||typeof window<"u"&&window.devicePixelRatio||1;if(1!==v){var Z=d.canvas,U=d.height,A=d.width;Z.height=U*v,Z.width=A*v,d.ctx.scale(v,v),!Z.style.height&&!Z.style.width&&(Z.style.height=U+"px",Z.style.width=A+"px")}},j.fontString=function(d,g,v){return g+" "+d+"px "+v},j.longestText=function(d,g,v,Z){var U=(Z=Z||{}).data=Z.data||{},A=Z.garbageCollect=Z.garbageCollect||[];Z.font!==g&&(U=Z.data={},A=Z.garbageCollect=[],Z.font=g),d.font=g;var F,G,ue,ge,ve,N=0,M=v.length;for(F=0;F<M;F++)if(null!=(ge=v[F])&&!0!==j.isArray(ge))N=j.measureText(d,U,A,N,ge);else if(j.isArray(ge))for(G=0,ue=ge.length;G<ue;G++)null!=(ve=ge[G])&&!j.isArray(ve)&&(N=j.measureText(d,U,A,N,ve));var Pe=A.length/2;if(Pe>v.length){for(F=0;F<Pe;F++)delete U[A[F]];A.splice(0,Pe)}return N},j.measureText=function(d,g,v,Z,U){var A=g[U];return A||(A=g[U]=d.measureText(U).width,v.push(U)),A>Z&&(Z=A),Z},j.numberOfLabelLines=function(d){var g=1;return j.each(d,function(v){j.isArray(v)&&v.length>g&&(g=v.length)}),g},j.color=Mo?function(d){return d instanceof CanvasGradient&&(d=lt.global.defaultColor),Mo(d)}:function(d){return console.error("Color.js not found!"),d},j.getHoverColor=function(d){return d instanceof CanvasPattern||d instanceof CanvasGradient?d:j.color(d).saturate(.5).darken(.1).rgbString()}}(),Sn._adapters=kl,Sn.Animation=hu,Sn.animationService=fc,Sn.controllers=Qn,Sn.DatasetController=ir,Sn.defaults=lt,Sn.Element=Mi,Sn.elements=Fi,Sn.Interaction=_r,Sn.layouts=ar,Sn.platform=ps,Sn.plugins=Jn,Sn.Scale=Ci,Sn.scaleService=Bs,Sn.Ticks=yr,Sn.Tooltip=Tu,Sn.helpers.each(ys,function(o,r){Sn.scaleService.registerScaleType(r,o,o._defaults)}),xa)xa.hasOwnProperty(Aa)&&Sn.plugins.register(xa[Aa]);Sn.platform.initialize();var pd=Sn;return typeof window<"u"&&(window.Chart=Sn),Sn.Chart=Sn,Sn.Legend=xa.legend._element,Sn.Title=xa.title._element,Sn.pluginService=Sn.plugins,Sn.PluginBase=Sn.Element.extend({}),Sn.canvasHelpers=Sn.helpers.canvas,Sn.layoutService=Sn.layouts,Sn.LinearScaleBase=Gs,Sn.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(o){Sn[o]=function(r,u){return new Sn(r,Sn.helpers.merge(u||{},{type:o.charAt(0).toLowerCase()+o.slice(1)}))}}),pd}(function(){try{return cn(5439)}catch{}}())},7153:(Ea,fr,cn)=>{var Gt,be;self,Ea.exports=(Gt=cn(1303),be=cn(4159),function(){var b={"./src/plugin/hyperlinks.js":function(he,ae,P){"use strict";P.r(ae),P("./node_modules/core-js/modules/web.dom-collections.for-each.js"),P("./node_modules/core-js/modules/es.string.link.js");var me=P("./src/worker.js"),Ne=P("./src/utils.js"),Ie=[],Ee={toContainer:me.default.prototype.toContainer,toPdf:me.default.prototype.toPdf};me.default.prototype.toContainer=function(){return Ee.toContainer.call(this).then(function(){if(this.opt.enableLinks){var ot=this.prop.container,yt=ot.querySelectorAll("a"),Rt=(0,Ne.unitConvert)(ot.getBoundingClientRect(),this.prop.pageSize.k);Ie=[],Array.prototype.forEach.call(yt,function(Wt){for(var tn=Wt.getClientRects(),Mt=0;Mt<tn.length;Mt++){var Tt=(0,Ne.unitConvert)(tn[Mt],this.prop.pageSize.k);Tt.left-=Rt.left,Tt.top-=Rt.top;var W=Math.floor(Tt.top/this.prop.pageSize.inner.height)+1;Ie.push({page:W,top:this.opt.margin[0]+Tt.top%this.prop.pageSize.inner.height,left:this.opt.margin[1]+Tt.left,clientRect:Tt,link:Wt})}},this)}})},me.default.prototype.toPdf=function(){return Ee.toPdf.call(this).then(function(){if(this.opt.enableLinks){Ie.forEach(function(yt){this.prop.pdf.setPage(yt.page),this.prop.pdf.link(yt.left,yt.top,yt.clientRect.width,yt.clientRect.height,{url:yt.link.href})},this);var ot=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(ot)}})}},"./src/plugin/jspdf-plugin.js":function(he,ae,P){"use strict";P.r(ae),P("./node_modules/core-js/modules/es.symbol.js"),P("./node_modules/core-js/modules/es.symbol.description.js"),P("./node_modules/core-js/modules/es.object.to-string.js"),P("./node_modules/core-js/modules/es.symbol.iterator.js"),P("./node_modules/core-js/modules/es.array.iterator.js"),P("./node_modules/core-js/modules/es.string.iterator.js"),P("./node_modules/core-js/modules/web.dom-collections.iterator.js");var tn=P("jspdf");function Tt(W){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Nt){return typeof Nt}:function(Nt){return Nt&&"function"==typeof Symbol&&Nt.constructor===Symbol&&Nt!==Symbol.prototype?"symbol":typeof Nt})(W)}tn.jsPDF.getPageSize=function(W,kt,Nt){if("object"===Tt(W)){var bt=W;W=bt.orientation,kt=bt.unit||kt,Nt=bt.format||Nt}kt=kt||"mm",Nt=Nt||"a4",W=(""+(W||"P")).toLowerCase();var Dt=(""+Nt).toLowerCase(),Et={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(kt){case"pt":var vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=.75;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:throw"Invalid unit: "+kt}if(Et.hasOwnProperty(Dt))var it=Et[Dt][1]/vt,ut=Et[Dt][0]/vt;else try{it=Nt[1],ut=Nt[0]}catch{throw new Error("Invalid format: "+Nt)}if("p"===W||"portrait"===W){if(W="p",ut>it){var Fe=ut;ut=it,it=Fe}}else{if("l"!==W&&"landscape"!==W)throw"Invalid orientation: "+W;W="l",it>ut&&(Fe=ut,ut=it,it=Fe)}return{width:ut,height:it,unit:kt,k:vt}},ae.default=tn.jsPDF},"./src/plugin/pagebreaks.js":function(he,ae,P){"use strict";P.r(ae),P("./node_modules/core-js/modules/es.array.concat.js"),P("./node_modules/core-js/modules/es.array.slice.js"),P("./node_modules/core-js/modules/es.array.join.js"),P("./node_modules/core-js/modules/web.dom-collections.for-each.js"),P("./node_modules/core-js/modules/es.object.keys.js");var ot=P("./src/worker.js"),yt=P("./src/utils.js"),Rt={toContainer:ot.default.prototype.toContainer};ot.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},ot.default.prototype.toContainer=function(){return Rt.toContainer.call(this).then(function(){var Mt=this.prop.container,Tt=this.prop.pageSize.inner.px.height,W=[].concat(this.opt.pagebreak.mode),kt={avoidAll:-1!==W.indexOf("avoid-all"),css:-1!==W.indexOf("css"),legacy:-1!==W.indexOf("legacy")},Nt={},bt=this;["before","after","avoid"].forEach(function(vt){Nt[vt]=kt.avoidAll&&"avoid"===vt?[]:[].concat(bt.opt.pagebreak[vt]||[]),Nt[vt].length>0&&(Nt[vt]=Array.prototype.slice.call(Mt.querySelectorAll(Nt[vt].join(", "))))});var Dt=Mt.querySelectorAll(".html2pdf__page-break");Dt=Array.prototype.slice.call(Dt);var Et=Mt.querySelectorAll("*");Array.prototype.forEach.call(Et,function(it){var ut={before:!1,after:kt.legacy&&-1!==Dt.indexOf(it),avoid:kt.avoidAll};if(kt.css){var Fe=window.getComputedStyle(it),ht=["always","page","left","right"];ut={before:ut.before||-1!==ht.indexOf(Fe.breakBefore||Fe.pageBreakBefore),after:ut.after||-1!==ht.indexOf(Fe.breakAfter||Fe.pageBreakAfter),avoid:ut.avoid||-1!==["avoid","avoid-page"].indexOf(Fe.breakInside||Fe.pageBreakInside)}}Object.keys(ut).forEach(function(Kn){ut[Kn]=ut[Kn]||-1!==Nt[Kn].indexOf(it)});var Ot=it.getBoundingClientRect();if(ut.avoid&&!ut.before){var Rn=Math.floor(Ot.top/Tt),vo=Math.floor(Ot.bottom/Tt),so=Math.abs(Ot.bottom-Ot.top)/Tt;vo!==Rn&&so<=1&&(ut.before=!0)}if(ut.before){var co=(0,yt.createElement)("div",{style:{display:"block",height:Tt-Ot.top%Tt+"px"}});it.parentNode.insertBefore(co,it)}ut.after&&(co=(0,yt.createElement)("div",{style:{display:"block",height:Tt-Ot.bottom%Tt+"px"}}),it.parentNode.insertBefore(co,it.nextSibling))})})}},"./src/utils.js":function(he,ae,P){"use strict";function Tt(Et){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(it){return typeof it}:function(it){return it&&"function"==typeof Symbol&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it})(Et)}P.r(ae),P.d(ae,{objType:function(){return W},createElement:function(){return kt},cloneNode:function(){return Nt},unitConvert:function(){return bt},toPx:function(){return Dt}}),P("./node_modules/core-js/modules/es.number.constructor.js"),P("./node_modules/core-js/modules/es.symbol.js"),P("./node_modules/core-js/modules/es.symbol.description.js"),P("./node_modules/core-js/modules/es.object.to-string.js"),P("./node_modules/core-js/modules/es.symbol.iterator.js"),P("./node_modules/core-js/modules/es.array.iterator.js"),P("./node_modules/core-js/modules/es.string.iterator.js"),P("./node_modules/core-js/modules/web.dom-collections.iterator.js");var W=function(vt){var it=Tt(vt);return"undefined"===it?"undefined":"string"===it||vt instanceof String?"string":"number"===it||vt instanceof Number?"number":"function"===it||vt instanceof Function?"function":vt&&vt.constructor===Array?"array":vt&&1===vt.nodeType?"element":"object"===it?"object":"unknown"},kt=function(vt,it){var ut=document.createElement(vt);if(it.className&&(ut.className=it.className),it.innerHTML){ut.innerHTML=it.innerHTML;for(var Fe=ut.getElementsByTagName("script"),ht=Fe.length;ht-- >0;null)Fe[ht].parentNode.removeChild(Fe[ht])}for(var wt in it.style)ut.style[wt]=it.style[wt];return ut},Nt=function Et(vt,it){for(var ut=3===vt.nodeType?document.createTextNode(vt.nodeValue):vt.cloneNode(!1),Fe=vt.firstChild;Fe;Fe=Fe.nextSibling)(!0===it||1!==Fe.nodeType||"SCRIPT"!==Fe.nodeName)&&ut.appendChild(Et(Fe,it));return 1===vt.nodeType&&("CANVAS"===vt.nodeName?(ut.width=vt.width,ut.height=vt.height,ut.getContext("2d").drawImage(vt,0,0)):("TEXTAREA"===vt.nodeName||"SELECT"===vt.nodeName)&&(ut.value=vt.value),ut.addEventListener("load",function(){ut.scrollTop=vt.scrollTop,ut.scrollLeft=vt.scrollLeft},!0)),ut},bt=function(vt,it){if("number"===W(vt))return 72*vt/96/it;var ut={};for(var Fe in vt)ut[Fe]=72*vt[Fe]/96/it;return ut},Dt=function(vt,it){return Math.floor(vt*it/72*96)}},"./src/worker.js":function(he,ae,P){"use strict";P.r(ae),P("./node_modules/core-js/modules/es.object.assign.js"),P("./node_modules/core-js/modules/es.array.map.js"),P("./node_modules/core-js/modules/es.object.keys.js"),P("./node_modules/core-js/modules/es.array.concat.js"),P("./node_modules/core-js/modules/es.object.to-string.js"),P("./node_modules/core-js/modules/es.regexp.to-string.js"),P("./node_modules/core-js/modules/es.function.name.js"),P("./node_modules/core-js/modules/web.dom-collections.for-each.js");var Tt=P("jspdf"),kt=P("html2canvas"),bt=P("./src/utils.js"),Dt=P("./node_modules/es6-promise/dist/es6-promise.js"),vt=P.n(Dt)().Promise,it=function ut(Fe){var ht=Object.assign(ut.convert(vt.resolve()),JSON.parse(JSON.stringify(ut.template))),wt=ut.convert(vt.resolve(),ht);return(wt=wt.setProgress(1,ut,1,[ut])).set(Fe)};(it.prototype=Object.create(vt.prototype)).constructor=it,it.convert=function(Fe,ht){return Fe.__proto__=ht||it.prototype,Fe},it.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},it.prototype.from=function(Fe,ht){return this.then(function(){switch(ht=ht||function wt(Ot){switch((0,bt.objType)(Ot)){case"string":return"string";case"element":return Ot.nodeName.toLowerCase&&"canvas"===Ot.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(Fe)){case"string":return this.set({src:(0,bt.createElement)("div",{innerHTML:Fe})});case"element":return this.set({src:Fe});case"canvas":return this.set({canvas:Fe});case"img":return this.set({img:Fe});default:return this.error("Unknown source type.")}})},it.prototype.to=function(Fe){switch(Fe){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},it.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var wt={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},Ot={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};wt.opacity=0;var Rn=(0,bt.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,bt.createElement)("div",{className:"html2pdf__overlay",style:wt}),this.prop.container=(0,bt.createElement)("div",{className:"html2pdf__container",style:Ot}),this.prop.container.appendChild(Rn),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},it.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(function(){var wt=Object.assign({},this.opt.html2canvas);return delete wt.onrendered,kt(this.prop.container,wt)}).then(function(wt){(this.opt.html2canvas.onrendered||function(){})(wt),this.prop.canvas=wt,document.body.removeChild(this.prop.overlay)})},it.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var wt=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=wt})},it.prototype.toPdf=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var wt=this.prop.canvas,Ot=this.opt,Rn=wt.height,vo=Math.floor(wt.width*this.prop.pageSize.inner.ratio),so=Math.ceil(Rn/vo),co=this.prop.pageSize.inner.height,Kn=document.createElement("canvas"),lo=Kn.getContext("2d");Kn.width=wt.width,Kn.height=vo,this.prop.pdf=this.prop.pdf||new Tt.jsPDF(Ot.jsPDF);for(var Eo=0;Eo<so;Eo++){Eo===so-1&&Rn%vo!=0&&(Kn.height=Rn%vo,co=Kn.height*this.prop.pageSize.inner.width/Kn.width);var Gn=Kn.width,En=Kn.height;lo.fillStyle="white",lo.fillRect(0,0,Gn,En),lo.drawImage(wt,0,Eo*vo,Gn,En,0,0,Gn,En),Eo&&this.prop.pdf.addPage();var qo=Kn.toDataURL("image/"+Ot.image.type,Ot.image.quality);this.prop.pdf.addImage(qo,Ot.image.type,Ot.margin[1],Ot.margin[0],this.prop.pageSize.inner.width,co)}})},it.prototype.output=function(Fe,ht,wt){return"img"===(wt=wt||"pdf").toLowerCase()||"image"===wt.toLowerCase()?this.outputImg(Fe,ht):this.outputPdf(Fe,ht)},it.prototype.outputPdf=function(Fe,ht){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(Fe,ht)})},it.prototype.outputImg=function(Fe,ht){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(Fe){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Fe+'" is not supported.'}})},it.prototype.save=function(Fe){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(Fe?{filename:Fe}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},it.prototype.set=function(Fe){if("object"!==(0,bt.objType)(Fe))return this;var ht=Object.keys(Fe||{}).map(function(wt){switch(wt){case"margin":return this.setMargin.bind(this,Fe.margin);case"jsPDF":return function(){return this.opt.jsPDF=Fe.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Fe.pageSize);default:return wt in it.template.prop?function(){this.prop[wt]=Fe[wt]}:function(){this.opt[wt]=Fe[wt]}}},this);return this.then(function(){return this.thenList(ht)})},it.prototype.get=function(Fe,ht){return this.then(function(){var Ot=Fe in it.template.prop?this.prop[Fe]:this.opt[Fe];return ht?ht(Ot):Ot})},it.prototype.setMargin=function(Fe){return this.then(function(){switch((0,bt.objType)(Fe)){case"number":Fe=[Fe,Fe,Fe,Fe];case"array":if(2===Fe.length&&(Fe=[Fe[0],Fe[1],Fe[0],Fe[1]]),4===Fe.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=Fe}).then(this.setPageSize)},it.prototype.setPageSize=function(Fe){return this.then(function(){(Fe=Fe||Tt.jsPDF.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(Fe.inner={width:Fe.width-this.opt.margin[1]-this.opt.margin[3],height:Fe.height-this.opt.margin[0]-this.opt.margin[2]},Fe.inner.px={width:(0,bt.toPx)(Fe.inner.width,Fe.k),height:(0,bt.toPx)(Fe.inner.height,Fe.k)},Fe.inner.ratio=Fe.inner.height/Fe.inner.width),this.prop.pageSize=Fe})},it.prototype.setProgress=function(Fe,ht,wt,Ot){return null!=Fe&&(this.progress.val=Fe),null!=ht&&(this.progress.state=ht),null!=wt&&(this.progress.n=wt),null!=Ot&&(this.progress.stack=Ot),this.progress.ratio=this.progress.val/this.progress.state,this},it.prototype.updateProgress=function(Fe,ht,wt,Ot){return this.setProgress(Fe?this.progress.val+Fe:null,ht||null,wt?this.progress.n+wt:null,Ot?this.progress.stack.concat(Ot):null)},it.prototype.then=function(Fe,ht){var wt=this;return this.thenCore(Fe,ht,function(Rn,vo){return wt.updateProgress(null,null,1,[Rn]),vt.prototype.then.call(this,function(co){return wt.updateProgress(null,Rn),co}).then(Rn,vo).then(function(co){return wt.updateProgress(1),co})})},it.prototype.thenCore=function(Fe,ht,wt){wt=wt||vt.prototype.then;var Ot=this;Fe&&(Fe=Fe.bind(Ot)),ht&&(ht=ht.bind(Ot));var vo=-1!==vt.toString().indexOf("[native code]")&&"Promise"===vt.name?Ot:it.convert(Object.assign({},Ot),vt.prototype),so=wt.call(vo,Fe,ht);return it.convert(so,Ot.__proto__)},it.prototype.thenExternal=function(Fe,ht){return vt.prototype.then.call(this,Fe,ht)},it.prototype.thenList=function(Fe){var ht=this;return Fe.forEach(function(Ot){ht=ht.thenCore(Ot)}),ht},it.prototype.catch=function(ut){ut&&(ut=ut.bind(this));var Fe=vt.prototype.catch.call(this,ut);return it.convert(Fe,this)},it.prototype.catchExternal=function(Fe){return vt.prototype.catch.call(this,Fe)},it.prototype.error=function(Fe){return this.then(function(){throw new Error(Fe)})},it.prototype.using=it.prototype.set,it.prototype.saveAs=it.prototype.save,it.prototype.export=it.prototype.output,it.prototype.run=it.prototype.then,ae.default=it},"./node_modules/core-js/internals/a-function.js":function(he){he.exports=function(ae){if("function"!=typeof ae)throw TypeError(String(ae)+" is not a function");return ae}},"./node_modules/core-js/internals/a-possible-prototype.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/is-object.js");he.exports=function(pe){if(!ee(pe)&&null!==pe)throw TypeError("Can't set "+String(pe)+" as a prototype");return pe}},"./node_modules/core-js/internals/add-to-unscopables.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/well-known-symbol.js"),pe=P("./node_modules/core-js/internals/object-create.js"),te=P("./node_modules/core-js/internals/object-define-property.js"),e=ee("unscopables"),me=Array.prototype;null==me[e]&&te.f(me,e,{configurable:!0,value:pe(null)}),he.exports=function(Ne){me[e][Ne]=!0}},"./node_modules/core-js/internals/an-object.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/is-object.js");he.exports=function(pe){if(!ee(pe))throw TypeError(String(pe)+" is not an object");return pe}},"./node_modules/core-js/internals/array-for-each.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/array-iteration.js").forEach,te=P("./node_modules/core-js/internals/array-method-is-strict.js")("forEach");he.exports=te?[].forEach:function(me){return ee(this,me,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-includes.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/to-indexed-object.js"),pe=P("./node_modules/core-js/internals/to-length.js"),te=P("./node_modules/core-js/internals/to-absolute-index.js"),e=function(me){return function(Ne,Ie,Ee){var yt,tt=ee(Ne),Ke=pe(tt.length),ot=te(Ee,Ke);if(me&&Ie!=Ie){for(;Ke>ot;)if((yt=tt[ot++])!=yt)return!0}else for(;Ke>ot;ot++)if((me||ot in tt)&&tt[ot]===Ie)return me||ot||0;return!me&&-1}};he.exports={includes:e(!0),indexOf:e(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/function-bind-context.js"),pe=P("./node_modules/core-js/internals/indexed-object.js"),te=P("./node_modules/core-js/internals/to-object.js"),e=P("./node_modules/core-js/internals/to-length.js"),me=P("./node_modules/core-js/internals/array-species-create.js"),Ne=[].push,Ie=function(Ee){var tt=1==Ee,Ke=2==Ee,ot=3==Ee,yt=4==Ee,Rt=6==Ee,Wt=7==Ee,tn=5==Ee||Rt;return function(Mt,Tt,W,kt){for(var Fe,ht,Nt=te(Mt),bt=pe(Nt),Dt=ee(Tt,W,3),Et=e(bt.length),vt=0,it=kt||me,ut=tt?it(Mt,Et):Ke||Wt?it(Mt,0):void 0;Et>vt;vt++)if((tn||vt in bt)&&(ht=Dt(Fe=bt[vt],vt,Nt),Ee))if(tt)ut[vt]=ht;else if(ht)switch(Ee){case 3:return!0;case 5:return Fe;case 6:return vt;case 2:Ne.call(ut,Fe)}else switch(Ee){case 4:return!1;case 7:Ne.call(ut,Fe)}return Rt?-1:ot||yt?yt:ut}};he.exports={forEach:Ie(0),map:Ie(1),filter:Ie(2),some:Ie(3),every:Ie(4),find:Ie(5),findIndex:Ie(6),filterReject:Ie(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/fails.js"),pe=P("./node_modules/core-js/internals/well-known-symbol.js"),te=P("./node_modules/core-js/internals/engine-v8-version.js"),e=pe("species");he.exports=function(me){return te>=51||!ee(function(){var Ne=[];return(Ne.constructor={})[e]=function(){return{foo:1}},1!==Ne[me](Boolean).foo})}},"./node_modules/core-js/internals/array-method-is-strict.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/fails.js");he.exports=function(pe,te){var e=[][pe];return!!e&&ee(function(){e.call(null,te||function(){throw 1},1)})}},"./node_modules/core-js/internals/array-species-constructor.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/is-object.js"),pe=P("./node_modules/core-js/internals/is-array.js"),e=P("./node_modules/core-js/internals/well-known-symbol.js")("species");he.exports=function(me){var Ne;return pe(me)&&("function"!=typeof(Ne=me.constructor)||Ne!==Array&&!pe(Ne.prototype)?ee(Ne)&&null===(Ne=Ne[e])&&(Ne=void 0):Ne=void 0),void 0===Ne?Array:Ne}},"./node_modules/core-js/internals/array-species-create.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/array-species-constructor.js");he.exports=function(pe,te){return new(ee(pe))(0===te?0:te)}},"./node_modules/core-js/internals/classof-raw.js":function(he){var ae={}.toString;he.exports=function(P){return ae.call(P).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/to-string-tag-support.js"),pe=P("./node_modules/core-js/internals/classof-raw.js"),e=P("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag"),me="Arguments"==pe(function(){return arguments}());he.exports=ee?pe:function(Ie){var Ee,tt,Ke;return void 0===Ie?"Undefined":null===Ie?"Null":"string"==typeof(tt=function(Ie,Ee){try{return Ie[Ee]}catch{}}(Ee=Object(Ie),e))?tt:me?pe(Ee):"Object"==(Ke=pe(Ee))&&"function"==typeof Ee.callee?"Arguments":Ke}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/has.js"),pe=P("./node_modules/core-js/internals/own-keys.js"),te=P("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),e=P("./node_modules/core-js/internals/object-define-property.js");he.exports=function(me,Ne){for(var Ie=pe(Ne),Ee=e.f,tt=te.f,Ke=0;Ke<Ie.length;Ke++){var ot=Ie[Ke];ee(me,ot)||Ee(me,ot,tt(Ne,ot))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/fails.js");he.exports=!ee(function(){function pe(){}return pe.prototype.constructor=null,Object.getPrototypeOf(new pe)!==pe.prototype})},"./node_modules/core-js/internals/create-html.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/require-object-coercible.js"),pe=P("./node_modules/core-js/internals/to-string.js"),te=/"/g;he.exports=function(e,me,Ne,Ie){var Ee=pe(ee(e)),tt="<"+me;return""!==Ne&&(tt+=" "+Ne+'="'+pe(Ie).replace(te,"&quot;")+'"'),tt+">"+Ee+"</"+me+">"}},"./node_modules/core-js/internals/create-iterator-constructor.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,pe=P("./node_modules/core-js/internals/object-create.js"),te=P("./node_modules/core-js/internals/create-property-descriptor.js"),e=P("./node_modules/core-js/internals/set-to-string-tag.js"),me=P("./node_modules/core-js/internals/iterators.js"),Ne=function(){return this};he.exports=function(Ie,Ee,tt){var Ke=Ee+" Iterator";return Ie.prototype=pe(ee,{next:te(1,tt)}),e(Ie,Ke,!1,!0),me[Ke]=Ne,Ie}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/descriptors.js"),pe=P("./node_modules/core-js/internals/object-define-property.js"),te=P("./node_modules/core-js/internals/create-property-descriptor.js");he.exports=ee?function(e,me,Ne){return pe.f(e,me,te(1,Ne))}:function(e,me,Ne){return e[me]=Ne,e}},"./node_modules/core-js/internals/create-property-descriptor.js":function(he){he.exports=function(ae,P){return{enumerable:!(1&ae),configurable:!(2&ae),writable:!(4&ae),value:P}}},"./node_modules/core-js/internals/create-property.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/to-property-key.js"),pe=P("./node_modules/core-js/internals/object-define-property.js"),te=P("./node_modules/core-js/internals/create-property-descriptor.js");he.exports=function(e,me,Ne){var Ie=ee(me);Ie in e?pe.f(e,Ie,te(0,Ne)):e[Ie]=Ne}},"./node_modules/core-js/internals/define-iterator.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/export.js"),pe=P("./node_modules/core-js/internals/create-iterator-constructor.js"),te=P("./node_modules/core-js/internals/object-get-prototype-of.js"),e=P("./node_modules/core-js/internals/object-set-prototype-of.js"),me=P("./node_modules/core-js/internals/set-to-string-tag.js"),Ne=P("./node_modules/core-js/internals/create-non-enumerable-property.js"),Ie=P("./node_modules/core-js/internals/redefine.js"),Ee=P("./node_modules/core-js/internals/well-known-symbol.js"),tt=P("./node_modules/core-js/internals/is-pure.js"),Ke=P("./node_modules/core-js/internals/iterators.js"),ot=P("./node_modules/core-js/internals/iterators-core.js"),yt=ot.IteratorPrototype,Rt=ot.BUGGY_SAFARI_ITERATORS,Wt=Ee("iterator"),Mt="values",Tt="entries",W=function(){return this};he.exports=function(kt,Nt,bt,Dt,Et,vt,it){pe(bt,Nt,Dt);var so,co,Kn,ut=function(lo){if(lo===Et&&Rn)return Rn;if(!Rt&&lo in wt)return wt[lo];switch(lo){case"keys":case Mt:case Tt:return function(){return new bt(this,lo)}}return function(){return new bt(this)}},Fe=Nt+" Iterator",ht=!1,wt=kt.prototype,Ot=wt[Wt]||wt["@@iterator"]||Et&&wt[Et],Rn=!Rt&&Ot||ut(Et),vo="Array"==Nt&&wt.entries||Ot;if(vo&&(so=te(vo.call(new kt)),yt!==Object.prototype&&so.next&&(!tt&&te(so)!==yt&&(e?e(so,yt):"function"!=typeof so[Wt]&&Ne(so,Wt,W)),me(so,Fe,!0,!0),tt&&(Ke[Fe]=W))),Et==Mt&&Ot&&Ot.name!==Mt&&(ht=!0,Rn=function(){return Ot.call(this)}),(!tt||it)&&wt[Wt]!==Rn&&Ne(wt,Wt,Rn),Ke[Nt]=Rn,Et)if(co={values:ut(Mt),keys:vt?Rn:ut("keys"),entries:ut(Tt)},it)for(Kn in co)(Rt||ht||!(Kn in wt))&&Ie(wt,Kn,co[Kn]);else ee({target:Nt,proto:!0,forced:Rt||ht},co);return co}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/path.js"),pe=P("./node_modules/core-js/internals/has.js"),te=P("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),e=P("./node_modules/core-js/internals/object-define-property.js").f;he.exports=function(me){var Ne=ee.Symbol||(ee.Symbol={});pe(Ne,me)||e(Ne,me,{value:te.f(me)})}},"./node_modules/core-js/internals/descriptors.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/fails.js");he.exports=!ee(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},"./node_modules/core-js/internals/document-create-element.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/global.js"),pe=P("./node_modules/core-js/internals/is-object.js"),te=ee.document,e=pe(te)&&pe(te.createElement);he.exports=function(me){return e?te.createElement(me):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(he){he.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/engine-user-agent.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/get-built-in.js");he.exports=ee("navigator","userAgent")||""},"./node_modules/core-js/internals/engine-v8-version.js":function(he,ae,P){var Ie,Ee,ee=P("./node_modules/core-js/internals/global.js"),pe=P("./node_modules/core-js/internals/engine-user-agent.js"),te=ee.process,e=ee.Deno,me=te&&te.versions||e&&e.version,Ne=me&&me.v8;Ne?Ee=(Ie=Ne.split("."))[0]<4?1:Ie[0]+Ie[1]:pe&&(!(Ie=pe.match(/Edge\/(\d+)/))||Ie[1]>=74)&&(Ie=pe.match(/Chrome\/(\d+)/))&&(Ee=Ie[1]),he.exports=Ee&&+Ee},"./node_modules/core-js/internals/enum-bug-keys.js":function(he){he.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/global.js"),pe=P("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,te=P("./node_modules/core-js/internals/create-non-enumerable-property.js"),e=P("./node_modules/core-js/internals/redefine.js"),me=P("./node_modules/core-js/internals/set-global.js"),Ne=P("./node_modules/core-js/internals/copy-constructor-properties.js"),Ie=P("./node_modules/core-js/internals/is-forced.js");he.exports=function(Ee,tt){var Wt,tn,Mt,Tt,W,Ke=Ee.target,ot=Ee.global,yt=Ee.stat;if(Wt=ot?ee:yt?ee[Ke]||me(Ke,{}):(ee[Ke]||{}).prototype)for(tn in tt){if(Tt=tt[tn],Mt=Ee.noTargetGet?(W=pe(Wt,tn))&&W.value:Wt[tn],!Ie(ot?tn:Ke+(yt?".":"#")+tn,Ee.forced)&&void 0!==Mt){if(typeof Tt==typeof Mt)continue;Ne(Tt,Mt)}(Ee.sham||Mt&&Mt.sham)&&te(Tt,"sham",!0),e(Wt,tn,Tt,Ee)}}},"./node_modules/core-js/internals/fails.js":function(he){he.exports=function(ae){try{return!!ae()}catch{return!0}}},"./node_modules/core-js/internals/function-bind-context.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/a-function.js");he.exports=function(pe,te,e){if(ee(pe),void 0===te)return pe;switch(e){case 0:return function(){return pe.call(te)};case 1:return function(me){return pe.call(te,me)};case 2:return function(me,Ne){return pe.call(te,me,Ne)};case 3:return function(me,Ne,Ie){return pe.call(te,me,Ne,Ie)}}return function(){return pe.apply(te,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/global.js"),pe=function(te){return"function"==typeof te?te:void 0};he.exports=function(te,e){return arguments.length<2?pe(ee[te]):ee[te]&&ee[te][e]}},"./node_modules/core-js/internals/global.js":function(he){var ae=function(P){return P&&P.Math==Math&&P};he.exports=ae("object"==typeof globalThis&&globalThis)||ae("object"==typeof window&&window)||ae("object"==typeof self&&self)||ae("object"==typeof global&&global)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/to-object.js"),pe={}.hasOwnProperty;he.exports=Object.hasOwn||function(e,me){return pe.call(ee(e),me)}},"./node_modules/core-js/internals/hidden-keys.js":function(he){he.exports={}},"./node_modules/core-js/internals/html.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/get-built-in.js");he.exports=ee("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/descriptors.js"),pe=P("./node_modules/core-js/internals/fails.js"),te=P("./node_modules/core-js/internals/document-create-element.js");he.exports=!ee&&!pe(function(){return 7!=Object.defineProperty(te("div"),"a",{get:function(){return 7}}).a})},"./node_modules/core-js/internals/indexed-object.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/fails.js"),pe=P("./node_modules/core-js/internals/classof-raw.js"),te="".split;he.exports=ee(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==pe(e)?te.call(e,""):Object(e)}:Object},"./node_modules/core-js/internals/inherit-if-required.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/is-object.js"),pe=P("./node_modules/core-js/internals/object-set-prototype-of.js");he.exports=function(te,e,me){var Ne,Ie;return pe&&"function"==typeof(Ne=e.constructor)&&Ne!==me&&ee(Ie=Ne.prototype)&&Ie!==me.prototype&&pe(te,Ie),te}},"./node_modules/core-js/internals/inspect-source.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/shared-store.js"),pe=Function.toString;"function"!=typeof ee.inspectSource&&(ee.inspectSource=function(te){return pe.call(te)}),he.exports=ee.inspectSource},"./node_modules/core-js/internals/internal-state.js":function(he,ae,P){var ot,yt,Rt,ee=P("./node_modules/core-js/internals/native-weak-map.js"),pe=P("./node_modules/core-js/internals/global.js"),te=P("./node_modules/core-js/internals/is-object.js"),e=P("./node_modules/core-js/internals/create-non-enumerable-property.js"),me=P("./node_modules/core-js/internals/has.js"),Ne=P("./node_modules/core-js/internals/shared-store.js"),Ie=P("./node_modules/core-js/internals/shared-key.js"),Ee=P("./node_modules/core-js/internals/hidden-keys.js"),tt="Object already initialized";if(ee||Ne.state){var Mt=Ne.state||(Ne.state=new(0,pe.WeakMap)),Tt=Mt.get,W=Mt.has,kt=Mt.set;ot=function(bt,Dt){if(W.call(Mt,bt))throw new TypeError(tt);return Dt.facade=bt,kt.call(Mt,bt,Dt),Dt},yt=function(bt){return Tt.call(Mt,bt)||{}},Rt=function(bt){return W.call(Mt,bt)}}else{var Nt=Ie("state");Ee[Nt]=!0,ot=function(bt,Dt){if(me(bt,Nt))throw new TypeError(tt);return Dt.facade=bt,e(bt,Nt,Dt),Dt},yt=function(bt){return me(bt,Nt)?bt[Nt]:{}},Rt=function(bt){return me(bt,Nt)}}he.exports={set:ot,get:yt,has:Rt,enforce:function(bt){return Rt(bt)?yt(bt):ot(bt,{})},getterFor:function(bt){return function(Dt){var Et;if(!te(Dt)||(Et=yt(Dt)).type!==bt)throw TypeError("Incompatible receiver, "+bt+" required");return Et}}}},"./node_modules/core-js/internals/is-array.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/classof-raw.js");he.exports=Array.isArray||function(te){return"Array"==ee(te)}},"./node_modules/core-js/internals/is-forced.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/fails.js"),pe=/#|\.prototype\./,te=function(Ee,tt){var Ke=me[e(Ee)];return Ke==Ie||Ke!=Ne&&("function"==typeof tt?ee(tt):!!tt)},e=te.normalize=function(Ee){return String(Ee).replace(pe,".").toLowerCase()},me=te.data={},Ne=te.NATIVE="N",Ie=te.POLYFILL="P";he.exports=te},"./node_modules/core-js/internals/is-object.js":function(he){he.exports=function(ae){return"object"==typeof ae?null!==ae:"function"==typeof ae}},"./node_modules/core-js/internals/is-pure.js":function(he){he.exports=!1},"./node_modules/core-js/internals/is-symbol.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/get-built-in.js"),pe=P("./node_modules/core-js/internals/use-symbol-as-uid.js");he.exports=pe?function(te){return"symbol"==typeof te}:function(te){var e=ee("Symbol");return"function"==typeof e&&Object(te)instanceof e}},"./node_modules/core-js/internals/iterators-core.js":function(he,ae,P){"use strict";var Ke,ot,yt,ee=P("./node_modules/core-js/internals/fails.js"),pe=P("./node_modules/core-js/internals/object-get-prototype-of.js"),te=P("./node_modules/core-js/internals/create-non-enumerable-property.js"),e=P("./node_modules/core-js/internals/has.js"),me=P("./node_modules/core-js/internals/well-known-symbol.js"),Ne=P("./node_modules/core-js/internals/is-pure.js"),Ie=me("iterator"),Ee=!1;[].keys&&("next"in(yt=[].keys())?(ot=pe(pe(yt)))!==Object.prototype&&(Ke=ot):Ee=!0);var Rt=null==Ke||ee(function(){var Wt={};return Ke[Ie].call(Wt)!==Wt});Rt&&(Ke={}),(!Ne||Rt)&&!e(Ke,Ie)&&te(Ke,Ie,function(){return this}),he.exports={IteratorPrototype:Ke,BUGGY_SAFARI_ITERATORS:Ee}},"./node_modules/core-js/internals/iterators.js":function(he){he.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/engine-v8-version.js"),pe=P("./node_modules/core-js/internals/fails.js");he.exports=!!Object.getOwnPropertySymbols&&!pe(function(){var te=Symbol();return!String(te)||!(Object(te)instanceof Symbol)||!Symbol.sham&&ee&&ee<41})},"./node_modules/core-js/internals/native-weak-map.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/global.js"),pe=P("./node_modules/core-js/internals/inspect-source.js"),te=ee.WeakMap;he.exports="function"==typeof te&&/native code/.test(pe(te))},"./node_modules/core-js/internals/object-assign.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/descriptors.js"),pe=P("./node_modules/core-js/internals/fails.js"),te=P("./node_modules/core-js/internals/object-keys.js"),e=P("./node_modules/core-js/internals/object-get-own-property-symbols.js"),me=P("./node_modules/core-js/internals/object-property-is-enumerable.js"),Ne=P("./node_modules/core-js/internals/to-object.js"),Ie=P("./node_modules/core-js/internals/indexed-object.js"),Ee=Object.assign,tt=Object.defineProperty;he.exports=!Ee||pe(function(){if(ee&&1!==Ee({b:1},Ee(tt({},"a",{enumerable:!0,get:function(){tt(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var Ke={},ot={},yt=Symbol(),Rt="abcdefghijklmnopqrst";return Ke[yt]=7,Rt.split("").forEach(function(Wt){ot[Wt]=Wt}),7!=Ee({},Ke)[yt]||te(Ee({},ot)).join("")!=Rt})?function(ot,yt){for(var Rt=Ne(ot),Wt=arguments.length,tn=1,Mt=e.f,Tt=me.f;Wt>tn;)for(var Dt,W=Ie(arguments[tn++]),kt=Mt?te(W).concat(Mt(W)):te(W),Nt=kt.length,bt=0;Nt>bt;)Dt=kt[bt++],(!ee||Tt.call(W,Dt))&&(Rt[Dt]=W[Dt]);return Rt}:Ee},"./node_modules/core-js/internals/object-create.js":function(he,ae,P){var Tt,ee=P("./node_modules/core-js/internals/an-object.js"),pe=P("./node_modules/core-js/internals/object-define-properties.js"),te=P("./node_modules/core-js/internals/enum-bug-keys.js"),e=P("./node_modules/core-js/internals/hidden-keys.js"),me=P("./node_modules/core-js/internals/html.js"),Ne=P("./node_modules/core-js/internals/document-create-element.js"),Ie=P("./node_modules/core-js/internals/shared-key.js"),Ke="prototype",ot="script",yt=Ie("IE_PROTO"),Rt=function(){},Wt=function(kt){return"<script>"+kt+"</"+ot+">"},tn=function(kt){kt.write(Wt("")),kt.close();var Nt=kt.parentWindow.Object;return kt=null,Nt},W=function(){try{Tt=new ActiveXObject("htmlfile")}catch{}W=document.domain&&Tt?tn(Tt):function(){var bt,kt=Ne("iframe");if(kt.style)return kt.style.display="none",me.appendChild(kt),kt.src=String("javascript:"),(bt=kt.contentWindow.document).open(),bt.write(Wt("document.F=Object")),bt.close(),bt.F}()||tn(Tt);for(var kt=te.length;kt--;)delete W[Ke][te[kt]];return W()};e[yt]=!0,he.exports=Object.create||function(Nt,bt){var Dt;return null!==Nt?(Rt[Ke]=ee(Nt),Dt=new Rt,Rt[Ke]=null,Dt[yt]=Nt):Dt=W(),void 0===bt?Dt:pe(Dt,bt)}},"./node_modules/core-js/internals/object-define-properties.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/descriptors.js"),pe=P("./node_modules/core-js/internals/object-define-property.js"),te=P("./node_modules/core-js/internals/an-object.js"),e=P("./node_modules/core-js/internals/object-keys.js");he.exports=ee?Object.defineProperties:function(Ne,Ie){te(Ne);for(var ot,Ee=e(Ie),tt=Ee.length,Ke=0;tt>Ke;)pe.f(Ne,ot=Ee[Ke++],Ie[ot]);return Ne}},"./node_modules/core-js/internals/object-define-property.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/descriptors.js"),pe=P("./node_modules/core-js/internals/ie8-dom-define.js"),te=P("./node_modules/core-js/internals/an-object.js"),e=P("./node_modules/core-js/internals/to-property-key.js"),me=Object.defineProperty;ae.f=ee?me:function(Ie,Ee,tt){if(te(Ie),Ee=e(Ee),te(tt),pe)try{return me(Ie,Ee,tt)}catch{}if("get"in tt||"set"in tt)throw TypeError("Accessors not supported");return"value"in tt&&(Ie[Ee]=tt.value),Ie}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/descriptors.js"),pe=P("./node_modules/core-js/internals/object-property-is-enumerable.js"),te=P("./node_modules/core-js/internals/create-property-descriptor.js"),e=P("./node_modules/core-js/internals/to-indexed-object.js"),me=P("./node_modules/core-js/internals/to-property-key.js"),Ne=P("./node_modules/core-js/internals/has.js"),Ie=P("./node_modules/core-js/internals/ie8-dom-define.js"),Ee=Object.getOwnPropertyDescriptor;ae.f=ee?Ee:function(Ke,ot){if(Ke=e(Ke),ot=me(ot),Ie)try{return Ee(Ke,ot)}catch{}if(Ne(Ke,ot))return te(!pe.f.call(Ke,ot),Ke[ot])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/to-indexed-object.js"),pe=P("./node_modules/core-js/internals/object-get-own-property-names.js").f,te={}.toString,e="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];he.exports.f=function(Ie){return e&&"[object Window]"==te.call(Ie)?function(Ne){try{return pe(Ne)}catch{return e.slice()}}(Ie):pe(ee(Ie))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/object-keys-internal.js"),te=P("./node_modules/core-js/internals/enum-bug-keys.js").concat("length","prototype");ae.f=Object.getOwnPropertyNames||function(me){return ee(me,te)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(he,ae){ae.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/has.js"),pe=P("./node_modules/core-js/internals/to-object.js"),te=P("./node_modules/core-js/internals/shared-key.js"),e=P("./node_modules/core-js/internals/correct-prototype-getter.js"),me=te("IE_PROTO"),Ne=Object.prototype;he.exports=e?Object.getPrototypeOf:function(Ie){return Ie=pe(Ie),ee(Ie,me)?Ie[me]:"function"==typeof Ie.constructor&&Ie instanceof Ie.constructor?Ie.constructor.prototype:Ie instanceof Object?Ne:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/has.js"),pe=P("./node_modules/core-js/internals/to-indexed-object.js"),te=P("./node_modules/core-js/internals/array-includes.js").indexOf,e=P("./node_modules/core-js/internals/hidden-keys.js");he.exports=function(me,Ne){var Ke,Ie=pe(me),Ee=0,tt=[];for(Ke in Ie)!ee(e,Ke)&&ee(Ie,Ke)&&tt.push(Ke);for(;Ne.length>Ee;)ee(Ie,Ke=Ne[Ee++])&&(~te(tt,Ke)||tt.push(Ke));return tt}},"./node_modules/core-js/internals/object-keys.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/object-keys-internal.js"),pe=P("./node_modules/core-js/internals/enum-bug-keys.js");he.exports=Object.keys||function(e){return ee(e,pe)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(he,ae){"use strict";var P={}.propertyIsEnumerable,ee=Object.getOwnPropertyDescriptor,pe=ee&&!P.call({1:2},1);ae.f=pe?function(e){var me=ee(this,e);return!!me&&me.enumerable}:P},"./node_modules/core-js/internals/object-set-prototype-of.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/an-object.js"),pe=P("./node_modules/core-js/internals/a-possible-prototype.js");he.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var me,te=!1,e={};try{(me=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),te=e instanceof Array}catch{}return function(Ie,Ee){return ee(Ie),pe(Ee),te?me.call(Ie,Ee):Ie.__proto__=Ee,Ie}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/to-string-tag-support.js"),pe=P("./node_modules/core-js/internals/classof.js");he.exports=ee?{}.toString:function(){return"[object "+pe(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/is-object.js");he.exports=function(pe,te){var e,me;if("string"===te&&"function"==typeof(e=pe.toString)&&!ee(me=e.call(pe))||"function"==typeof(e=pe.valueOf)&&!ee(me=e.call(pe))||"string"!==te&&"function"==typeof(e=pe.toString)&&!ee(me=e.call(pe)))return me;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/get-built-in.js"),pe=P("./node_modules/core-js/internals/object-get-own-property-names.js"),te=P("./node_modules/core-js/internals/object-get-own-property-symbols.js"),e=P("./node_modules/core-js/internals/an-object.js");he.exports=ee("Reflect","ownKeys")||function(Ne){var Ie=pe.f(e(Ne)),Ee=te.f;return Ee?Ie.concat(Ee(Ne)):Ie}},"./node_modules/core-js/internals/path.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/global.js");he.exports=ee},"./node_modules/core-js/internals/redefine.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/global.js"),pe=P("./node_modules/core-js/internals/create-non-enumerable-property.js"),te=P("./node_modules/core-js/internals/has.js"),e=P("./node_modules/core-js/internals/set-global.js"),me=P("./node_modules/core-js/internals/inspect-source.js"),Ne=P("./node_modules/core-js/internals/internal-state.js"),Ie=Ne.get,Ee=Ne.enforce,tt=String(String).split("String");(he.exports=function(Ke,ot,yt,Rt){var Tt,Wt=!!Rt&&!!Rt.unsafe,tn=!!Rt&&!!Rt.enumerable,Mt=!!Rt&&!!Rt.noTargetGet;"function"==typeof yt&&("string"==typeof ot&&!te(yt,"name")&&pe(yt,"name",ot),(Tt=Ee(yt)).source||(Tt.source=tt.join("string"==typeof ot?ot:""))),Ke!==ee?(Wt?!Mt&&Ke[ot]&&(tn=!0):delete Ke[ot],tn?Ke[ot]=yt:pe(Ke,ot,yt)):tn?Ke[ot]=yt:e(ot,yt)})(Function.prototype,"toString",function(){return"function"==typeof this&&Ie(this).source||me(this)})},"./node_modules/core-js/internals/regexp-flags.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/an-object.js");he.exports=function(){var pe=ee(this),te="";return pe.global&&(te+="g"),pe.ignoreCase&&(te+="i"),pe.multiline&&(te+="m"),pe.dotAll&&(te+="s"),pe.unicode&&(te+="u"),pe.sticky&&(te+="y"),te}},"./node_modules/core-js/internals/require-object-coercible.js":function(he){he.exports=function(ae){if(null==ae)throw TypeError("Can't call method on "+ae);return ae}},"./node_modules/core-js/internals/set-global.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/global.js");he.exports=function(pe,te){try{Object.defineProperty(ee,pe,{value:te,configurable:!0,writable:!0})}catch{ee[pe]=te}return te}},"./node_modules/core-js/internals/set-to-string-tag.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/object-define-property.js").f,pe=P("./node_modules/core-js/internals/has.js"),e=P("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag");he.exports=function(me,Ne,Ie){me&&!pe(me=Ie?me:me.prototype,e)&&ee(me,e,{configurable:!0,value:Ne})}},"./node_modules/core-js/internals/shared-key.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/shared.js"),pe=P("./node_modules/core-js/internals/uid.js"),te=ee("keys");he.exports=function(e){return te[e]||(te[e]=pe(e))}},"./node_modules/core-js/internals/shared-store.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/global.js"),pe=P("./node_modules/core-js/internals/set-global.js"),te="__core-js_shared__",e=ee[te]||pe(te,{});he.exports=e},"./node_modules/core-js/internals/shared.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/is-pure.js"),pe=P("./node_modules/core-js/internals/shared-store.js");(he.exports=function(te,e){return pe[te]||(pe[te]=void 0!==e?e:{})})("versions",[]).push({version:"3.16.0",mode:ee?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-html-forced.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/fails.js");he.exports=function(pe){return ee(function(){var te=""[pe]('"');return te!==te.toLowerCase()||te.split('"').length>3})}},"./node_modules/core-js/internals/string-multibyte.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/to-integer.js"),pe=P("./node_modules/core-js/internals/to-string.js"),te=P("./node_modules/core-js/internals/require-object-coercible.js"),e=function(me){return function(Ne,Ie){var ot,yt,Ee=pe(te(Ne)),tt=ee(Ie),Ke=Ee.length;return tt<0||tt>=Ke?me?"":void 0:(ot=Ee.charCodeAt(tt))<55296||ot>56319||tt+1===Ke||(yt=Ee.charCodeAt(tt+1))<56320||yt>57343?me?Ee.charAt(tt):ot:me?Ee.slice(tt,tt+2):yt-56320+(ot-55296<<10)+65536}};he.exports={codeAt:e(!1),charAt:e(!0)}},"./node_modules/core-js/internals/string-trim.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/require-object-coercible.js"),pe=P("./node_modules/core-js/internals/to-string.js"),e="["+P("./node_modules/core-js/internals/whitespaces.js")+"]",me=RegExp("^"+e+e+"*"),Ne=RegExp(e+e+"*$"),Ie=function(Ee){return function(tt){var Ke=pe(ee(tt));return 1&Ee&&(Ke=Ke.replace(me,"")),2&Ee&&(Ke=Ke.replace(Ne,"")),Ke}};he.exports={start:Ie(1),end:Ie(2),trim:Ie(3)}},"./node_modules/core-js/internals/to-absolute-index.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/to-integer.js"),pe=Math.max,te=Math.min;he.exports=function(e,me){var Ne=ee(e);return Ne<0?pe(Ne+me,0):te(Ne,me)}},"./node_modules/core-js/internals/to-indexed-object.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/indexed-object.js"),pe=P("./node_modules/core-js/internals/require-object-coercible.js");he.exports=function(te){return ee(pe(te))}},"./node_modules/core-js/internals/to-integer.js":function(he){var ae=Math.ceil,P=Math.floor;he.exports=function(ee){return isNaN(ee=+ee)?0:(ee>0?P:ae)(ee)}},"./node_modules/core-js/internals/to-length.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/to-integer.js"),pe=Math.min;he.exports=function(te){return te>0?pe(ee(te),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/require-object-coercible.js");he.exports=function(pe){return Object(ee(pe))}},"./node_modules/core-js/internals/to-primitive.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/is-object.js"),pe=P("./node_modules/core-js/internals/is-symbol.js"),te=P("./node_modules/core-js/internals/ordinary-to-primitive.js"),me=P("./node_modules/core-js/internals/well-known-symbol.js")("toPrimitive");he.exports=function(Ne,Ie){if(!ee(Ne)||pe(Ne))return Ne;var tt,Ee=Ne[me];if(void 0!==Ee){if(void 0===Ie&&(Ie="default"),tt=Ee.call(Ne,Ie),!ee(tt)||pe(tt))return tt;throw TypeError("Can't convert object to primitive value")}return void 0===Ie&&(Ie="number"),te(Ne,Ie)}},"./node_modules/core-js/internals/to-property-key.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/to-primitive.js"),pe=P("./node_modules/core-js/internals/is-symbol.js");he.exports=function(te){var e=ee(te,"string");return pe(e)?e:String(e)}},"./node_modules/core-js/internals/to-string-tag-support.js":function(he,ae,P){var te={};te[P("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag")]="z",he.exports="[object z]"===String(te)},"./node_modules/core-js/internals/to-string.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/is-symbol.js");he.exports=function(pe){if(ee(pe))throw TypeError("Cannot convert a Symbol value to a string");return String(pe)}},"./node_modules/core-js/internals/uid.js":function(he){var ae=0,P=Math.random();he.exports=function(ee){return"Symbol("+String(void 0===ee?"":ee)+")_"+(++ae+P).toString(36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/native-symbol.js");he.exports=ee&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/well-known-symbol.js");ae.f=ee},"./node_modules/core-js/internals/well-known-symbol.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/global.js"),pe=P("./node_modules/core-js/internals/shared.js"),te=P("./node_modules/core-js/internals/has.js"),e=P("./node_modules/core-js/internals/uid.js"),me=P("./node_modules/core-js/internals/native-symbol.js"),Ne=P("./node_modules/core-js/internals/use-symbol-as-uid.js"),Ie=pe("wks"),Ee=ee.Symbol,tt=Ne?Ee:Ee&&Ee.withoutSetter||e;he.exports=function(Ke){return(!te(Ie,Ke)||!(me||"string"==typeof Ie[Ke]))&&(Ie[Ke]=me&&te(Ee,Ke)?Ee[Ke]:tt("Symbol."+Ke)),Ie[Ke]}},"./node_modules/core-js/internals/whitespaces.js":function(he){he.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},"./node_modules/core-js/modules/es.array.concat.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/export.js"),pe=P("./node_modules/core-js/internals/fails.js"),te=P("./node_modules/core-js/internals/is-array.js"),e=P("./node_modules/core-js/internals/is-object.js"),me=P("./node_modules/core-js/internals/to-object.js"),Ne=P("./node_modules/core-js/internals/to-length.js"),Ie=P("./node_modules/core-js/internals/create-property.js"),Ee=P("./node_modules/core-js/internals/array-species-create.js"),tt=P("./node_modules/core-js/internals/array-method-has-species-support.js"),Ke=P("./node_modules/core-js/internals/well-known-symbol.js"),ot=P("./node_modules/core-js/internals/engine-v8-version.js"),yt=Ke("isConcatSpreadable"),Rt=9007199254740991,Wt="Maximum allowed index exceeded",tn=ot>=51||!pe(function(){var kt=[];return kt[yt]=!1,kt.concat()[0]!==kt}),Mt=tt("concat"),Tt=function(kt){if(!e(kt))return!1;var Nt=kt[yt];return void 0!==Nt?!!Nt:te(kt)};ee({target:"Array",proto:!0,forced:!tn||!Mt},{concat:function(Nt){var vt,it,ut,Fe,ht,bt=me(this),Dt=Ee(bt,0),Et=0;for(vt=-1,ut=arguments.length;vt<ut;vt++)if(Tt(ht=-1===vt?bt:arguments[vt])){if(Et+(Fe=Ne(ht.length))>Rt)throw TypeError(Wt);for(it=0;it<Fe;it++,Et++)it in ht&&Ie(Dt,Et,ht[it])}else{if(Et>=Rt)throw TypeError(Wt);Ie(Dt,Et++,ht)}return Dt.length=Et,Dt}})},"./node_modules/core-js/modules/es.array.iterator.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/to-indexed-object.js"),pe=P("./node_modules/core-js/internals/add-to-unscopables.js"),te=P("./node_modules/core-js/internals/iterators.js"),e=P("./node_modules/core-js/internals/internal-state.js"),me=P("./node_modules/core-js/internals/define-iterator.js"),Ne="Array Iterator",Ie=e.set,Ee=e.getterFor(Ne);he.exports=me(Array,"Array",function(tt,Ke){Ie(this,{type:Ne,target:ee(tt),index:0,kind:Ke})},function(){var tt=Ee(this),Ke=tt.target,ot=tt.kind,yt=tt.index++;return!Ke||yt>=Ke.length?(tt.target=void 0,{value:void 0,done:!0}):"keys"==ot?{value:yt,done:!1}:"values"==ot?{value:Ke[yt],done:!1}:{value:[yt,Ke[yt]],done:!1}},"values"),te.Arguments=te.Array,pe("keys"),pe("values"),pe("entries")},"./node_modules/core-js/modules/es.array.join.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/export.js"),pe=P("./node_modules/core-js/internals/indexed-object.js"),te=P("./node_modules/core-js/internals/to-indexed-object.js"),e=P("./node_modules/core-js/internals/array-method-is-strict.js"),me=[].join,Ne=pe!=Object,Ie=e("join",",");ee({target:"Array",proto:!0,forced:Ne||!Ie},{join:function(tt){return me.call(te(this),void 0===tt?",":tt)}})},"./node_modules/core-js/modules/es.array.map.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/export.js"),pe=P("./node_modules/core-js/internals/array-iteration.js").map;ee({target:"Array",proto:!0,forced:!P("./node_modules/core-js/internals/array-method-has-species-support.js")("map")},{map:function(Ne){return pe(this,Ne,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/export.js"),pe=P("./node_modules/core-js/internals/is-object.js"),te=P("./node_modules/core-js/internals/is-array.js"),e=P("./node_modules/core-js/internals/to-absolute-index.js"),me=P("./node_modules/core-js/internals/to-length.js"),Ne=P("./node_modules/core-js/internals/to-indexed-object.js"),Ie=P("./node_modules/core-js/internals/create-property.js"),Ee=P("./node_modules/core-js/internals/well-known-symbol.js"),Ke=P("./node_modules/core-js/internals/array-method-has-species-support.js")("slice"),ot=Ee("species"),yt=[].slice,Rt=Math.max;ee({target:"Array",proto:!0,forced:!Ke},{slice:function(tn,Mt){var bt,Dt,Et,Tt=Ne(this),W=me(Tt.length),kt=e(tn,W),Nt=e(void 0===Mt?W:Mt,W);if(te(Tt)&&("function"!=typeof(bt=Tt.constructor)||bt!==Array&&!te(bt.prototype)?pe(bt)&&null===(bt=bt[ot])&&(bt=void 0):bt=void 0,bt===Array||void 0===bt))return yt.call(Tt,kt,Nt);for(Dt=new(void 0===bt?Array:bt)(Rt(Nt-kt,0)),Et=0;kt<Nt;kt++,Et++)kt in Tt&&Ie(Dt,Et,Tt[kt]);return Dt.length=Et,Dt}})},"./node_modules/core-js/modules/es.function.name.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/descriptors.js"),pe=P("./node_modules/core-js/internals/object-define-property.js").f,te=Function.prototype,e=te.toString,me=/^\s*function ([^ (]*)/;ee&&!("name"in te)&&pe(te,"name",{configurable:!0,get:function(){try{return e.call(this).match(me)[1]}catch{return""}}})},"./node_modules/core-js/modules/es.number.constructor.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/descriptors.js"),pe=P("./node_modules/core-js/internals/global.js"),te=P("./node_modules/core-js/internals/is-forced.js"),e=P("./node_modules/core-js/internals/redefine.js"),me=P("./node_modules/core-js/internals/has.js"),Ne=P("./node_modules/core-js/internals/classof-raw.js"),Ie=P("./node_modules/core-js/internals/inherit-if-required.js"),Ee=P("./node_modules/core-js/internals/is-symbol.js"),tt=P("./node_modules/core-js/internals/to-primitive.js"),Ke=P("./node_modules/core-js/internals/fails.js"),ot=P("./node_modules/core-js/internals/object-create.js"),yt=P("./node_modules/core-js/internals/object-get-own-property-names.js").f,Rt=P("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,Wt=P("./node_modules/core-js/internals/object-define-property.js").f,tn=P("./node_modules/core-js/internals/string-trim.js").trim,Mt="Number",Tt=pe[Mt],W=Tt.prototype,kt=Ne(ot(W))==Mt,Nt=function(it){if(Ee(it))throw TypeError("Cannot convert a Symbol value to a number");var Fe,ht,wt,Ot,Rn,vo,so,co,ut=tt(it,"number");if("string"==typeof ut&&ut.length>2)if(43===(Fe=(ut=tn(ut)).charCodeAt(0))||45===Fe){if(88===(ht=ut.charCodeAt(2))||120===ht)return NaN}else if(48===Fe){switch(ut.charCodeAt(1)){case 66:case 98:wt=2,Ot=49;break;case 79:case 111:wt=8,Ot=55;break;default:return+ut}for(vo=(Rn=ut.slice(2)).length,so=0;so<vo;so++)if((co=Rn.charCodeAt(so))<48||co>Ot)return NaN;return parseInt(Rn,wt)}return+ut};if(te(Mt,!Tt(" 0o1")||!Tt("0b1")||Tt("+0x1"))){for(var vt,bt=function(ut){var Fe=arguments.length<1?0:ut,ht=this;return ht instanceof bt&&(kt?Ke(function(){W.valueOf.call(ht)}):Ne(ht)!=Mt)?Ie(new Tt(Nt(Fe)),ht,bt):Nt(Fe)},Dt=ee?yt(Tt):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Et=0;Dt.length>Et;Et++)me(Tt,vt=Dt[Et])&&!me(bt,vt)&&Wt(bt,vt,Rt(Tt,vt));bt.prototype=W,W.constructor=bt,e(pe,Mt,bt)}},"./node_modules/core-js/modules/es.object.assign.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/export.js"),pe=P("./node_modules/core-js/internals/object-assign.js");ee({target:"Object",stat:!0,forced:Object.assign!==pe},{assign:pe})},"./node_modules/core-js/modules/es.object.keys.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/export.js"),pe=P("./node_modules/core-js/internals/to-object.js"),te=P("./node_modules/core-js/internals/object-keys.js");ee({target:"Object",stat:!0,forced:P("./node_modules/core-js/internals/fails.js")(function(){te(1)})},{keys:function(Ie){return te(pe(Ie))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/to-string-tag-support.js"),pe=P("./node_modules/core-js/internals/redefine.js"),te=P("./node_modules/core-js/internals/object-to-string.js");ee||pe(Object.prototype,"toString",te,{unsafe:!0})},"./node_modules/core-js/modules/es.regexp.to-string.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/redefine.js"),pe=P("./node_modules/core-js/internals/an-object.js"),te=P("./node_modules/core-js/internals/to-string.js"),e=P("./node_modules/core-js/internals/fails.js"),me=P("./node_modules/core-js/internals/regexp-flags.js"),Ne="toString",Ie=RegExp.prototype,Ee=Ie[Ne];(e(function(){return"/a/b"!=Ee.call({source:"a",flags:"b"})})||Ee.name!=Ne)&&ee(RegExp.prototype,Ne,function(){var yt=pe(this),Rt=te(yt.source),Wt=yt.flags;return"/"+Rt+"/"+te(void 0===Wt&&yt instanceof RegExp&&!("flags"in Ie)?me.call(yt):Wt)},{unsafe:!0})},"./node_modules/core-js/modules/es.string.iterator.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/string-multibyte.js").charAt,pe=P("./node_modules/core-js/internals/to-string.js"),te=P("./node_modules/core-js/internals/internal-state.js"),e=P("./node_modules/core-js/internals/define-iterator.js"),me="String Iterator",Ne=te.set,Ie=te.getterFor(me);e(String,"String",function(Ee){Ne(this,{type:me,string:pe(Ee),index:0})},function(){var yt,tt=Ie(this),Ke=tt.string,ot=tt.index;return ot>=Ke.length?{value:void 0,done:!0}:(yt=ee(Ke,ot),tt.index+=yt.length,{value:yt,done:!1})})},"./node_modules/core-js/modules/es.string.link.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/export.js"),pe=P("./node_modules/core-js/internals/create-html.js");ee({target:"String",proto:!0,forced:P("./node_modules/core-js/internals/string-html-forced.js")("link")},{link:function(me){return pe(this,"a","href",me)}})},"./node_modules/core-js/modules/es.symbol.description.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/export.js"),pe=P("./node_modules/core-js/internals/descriptors.js"),te=P("./node_modules/core-js/internals/global.js"),e=P("./node_modules/core-js/internals/has.js"),me=P("./node_modules/core-js/internals/is-object.js"),Ne=P("./node_modules/core-js/internals/object-define-property.js").f,Ie=P("./node_modules/core-js/internals/copy-constructor-properties.js"),Ee=te.Symbol;if(pe&&"function"==typeof Ee&&(!("description"in Ee.prototype)||void 0!==Ee().description)){var tt={},Ke=function(){var Mt=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),Tt=this instanceof Ke?new Ee(Mt):void 0===Mt?Ee():Ee(Mt);return""===Mt&&(tt[Tt]=!0),Tt};Ie(Ke,Ee);var ot=Ke.prototype=Ee.prototype;ot.constructor=Ke;var yt=ot.toString,Rt="Symbol(test)"==String(Ee("test")),Wt=/^Symbol\((.*)\)[^)]+$/;Ne(ot,"description",{configurable:!0,get:function(){var Mt=me(this)?this.valueOf():this,Tt=yt.call(Mt);if(e(tt,Mt))return"";var W=Rt?Tt.slice(7,-1):Tt.replace(Wt,"$1");return""===W?void 0:W}}),ee({global:!0,forced:!0},{Symbol:Ke})}},"./node_modules/core-js/modules/es.symbol.iterator.js":function(he,ae,P){P("./node_modules/core-js/internals/define-well-known-symbol.js")("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(he,ae,P){"use strict";var ee=P("./node_modules/core-js/internals/export.js"),pe=P("./node_modules/core-js/internals/global.js"),te=P("./node_modules/core-js/internals/get-built-in.js"),e=P("./node_modules/core-js/internals/is-pure.js"),me=P("./node_modules/core-js/internals/descriptors.js"),Ne=P("./node_modules/core-js/internals/native-symbol.js"),Ie=P("./node_modules/core-js/internals/fails.js"),Ee=P("./node_modules/core-js/internals/has.js"),tt=P("./node_modules/core-js/internals/is-array.js"),Ke=P("./node_modules/core-js/internals/is-object.js"),ot=P("./node_modules/core-js/internals/is-symbol.js"),yt=P("./node_modules/core-js/internals/an-object.js"),Rt=P("./node_modules/core-js/internals/to-object.js"),Wt=P("./node_modules/core-js/internals/to-indexed-object.js"),tn=P("./node_modules/core-js/internals/to-property-key.js"),Mt=P("./node_modules/core-js/internals/to-string.js"),Tt=P("./node_modules/core-js/internals/create-property-descriptor.js"),W=P("./node_modules/core-js/internals/object-create.js"),kt=P("./node_modules/core-js/internals/object-keys.js"),Nt=P("./node_modules/core-js/internals/object-get-own-property-names.js"),bt=P("./node_modules/core-js/internals/object-get-own-property-names-external.js"),Dt=P("./node_modules/core-js/internals/object-get-own-property-symbols.js"),Et=P("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),vt=P("./node_modules/core-js/internals/object-define-property.js"),it=P("./node_modules/core-js/internals/object-property-is-enumerable.js"),ut=P("./node_modules/core-js/internals/create-non-enumerable-property.js"),Fe=P("./node_modules/core-js/internals/redefine.js"),ht=P("./node_modules/core-js/internals/shared.js"),wt=P("./node_modules/core-js/internals/shared-key.js"),Ot=P("./node_modules/core-js/internals/hidden-keys.js"),Rn=P("./node_modules/core-js/internals/uid.js"),vo=P("./node_modules/core-js/internals/well-known-symbol.js"),so=P("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),co=P("./node_modules/core-js/internals/define-well-known-symbol.js"),Kn=P("./node_modules/core-js/internals/set-to-string-tag.js"),lo=P("./node_modules/core-js/internals/internal-state.js"),Eo=P("./node_modules/core-js/internals/array-iteration.js").forEach,Gn=wt("hidden"),En="Symbol",qo="prototype",gr=vo("toPrimitive"),Yi=lo.set,Yo=lo.getterFor(En),Mo=Object[qo],Bo=pe.Symbol,_n=te("JSON","stringify"),Fo=Et.f,no=vt.f,Ti=bt.f,Ko=it.f,Ki=ht("symbols"),Er=ht("op-symbols"),Wo=ht("string-to-symbol-registry"),wo=ht("symbol-to-string-registry"),Ma=ht("wks"),Ye=pe.QObject,qt=!Ye||!Ye[qo]||!Ye[qo].findChild,St=me&&Ie(function(){return 7!=W(no({},"a",{get:function(){return no(this,"a",{value:7}).a}})).a})?function(Bn,Xt,gn){var j=Fo(Mo,Xt);j&&delete Mo[Xt],no(Bn,Xt,gn),j&&Bn!==Mo&&no(Mo,Xt,j)}:no,lt=function(Bn,Xt){var gn=Ki[Bn]=W(Bo[qo]);return Yi(gn,{type:En,tag:Bn,description:Xt}),me||(gn.description=Xt),gn},sn=function(Xt,gn,j){Xt===Mo&&sn(Er,gn,j),yt(Xt);var Xn=tn(gn);return yt(j),Ee(Ki,Xn)?(j.enumerable?(Ee(Xt,Gn)&&Xt[Gn][Xn]&&(Xt[Gn][Xn]=!1),j=W(j,{enumerable:Tt(0,!1)})):(Ee(Xt,Gn)||no(Xt,Gn,Tt(1,{})),Xt[Gn][Xn]=!0),St(Xt,Xn,j)):no(Xt,Xn,j)},vn=function(Xt,gn){yt(Xt);var j=Wt(gn),Xn=kt(j).concat(wr(j));return Eo(Xn,function(vi){(!me||Wi.call(j,vi))&&sn(Xt,vi,j[vi])}),Xt},Wi=function(Xt){var gn=tn(Xt),j=Ko.call(this,gn);return!(this===Mo&&Ee(Ki,gn)&&!Ee(Er,gn))&&(!(j||!Ee(this,gn)||!Ee(Ki,gn)||Ee(this,Gn)&&this[Gn][gn])||j)},Ei=function(Xt,gn){var j=Wt(Xt),Xn=tn(gn);if(j!==Mo||!Ee(Ki,Xn)||Ee(Er,Xn)){var vi=Fo(j,Xn);return vi&&Ee(Ki,Xn)&&!(Ee(j,Gn)&&j[Gn][Xn])&&(vi.enumerable=!0),vi}},aa=function(Xt){var gn=Ti(Wt(Xt)),j=[];return Eo(gn,function(Xn){!Ee(Ki,Xn)&&!Ee(Ot,Xn)&&j.push(Xn)}),j},wr=function(Xt){var gn=Xt===Mo,j=Ti(gn?Er:Wt(Xt)),Xn=[];return Eo(j,function(vi){Ee(Ki,vi)&&(!gn||Ee(Mo,vi))&&Xn.push(Ki[vi])}),Xn};Ne||(Bo=function(){if(this instanceof Bo)throw TypeError("Symbol is not a constructor");var Xt=arguments.length&&void 0!==arguments[0]?Mt(arguments[0]):void 0,gn=Rn(Xt),j=function(Xn){this===Mo&&j.call(Er,Xn),Ee(this,Gn)&&Ee(this[Gn],gn)&&(this[Gn][gn]=!1),St(this,gn,Tt(1,Xn))};return me&&qt&&St(Mo,gn,{configurable:!0,set:j}),lt(gn,Xt)},Fe(Bo[qo],"toString",function(){return Yo(this).tag}),Fe(Bo,"withoutSetter",function(Bn){return lt(Rn(Bn),Bn)}),it.f=Wi,vt.f=sn,Et.f=Ei,Nt.f=bt.f=aa,Dt.f=wr,so.f=function(Bn){return lt(vo(Bn),Bn)},me&&(no(Bo[qo],"description",{configurable:!0,get:function(){return Yo(this).description}}),e||Fe(Mo,"propertyIsEnumerable",Wi,{unsafe:!0}))),ee({global:!0,wrap:!0,forced:!Ne,sham:!Ne},{Symbol:Bo}),Eo(kt(Ma),function(Bn){co(Bn)}),ee({target:En,stat:!0,forced:!Ne},{for:function(Bn){var Xt=Mt(Bn);if(Ee(Wo,Xt))return Wo[Xt];var gn=Bo(Xt);return Wo[Xt]=gn,wo[gn]=Xt,gn},keyFor:function(Xt){if(!ot(Xt))throw TypeError(Xt+" is not a symbol");if(Ee(wo,Xt))return wo[Xt]},useSetter:function(){qt=!0},useSimple:function(){qt=!1}}),ee({target:"Object",stat:!0,forced:!Ne,sham:!me},{create:function(Xt,gn){return void 0===gn?W(Xt):vn(W(Xt),gn)},defineProperty:sn,defineProperties:vn,getOwnPropertyDescriptor:Ei}),ee({target:"Object",stat:!0,forced:!Ne},{getOwnPropertyNames:aa,getOwnPropertySymbols:wr}),ee({target:"Object",stat:!0,forced:Ie(function(){Dt.f(1)})},{getOwnPropertySymbols:function(Xt){return Dt.f(Rt(Xt))}}),_n&&ee({target:"JSON",stat:!0,forced:!Ne||Ie(function(){var Bn=Bo();return"[null]"!=_n([Bn])||"{}"!=_n({a:Bn})||"{}"!=_n(Object(Bn))})},{stringify:function(Xt,gn,j){for(var Ns,Xn=[Xt],vi=1;arguments.length>vi;)Xn.push(arguments[vi++]);if(Ns=gn,(Ke(gn)||void 0!==Xt)&&!ot(Xt))return tt(gn)||(gn=function(gu,mr){if("function"==typeof Ns&&(mr=Ns.call(this,gu,mr)),!ot(mr))return mr}),Xn[1]=gn,_n.apply(null,Xn)}}),Bo[qo][gr]||ut(Bo[qo],gr,Bo[qo].valueOf),Kn(Bo,En),Ot[Gn]=!0},"./node_modules/core-js/modules/web.dom-collections.for-each.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/global.js"),pe=P("./node_modules/core-js/internals/dom-iterables.js"),te=P("./node_modules/core-js/internals/array-for-each.js"),e=P("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var me in pe){var Ne=ee[me],Ie=Ne&&Ne.prototype;if(Ie&&Ie.forEach!==te)try{e(Ie,"forEach",te)}catch{Ie.forEach=te}}},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(he,ae,P){var ee=P("./node_modules/core-js/internals/global.js"),pe=P("./node_modules/core-js/internals/dom-iterables.js"),te=P("./node_modules/core-js/modules/es.array.iterator.js"),e=P("./node_modules/core-js/internals/create-non-enumerable-property.js"),me=P("./node_modules/core-js/internals/well-known-symbol.js"),Ne=me("iterator"),Ie=me("toStringTag"),Ee=te.values;for(var tt in pe){var Ke=ee[tt],ot=Ke&&Ke.prototype;if(ot){if(ot[Ne]!==Ee)try{e(ot,Ne,Ee)}catch{ot[Ne]=Ee}if(ot[Ie]||e(ot,Ie,tt),pe[tt])for(var yt in te)if(ot[yt]!==te[yt])try{e(ot,yt,te[yt])}catch{ot[yt]=te[yt]}}}},"./node_modules/es6-promise/dist/es6-promise.js":function(he){var P;P=function(){"use strict";function P(Ye){return"function"==typeof Ye}var pe=Array.isArray?Array.isArray:function(Ye){return"[object Array]"===Object.prototype.toString.call(Ye)},te=0,e=void 0,me=void 0,Ne=function(qt,St){kt[te]=qt,kt[te+1]=St,2===(te+=2)&&(me?me(Nt):Dt())};var tt=typeof window<"u"?window:void 0,Ke=tt||{},ot=Ke.MutationObserver||Ke.WebKitMutationObserver,yt=typeof self>"u"&&typeof process<"u"&&"[object process]"==={}.toString.call(process),Rt=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function W(){var Ye=setTimeout;return function(){return Ye(Nt,1)}}var kt=new Array(1e3);function Nt(){for(var Ye=0;Ye<te;Ye+=2)(0,kt[Ye])(kt[Ye+1]),kt[Ye]=void 0,kt[Ye+1]=void 0;te=0}var Dt=void 0;function Et(Ye,qt){var St=this,lt=new this.constructor(ut);void 0===lt[it]&&_n(lt);var sn=St._state;if(sn){var vn=arguments[sn-1];Ne(function(){return Yi(sn,lt,vn,St._result)})}else qo(St,lt,Ye,qt);return lt}function vt(Ye){if(Ye&&"object"==typeof Ye&&Ye.constructor===this)return Ye;var St=new this(ut);return lo(St,Ye),St}Dt=yt?function Wt(){return function(){return process.nextTick(Nt)}}():ot?function Mt(){var Ye=0,qt=new ot(Nt),St=document.createTextNode("");return qt.observe(St,{characterData:!0}),function(){St.data=Ye=++Ye%2}}():Rt?function Tt(){var Ye=new MessageChannel;return Ye.port1.onmessage=Nt,function(){return Ye.port2.postMessage(0)}}():void 0===tt?function bt(){try{var Ye=Function("return this")().require("vertx");return e=Ye.runOnLoop||Ye.runOnContext,function tn(){return typeof e<"u"?function(){e(Nt)}:W()}()}catch{return W()}}():W();var it=Math.random().toString(36).substring(2);function ut(){}var Fe=void 0;function Kn(Ye,qt,St){qt.constructor===Ye.constructor&&St===Et&&qt.constructor.resolve===vt?function co(Ye,qt){1===qt._state?Gn(Ye,qt._result):2===qt._state?En(Ye,qt._result):qo(qt,void 0,function(St){return lo(Ye,St)},function(St){return En(Ye,St)})}(Ye,qt):void 0===St?Gn(Ye,qt):P(St)?function so(Ye,qt,St){Ne(function(lt){var sn=!1,vn=function vo(Ye,qt,St,lt){try{Ye.call(qt,St,lt)}catch(sn){return sn}}(St,qt,function(Uo){sn||(sn=!0,qt!==Uo?lo(lt,Uo):Gn(lt,Uo))},function(Uo){sn||(sn=!0,En(lt,Uo))});!sn&&vn&&(sn=!0,En(lt,vn))},Ye)}(Ye,qt,St):Gn(Ye,qt)}function lo(Ye,qt){if(Ye===qt)En(Ye,function Ot(){return new TypeError("You cannot resolve a promise with itself")}());else if(function ae(Ye){var qt=typeof Ye;return null!==Ye&&("object"===qt||"function"===qt)}(qt)){var St=void 0;try{St=qt.then}catch(lt){return void En(Ye,lt)}Kn(Ye,qt,St)}else Gn(Ye,qt)}function Eo(Ye){Ye._onerror&&Ye._onerror(Ye._result),gr(Ye)}function Gn(Ye,qt){Ye._state===Fe&&(Ye._result=qt,Ye._state=1,0!==Ye._subscribers.length&&Ne(gr,Ye))}function En(Ye,qt){Ye._state===Fe&&(Ye._state=2,Ye._result=qt,Ne(Eo,Ye))}function qo(Ye,qt,St,lt){var sn=Ye._subscribers,vn=sn.length;Ye._onerror=null,sn[vn]=qt,sn[vn+1]=St,sn[vn+2]=lt,0===vn&&Ye._state&&Ne(gr,Ye)}function gr(Ye){var qt=Ye._subscribers,St=Ye._state;if(0!==qt.length){for(var lt=void 0,sn=void 0,vn=Ye._result,Uo=0;Uo<qt.length;Uo+=3)sn=qt[Uo+St],(lt=qt[Uo])?Yi(St,lt,sn,vn):sn(vn);Ye._subscribers.length=0}}function Yi(Ye,qt,St,lt){var sn=P(St),vn=void 0,Uo=void 0,Wi=!0;if(sn){try{vn=St(lt)}catch(Ei){Wi=!1,Uo=Ei}if(qt===vn)return void En(qt,function Rn(){return new TypeError("A promises callback cannot return that same promise.")}())}else vn=lt;qt._state!==Fe||(sn&&Wi?lo(qt,vn):!1===Wi?En(qt,Uo):1===Ye?Gn(qt,vn):2===Ye&&En(qt,vn))}var Mo=0;function _n(Ye){Ye[it]=Mo++,Ye._state=void 0,Ye._result=void 0,Ye._subscribers=[]}var no=function(){function Ye(qt,St){this._instanceConstructor=qt,this.promise=new qt(ut),this.promise[it]||_n(this.promise),pe(St)?(this.length=St.length,this._remaining=St.length,this._result=new Array(this.length),0===this.length?Gn(this.promise,this._result):(this.length=this.length||0,this._enumerate(St),0===this._remaining&&Gn(this.promise,this._result))):En(this.promise,function Fo(){return new Error("Array Methods must be provided an Array")}())}return Ye.prototype._enumerate=function(St){for(var lt=0;this._state===Fe&&lt<St.length;lt++)this._eachEntry(St[lt],lt)},Ye.prototype._eachEntry=function(St,lt){var sn=this._instanceConstructor,vn=sn.resolve;if(vn===vt){var Uo=void 0,Wi=void 0,Ei=!1;try{Uo=St.then}catch(wr){Ei=!0,Wi=wr}if(Uo===Et&&St._state!==Fe)this._settledAt(St._state,lt,St._result);else if("function"!=typeof Uo)this._remaining--,this._result[lt]=St;else if(sn===wo){var aa=new sn(ut);Ei?En(aa,Wi):Kn(aa,St,Uo),this._willSettleAt(aa,lt)}else this._willSettleAt(new sn(function(wr){return wr(St)}),lt)}else this._willSettleAt(vn(St),lt)},Ye.prototype._settledAt=function(St,lt,sn){var vn=this.promise;vn._state===Fe&&(this._remaining--,2===St?En(vn,sn):this._result[lt]=sn),0===this._remaining&&Gn(vn,this._result)},Ye.prototype._willSettleAt=function(St,lt){var sn=this;qo(St,void 0,function(vn){return sn._settledAt(1,lt,vn)},function(vn){return sn._settledAt(2,lt,vn)})},Ye}();var wo=function(){function Ye(qt){this[it]=function Bo(){return Mo++}(),this._result=this._state=void 0,this._subscribers=[],ut!==qt&&("function"!=typeof qt&&function Er(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Ye?function Yo(Ye,qt){try{qt(function(lt){lo(Ye,lt)},function(lt){En(Ye,lt)})}catch(St){En(Ye,St)}}(this,qt):function Wo(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return Ye.prototype.catch=function(St){return this.then(null,St)},Ye.prototype.finally=function(St){var sn=this.constructor;return P(St)?this.then(function(vn){return sn.resolve(St()).then(function(){return vn})},function(vn){return sn.resolve(St()).then(function(){throw vn})}):this.then(St,St)},Ye}();return wo.prototype.then=Et,wo.all=function Ti(Ye){return new no(this,Ye).promise},wo.race=function Ko(Ye){var qt=this;return pe(Ye)?new qt(function(St,lt){for(var sn=Ye.length,vn=0;vn<sn;vn++)qt.resolve(Ye[vn]).then(St,lt)}):new qt(function(St,lt){return lt(new TypeError("You must pass an array to race."))})},wo.resolve=vt,wo.reject=function Ki(Ye){var St=new this(ut);return En(St,Ye),St},wo._setScheduler=function Ie(Ye){me=Ye},wo._setAsap=function Ee(Ye){Ne=Ye},wo._asap=Ne,wo.polyfill=function Ma(){var Ye=void 0;if(typeof global<"u")Ye=global;else if(typeof self<"u")Ye=self;else try{Ye=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var qt=Ye.Promise;if(qt){var St=null;try{St=Object.prototype.toString.call(qt.resolve())}catch{}if("[object Promise]"===St&&!qt.cast)return}Ye.Promise=wo},wo.Promise=wo,wo},he.exports=P()},html2canvas:function(he){"use strict";he.exports=be},jspdf:function(he){"use strict";he.exports=Gt}},Y={};function He(he){var ae=Y[he];if(void 0!==ae)return ae.exports;var P=Y[he]={exports:{}};return b[he].call(P.exports,P,P.exports,He),P.exports}He.n=function(he){var ae=he&&he.__esModule?function(){return he.default}:function(){return he};return He.d(ae,{a:ae}),ae},He.d=function(he,ae){for(var P in ae)He.o(ae,P)&&!He.o(he,P)&&Object.defineProperty(he,P,{enumerable:!0,get:ae[P]})},He.o=function(he,ae){return Object.prototype.hasOwnProperty.call(he,ae)},He.r=function(he){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(he,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(he,"__esModule",{value:!0})};var rs={};return function(){"use strict";He.r(rs);var he=He("./src/worker.js"),pe=(He("./src/plugin/jspdf-plugin.js"),He("./src/plugin/pagebreaks.js"),He("./src/plugin/hyperlinks.js"),function te(e,me){var Ne=new te.Worker(me);return e?Ne.from(e).save():Ne});pe.Worker=he.default,rs.default=pe}(),rs.default}())},1303:(Ea,fr,cn)=>{"use strict";function Gt(i){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}cn.r(fr),cn.d(fr,{AcroForm:()=>Vf,AcroFormAppearance:()=>Jt,AcroFormButton:()=>pi,AcroFormCheckBox:()=>Ju,AcroFormChoiceField:()=>el,AcroFormComboBox:()=>nl,AcroFormEditBox:()=>Bu,AcroFormListBox:()=>tl,AcroFormPasswordField:()=>Gu,AcroFormPushButton:()=>zu,AcroFormRadioButton:()=>Ur,AcroFormTextField:()=>Ts,GState:()=>Ru,ShadingPattern:()=>xs,TilingPattern:()=>Qs,default:()=>Vt,jsPDF:()=>Vt});var be=cn(3759);function He(i,l){(null==l||l>i.length)&&(l=i.length);for(var a=0,f=Array(l);a<l;a++)f[a]=i[a];return f}function ae(i,l){return function b(i){if(Array.isArray(i))return i}(i)||function Y(i,l){var a=null==i?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(null!=a){var f,h,_,w,x=[],q=!0,k=!1;try{if(_=(a=a.call(i)).next,0===l){if(Object(a)!==a)return;q=!1}else for(;!(q=(f=_.call(a)).done)&&(x.push(f.value),x.length!==l);q=!0);}catch(E){k=!0,h=E}finally{try{if(!q&&null!=a.return&&(w=a.return(),Object(w)!==w))return}finally{if(k)throw h}}return x}}(i,l)||function rs(i,l){if(i){if("string"==typeof i)return He(i,l);var a={}.toString.call(i).slice(8,-1);return"Object"===a&&i.constructor&&(a=i.constructor.name),"Map"===a||"Set"===a?Array.from(i):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?He(i,l):void 0}}(i,l)||function he(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(i,l="utf8"){return new TextDecoder(l).decode(i)}const ee=new TextEncoder,e=(()=>{const i=new Uint8Array(4);return!((new Uint32Array(i.buffer)[0]=1)&i[0])})(),me={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ne{constructor(l=8192,a={}){ao(this,"buffer"),ao(this,"byteLength"),ao(this,"byteOffset"),ao(this,"length"),ao(this,"offset"),ao(this,"lastWrittenByte"),ao(this,"littleEndian"),ao(this,"_data"),ao(this,"_mark"),ao(this,"_marks");let f=!1;"number"==typeof l?l=new ArrayBuffer(l):(f=!0,this.lastWrittenByte=l.byteLength);const h=a.offset?a.offset>>>0:0,_=l.byteLength-h;let w=h;(ArrayBuffer.isView(l)||l instanceof Ne)&&(l.byteLength!==l.buffer.byteLength&&(w=l.byteOffset+h),l=l.buffer),this.lastWrittenByte=f?_:0,this.buffer=l,this.length=_,this.byteLength=_,this.byteOffset=w,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,w,_),this._mark=0,this._marks=[]}available(l=1){return this.offset+l<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(l=1){return this.offset+=l,this}back(l=1){return this.offset-=l,this}seek(l){return this.offset=l,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const l=this._marks.pop();if(void 0===l)throw new Error("Mark stack empty");return this.seek(l),this}rewind(){return this.offset=0,this}ensureAvailable(l=1){if(!this.available(l)){const f=2*(this.offset+l),h=new Uint8Array(f);h.set(new Uint8Array(this.buffer)),this.buffer=h.buffer,this.length=f,this.byteLength=f,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(l=1){return this.readArray(l,"uint8")}readArray(l,a){const f=me[a].BYTES_PER_ELEMENT*l,h=this.byteOffset+this.offset,_=this.buffer.slice(h,h+f);if(this.littleEndian===e&&"uint8"!==a&&"int8"!==a){const x=new Uint8Array(this.buffer.slice(h,h+f));x.reverse();const q=new me[a](x.buffer);return this.offset+=f,q.reverse(),q}const w=new me[a](_);return this.offset+=f,w}readInt16(){const l=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,l}readUint16(){const l=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,l}readInt32(){const l=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,l}readUint32(){const l=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,l}readFloat32(){const l=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,l}readFloat64(){const l=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,l}readBigInt64(){const l=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,l}readBigUint64(){const l=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,l}readChar(){return String.fromCharCode(this.readInt8())}readChars(l=1){let a="";for(let f=0;f<l;f++)a+=this.readChar();return a}readUtf8(l=1){return P(this.readBytes(l))}decodeText(l=1,a="utf8"){return P(this.readBytes(l),a)}writeBoolean(l){return this.writeUint8(l?255:0),this}writeInt8(l){return this.ensureAvailable(1),this._data.setInt8(this.offset++,l),this._updateLastWrittenByte(),this}writeUint8(l){return this.ensureAvailable(1),this._data.setUint8(this.offset++,l),this._updateLastWrittenByte(),this}writeByte(l){return this.writeUint8(l)}writeBytes(l){this.ensureAvailable(l.length);for(let a=0;a<l.length;a++)this._data.setUint8(this.offset++,l[a]);return this._updateLastWrittenByte(),this}writeInt16(l){return this.ensureAvailable(2),this._data.setInt16(this.offset,l,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(l){return this.ensureAvailable(2),this._data.setUint16(this.offset,l,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(l){return this.ensureAvailable(4),this._data.setInt32(this.offset,l,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(l){return this.ensureAvailable(4),this._data.setUint32(this.offset,l,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(l){return this.ensureAvailable(4),this._data.setFloat32(this.offset,l,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(l){return this.ensureAvailable(8),this._data.setFloat64(this.offset,l,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(l){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,l,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(l){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,l,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(l){return this.writeUint8(l.charCodeAt(0))}writeChars(l){for(let a=0;a<l.length;a++)this.writeUint8(l.charCodeAt(a));return this}writeUtf8(l){return this.writeBytes(function pe(i){return ee.encode(i)}(l))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function ot(i){let l=i.length;for(;--l>=0;)i[l]=0}const Ot=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Rn=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),vo=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),so=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Kn=new Array(576);ot(Kn);const lo=new Array(60);ot(lo);const Eo=new Array(512);ot(Eo);const Gn=new Array(256);ot(Gn);const En=new Array(29);ot(En);const qo=new Array(30);function gr(i,l,a,f,h){this.static_tree=i,this.extra_bits=l,this.extra_base=a,this.elems=f,this.max_length=h,this.has_stree=i&&i.length}let Yi,Yo,Mo;function Bo(i,l){this.dyn_tree=i,this.max_code=0,this.stat_desc=l}ot(qo);const _n=i=>i<256?Eo[i]:Eo[256+(i>>>7)],Fo=(i,l)=>{i.pending_buf[i.pending++]=255&l,i.pending_buf[i.pending++]=l>>>8&255},no=(i,l,a)=>{i.bi_valid>16-a?(i.bi_buf|=l<<i.bi_valid&65535,Fo(i,i.bi_buf),i.bi_buf=l>>16-i.bi_valid,i.bi_valid+=a-16):(i.bi_buf|=l<<i.bi_valid&65535,i.bi_valid+=a)},Ti=(i,l,a)=>{no(i,a[2*l],a[2*l+1])},Ko=(i,l)=>{let a=0;do{a|=1&i,i>>>=1,a<<=1}while(--l>0);return a>>>1},Wo=(i,l,a)=>{const f=new Array(16);let _,w,h=0;for(_=1;_<=15;_++)h=h+a[_-1]<<1,f[_]=h;for(w=0;w<=l;w++){let x=i[2*w+1];0!==x&&(i[2*w]=Ko(f[x]++,x))}},Ma=i=>{let l;for(l=0;l<286;l++)i.dyn_ltree[2*l]=0;for(l=0;l<30;l++)i.dyn_dtree[2*l]=0;for(l=0;l<19;l++)i.bl_tree[2*l]=0;i.dyn_ltree[512]=1,i.opt_len=i.static_len=0,i.sym_next=i.matches=0},Ye=i=>{i.bi_valid>8?Fo(i,i.bi_buf):i.bi_valid>0&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0},qt=(i,l,a,f)=>{const h=2*l,_=2*a;return i[h]<i[_]||i[h]===i[_]&&f[l]<=f[a]},St=(i,l,a)=>{const f=i.heap[a];let h=a<<1;for(;h<=i.heap_len&&(h<i.heap_len&&qt(l,i.heap[h+1],i.heap[h],i.depth)&&h++,!qt(l,f,i.heap[h],i.depth));)i.heap[a]=i.heap[h],a=h,h<<=1;i.heap[a]=f},lt=(i,l,a)=>{let f,h,w,x,_=0;if(0!==i.sym_next)do{f=255&i.pending_buf[i.sym_buf+_++],f+=(255&i.pending_buf[i.sym_buf+_++])<<8,h=i.pending_buf[i.sym_buf+_++],0===f?Ti(i,h,l):(w=Gn[h],Ti(i,w+256+1,l),x=Ot[w],0!==x&&(h-=En[w],no(i,h,x)),f--,w=_n(f),Ti(i,w,a),x=Rn[w],0!==x&&(f-=qo[w],no(i,f,x)))}while(_<i.sym_next);Ti(i,256,l)},sn=(i,l)=>{const a=l.dyn_tree,f=l.stat_desc.static_tree,h=l.stat_desc.has_stree,_=l.stat_desc.elems;let w,x,k,q=-1;for(i.heap_len=0,i.heap_max=573,w=0;w<_;w++)0!==a[2*w]?(i.heap[++i.heap_len]=q=w,i.depth[w]=0):a[2*w+1]=0;for(;i.heap_len<2;)k=i.heap[++i.heap_len]=q<2?++q:0,a[2*k]=1,i.depth[k]=0,i.opt_len--,h&&(i.static_len-=f[2*k+1]);for(l.max_code=q,w=i.heap_len>>1;w>=1;w--)St(i,a,w);k=_;do{w=i.heap[1],i.heap[1]=i.heap[i.heap_len--],St(i,a,1),x=i.heap[1],i.heap[--i.heap_max]=w,i.heap[--i.heap_max]=x,a[2*k]=a[2*w]+a[2*x],i.depth[k]=(i.depth[w]>=i.depth[x]?i.depth[w]:i.depth[x])+1,a[2*w+1]=a[2*x+1]=k,i.heap[1]=k++,St(i,a,1)}while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],((i,l)=>{const a=l.dyn_tree,f=l.max_code,h=l.stat_desc.static_tree,_=l.stat_desc.has_stree,w=l.stat_desc.extra_bits,x=l.stat_desc.extra_base,q=l.stat_desc.max_length;let k,E,H,V,I,le,re=0;for(V=0;V<=15;V++)i.bl_count[V]=0;for(a[2*i.heap[i.heap_max]+1]=0,k=i.heap_max+1;k<573;k++)E=i.heap[k],V=a[2*a[2*E+1]+1]+1,V>q&&(V=q,re++),a[2*E+1]=V,!(E>f)&&(i.bl_count[V]++,I=0,E>=x&&(I=w[E-x]),le=a[2*E],i.opt_len+=le*(V+I),_&&(i.static_len+=le*(h[2*E+1]+I)));if(0!==re){do{for(V=q-1;0===i.bl_count[V];)V--;i.bl_count[V]--,i.bl_count[V+1]+=2,i.bl_count[q]--,re-=2}while(re>0);for(V=q;0!==V;V--)for(E=i.bl_count[V];0!==E;)H=i.heap[--k],!(H>f)&&(a[2*H+1]!==V&&(i.opt_len+=(V-a[2*H+1])*a[2*H],a[2*H+1]=V),E--)}})(i,l),Wo(a,q,i.bl_count)},vn=(i,l,a)=>{let f,_,h=-1,w=l[1],x=0,q=7,k=4;for(0===w&&(q=138,k=3),l[2*(a+1)+1]=65535,f=0;f<=a;f++)_=w,w=l[2*(f+1)+1],!(++x<q&&_===w)&&(x<k?i.bl_tree[2*_]+=x:0!==_?(_!==h&&i.bl_tree[2*_]++,i.bl_tree[32]++):x<=10?i.bl_tree[34]++:i.bl_tree[36]++,x=0,h=_,0===w?(q=138,k=3):_===w?(q=6,k=3):(q=7,k=4))},Uo=(i,l,a)=>{let f,_,h=-1,w=l[1],x=0,q=7,k=4;for(0===w&&(q=138,k=3),f=0;f<=a;f++)if(_=w,w=l[2*(f+1)+1],!(++x<q&&_===w)){if(x<k)do{Ti(i,_,i.bl_tree)}while(0!=--x);else 0!==_?(_!==h&&(Ti(i,_,i.bl_tree),x--),Ti(i,16,i.bl_tree),no(i,x-3,2)):x<=10?(Ti(i,17,i.bl_tree),no(i,x-3,3)):(Ti(i,18,i.bl_tree),no(i,x-11,7));x=0,h=_,0===w?(q=138,k=3):_===w?(q=6,k=3):(q=7,k=4)}};let wr=!1;const Bn=(i,l,a,f)=>{no(i,0+(f?1:0),3),Ye(i),Fo(i,a),Fo(i,~a),a&&i.pending_buf.set(i.window.subarray(l,l+a),i.pending),i.pending+=a};var kd={_tr_init:i=>{wr||((()=>{let i,l,a,f,h;const _=new Array(16);for(a=0,f=0;f<28;f++)for(En[f]=a,i=0;i<1<<Ot[f];i++)Gn[a++]=f;for(Gn[a-1]=f,h=0,f=0;f<16;f++)for(qo[f]=h,i=0;i<1<<Rn[f];i++)Eo[h++]=f;for(h>>=7;f<30;f++)for(qo[f]=h<<7,i=0;i<1<<Rn[f]-7;i++)Eo[256+h++]=f;for(l=0;l<=15;l++)_[l]=0;for(i=0;i<=143;)Kn[2*i+1]=8,i++,_[8]++;for(;i<=255;)Kn[2*i+1]=9,i++,_[9]++;for(;i<=279;)Kn[2*i+1]=7,i++,_[7]++;for(;i<=287;)Kn[2*i+1]=8,i++,_[8]++;for(Wo(Kn,287,_),i=0;i<30;i++)lo[2*i+1]=5,lo[2*i]=Ko(i,5);Yi=new gr(Kn,Ot,257,286,15),Yo=new gr(lo,Rn,0,30,15),Mo=new gr(new Array(0),vo,0,19,7)})(),wr=!0),i.l_desc=new Bo(i.dyn_ltree,Yi),i.d_desc=new Bo(i.dyn_dtree,Yo),i.bl_desc=new Bo(i.bl_tree,Mo),i.bi_buf=0,i.bi_valid=0,Ma(i)},_tr_stored_block:Bn,_tr_flush_block:(i,l,a,f)=>{let h,_,w=0;i.level>0?(2===i.strm.data_type&&(i.strm.data_type=(i=>{let a,l=4093624447;for(a=0;a<=31;a++,l>>>=1)if(1&l&&0!==i.dyn_ltree[2*a])return 0;if(0!==i.dyn_ltree[18]||0!==i.dyn_ltree[20]||0!==i.dyn_ltree[26])return 1;for(a=32;a<256;a++)if(0!==i.dyn_ltree[2*a])return 1;return 0})(i)),sn(i,i.l_desc),sn(i,i.d_desc),w=(i=>{let l;for(vn(i,i.dyn_ltree,i.l_desc.max_code),vn(i,i.dyn_dtree,i.d_desc.max_code),sn(i,i.bl_desc),l=18;l>=3&&0===i.bl_tree[2*so[l]+1];l--);return i.opt_len+=3*(l+1)+5+5+4,l})(i),h=i.opt_len+3+7>>>3,_=i.static_len+3+7>>>3,_<=h&&(h=_)):h=_=a+5,a+4<=h&&-1!==l?Bn(i,l,a,f):4===i.strategy||_===h?(no(i,2+(f?1:0),3),lt(i,Kn,lo)):(no(i,4+(f?1:0),3),((i,l,a,f)=>{let h;for(no(i,l-257,5),no(i,a-1,5),no(i,f-4,4),h=0;h<f;h++)no(i,i.bl_tree[2*so[h]+1],3);Uo(i,i.dyn_ltree,l-1),Uo(i,i.dyn_dtree,a-1)})(i,i.l_desc.max_code+1,i.d_desc.max_code+1,w+1),lt(i,i.dyn_ltree,i.dyn_dtree)),Ma(i),f&&Ye(i)},_tr_tally:(i,l,a)=>(i.pending_buf[i.sym_buf+i.sym_next++]=l,i.pending_buf[i.sym_buf+i.sym_next++]=l>>8,i.pending_buf[i.sym_buf+i.sym_next++]=a,0===l?i.dyn_ltree[2*a]++:(i.matches++,l--,i.dyn_ltree[2*(Gn[a]+256+1)]++,i.dyn_dtree[2*_n(l)]++),i.sym_next===i.sym_end),_tr_align:i=>{no(i,2,3),Ti(i,256,Kn),(i=>{16===i.bi_valid?(Fo(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):i.bi_valid>=8&&(i.pending_buf[i.pending++]=255&i.bi_buf,i.bi_buf>>=8,i.bi_valid-=8)})(i)}},Mi=(i,l,a,f)=>{let h=65535&i|0,_=i>>>16&65535|0,w=0;for(;0!==a;){w=a>2e3?2e3:a,a-=w;do{h=h+l[f++]|0,_=_+h|0}while(--w);h%=65521,_%=65521}return h|_<<16|0};const hu=new Uint32Array((()=>{let i,l=[];for(var a=0;a<256;a++){i=a;for(var f=0;f<8;f++)i=1&i?3988292384^i>>>1:i>>>1;l[a]=i}return l})());var So=(i,l,a,f)=>{const h=hu,_=f+a;i^=-1;for(let w=f;w<_;w++)i=i>>>8^h[255&(i^l[w])];return-1^i},sa={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Fa={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:gc,_tr_stored_block:Ps,_tr_flush_block:ir,_tr_tally:ci,_tr_align:mc}=kd,{Z_NO_FLUSH:la,Z_PARTIAL_FLUSH:Nd,Z_FULL_FLUSH:as,Z_FINISH:Be,Z_BLOCK:Mr,Z_OK:di,Z_STREAM_END:rr,Z_STREAM_ERROR:Vo,Z_DATA_ERROR:hc,Z_BUF_ERROR:Zl,Z_DEFAULT_COMPRESSION:_c,Z_FILTERED:vc,Z_HUFFMAN_ONLY:ja,Z_RLE:yc,Z_FIXED:bc,Z_DEFAULT_STRATEGY:Pd,Z_UNKNOWN:Id,Z_DEFLATED:xl}=Fa,hr=262,Da=(i,l)=>(i.msg=sa[l],l),yu=i=>2*i-(i>4?9:0),fa=i=>{let l=i.length;for(;--l>=0;)i[l]=0},jd=i=>{let l,a,f,h=i.w_size;l=i.hash_size,f=l;do{a=i.head[--f],i.head[f]=a>=h?a-h:0}while(--l);l=h,f=l;do{a=i.prev[--f],i.prev[f]=a>=h?a-h:0}while(--l)};let Ri=(i,l,a)=>(l<<i.hash_shift^a)&i.hash_mask;const Vi=i=>{const l=i.state;let a=l.pending;a>i.avail_out&&(a=i.avail_out),0!==a&&(i.output.set(l.pending_buf.subarray(l.pending_out,l.pending_out+a),i.next_out),i.next_out+=a,l.pending_out+=a,i.total_out+=a,i.avail_out-=a,l.pending-=a,0===l.pending&&(l.pending_out=0))},Qi=(i,l)=>{ir(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,l),i.block_start=i.strstart,Vi(i.strm)},Qn=(i,l)=>{i.pending_buf[i.pending++]=l},yi=(i,l)=>{i.pending_buf[i.pending++]=l>>>8&255,i.pending_buf[i.pending++]=255&l},Ba=(i,l,a,f)=>{let h=i.avail_in;return h>f&&(h=f),0===h?0:(i.avail_in-=h,l.set(i.input.subarray(i.next_in,i.next_in+h),a),1===i.state.wrap?i.adler=Mi(i.adler,l,h,a):2===i.state.wrap&&(i.adler=So(i.adler,l,h,a)),i.next_in+=h,i.total_in+=h,h)},Al=(i,l)=>{let h,_,a=i.max_chain_length,f=i.strstart,w=i.prev_length,x=i.nice_match;const q=i.strstart>i.w_size-hr?i.strstart-(i.w_size-hr):0,k=i.window,E=i.w_mask,H=i.prev,V=i.strstart+258;let I=k[f+w-1],le=k[f+w];i.prev_length>=i.good_match&&(a>>=2),x>i.lookahead&&(x=i.lookahead);do{if(h=l,k[h+w]===le&&k[h+w-1]===I&&k[h]===k[f]&&k[++h]===k[f+1]){f+=2,h++;do{}while(k[++f]===k[++h]&&k[++f]===k[++h]&&k[++f]===k[++h]&&k[++f]===k[++h]&&k[++f]===k[++h]&&k[++f]===k[++h]&&k[++f]===k[++h]&&k[++f]===k[++h]&&f<V);if(_=258-(V-f),f=V-258,_>w){if(i.match_start=l,w=_,_>=x)break;I=k[f+w-1],le=k[f+w]}}}while((l=H[l&E])>q&&0!=--a);return w<=i.lookahead?w:i.lookahead},ga=i=>{const l=i.w_size;let a,f,h;do{if(f=i.window_size-i.lookahead-i.strstart,i.strstart>=l+(l-hr)&&(i.window.set(i.window.subarray(l,l+l-f),0),i.match_start-=l,i.strstart-=l,i.block_start-=l,i.insert>i.strstart&&(i.insert=i.strstart),jd(i),f+=l),0===i.strm.avail_in)break;if(a=Ba(i.strm,i.window,i.strstart+i.lookahead,f),i.lookahead+=a,i.lookahead+i.insert>=3)for(h=i.strstart-i.insert,i.ins_h=i.window[h],i.ins_h=Ri(i,i.ins_h,i.window[h+1]);i.insert&&(i.ins_h=Ri(i,i.ins_h,i.window[h+3-1]),i.prev[h&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=h,h++,i.insert--,!(i.lookahead+i.insert<3)););}while(i.lookahead<hr&&0!==i.strm.avail_in)},Tl=(i,l)=>{let f,h,_,a=i.pending_buf_size-5>i.w_size?i.w_size:i.pending_buf_size-5,w=0,x=i.strm.avail_in;do{if(f=65535,_=i.bi_valid+42>>3,i.strm.avail_out<_||(_=i.strm.avail_out-_,h=i.strstart-i.block_start,f>h+i.strm.avail_in&&(f=h+i.strm.avail_in),f>_&&(f=_),f<a&&(0===f&&l!==Be||l===la||f!==h+i.strm.avail_in)))break;w=l===Be&&f===h+i.strm.avail_in?1:0,Ps(i,0,0,w),i.pending_buf[i.pending-4]=f,i.pending_buf[i.pending-3]=f>>8,i.pending_buf[i.pending-2]=~f,i.pending_buf[i.pending-1]=~f>>8,Vi(i.strm),h&&(h>f&&(h=f),i.strm.output.set(i.window.subarray(i.block_start,i.block_start+h),i.strm.next_out),i.strm.next_out+=h,i.strm.avail_out-=h,i.strm.total_out+=h,i.block_start+=h,f-=h),f&&(Ba(i.strm,i.strm.output,i.strm.next_out,f),i.strm.next_out+=f,i.strm.avail_out-=f,i.strm.total_out+=f)}while(0===w);return x-=i.strm.avail_in,x&&(x>=i.w_size?(i.matches=2,i.window.set(i.strm.input.subarray(i.strm.next_in-i.w_size,i.strm.next_in),0),i.strstart=i.w_size,i.insert=i.strstart):(i.window_size-i.strstart<=x&&(i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,i.insert>i.strstart&&(i.insert=i.strstart)),i.window.set(i.strm.input.subarray(i.strm.next_in-x,i.strm.next_in),i.strstart),i.strstart+=x,i.insert+=x>i.w_size-i.insert?i.w_size-i.insert:x),i.block_start=i.strstart),i.high_water<i.strstart&&(i.high_water=i.strstart),w?4:l!==la&&l!==Be&&0===i.strm.avail_in&&i.strstart===i.block_start?2:(_=i.window_size-i.strstart,i.strm.avail_in>_&&i.block_start>=i.w_size&&(i.block_start-=i.w_size,i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,_+=i.w_size,i.insert>i.strstart&&(i.insert=i.strstart)),_>i.strm.avail_in&&(_=i.strm.avail_in),_&&(Ba(i.strm,i.window,i.strstart,_),i.strstart+=_,i.insert+=_>i.w_size-i.insert?i.w_size-i.insert:_),i.high_water<i.strstart&&(i.high_water=i.strstart),_=i.bi_valid+42>>3,_=i.pending_buf_size-_>65535?65535:i.pending_buf_size-_,a=_>i.w_size?i.w_size:_,h=i.strstart-i.block_start,(h>=a||(h||l===Be)&&l!==la&&0===i.strm.avail_in&&h<=_)&&(f=h>_?_:h,w=l===Be&&0===i.strm.avail_in&&f===h?1:0,Ps(i,i.block_start,f,w),i.block_start+=f,Vi(i.strm)),w?3:1)},Es=(i,l)=>{let a,f;for(;;){if(i.lookahead<hr){if(ga(i),i.lookahead<hr&&l===la)return 1;if(0===i.lookahead)break}if(a=0,i.lookahead>=3&&(i.ins_h=Ri(i,i.ins_h,i.window[i.strstart+3-1]),a=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),0!==a&&i.strstart-a<=i.w_size-hr&&(i.match_length=Al(i,a)),i.match_length>=3)if(f=ci(i,i.strstart-i.match_start,i.match_length-3),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=3){i.match_length--;do{i.strstart++,i.ins_h=Ri(i,i.ins_h,i.window[i.strstart+3-1]),a=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart}while(0!=--i.match_length);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=Ri(i,i.ins_h,i.window[i.strstart+1]);else f=ci(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(f&&(Qi(i,!1),0===i.strm.avail_out))return 1}return i.insert=i.strstart<2?i.strstart:2,l===Be?(Qi(i,!0),0===i.strm.avail_out?3:4):i.sym_next&&(Qi(i,!1),0===i.strm.avail_out)?1:2},_r=(i,l)=>{let a,f,h;for(;;){if(i.lookahead<hr){if(ga(i),i.lookahead<hr&&l===la)return 1;if(0===i.lookahead)break}if(a=0,i.lookahead>=3&&(i.ins_h=Ri(i,i.ins_h,i.window[i.strstart+3-1]),a=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=2,0!==a&&i.prev_length<i.max_lazy_match&&i.strstart-a<=i.w_size-hr&&(i.match_length=Al(i,a),i.match_length<=5&&(i.strategy===vc||3===i.match_length&&i.strstart-i.match_start>4096)&&(i.match_length=2)),i.prev_length>=3&&i.match_length<=i.prev_length){h=i.strstart+i.lookahead-3,f=ci(i,i.strstart-1-i.prev_match,i.prev_length-3),i.lookahead-=i.prev_length-1,i.prev_length-=2;do{++i.strstart<=h&&(i.ins_h=Ri(i,i.ins_h,i.window[i.strstart+3-1]),a=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart)}while(0!=--i.prev_length);if(i.match_available=0,i.match_length=2,i.strstart++,f&&(Qi(i,!1),0===i.strm.avail_out))return 1}else if(i.match_available){if(f=ci(i,0,i.window[i.strstart-1]),f&&Qi(i,!1),i.strstart++,i.lookahead--,0===i.strm.avail_out)return 1}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(f=ci(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<2?i.strstart:2,l===Be?(Qi(i,!0),0===i.strm.avail_out?3:4):i.sym_next&&(Qi(i,!1),0===i.strm.avail_out)?1:2};function $i(i,l,a,f,h){this.good_length=i,this.max_lazy=l,this.nice_length=a,this.max_chain=f,this.func=h}const Fs=[new $i(0,0,0,0,Tl),new $i(4,4,8,4,Es),new $i(4,5,16,8,Es),new $i(4,6,32,32,Es),new $i(4,4,16,16,_r),new $i(8,16,32,32,_r),new $i(8,16,128,128,_r),new $i(8,32,128,256,_r),new $i(32,128,258,1024,_r),new $i(32,258,258,4096,_r)];function Dd(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=xl,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),fa(this.dyn_ltree),fa(this.dyn_dtree),fa(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),fa(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),fa(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const us=i=>{if(!i)return 1;const l=i.state;return!l||l.strm!==i||42!==l.status&&57!==l.status&&69!==l.status&&73!==l.status&&91!==l.status&&103!==l.status&&113!==l.status&&666!==l.status?1:0},Zc=i=>{if(us(i))return Da(i,Vo);i.total_in=i.total_out=0,i.data_type=Id;const l=i.state;return l.pending=0,l.pending_out=0,l.wrap<0&&(l.wrap=-l.wrap),l.status=2===l.wrap?57:l.wrap?42:113,i.adler=2===l.wrap?0:1,l.last_flush=-2,gc(l),di},za=i=>{const l=Zc(i);return l===di&&(i=>{i.window_size=2*i.w_size,fa(i.head),i.max_lazy_match=Fs[i.level].max_lazy,i.good_match=Fs[i.level].good_length,i.nice_match=Fs[i.level].nice_length,i.max_chain_length=Fs[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0})(i.state),l},js=(i,l,a,f,h,_)=>{if(!i)return Vo;let w=1;if(l===_c&&(l=6),f<0?(w=0,f=-f):f>15&&(w=2,f-=16),h<1||h>9||a!==xl||f<8||f>15||l<0||l>9||_<0||_>bc||8===f&&1!==w)return Da(i,Vo);8===f&&(f=9);const x=new Dd;return i.state=x,x.strm=i,x.status=42,x.wrap=w,x.gzhead=null,x.w_bits=f,x.w_size=1<<x.w_bits,x.w_mask=x.w_size-1,x.hash_bits=h+7,x.hash_size=1<<x.hash_bits,x.hash_mask=x.hash_size-1,x.hash_shift=~~((x.hash_bits+3-1)/3),x.window=new Uint8Array(2*x.w_size),x.head=new Uint16Array(x.hash_size),x.prev=new Uint16Array(x.w_size),x.lit_bufsize=1<<h+6,x.pending_buf_size=4*x.lit_bufsize,x.pending_buf=new Uint8Array(x.pending_buf_size),x.sym_buf=x.lit_bufsize,x.sym_end=3*(x.lit_bufsize-1),x.level=l,x.strategy=_,x.method=a,za(i)};var cs_deflateInit2=js,cs_deflateSetHeader=(i,l)=>us(i)||2!==i.state.wrap?Vo:(i.state.gzhead=l,di),cs_deflate=(i,l)=>{if(us(i)||l>Mr||l<0)return i?Da(i,Vo):Vo;const a=i.state;if(!i.output||0!==i.avail_in&&!i.input||666===a.status&&l!==Be)return Da(i,0===i.avail_out?Zl:Vo);const f=a.last_flush;if(a.last_flush=l,0!==a.pending){if(Vi(i),0===i.avail_out)return a.last_flush=-1,di}else if(0===i.avail_in&&yu(l)<=yu(f)&&l!==Be)return Da(i,Zl);if(666===a.status&&0!==i.avail_in)return Da(i,Zl);if(42===a.status&&0===a.wrap&&(a.status=113),42===a.status){let h=xl+(a.w_bits-8<<4)<<8,_=-1;if(_=a.strategy>=ja||a.level<2?0:a.level<6?1:6===a.level?2:3,h|=_<<6,0!==a.strstart&&(h|=32),h+=31-h%31,yi(a,h),0!==a.strstart&&(yi(a,i.adler>>>16),yi(a,65535&i.adler)),i.adler=1,a.status=113,Vi(i),0!==a.pending)return a.last_flush=-1,di}if(57===a.status)if(i.adler=0,Qn(a,31),Qn(a,139),Qn(a,8),a.gzhead)Qn(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),Qn(a,255&a.gzhead.time),Qn(a,a.gzhead.time>>8&255),Qn(a,a.gzhead.time>>16&255),Qn(a,a.gzhead.time>>24&255),Qn(a,9===a.level?2:a.strategy>=ja||a.level<2?4:0),Qn(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(Qn(a,255&a.gzhead.extra.length),Qn(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(i.adler=So(i.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69;else if(Qn(a,0),Qn(a,0),Qn(a,0),Qn(a,0),Qn(a,0),Qn(a,9===a.level?2:a.strategy>=ja||a.level<2?4:0),Qn(a,3),a.status=113,Vi(i),0!==a.pending)return a.last_flush=-1,di;if(69===a.status){if(a.gzhead.extra){let h=a.pending,_=(65535&a.gzhead.extra.length)-a.gzindex;for(;a.pending+_>a.pending_buf_size;){let x=a.pending_buf_size-a.pending;if(a.pending_buf.set(a.gzhead.extra.subarray(a.gzindex,a.gzindex+x),a.pending),a.pending=a.pending_buf_size,a.gzhead.hcrc&&a.pending>h&&(i.adler=So(i.adler,a.pending_buf,a.pending-h,h)),a.gzindex+=x,Vi(i),0!==a.pending)return a.last_flush=-1,di;h=0,_-=x}let w=new Uint8Array(a.gzhead.extra);a.pending_buf.set(w.subarray(a.gzindex,a.gzindex+_),a.pending),a.pending+=_,a.gzhead.hcrc&&a.pending>h&&(i.adler=So(i.adler,a.pending_buf,a.pending-h,h)),a.gzindex=0}a.status=73}if(73===a.status){if(a.gzhead.name){let _,h=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>h&&(i.adler=So(i.adler,a.pending_buf,a.pending-h,h)),Vi(i),0!==a.pending)return a.last_flush=-1,di;h=0}_=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,Qn(a,_)}while(0!==_);a.gzhead.hcrc&&a.pending>h&&(i.adler=So(i.adler,a.pending_buf,a.pending-h,h)),a.gzindex=0}a.status=91}if(91===a.status){if(a.gzhead.comment){let _,h=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>h&&(i.adler=So(i.adler,a.pending_buf,a.pending-h,h)),Vi(i),0!==a.pending)return a.last_flush=-1,di;h=0}_=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,Qn(a,_)}while(0!==_);a.gzhead.hcrc&&a.pending>h&&(i.adler=So(i.adler,a.pending_buf,a.pending-h,h))}a.status=103}if(103===a.status){if(a.gzhead.hcrc){if(a.pending+2>a.pending_buf_size&&(Vi(i),0!==a.pending))return a.last_flush=-1,di;Qn(a,255&i.adler),Qn(a,i.adler>>8&255),i.adler=0}if(a.status=113,Vi(i),0!==a.pending)return a.last_flush=-1,di}if(0!==i.avail_in||0!==a.lookahead||l!==la&&666!==a.status){let h=0===a.level?Tl(a,l):a.strategy===ja?((i,l)=>{let a;for(;;){if(0===i.lookahead&&(ga(i),0===i.lookahead)){if(l===la)return 1;break}if(i.match_length=0,a=ci(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,a&&(Qi(i,!1),0===i.strm.avail_out))return 1}return i.insert=0,l===Be?(Qi(i,!0),0===i.strm.avail_out?3:4):i.sym_next&&(Qi(i,!1),0===i.strm.avail_out)?1:2})(a,l):a.strategy===yc?((i,l)=>{let a,f,h,_;const w=i.window;for(;;){if(i.lookahead<=258){if(ga(i),i.lookahead<=258&&l===la)return 1;if(0===i.lookahead)break}if(i.match_length=0,i.lookahead>=3&&i.strstart>0&&(h=i.strstart-1,f=w[h],f===w[++h]&&f===w[++h]&&f===w[++h])){_=i.strstart+258;do{}while(f===w[++h]&&f===w[++h]&&f===w[++h]&&f===w[++h]&&f===w[++h]&&f===w[++h]&&f===w[++h]&&f===w[++h]&&h<_);i.match_length=258-(_-h),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=3?(a=ci(i,1,i.match_length-3),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(a=ci(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),a&&(Qi(i,!1),0===i.strm.avail_out))return 1}return i.insert=0,l===Be?(Qi(i,!0),0===i.strm.avail_out?3:4):i.sym_next&&(Qi(i,!1),0===i.strm.avail_out)?1:2})(a,l):Fs[a.level].func(a,l);if((3===h||4===h)&&(a.status=666),1===h||3===h)return 0===i.avail_out&&(a.last_flush=-1),di;if(2===h&&(l===Nd?mc(a):l!==Mr&&(Ps(a,0,0,!1),l===as&&(fa(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),Vi(i),0===i.avail_out))return a.last_flush=-1,di}return l!==Be?di:a.wrap<=0?rr:(2===a.wrap?(Qn(a,255&i.adler),Qn(a,i.adler>>8&255),Qn(a,i.adler>>16&255),Qn(a,i.adler>>24&255),Qn(a,255&i.total_in),Qn(a,i.total_in>>8&255),Qn(a,i.total_in>>16&255),Qn(a,i.total_in>>24&255)):(yi(a,i.adler>>>16),yi(a,65535&i.adler)),Vi(i),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?di:rr)},cs_deflateEnd=i=>{if(us(i))return Vo;const l=i.state.status;return i.state=null,113===l?Da(i,hc):di},cs_deflateSetDictionary=(i,l)=>{let a=l.length;if(us(i))return Vo;const f=i.state,h=f.wrap;if(2===h||1===h&&42!==f.status||f.lookahead)return Vo;if(1===h&&(i.adler=Mi(i.adler,l,a,0)),f.wrap=0,a>=f.w_size){0===h&&(fa(f.head),f.strstart=0,f.block_start=0,f.insert=0);let q=new Uint8Array(f.w_size);q.set(l.subarray(a-f.w_size,a),0),l=q,a=f.w_size}const _=i.avail_in,w=i.next_in,x=i.input;for(i.avail_in=a,i.next_in=0,i.input=l,ga(f);f.lookahead>=3;){let q=f.strstart,k=f.lookahead-2;do{f.ins_h=Ri(f,f.ins_h,f.window[q+3-1]),f.prev[q&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=q,q++}while(--k);f.strstart=q,f.lookahead=2,ga(f)}return f.strstart+=f.lookahead,f.block_start=f.strstart,f.insert=f.lookahead,f.lookahead=0,f.match_length=f.prev_length=2,f.match_available=0,i.next_in=w,i.input=x,i.avail_in=_,f.wrap=h,di};const ds=(i,l)=>Object.prototype.hasOwnProperty.call(i,l);var ma_assign=function(i){const l=Array.prototype.slice.call(arguments,1);for(;l.length;){const a=l.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(const f in a)ds(a,f)&&(i[f]=a[f])}}return i},ma_flattenChunks=i=>{let l=0;for(let f=0,h=i.length;f<h;f++)l+=i[f].length;const a=new Uint8Array(l);for(let f=0,h=0,_=i.length;f<_;f++){let w=i[f];a.set(w,h),h+=w.length}return a};let wl=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{wl=!1}const Ja=new Uint8Array(256);for(let i=0;i<256;i++)Ja[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;Ja[254]=Ja[254]=1;var Ds_string2buf=i=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(i);let l,a,f,h,_,w=i.length,x=0;for(h=0;h<w;h++)a=i.charCodeAt(h),55296==(64512&a)&&h+1<w&&(f=i.charCodeAt(h+1),56320==(64512&f)&&(a=65536+(a-55296<<10)+(f-56320),h++)),x+=a<128?1:a<2048?2:a<65536?3:4;for(l=new Uint8Array(x),_=0,h=0;_<x;h++)a=i.charCodeAt(h),55296==(64512&a)&&h+1<w&&(f=i.charCodeAt(h+1),56320==(64512&f)&&(a=65536+(a-55296<<10)+(f-56320),h++)),a<128?l[_++]=a:a<2048?(l[_++]=192|a>>>6,l[_++]=128|63&a):a<65536?(l[_++]=224|a>>>12,l[_++]=128|a>>>6&63,l[_++]=128|63&a):(l[_++]=240|a>>>18,l[_++]=128|a>>>12&63,l[_++]=128|a>>>6&63,l[_++]=128|63&a);return l},Ds_buf2string=(i,l)=>{const a=l||i.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(i.subarray(0,l));let f,h;const _=new Array(2*a);for(h=0,f=0;f<a;){let w=i[f++];if(w<128){_[h++]=w;continue}let x=Ja[w];if(x>4)_[h++]=65533,f+=x-1;else{for(w&=2===x?31:3===x?15:7;x>1&&f<a;)w=w<<6|63&i[f++],x--;x>1?_[h++]=65533:w<65536?_[h++]=w:(w-=65536,_[h++]=55296|w>>10&1023,_[h++]=56320|1023&w)}}return((i,l)=>{if(l<65534&&i.subarray&&wl)return String.fromCharCode.apply(null,i.length===l?i:i.subarray(0,l));let a="";for(let f=0;f<l;f++)a+=String.fromCharCode(i[f]);return a})(_,h)},Ds_utf8border=(i,l)=>{(l=l||i.length)>i.length&&(l=i.length);let a=l-1;for(;a>=0&&128==(192&i[a]);)a--;return a<0||0===a?l:a+Ja[i[a]]>l?a:l},Cc=function Xd(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ga=Object.prototype.toString,{Z_NO_FLUSH:qc,Z_SYNC_FLUSH:Uc,Z_FULL_FLUSH:ep,Z_FINISH:ps,Z_OK:Jn,Z_STREAM_END:Bs,Z_DEFAULT_COMPRESSION:jr,Z_DEFAULT_STRATEGY:Au,Z_DEFLATED:Sc}=Fa;function Di(i){this.options=ma_assign({level:jr,method:Sc,chunkSize:16384,windowBits:15,memLevel:8,strategy:Au},i||{});let l=this.options;l.raw&&l.windowBits>0?l.windowBits=-l.windowBits:l.gzip&&l.windowBits>0&&l.windowBits<16&&(l.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Cc,this.strm.avail_out=0;let a=cs_deflateInit2(this.strm,l.level,l.method,l.windowBits,l.memLevel,l.strategy);if(a!==Jn)throw new Error(sa[a]);if(l.header&&cs_deflateSetHeader(this.strm,l.header),l.dictionary){let f;if(f="string"==typeof l.dictionary?Ds_string2buf(l.dictionary):"[object ArrayBuffer]"===Ga.call(l.dictionary)?new Uint8Array(l.dictionary):l.dictionary,a=cs_deflateSetDictionary(this.strm,f),a!==Jn)throw new Error(sa[a]);this._dict_set=!0}}function vr(i,l){const a=new Di(l);if(a.push(i,!0),a.err)throw a.msg||sa[a.err];return a.result}Di.prototype.push=function(i,l){const a=this.strm,f=this.options.chunkSize;let h,_;if(this.ended)return!1;for(_=l===~~l?l:!0===l?ps:qc,a.input="string"==typeof i?Ds_string2buf(i):"[object ArrayBuffer]"===Ga.call(i)?new Uint8Array(i):i,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(f),a.next_out=0,a.avail_out=f),(_===Uc||_===ep)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if(h=cs_deflate(a,_),h===Bs)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),h=cs_deflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===Jn;if(0!==a.avail_out){if(_>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},Di.prototype.onData=function(i){this.chunks.push(i)},Di.prototype.onEnd=function(i){i===Jn&&(this.result=ma_flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};var rp={Deflate:Di,deflate:vr,deflateRaw:function tp(i,l){return(l=l||{}).raw=!0,vr(i,l)},gzip:function kc(i,l){return(l=l||{}).gzip=!0,vr(i,l)},constants:Fa};const ql=16209;var wu=function(l,a){let f,h,_,w,x,q,k,E,H,V,I,le,re,fe,X,Se,Ce,Ze,$e,Zt,gt,ze,Te,Je;const Q=l.state;f=l.next_in,Te=l.input,h=f+(l.avail_in-5),_=l.next_out,Je=l.output,w=_-(a-l.avail_out),x=_+(l.avail_out-257),q=Q.dmax,k=Q.wsize,E=Q.whave,H=Q.wnext,V=Q.window,I=Q.hold,le=Q.bits,re=Q.lencode,fe=Q.distcode,X=(1<<Q.lenbits)-1,Se=(1<<Q.distbits)-1;e:do{le<15&&(I+=Te[f++]<<le,le+=8,I+=Te[f++]<<le,le+=8),Ce=re[I&X];t:for(;;){if(Ze=Ce>>>24,I>>>=Ze,le-=Ze,Ze=Ce>>>16&255,0===Ze)Je[_++]=65535&Ce;else{if(!(16&Ze)){if(0==(64&Ze)){Ce=re[(65535&Ce)+(I&(1<<Ze)-1)];continue t}if(32&Ze){Q.mode=16191;break e}l.msg="invalid literal/length code",Q.mode=ql;break e}$e=65535&Ce,Ze&=15,Ze&&(le<Ze&&(I+=Te[f++]<<le,le+=8),$e+=I&(1<<Ze)-1,I>>>=Ze,le-=Ze),le<15&&(I+=Te[f++]<<le,le+=8,I+=Te[f++]<<le,le+=8),Ce=fe[I&Se];n:for(;;){if(Ze=Ce>>>24,I>>>=Ze,le-=Ze,Ze=Ce>>>16&255,!(16&Ze)){if(0==(64&Ze)){Ce=fe[(65535&Ce)+(I&(1<<Ze)-1)];continue n}l.msg="invalid distance code",Q.mode=ql;break e}if(Zt=65535&Ce,Ze&=15,le<Ze&&(I+=Te[f++]<<le,le+=8,le<Ze&&(I+=Te[f++]<<le,le+=8)),Zt+=I&(1<<Ze)-1,Zt>q){l.msg="invalid distance too far back",Q.mode=ql;break e}if(I>>>=Ze,le-=Ze,Ze=_-w,Zt>Ze){if(Ze=Zt-Ze,Ze>E&&Q.sane){l.msg="invalid distance too far back",Q.mode=ql;break e}if(gt=0,ze=V,0===H){if(gt+=k-Ze,Ze<$e){$e-=Ze;do{Je[_++]=V[gt++]}while(--Ze);gt=_-Zt,ze=Je}}else if(H<Ze){if(gt+=k+H-Ze,Ze-=H,Ze<$e){$e-=Ze;do{Je[_++]=V[gt++]}while(--Ze);if(gt=0,H<$e){Ze=H,$e-=Ze;do{Je[_++]=V[gt++]}while(--Ze);gt=_-Zt,ze=Je}}}else if(gt+=H-Ze,Ze<$e){$e-=Ze;do{Je[_++]=V[gt++]}while(--Ze);gt=_-Zt,ze=Je}for(;$e>2;)Je[_++]=ze[gt++],Je[_++]=ze[gt++],Je[_++]=ze[gt++],$e-=3;$e&&(Je[_++]=ze[gt++],$e>1&&(Je[_++]=ze[gt++]))}else{gt=_-Zt;do{Je[_++]=Je[gt++],Je[_++]=Je[gt++],Je[_++]=Je[gt++],$e-=3}while($e>2);$e&&(Je[_++]=Je[gt++],$e>1&&(Je[_++]=Je[gt++]))}break}}break}}while(f<h&&_<x);$e=le>>3,f-=$e,le-=$e<<3,I&=(1<<le)-1,l.next_in=f,l.next_out=_,l.avail_in=f<h?h-f+5:5-(f-h),l.avail_out=_<x?x-_+257:257-(_-x),Q.hold=I,Q.bits=le};const Ic=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ha=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Sn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ap=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var _a=(i,l,a,f,h,_,w,x)=>{const q=x.bits;let Ce,Ze,$e,Zt,gt,Te,k=0,E=0,H=0,V=0,I=0,le=0,re=0,fe=0,X=0,Se=0,ze=null;const Je=new Uint16Array(16),Q=new Uint16Array(16);let xe,Ae,Qe,se=null;for(k=0;k<=15;k++)Je[k]=0;for(E=0;E<f;E++)Je[l[a+E]]++;for(I=q,V=15;V>=1&&0===Je[V];V--);if(I>V&&(I=V),0===V)return h[_++]=20971520,h[_++]=20971520,x.bits=1,0;for(H=1;H<V&&0===Je[H];H++);for(I<H&&(I=H),fe=1,k=1;k<=15;k++)if(fe<<=1,fe-=Je[k],fe<0)return-1;if(fe>0&&(0===i||1!==V))return-1;for(Q[1]=0,k=1;k<15;k++)Q[k+1]=Q[k]+Je[k];for(E=0;E<f;E++)0!==l[a+E]&&(w[Q[l[a+E]]++]=E);if(0===i?(ze=se=w,Te=20):1===i?(ze=Ic,se=ha,Te=257):(ze=Sn,se=ap,Te=0),Se=0,E=0,k=H,gt=_,le=I,re=0,$e=-1,X=1<<I,Zt=X-1,1===i&&X>852||2===i&&X>592)return 1;for(;;){xe=k-re,w[E]+1<Te?(Ae=0,Qe=w[E]):w[E]>=Te?(Ae=se[w[E]-Te],Qe=ze[w[E]-Te]):(Ae=96,Qe=0),Ce=1<<k-re,Ze=1<<le,H=Ze;do{Ze-=Ce,h[gt+(Se>>re)+Ze]=xe<<24|Ae<<16|Qe|0}while(0!==Ze);for(Ce=1<<k-1;Se&Ce;)Ce>>=1;if(0!==Ce?(Se&=Ce-1,Se+=Ce):Se=0,E++,0==--Je[k]){if(k===V)break;k=l[a+w[E]]}if(k>I&&(Se&Zt)!==$e){for(0===re&&(re=I),gt+=H,le=k-re,fe=1<<le;le+re<V&&(fe-=Je[le+re],!(fe<=0));)le++,fe<<=1;if(X+=1<<le,1===i&&X>852||2===i&&X>592)return 1;$e=Se&Zt,h[$e]=I<<24|le<<16|gt-_|0}}return 0!==Se&&(h[gt+Se]=k-re<<24|64<<16|0),x.bits=I,0};const{Z_FINISH:va,Z_BLOCK:zs,Z_TREES:qr,Z_OK:sr,Z_STREAM_END:lp,Z_NEED_DICT:up,Z_STREAM_ERROR:lr,Z_DATA_ERROR:Lc,Z_MEM_ERROR:gs,Z_BUF_ERROR:qu,Z_DEFLATED:Uu}=Fa,ms=16180,Il=16190,qi=16191,Ll=16199,Ol=16200,po=16209,Fl=i=>(i>>>24&255)+(i>>>8&65280)+((65280&i)<<8)+((255&i)<<24);function pp(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ya=i=>{if(!i)return 1;const l=i.state;return!l||l.strm!==i||l.mode<ms||l.mode>16211?1:0},Ka=i=>{if(ya(i))return lr;const l=i.state;return i.total_in=i.total_out=l.total=0,i.msg="",l.wrap&&(i.adler=1&l.wrap),l.mode=ms,l.last=0,l.havedict=0,l.flags=-1,l.dmax=32768,l.head=null,l.hold=0,l.bits=0,l.lencode=l.lendyn=new Int32Array(852),l.distcode=l.distdyn=new Int32Array(592),l.sane=1,l.back=-1,sr},Wc=i=>{if(ya(i))return lr;const l=i.state;return l.wsize=0,l.whave=0,l.wnext=0,Ka(i)},Vc=(i,l)=>{let a;if(ya(i))return lr;const f=i.state;return l<0?(a=0,l=-l):(a=5+(l>>4),l<48&&(l&=15)),l&&(l<8||l>15)?lr:(null!==f.window&&f.wbits!==l&&(f.window=null),f.wrap=a,f.wbits=l,Wc(i))},Qc=(i,l)=>{if(!i)return lr;const a=new pp;i.state=a,a.strm=i,a.window=null,a.mode=ms;const f=Vc(i,l);return f!==sr&&(i.state=null),f};let hs,jl,$c=!0;const gp=i=>{if($c){hs=new Int32Array(512),jl=new Int32Array(32);let l=0;for(;l<144;)i.lens[l++]=8;for(;l<256;)i.lens[l++]=9;for(;l<280;)i.lens[l++]=7;for(;l<288;)i.lens[l++]=8;for(_a(1,i.lens,0,288,hs,0,i.work,{bits:9}),l=0;l<32;)i.lens[l++]=5;_a(2,i.lens,0,32,jl,0,i.work,{bits:5}),$c=!1}i.lencode=hs,i.lenbits=9,i.distcode=jl,i.distbits=5},Rl=(i,l,a,f)=>{let h;const _=i.state;return null===_.window&&(_.wsize=1<<_.wbits,_.wnext=0,_.whave=0,_.window=new Uint8Array(_.wsize)),f>=_.wsize?(_.window.set(l.subarray(a-_.wsize,a),0),_.wnext=0,_.whave=_.wsize):(h=_.wsize-_.wnext,h>f&&(h=f),_.window.set(l.subarray(a-f,a-f+h),_.wnext),(f-=h)?(_.window.set(l.subarray(a-f,a),0),_.wnext=f,_.whave=_.wsize):(_.wnext+=h,_.wnext===_.wsize&&(_.wnext=0),_.whave<_.wsize&&(_.whave+=h))),0};var Ui_inflateReset=Wc,Ui_inflateInit2=Qc,Ui_inflate=(i,l)=>{let a,f,h,_,w,x,q,k,E,H,V,I,le,re,X,Se,Ce,Ze,$e,Zt,gt,ze,fe=0;const Te=new Uint8Array(4);let Je,Q;const se=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ya(i)||!i.output||!i.input&&0!==i.avail_in)return lr;a=i.state,a.mode===qi&&(a.mode=16192),w=i.next_out,h=i.output,q=i.avail_out,_=i.next_in,f=i.input,x=i.avail_in,k=a.hold,E=a.bits,H=x,V=q,ze=sr;e:for(;;)switch(a.mode){case ms:if(0===a.wrap){a.mode=16192;break}for(;E<16;){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}if(2&a.wrap&&35615===k){0===a.wbits&&(a.wbits=15),a.check=0,Te[0]=255&k,Te[1]=k>>>8&255,a.check=So(a.check,Te,2,0),k=0,E=0,a.mode=16181;break}if(a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&k)<<8)+(k>>8))%31){i.msg="incorrect header check",a.mode=po;break}if((15&k)!==Uu){i.msg="unknown compression method",a.mode=po;break}if(k>>>=4,E-=4,gt=8+(15&k),0===a.wbits&&(a.wbits=gt),gt>15||gt>a.wbits){i.msg="invalid window size",a.mode=po;break}a.dmax=1<<a.wbits,a.flags=0,i.adler=a.check=1,a.mode=512&k?16189:qi,k=0,E=0;break;case 16181:for(;E<16;){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}if(a.flags=k,(255&a.flags)!==Uu){i.msg="unknown compression method",a.mode=po;break}if(57344&a.flags){i.msg="unknown header flags set",a.mode=po;break}a.head&&(a.head.text=k>>8&1),512&a.flags&&4&a.wrap&&(Te[0]=255&k,Te[1]=k>>>8&255,a.check=So(a.check,Te,2,0)),k=0,E=0,a.mode=16182;case 16182:for(;E<32;){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}a.head&&(a.head.time=k),512&a.flags&&4&a.wrap&&(Te[0]=255&k,Te[1]=k>>>8&255,Te[2]=k>>>16&255,Te[3]=k>>>24&255,a.check=So(a.check,Te,4,0)),k=0,E=0,a.mode=16183;case 16183:for(;E<16;){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}a.head&&(a.head.xflags=255&k,a.head.os=k>>8),512&a.flags&&4&a.wrap&&(Te[0]=255&k,Te[1]=k>>>8&255,a.check=So(a.check,Te,2,0)),k=0,E=0,a.mode=16184;case 16184:if(1024&a.flags){for(;E<16;){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}a.length=k,a.head&&(a.head.extra_len=k),512&a.flags&&4&a.wrap&&(Te[0]=255&k,Te[1]=k>>>8&255,a.check=So(a.check,Te,2,0)),k=0,E=0}else a.head&&(a.head.extra=null);a.mode=16185;case 16185:if(1024&a.flags&&(I=a.length,I>x&&(I=x),I&&(a.head&&(gt=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(f.subarray(_,_+I),gt)),512&a.flags&&4&a.wrap&&(a.check=So(a.check,f,I,_)),x-=I,_+=I,a.length-=I),a.length))break e;a.length=0,a.mode=16186;case 16186:if(2048&a.flags){if(0===x)break e;I=0;do{gt=f[_+I++],a.head&&gt&&a.length<65536&&(a.head.name+=String.fromCharCode(gt))}while(gt&&I<x);if(512&a.flags&&4&a.wrap&&(a.check=So(a.check,f,I,_)),x-=I,_+=I,gt)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=16187;case 16187:if(4096&a.flags){if(0===x)break e;I=0;do{gt=f[_+I++],a.head&&gt&&a.length<65536&&(a.head.comment+=String.fromCharCode(gt))}while(gt&&I<x);if(512&a.flags&&4&a.wrap&&(a.check=So(a.check,f,I,_)),x-=I,_+=I,gt)break e}else a.head&&(a.head.comment=null);a.mode=16188;case 16188:if(512&a.flags){for(;E<16;){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}if(4&a.wrap&&k!==(65535&a.check)){i.msg="header crc mismatch",a.mode=po;break}k=0,E=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),i.adler=a.check=0,a.mode=qi;break;case 16189:for(;E<32;){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}i.adler=a.check=Fl(k),k=0,E=0,a.mode=Il;case Il:if(0===a.havedict)return i.next_out=w,i.avail_out=q,i.next_in=_,i.avail_in=x,a.hold=k,a.bits=E,up;i.adler=a.check=1,a.mode=qi;case qi:if(l===zs||l===qr)break e;case 16192:if(a.last){k>>>=7&E,E-=7&E,a.mode=16206;break}for(;E<3;){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}switch(a.last=1&k,k>>>=1,E-=1,3&k){case 0:a.mode=16193;break;case 1:if(gp(a),a.mode=Ll,l===qr){k>>>=2,E-=2;break e}break;case 2:a.mode=16196;break;case 3:i.msg="invalid block type",a.mode=po}k>>>=2,E-=2;break;case 16193:for(k>>>=7&E,E-=7&E;E<32;){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}if((65535&k)!=(k>>>16^65535)){i.msg="invalid stored block lengths",a.mode=po;break}if(a.length=65535&k,k=0,E=0,a.mode=16194,l===qr)break e;case 16194:a.mode=16195;case 16195:if(I=a.length,I){if(I>x&&(I=x),I>q&&(I=q),0===I)break e;h.set(f.subarray(_,_+I),w),x-=I,_+=I,q-=I,w+=I,a.length-=I;break}a.mode=qi;break;case 16196:for(;E<14;){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}if(a.nlen=257+(31&k),k>>>=5,E-=5,a.ndist=1+(31&k),k>>>=5,E-=5,a.ncode=4+(15&k),k>>>=4,E-=4,a.nlen>286||a.ndist>30){i.msg="too many length or distance symbols",a.mode=po;break}a.have=0,a.mode=16197;case 16197:for(;a.have<a.ncode;){for(;E<3;){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}a.lens[se[a.have++]]=7&k,k>>>=3,E-=3}for(;a.have<19;)a.lens[se[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,Je={bits:a.lenbits},ze=_a(0,a.lens,0,19,a.lencode,0,a.work,Je),a.lenbits=Je.bits,ze){i.msg="invalid code lengths set",a.mode=po;break}a.have=0,a.mode=16198;case 16198:for(;a.have<a.nlen+a.ndist;){for(;fe=a.lencode[k&(1<<a.lenbits)-1],X=fe>>>24,Se=fe>>>16&255,Ce=65535&fe,!(X<=E);){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}if(Ce<16)k>>>=X,E-=X,a.lens[a.have++]=Ce;else{if(16===Ce){for(Q=X+2;E<Q;){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}if(k>>>=X,E-=X,0===a.have){i.msg="invalid bit length repeat",a.mode=po;break}gt=a.lens[a.have-1],I=3+(3&k),k>>>=2,E-=2}else if(17===Ce){for(Q=X+3;E<Q;){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}k>>>=X,E-=X,gt=0,I=3+(7&k),k>>>=3,E-=3}else{for(Q=X+7;E<Q;){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}k>>>=X,E-=X,gt=0,I=11+(127&k),k>>>=7,E-=7}if(a.have+I>a.nlen+a.ndist){i.msg="invalid bit length repeat",a.mode=po;break}for(;I--;)a.lens[a.have++]=gt}}if(a.mode===po)break;if(0===a.lens[256]){i.msg="invalid code -- missing end-of-block",a.mode=po;break}if(a.lenbits=9,Je={bits:a.lenbits},ze=_a(1,a.lens,0,a.nlen,a.lencode,0,a.work,Je),a.lenbits=Je.bits,ze){i.msg="invalid literal/lengths set",a.mode=po;break}if(a.distbits=6,a.distcode=a.distdyn,Je={bits:a.distbits},ze=_a(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,Je),a.distbits=Je.bits,ze){i.msg="invalid distances set",a.mode=po;break}if(a.mode=Ll,l===qr)break e;case Ll:a.mode=Ol;case Ol:if(x>=6&&q>=258){i.next_out=w,i.avail_out=q,i.next_in=_,i.avail_in=x,a.hold=k,a.bits=E,wu(i,V),w=i.next_out,h=i.output,q=i.avail_out,_=i.next_in,f=i.input,x=i.avail_in,k=a.hold,E=a.bits,a.mode===qi&&(a.back=-1);break}for(a.back=0;fe=a.lencode[k&(1<<a.lenbits)-1],X=fe>>>24,Se=fe>>>16&255,Ce=65535&fe,!(X<=E);){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}if(Se&&0==(240&Se)){for(Ze=X,$e=Se,Zt=Ce;fe=a.lencode[Zt+((k&(1<<Ze+$e)-1)>>Ze)],X=fe>>>24,Se=fe>>>16&255,Ce=65535&fe,!(Ze+X<=E);){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}k>>>=Ze,E-=Ze,a.back+=Ze}if(k>>>=X,E-=X,a.back+=X,a.length=Ce,0===Se){a.mode=16205;break}if(32&Se){a.back=-1,a.mode=qi;break}if(64&Se){i.msg="invalid literal/length code",a.mode=po;break}a.extra=15&Se,a.mode=16201;case 16201:if(a.extra){for(Q=a.extra;E<Q;){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}a.length+=k&(1<<a.extra)-1,k>>>=a.extra,E-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=16202;case 16202:for(;fe=a.distcode[k&(1<<a.distbits)-1],X=fe>>>24,Se=fe>>>16&255,Ce=65535&fe,!(X<=E);){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}if(0==(240&Se)){for(Ze=X,$e=Se,Zt=Ce;fe=a.distcode[Zt+((k&(1<<Ze+$e)-1)>>Ze)],X=fe>>>24,Se=fe>>>16&255,Ce=65535&fe,!(Ze+X<=E);){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}k>>>=Ze,E-=Ze,a.back+=Ze}if(k>>>=X,E-=X,a.back+=X,64&Se){i.msg="invalid distance code",a.mode=po;break}a.offset=Ce,a.extra=15&Se,a.mode=16203;case 16203:if(a.extra){for(Q=a.extra;E<Q;){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}a.offset+=k&(1<<a.extra)-1,k>>>=a.extra,E-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){i.msg="invalid distance too far back",a.mode=po;break}a.mode=16204;case 16204:if(0===q)break e;if(I=V-q,a.offset>I){if(I=a.offset-I,I>a.whave&&a.sane){i.msg="invalid distance too far back",a.mode=po;break}I>a.wnext?(I-=a.wnext,le=a.wsize-I):le=a.wnext-I,I>a.length&&(I=a.length),re=a.window}else re=h,le=w-a.offset,I=a.length;I>q&&(I=q),q-=I,a.length-=I;do{h[w++]=re[le++]}while(--I);0===a.length&&(a.mode=Ol);break;case 16205:if(0===q)break e;h[w++]=a.length,q--,a.mode=Ol;break;case 16206:if(a.wrap){for(;E<32;){if(0===x)break e;x--,k|=f[_++]<<E,E+=8}if(V-=q,i.total_out+=V,a.total+=V,4&a.wrap&&V&&(i.adler=a.check=a.flags?So(a.check,h,V,w-V):Mi(a.check,h,V,w-V)),V=q,4&a.wrap&&(a.flags?k:Fl(k))!==a.check){i.msg="incorrect data check",a.mode=po;break}k=0,E=0}a.mode=16207;case 16207:if(a.wrap&&a.flags){for(;E<32;){if(0===x)break e;x--,k+=f[_++]<<E,E+=8}if(4&a.wrap&&k!==(4294967295&a.total)){i.msg="incorrect length check",a.mode=po;break}k=0,E=0}a.mode=16208;case 16208:ze=lp;break e;case po:ze=Lc;break e;case 16210:return gs;default:return lr}return i.next_out=w,i.avail_out=q,i.next_in=_,i.avail_in=x,a.hold=k,a.bits=E,(a.wsize||V!==i.avail_out&&a.mode<po&&(a.mode<16206||l!==va))&&Rl(i,i.output,i.next_out,V-i.avail_out),H-=i.avail_in,V-=i.avail_out,i.total_in+=H,i.total_out+=V,a.total+=V,4&a.wrap&&V&&(i.adler=a.check=a.flags?So(a.check,h,V,i.next_out-V):Mi(a.check,h,V,i.next_out-V)),i.data_type=a.bits+(a.last?64:0)+(a.mode===qi?128:0)+(a.mode===Ll||16194===a.mode?256:0),(0===H&&0===V||l===va)&&ze===sr&&(ze=qu),ze},Ui_inflateEnd=i=>{if(ya(i))return lr;let l=i.state;return l.window&&(l.window=null),i.state=null,sr},Ui_inflateGetHeader=(i,l)=>{if(ya(i))return lr;const a=i.state;return 0==(2&a.wrap)?lr:(a.head=l,l.done=!1,sr)},Ui_inflateSetDictionary=(i,l)=>{const a=l.length;let f,h,_;return ya(i)||(f=i.state,0!==f.wrap&&f.mode!==Il)?lr:f.mode===Il&&(h=1,h=Mi(h,l,a,0),h!==f.check)?Lc:(_=Rl(i,l,a,a),_?(f.mode=16210,gs):(f.havedict=1,sr))},vp=function od(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Va=Object.prototype.toString,{Z_NO_FLUSH:yp,Z_FINISH:bp,Z_OK:Hs,Z_STREAM_END:Dl,Z_NEED_DICT:Ou,Z_STREAM_ERROR:id,Z_DATA_ERROR:rd,Z_MEM_ERROR:ys}=Fa;function Ys(i){this.options=ma_assign({chunkSize:65536,windowBits:15,to:""},i||{});const l=this.options;l.raw&&l.windowBits>=0&&l.windowBits<16&&(l.windowBits=-l.windowBits,0===l.windowBits&&(l.windowBits=-15)),l.windowBits>=0&&l.windowBits<16&&!(i&&i.windowBits)&&(l.windowBits+=32),l.windowBits>15&&l.windowBits<48&&0==(15&l.windowBits)&&(l.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Cc,this.strm.avail_out=0;let a=Ui_inflateInit2(this.strm,l.windowBits);if(a!==Hs)throw new Error(sa[a]);if(this.header=new vp,Ui_inflateGetHeader(this.strm,this.header),l.dictionary&&("string"==typeof l.dictionary?l.dictionary=Ds_string2buf(l.dictionary):"[object ArrayBuffer]"===Va.call(l.dictionary)&&(l.dictionary=new Uint8Array(l.dictionary)),l.raw&&(a=Ui_inflateSetDictionary(this.strm,l.dictionary),a!==Hs)))throw new Error(sa[a])}function Eu(i,l){const a=new Ys(l);if(a.push(i),a.err)throw a.msg||sa[a.err];return a.result}Ys.prototype.push=function(i,l){const a=this.strm,f=this.options.chunkSize,h=this.options.dictionary;let _,w,x;if(this.ended)return!1;for(w=l===~~l?l:!0===l?bp:yp,a.input="[object ArrayBuffer]"===Va.call(i)?new Uint8Array(i):i,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(f),a.next_out=0,a.avail_out=f),_=Ui_inflate(a,w),_===Ou&&h&&(_=Ui_inflateSetDictionary(a,h),_===Hs?_=Ui_inflate(a,w):_===rd&&(_=Ou));a.avail_in>0&&_===Dl&&a.state.wrap>0&&0!==i[a.next_in];)Ui_inflateReset(a),_=Ui_inflate(a,w);switch(_){case id:case rd:case Ou:case ys:return this.onEnd(_),this.ended=!0,!1}if(x=a.avail_out,a.next_out&&(0===a.avail_out||_===Dl))if("string"===this.options.to){let q=Ds_utf8border(a.output,a.next_out),k=a.next_out-q,E=Ds_buf2string(a.output,q);a.next_out=k,a.avail_out=f-k,k&&a.output.set(a.output.subarray(q,q+k),0),this.onData(E)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(_!==Hs||0!==x){if(_===Dl)return _=Ui_inflateEnd(this.strm),this.onEnd(_),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},Ys.prototype.onData=function(i){this.chunks.push(i)},Ys.prototype.onEnd=function(i){i===Hs&&(this.result="string"===this.options.to?this.chunks.join(""):ma_flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};var ad={Inflate:Ys,inflate:Eu,inflateRaw:function Zp(i,l){return(l=l||{}).raw=!0,Eu(i,l)},ungzip:Eu,constants:Fa};const{Inflate:Za,inflate:Xi}=ad;var Bl=Za,dd=Xi;const Aa=[];for(let i=0;i<256;i++){let l=i;for(let a=0;a<8;a++)1&l?l=3988292384^l>>>1:l>>>=1;Aa[i]=l}const pd=4294967295;function u(i,l,a){const f=i.readUint32(),h=function r(i,l){return(function o(i,l,a){let f=i;for(let h=0;h<a;h++)f=Aa[255&(f^l[h])]^f>>>8;return f}(pd,i,l)^pd)>>>0}(new Uint8Array(i.buffer,i.byteOffset+i.offset-l-4,l),l);if(h!==f)throw new Error(`CRC mismatch for chunk ${a}. Expected ${f}, found ${h}`)}function g(i,l,a){for(let f=0;f<a;f++)l[f]=i[f]}function v(i,l,a,f){let h=0;for(;h<f;h++)l[h]=i[h];for(;h<a;h++)l[h]=i[h]+l[h-f]&255}function Z(i,l,a,f){let h=0;if(0===a.length)for(;h<f;h++)l[h]=i[h];else for(;h<f;h++)l[h]=i[h]+a[h]&255}function U(i,l,a,f,h){let _=0;if(0===a.length){for(;_<h;_++)l[_]=i[_];for(;_<f;_++)l[_]=i[_]+(l[_-h]>>1)&255}else{for(;_<h;_++)l[_]=i[_]+(a[_]>>1)&255;for(;_<f;_++)l[_]=i[_]+(l[_-h]+a[_]>>1)&255}}function A(i,l,a,f,h){let _=0;if(0===a.length){for(;_<h;_++)l[_]=i[_];for(;_<f;_++)l[_]=i[_]+l[_-h]&255}else{for(;_<h;_++)l[_]=i[_]+a[_]&255;for(;_<f;_++)l[_]=i[_]+N(l[_-h],a[_],a[_-h])&255}}function N(i,l,a){const f=i+l-a,h=Math.abs(f-i),_=Math.abs(f-l),w=Math.abs(f-a);return h<=_&&h<=w?i:_<=w?l:a}function M(i,l,a,f,h,_){switch(i){case 0:g(l,a,h);break;case 1:v(l,a,h,_);break;case 2:Z(l,a,f,h);break;case 3:U(l,a,f,h,_);break;case 4:A(l,a,f,h,_);break;default:throw new Error(`Unsupported filter: ${i}`)}}const F=new Uint16Array([255]),ue=255===new Uint8Array(F.buffer)[0];function ve(i){return(255&i)<<8|i>>8&255}const Pe=new Uint16Array([255]),Ft=255===new Uint8Array(Pe.buffer)[0],zt=new Uint8Array(0);function bn(i){const{data:l,width:a,height:f,channels:h,depth:_}=i,w=Math.ceil(_/8)*h,x=Math.ceil(_/8*h*a),q=new Uint8Array(f*x);let H,V,k=zt,E=0;for(let I=0;I<f;I++){switch(H=l.subarray(E+1,E+1+x),V=q.subarray(I*x,(I+1)*x),l[E]){case 0:g(H,V,x);break;case 1:v(H,V,x,w);break;case 2:Z(H,V,k,x);break;case 3:U(H,V,k,x,w);break;case 4:A(H,V,k,x,w);break;default:throw new Error(`Unsupported filter: ${l[E]}`)}k=V,E+=x+1}if(16===_){const I=new Uint16Array(q.buffer);if(Ft)for(let le=0;le<I.length;le++)I[le]=yn(I[le]);return I}return q}function yn(i){return(255&i)<<8|i>>8&255}const Dn=Uint8Array.of(137,80,78,71,13,10,26,10);function Hn(i){if(!function mo(i){if(i.length<Dn.length)return!1;for(let l=0;l<Dn.length;l++)if(i[l]!==Dn[l])return!1;return!0}(i.readBytes(Dn.length)))throw new Error("wrong PNG signature")}const Ro=new TextDecoder("latin1");function ri(i){if(function Qa(i){if(!bs.test(i))throw new Error("invalid latin1 text")}(i),0===i.length||i.length>79)throw new Error("keyword length must be between 1 and 79")}const bs=/^[\u0000-\u00FF]*$/;function A1(i){for(i.mark();0!==i.readByte(););const l=i.offset;i.reset();const a=Ro.decode(i.readBytes(l-i.offset-1));return i.skip(1),ri(a),a}class kf extends Ne{constructor(a,f={}){super(a),ao(this,"_checkCrc"),ao(this,"_inflator"),ao(this,"_png"),ao(this,"_apng"),ao(this,"_end"),ao(this,"_hasPalette"),ao(this,"_palette"),ao(this,"_hasTransparency"),ao(this,"_transparency"),ao(this,"_compressionMethod"),ao(this,"_filterMethod"),ao(this,"_interlaceMethod"),ao(this,"_colorType"),ao(this,"_isAnimated"),ao(this,"_numberOfFrames"),ao(this,"_numberOfPlays"),ao(this,"_frames"),ao(this,"_writingDataChunks");const{checkCrc:h=!1}=f;this._checkCrc=h,this._inflator=new Bl,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=-1,this._filterMethod=-1,this._interlaceMethod=-1,this._colorType=-1,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Hn(this);!this._end;){const a=this.readUint32(),f=this.readChars(4);this.decodeChunk(a,f)}return this.decodeImage(),this._png}decodeApng(){for(Hn(this);!this._end;){const a=this.readUint32(),f=this.readChars(4);this.decodeApngChunk(a,f)}return this.decodeApngImage(),this._apng}decodeChunk(a,f){const h=this.offset;switch(f){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(a);break;case"IDAT":this.decodeIDAT(a);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(a);break;case"iCCP":this.decodeiCCP(a);break;case"tEXt":!function Fu(i,l,a){const f=A1(l);i[f]=function Sf(i,l){return Ro.decode(i.readBytes(l))}(l,a-f.length-1)}(this._png.text,this,a);break;case"pHYs":this.decodepHYs();break;default:this.skip(a)}if(this.offset-h!==a)throw new Error(`Length mismatch while decoding chunk ${f}`);this._checkCrc?u(this,a+4,f):this.skip(4)}decodeApngChunk(a,f){const h=this.offset;switch("fdAT"!==f&&"IDAT"!==f&&this._writingDataChunks&&this.pushDataToFrame(),f){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(a);break;default:this.decodeChunk(a,f),this.offset=h+a}if(this.offset-h!==a)throw new Error(`Length mismatch while decoding chunk ${f}`);this._checkCrc?u(this,a+4,f):this.skip(4)}decodeIHDR(){const a=this._png;a.width=this.readUint32(),a.height=this.readUint32(),a.depth=function Nf(i){if(1!==i&&2!==i&&4!==i&&8!==i&&16!==i)throw new Error(`invalid bit depth: ${i}`);return i}(this.readUint8());const f=this.readUint8();let h;switch(this._colorType=f,f){case 0:case 3:h=1;break;case 2:h=3;break;case 4:h=2;break;case 6:h=4;break;default:throw new Error(`Unknown color type: ${f}`)}if(this._png.channels=h,this._compressionMethod=this.readUint8(),0!==this._compressionMethod)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const a={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(a)}decodePLTE(a){if(a%3!=0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${a}`);const f=a/3;this._hasPalette=!0;const h=[];this._palette=h;for(let _=0;_<f;_++)h.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(a){if(this._writingDataChunks=!0,this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(a)}decodeFDAT(a){this._writingDataChunks=!0;let f=a,h=this.offset+this.byteOffset;if(h+=4,f-=4,this._inflator.push(new Uint8Array(this.buffer,h,f)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(a)}decodetRNS(a){switch(this._colorType){case 0:case 2:if(a%2!=0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${a}`);if(a/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${a/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(a/2);for(let f=0;f<a/2;f++)this._transparency[f]=this.readUint16();break;case 3:{if(a>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${a} vs ${this._palette.length})`);let f=0;for(;f<a;f++){const h=this.readByte();this._palette[f].push(h)}for(;f<this._palette.length;f++)this._palette[f].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(a){const f=A1(this),h=this.readUint8();if(0!==h)throw new Error(`Unsupported iCCP compression method: ${h}`);const _=this.readBytes(a-f.length-2);this._png.iccEmbeddedProfile={name:f,profile:dd(_)}}decodepHYs(){const a=this.readUint32(),f=this.readUint32(),h=this.readByte();this._png.resolution={x:a,y:f,unit:h}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let a=0;a<this._numberOfFrames;a++){const f={sequenceNumber:this._frames[a].sequenceNumber,delayNumber:this._frames[a].delayNumber,delayDenominator:this._frames[a].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},h=this._frames.at(a);if(h){if(h.data=bn({data:h.data,width:h.width,height:h.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===a||0===h.xOffset&&0===h.yOffset&&h.width===this._png.width&&h.height===this._png.height)f.data=h.data;else{const _=this._apng.frames.at(a-1);this.disposeFrame(h,_,f),this.addFrameDataToCanvas(f,h)}this._apng.frames.push(f)}}return this._apng}disposeFrame(a,f,h){switch(a.disposeOp){case 0:break;case 1:for(let _=0;_<this._png.height;_++)for(let w=0;w<this._png.width;w++){const x=(_*a.width+w)*this._png.channels;for(let q=0;q<this._png.channels;q++)h.data[x+q]=0}break;case 2:h.data.set(f.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(a,f){const h=1<<this._png.depth,_=(w,x)=>({index:((w+f.yOffset)*this._png.width+f.xOffset+x)*this._png.channels,frameIndex:(w*f.width+x)*this._png.channels});switch(f.blendOp){case 0:for(let w=0;w<f.height;w++)for(let x=0;x<f.width;x++){const{index:q,frameIndex:k}=_(w,x);for(let E=0;E<this._png.channels;E++)a.data[q+E]=f.data[k+E]}break;case 1:for(let w=0;w<f.height;w++)for(let x=0;x<f.width;x++){const{index:q,frameIndex:k}=_(w,x);for(let E=0;E<this._png.channels;E++){const H=f.data[k+this._png.channels-1]/h,I=Math.floor(H*(E%(this._png.channels-1)==0?1:f.data[k+E])+(1-H)*a.data[q+E]);a.data[q+E]+=I}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const a=this._isAnimated?this._frames?.at(0).data:this._inflator.result;if(0!==this._filterMethod)throw new Error(`Filter method ${this._filterMethod} not supported`);if(0===this._interlaceMethod)this._png.data=bn({data:a,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(1!==this._interlaceMethod)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function ge(i){const{data:l,width:a,height:f,channels:h,depth:_}=i,w=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],x=Math.ceil(_/8)*h,q=new Uint8Array(f*a*x);let k=0;for(let E=0;E<7;E++){const H=w[E],V=Math.ceil((a-H.x)/H.xStep),I=Math.ceil((f-H.y)/H.yStep);if(V<=0||I<=0)continue;const le=V*x,re=new Uint8Array(le);for(let fe=0;fe<I;fe++){const X=l[k++],Se=l.subarray(k,k+le);k+=le;const Ce=new Uint8Array(le);M(X,Se,Ce,re,le,x),re.set(Ce);for(let Ze=0;Ze<V;Ze++){const $e=H.x+Ze*H.xStep,Zt=H.y+fe*H.yStep;if(!($e>=a||Zt>=f))for(let gt=0;gt<x;gt++)q[(Zt*a+$e)*x+gt]=Ce[Ze*x+gt]}}}if(16===_){const E=new Uint16Array(q.buffer);if(ue)for(let H=0;H<E.length;H++)E[H]=ve(E[H]);return E}return q}({data:a,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const a=this._inflator.result,f=this._frames.at(-1);f?f.data=a:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:0,blendOp:0,data:a}),this._inflator=new Bl,this._writingDataChunks=!1}}var mn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ep(){mn.console&&"function"==typeof mn.console.log&&mn.console.log.apply(mn.console,arguments)}var yo={log:Ep,warn:function(i){mn.console&&("function"==typeof mn.console.warn?mn.console.warn.apply(mn.console,arguments):Ep.call(null,arguments))},error:function(i){mn.console&&("function"==typeof mn.console.error?mn.console.error.apply(mn.console,arguments):Ep(i))}};function Mp(i,l,a){var f=new XMLHttpRequest;f.open("GET",i),f.responseType="blob",f.onload=function(){Ws(f.response,l,a)},f.onerror=function(){yo.error("could not download file")},f.send()}function w1(i){var l=new XMLHttpRequest;l.open("HEAD",i,!1);try{l.send()}catch{}return l.status>=200&&l.status<=299}function gd(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(l)}}var Ws=mn.saveAs||("object"!==(typeof window>"u"?"undefined":Gt(window))||window!==mn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,l,a){var f=mn.URL||mn.webkitURL,h=document.createElement("a");h.download=l=l||i.name||"download",h.rel="noopener","string"==typeof i?(h.href=i,h.origin!==location.origin?w1(h.href)?Mp(i,l,a):gd(h,h.target="_blank"):gd(h)):(h.href=f.createObjectURL(i),setTimeout(function(){f.revokeObjectURL(h.href)},4e4),setTimeout(function(){gd(h)},0))}:"msSaveOrOpenBlob"in navigator?function(i,l,a){if(l=l||i.name||"download","string"==typeof i)if(w1(i))Mp(i,l,a);else{var f=document.createElement("a");f.href=i,f.target="_blank",setTimeout(function(){gd(f)})}else navigator.msSaveOrOpenBlob((h=i,void 0===(_=a)?_={autoBom:!1}:"object"!==Gt(_)&&(yo.warn("Deprecated: Expected third argument to be a object"),_={autoBom:!_}),_.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob([String.fromCharCode(65279),h],{type:h.type}):h),l);var h,_}:function(i,l,a,f){if((f=f||open("","_blank"))&&(f.document.title=f.document.body.innerText="downloading..."),"string"==typeof i)return Mp(i,l,a);var h="application/octet-stream"===i.type,_=/constructor/i.test(mn.HTMLElement)||mn.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||h&&_)&&"object"===(typeof FileReader>"u"?"undefined":Gt(FileReader))){var x=new FileReader;x.onloadend=function(){var E=x.result;E=w?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=E:location=E,f=null},x.readAsDataURL(i)}else{var q=mn.URL||mn.webkitURL,k=q.createObjectURL(i);f?f.location=k:location.href=k,f=null,setTimeout(function(){q.revokeObjectURL(k)},4e4)}});function C1(i){var l;i=i||"",this.ok=!1,"#"==i.charAt(0)&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(x){return[parseInt(x[1],16),parseInt(x[2],16),parseInt(x[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(x){return[parseInt(x[1]+x[1],16),parseInt(x[2]+x[2],16),parseInt(x[3]+x[3],16)]}}],f=0;f<a.length;f++){var _=a[f].process,w=a[f].re.exec(i);w&&(l=_(w),this.r=l[0],this.g=l[1],this.b=l[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var x=this.r.toString(16),q=this.g.toString(16),k=this.b.toString(16);return 1==x.length&&(x="0"+x),1==q.length&&(q="0"+q),1==k.length&&(k="0"+k),"#"+x+q+k}}var md=mn.atob.bind(mn),q1=mn.btoa.bind(mn);function Fp(i,l){var a=i[0],f=i[1],h=i[2],_=i[3];a=zi(a,f,h,_,l[0],7,-680876936),_=zi(_,a,f,h,l[1],12,-389564586),h=zi(h,_,a,f,l[2],17,606105819),f=zi(f,h,_,a,l[3],22,-1044525330),a=zi(a,f,h,_,l[4],7,-176418897),_=zi(_,a,f,h,l[5],12,1200080426),h=zi(h,_,a,f,l[6],17,-1473231341),f=zi(f,h,_,a,l[7],22,-45705983),a=zi(a,f,h,_,l[8],7,1770035416),_=zi(_,a,f,h,l[9],12,-1958414417),h=zi(h,_,a,f,l[10],17,-42063),f=zi(f,h,_,a,l[11],22,-1990404162),a=zi(a,f,h,_,l[12],7,1804603682),_=zi(_,a,f,h,l[13],12,-40341101),h=zi(h,_,a,f,l[14],17,-1502002290),a=Xo(a,f=zi(f,h,_,a,l[15],22,1236535329),h,_,l[1],5,-165796510),_=Xo(_,a,f,h,l[6],9,-1069501632),h=Xo(h,_,a,f,l[11],14,643717713),f=Xo(f,h,_,a,l[0],20,-373897302),a=Xo(a,f,h,_,l[5],5,-701558691),_=Xo(_,a,f,h,l[10],9,38016083),h=Xo(h,_,a,f,l[15],14,-660478335),f=Xo(f,h,_,a,l[4],20,-405537848),a=Xo(a,f,h,_,l[9],5,568446438),_=Xo(_,a,f,h,l[14],9,-1019803690),h=Xo(h,_,a,f,l[3],14,-187363961),f=Xo(f,h,_,a,l[8],20,1163531501),a=Xo(a,f,h,_,l[13],5,-1444681467),_=Xo(_,a,f,h,l[2],9,-51403784),h=Xo(h,_,a,f,l[7],14,1735328473),a=Ji(a,f=Xo(f,h,_,a,l[12],20,-1926607734),h,_,l[5],4,-378558),_=Ji(_,a,f,h,l[8],11,-2022574463),h=Ji(h,_,a,f,l[11],16,1839030562),f=Ji(f,h,_,a,l[14],23,-35309556),a=Ji(a,f,h,_,l[1],4,-1530992060),_=Ji(_,a,f,h,l[4],11,1272893353),h=Ji(h,_,a,f,l[7],16,-155497632),f=Ji(f,h,_,a,l[10],23,-1094730640),a=Ji(a,f,h,_,l[13],4,681279174),_=Ji(_,a,f,h,l[0],11,-358537222),h=Ji(h,_,a,f,l[3],16,-722521979),f=Ji(f,h,_,a,l[6],23,76029189),a=Ji(a,f,h,_,l[9],4,-640364487),_=Ji(_,a,f,h,l[12],11,-421815835),h=Ji(h,_,a,f,l[15],16,530742520),a=Gi(a,f=Ji(f,h,_,a,l[2],23,-995338651),h,_,l[0],6,-198630844),_=Gi(_,a,f,h,l[7],10,1126891415),h=Gi(h,_,a,f,l[14],15,-1416354905),f=Gi(f,h,_,a,l[5],21,-57434055),a=Gi(a,f,h,_,l[12],6,1700485571),_=Gi(_,a,f,h,l[3],10,-1894986606),h=Gi(h,_,a,f,l[10],15,-1051523),f=Gi(f,h,_,a,l[1],21,-2054922799),a=Gi(a,f,h,_,l[8],6,1873313359),_=Gi(_,a,f,h,l[15],10,-30611744),h=Gi(h,_,a,f,l[6],15,-1560198380),f=Gi(f,h,_,a,l[13],21,1309151649),a=Gi(a,f,h,_,l[4],6,-145523070),_=Gi(_,a,f,h,l[11],10,-1120210379),h=Gi(h,_,a,f,l[2],15,718787259),f=Gi(f,h,_,a,l[9],21,-343485551),i[0]=Zs(a,i[0]),i[1]=Zs(f,i[1]),i[2]=Zs(h,i[2]),i[3]=Zs(_,i[3])}function hd(i,l,a,f,h,_){return l=Zs(Zs(l,i),Zs(f,_)),Zs(l<<h|l>>>32-h,a)}function zi(i,l,a,f,h,_,w){return hd(l&a|~l&f,i,l,h,_,w)}function Xo(i,l,a,f,h,_,w){return hd(l&f|a&~f,i,l,h,_,w)}function Ji(i,l,a,f,h,_,w){return hd(l^a^f,i,l,h,_,w)}function Gi(i,l,a,f,h,_,w){return hd(a^(l|~f),i,l,h,_,w)}function U1(i){var l,a=i.length,f=[1732584193,-271733879,-1732584194,271733878];for(l=64;l<=i.length;l+=64)Fp(f,Ff(i.substring(l-64,l)));i=i.substring(l-64);var h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(l=0;l<i.length;l++)h[l>>2]|=i.charCodeAt(l)<<(l%4<<3);if(h[l>>2]|=128<<(l%4<<3),l>55)for(Fp(f,h),l=0;l<16;l++)h[l]=0;return h[14]=8*a,Fp(f,h),f}function Ff(i){var l,a=[];for(l=0;l<64;l+=4)a[l>>2]=i.charCodeAt(l)+(i.charCodeAt(l+1)<<8)+(i.charCodeAt(l+2)<<16)+(i.charCodeAt(l+3)<<24);return a}var S1="0123456789abcdef".split("");function jf(i){for(var l="",a=0;a<4;a++)l+=S1[i>>8*a+4&15]+S1[i>>8*a&15];return l}function Rf(i){return String.fromCharCode(255&i,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function jp(i){return U1(i).map(Rf).join("")}var Df="5d41402abc4b2a76b9719d911017c592"!=function(i){for(var l=0;l<i.length;l++)i[l]=jf(i[l]);return i.join("")}(U1("hello"));function Zs(i,l){if(Df){var a=(65535&i)+(65535&l);return(i>>16)+(l>>16)+(a>>16)<<16|65535&a}return i+l&4294967295}function Rp(i,l){var a,f,h;if(i!==a){for(var w=(h=i,new Array(1+(256/i.length|0)+1).join(h)),x=[],q=0;q<256;q++)x[q]=q;var k=0;for(q=0;q<256;q++){var E=x[q];k=(k+E+w.charCodeAt(q))%256,x[q]=x[k],x[k]=E}a=i,f=x}else x=f;var H=l.length,V=0,I=0,le="";for(q=0;q<H;q++)I=(I+(E=x[V=(V+1)%256]))%256,x[V]=x[I],x[I]=E,w=x[(x[V]+x[I])%256],le+=String.fromCharCode(l.charCodeAt(q)^w);return le}var k1={print:4,modify:8,copy:16,"annot-forms":32};function zl(i,l,a,f){this.v=1,this.r=2;var h=192;i.forEach(function(x){if(void 0!==k1.perm)throw new Error("Invalid permission: "+x);h+=k1[x]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var _=(l+this.padding).substr(0,32),w=(a+this.padding).substr(0,32);this.O=this.processOwnerPassword(_,w),this.P=-(1+(255^h)),this.encryptionKey=jp(_+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(f)).substr(0,5),this.U=Rp(this.encryptionKey,this.padding)}function Jl(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var l="",a=i.length,f=0;f<a;f++){var h=i.charCodeAt(f);l+=h<33||35===h||37===h||40===h||41===h||47===h||60===h||62===h||91===h||93===h||123===h||125===h||h>126?"#"+("0"+h.toString(16)).slice(-2):i[f]}return l}function Vs(i){if("object"!==Gt(i))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var l={};this.subscribe=function(a,f,h){if(h=h||!1,"string"!=typeof a||"function"!=typeof f||"boolean"!=typeof h)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");l.hasOwnProperty(a)||(l[a]={});var _=Math.random().toString(35);return l[a][_]=[f,!!h],_},this.unsubscribe=function(a){for(var f in l)if(l[f][a])return delete l[f][a],0===Object.keys(l[f]).length&&delete l[f],!0;return!1},this.publish=function(a){if(l.hasOwnProperty(a)){var f=Array.prototype.slice.call(arguments,1),h=[];for(var _ in l[a]){var w=l[a][_];try{w[0].apply(i,f)}catch(x){mn.console&&yo.error("jsPDF PubSub Error",x.message,x)}w[1]&&h.push(_)}h.length&&h.forEach(this.unsubscribe)}},this.getTopics=function(){return l}}function Ru(i){if(!(this instanceof Ru))return new Ru(i);var l="opacity,stroke-opacity".split(",");for(var a in i)i.hasOwnProperty(a)&&l.indexOf(a)>=0&&(this[a]=i[a]);this.id="",this.objectNumber=-1}function N1(i,l){this.gState=i,this.matrix=l,this.id="",this.objectNumber=-1}function xs(i,l,a,f,h){if(!(this instanceof xs))return new xs(i,l,a,f,h);this.type="axial"===i?2:3,this.coords=l,this.colors=a,N1.call(this,f,h)}function Qs(i,l,a,f,h){if(!(this instanceof Qs))return new Qs(i,l,a,f,h);this.boundingBox=i,this.xStep=l,this.yStep=a,this.stream="",this.cloneIndex=0,N1.call(this,f,h)}function Vt(i){var l,a="string"==typeof arguments[0]?arguments[0]:"p",f=arguments[1],h=arguments[2],_=arguments[3],w=[],x=1,q=16,k="S",E=null;"object"===Gt(i=i||{})&&(a=i.orientation,f=i.unit||f,h=i.format||h,_=i.compress||i.compressPdf||_,null!==(E=i.encryption||null)&&(E.userPassword=E.userPassword||"",E.ownerPassword=E.ownerPassword||"",E.userPermissions=E.userPermissions||[]),x="number"==typeof i.userUnit?Math.abs(i.userUnit):1,void 0!==i.precision&&(l=i.precision),void 0!==i.floatPrecision&&(q=i.floatPrecision),k=i.defaultPathOperation||"S"),w=i.filters||(!0===_?["FlateEncode"]:w),f=f||"mm",a=(""+(a||"P")).toLowerCase();var H=i.putOnlyUsedFonts||!1,V={},I={internal:{},__private__:{}};I.__private__.PubSub=Vs;var le="1.3",re=I.__private__.getPdfVersion=function(){return le};I.__private__.setPdfVersion=function(T){le=T};var fe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};I.__private__.getPageFormats=function(){return fe};var X=I.__private__.getPageFormat=function(T){return fe[T]};h=h||"a4";var Se="compat",Ce="advanced",Ze=Se;function $e(){this.saveGraphicsState(),de(new fn(hn,0,0,-hn,0,ec()*hn).toString()+" cm"),this.setFontSize(this.getFontSize()/hn),k="n",Ze=Ce}function Zt(){this.restoreGraphicsState(),k="S",Ze=Se}var gt=I.__private__.combineFontStyleAndFontWeight=function(T,R){if("bold"==T&&"normal"==R||"bold"==T&&400==R||"normal"==T&&"italic"==R||"bold"==T&&"italic"==R)throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(T=400==R||"normal"===R?"italic"===T?"italic":"normal":700!=R&&"bold"!==R||"normal"!==T?(700==R?"bold":R)+""+T:"bold"),T};I.advancedAPI=function(T){var R=Ze===Se;return R&&$e.call(this),"function"!=typeof T||(T(this),R&&Zt.call(this)),this},I.compatAPI=function(T){var R=Ze===Ce;return R&&Zt.call(this),"function"!=typeof T||(T(this),R&&$e.call(this)),this},I.isAdvancedAPI=function(){return Ze===Ce};var ze,Te=function(T){if(Ze!==Ce)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Je=I.roundToPrecision=I.__private__.roundToPrecision=function(T,R){var ie=l||R;if(isNaN(T)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(ie).replace(/0+$/,"")};ze=I.hpf=I.__private__.hpf="number"==typeof q?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return Je(T,q)}:"smart"===q?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return Je(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return Je(T,16)};var Q=I.f2=I.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return Je(T,2)},se=I.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return Je(T,3)},xe=I.scale=I.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return Ze===Se?T*hn:Ze===Ce?T:void 0},Ae=function(T){return xe((R=T,Ze===Se?ec()-R:Ze===Ce?R:void 0));var R};I.__private__.setPrecision=I.setPrecision=function(T){"number"==typeof parseInt(T,10)&&(l=parseInt(T,10))};var Qe,rt="00000000000000000000000000000000",ft=I.__private__.getFileId=function(){return rt},Ge=I.__private__.setFileId=function(T){return rt=void 0!==T&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():rt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==E&&(eo=new zl(E.userPermissions,E.userPassword,E.ownerPassword,rt)),rt};I.setFileId=function(T){return Ge(T),this},I.getFileId=function(){return ft()};var ct=I.__private__.convertDateToPDFDate=function(T){var R=T.getTimezoneOffset(),ie=R<0?"+":"-",ye=Math.floor(Math.abs(R/60)),Le=Math.abs(R%60),at=[ie,_e(ye),"'",_e(Le),"'"].join("");return["D:",T.getFullYear(),_e(T.getMonth()+1),_e(T.getDate()),_e(T.getHours()),_e(T.getMinutes()),_e(T.getSeconds()),at].join("")},Pt=I.__private__.convertPDFDateToDate=function(T){var R=parseInt(T.substr(2,4),10),ie=parseInt(T.substr(6,2),10)-1,ye=parseInt(T.substr(8,2),10),Le=parseInt(T.substr(10,2),10),at=parseInt(T.substr(12,2),10),_t=parseInt(T.substr(14,2),10);return new Date(R,ie,ye,Le,at,_t,0)},At=I.__private__.setCreationDate=function(T){var R;if(void 0===T&&(T=new Date),T instanceof Date)R=ct(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=T}return Qe=R},J=I.__private__.getCreationDate=function(T){var R=Qe;return"jsDate"===T&&(R=Pt(Qe)),R};I.setCreationDate=function(T){return At(T),this},I.getCreationDate=function(T){return J(T)};var ce,_e=I.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},ke=I.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},Oe=0,De=[],Ve=[],We=0,dt=[],Ut=[],jt=!1,Bt=Ve;I.__private__.setCustomOutputDestination=function(T){jt=!0,Bt=T};var et=function(T){jt||(Bt=T)};I.__private__.resetCustomOutputDestination=function(){jt=!1,Bt=Ve};var de=I.__private__.out=function(T){return T=T.toString(),We+=T.length+1,Bt.push(T),Bt},Yn=I.__private__.write=function(T){return de(1===arguments.length?T.toString():Array.prototype.join.call(arguments," "))},kn=I.__private__.getArrayBuffer=function(T){for(var R=T.length,ie=new ArrayBuffer(R),ye=new Uint8Array(ie);R--;)ye[R]=T.charCodeAt(R);return ie},dn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];I.__private__.getStandardFonts=function(){return dn};var Ct=i.fontSize||16;I.__private__.setFontSize=I.setFontSize=function(T){return Ct=Ze===Ce?T/hn:T,this};var nn,It=I.__private__.getFontSize=I.getFontSize=function(){return Ze===Se?Ct:Ct*hn},Nn=i.R2L||!1;I.__private__.setR2L=I.setR2L=function(T){return Nn=T,this},I.__private__.getR2L=I.getR2L=function(){return Nn};var ln,oo=I.__private__.setZoomMode=function(T){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))nn=T;else if(isNaN(T)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(T))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');nn=T}else nn=parseInt(T,10)};I.__private__.getZoomMode=function(){return nn};var Tn,wn=I.__private__.setPageMode=function(T){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');ln=T};I.__private__.getPageMode=function(){return ln};var ho=I.__private__.setLayoutMode=function(T){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');Tn=T};I.__private__.getLayoutMode=function(){return Tn},I.__private__.setDisplayMode=I.setDisplayMode=function(T,R,ie){return oo(T),ho(R),wn(ie),this};var Pn={title:"",subject:"",author:"",keywords:"",creator:""};I.__private__.getDocumentProperty=function(T){if(-1===Object.keys(Pn).indexOf(T))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pn[T]},I.__private__.getDocumentProperties=function(){return Pn},I.__private__.setDocumentProperties=I.setProperties=I.setDocumentProperties=function(T){for(var R in Pn)Pn.hasOwnProperty(R)&&T[R]&&(Pn[R]=T[R]);return this},I.__private__.setDocumentProperty=function(T,R){if(-1===Object.keys(Pn).indexOf(T))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pn[T]=R};var rn,hn,an,Co,io,Ht={},Cn={},bo=[],pn={},Vn={},qn={},oi={},fi=null,Zo=0,Zn=[],uo=new Vs(I),sl=i.hotfixes||[],Hi={},Xa={},qa=[],fn=function T(R,ie,ye,Le,at,_t){if(!(this instanceof T))return new T(R,ie,ye,Le,at,_t);isNaN(R)&&(R=1),isNaN(ie)&&(ie=0),isNaN(ye)&&(ye=0),isNaN(Le)&&(Le=1),isNaN(at)&&(at=0),isNaN(_t)&&(_t=0),this._matrix=[R,ie,ye,Le,at,_t]};Object.defineProperty(fn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(fn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(fn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(fn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(fn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(fn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(fn.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(fn.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(fn.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(fn.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(fn.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(fn.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(fn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(fn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(fn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(fn.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),fn.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ze).join(T)},fn.prototype.multiply=function(T){return new fn(T.sx*this.sx+T.shy*this.shx,T.sx*this.shy+T.shy*this.sy,T.shx*this.sx+T.sy*this.shx,T.shx*this.shy+T.sy*this.sy,T.tx*this.sx+T.ty*this.shx+this.tx,T.tx*this.shy+T.ty*this.sy+this.ty)},fn.prototype.decompose=function(){var T=this.sx,R=this.shy,ie=this.shx,ye=this.sy,Le=this.tx,at=this.ty,_t=Math.sqrt(T*T+R*R),Kt=(T/=_t)*ie+(R/=_t)*ye;ie-=T*Kt,ye-=R*Kt;var en=Math.sqrt(ie*ie+ye*ye);return Kt/=en,T*(ye/=en)<R*(ie/=en)&&(T=-T,R=-R,Kt=-Kt,_t=-_t),{scale:new fn(_t,0,0,en,0,0),translate:new fn(1,0,0,1,Le,at),rotate:new fn(T,R,-R,T,0,0),skew:new fn(1,0,Kt,1,0,0)}},fn.prototype.toString=function(T){return this.join(" ")},fn.prototype.inversed=function(){var T=this.sx,R=this.shy,ie=this.shx,ye=this.sy,Le=this.tx,at=this.ty,_t=1/(T*ye-R*ie),Kt=ye*_t,en=-R*_t,An=-ie*_t,In=T*_t;return new fn(Kt,en,An,In,-Kt*Le-An*at,-en*Le-In*at)},fn.prototype.applyToPoint=function(T){return new $u(T.x*this.sx+T.y*this.shx+this.tx,T.x*this.shy+T.y*this.sy+this.ty)},fn.prototype.applyToRectangle=function(T){var R=this.applyToPoint(T),ie=this.applyToPoint(new $u(T.x+T.w,T.y+T.h));return new t1(R.x,R.y,ie.x-R.x,ie.y-R.y)},fn.prototype.clone=function(){return new fn(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},I.Matrix=fn;var es=I.matrixMult=function(T,R){return R.multiply(T)},ts=new fn(1,0,0,1,0,0);I.unitMatrix=I.identityMatrix=ts;var Sr=function(T,R){if(!Vn[T]){var ie=(R instanceof xs?"Sh":"P")+(Object.keys(pn).length+1).toString(10);R.id=ie,Vn[T]=ie,pn[ie]=R,uo.publish("addPattern",R)}};I.ShadingPattern=xs,I.TilingPattern=Qs,I.addShadingPattern=function(T,R){return Te("addShadingPattern()"),Sr(T,R),this},I.beginTilingPattern=function(T){Te("beginTilingPattern()"),n1(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},I.endTilingPattern=function(T,R){Te("endTilingPattern()"),R.stream=Ut[ce].join("\n"),Sr(T,R),uo.publish("endTilingPattern",R),qa.pop().restore()};var Si,Ho=I.__private__.newObject=function(){var T=bi();return ki(T,!0),T},bi=I.__private__.newObjectDeferred=function(){return Oe++,De[Oe]=function(){return We},Oe},ki=function(T,R){return R="boolean"==typeof R&&R,De[T]=We,R&&de(T+" 0 obj"),T},ll=I.__private__.newAdditionalObject=function(){var T={objId:bi(),content:""};return dt.push(T),T},qs=bi(),Hr=bi(),Ua=I.__private__.decodeColorString=function(T){var R=T.split(" ");if(2!==R.length||"g"!==R[1]&&"G"!==R[1])5!==R.length||"k"!==R[4]&&"K"!==R[4]||(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var ie=parseFloat(R[0]);R=[ie,ie,ie,"r"]}for(var ye="#",Le=0;Le<3;Le++)ye+=("0"+Math.floor(255*parseFloat(R[Le])).toString(16)).slice(-2);return ye},Yr=I.__private__.encodeColorString=function(T){var R;"string"==typeof T&&(T={ch1:T});var ie=T.ch1,ye=T.ch2,Le=T.ch3,at=T.ch4,_t="draw"===T.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof ie&&"#"!==ie.charAt(0)){var Kt=new C1(ie);if(Kt.ok)ie=Kt.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if("string"==typeof ie&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),"string"==typeof ie&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var en=parseInt(ie.substr(1),16);ie=en>>16&255,ye=en>>8&255,Le=255&en}if(void 0===ye||void 0===at&&ie===ye&&ye===Le)R="string"==typeof ie?ie+" "+_t[0]:2===T.precision?Q(ie/255)+" "+_t[0]:se(ie/255)+" "+_t[0];else if(void 0===at||"object"===Gt(at)){if(at&&!isNaN(at.a)&&0===at.a)return["1.","1.","1.",_t[1]].join(" ");R="string"==typeof ie?[ie,ye,Le,_t[1]].join(" "):2===T.precision?[Q(ie/255),Q(ye/255),Q(Le/255),_t[1]].join(" "):[se(ie/255),se(ye/255),se(Le/255),_t[1]].join(" ")}else R="string"==typeof ie?[ie,ye,Le,at,_t[2]].join(" "):2===T.precision?[Q(ie),Q(ye),Q(Le),Q(at),_t[2]].join(" "):[se(ie),se(ye),se(Le),se(at),_t[2]].join(" ");return R},Kr=I.__private__.getFilters=function(){return w},kr=I.__private__.putStream=function(T){var R=(T=T||{}).data||"",ie=T.filters||Kr(),ye=T.alreadyAppliedFilters||[],Le=T.addLength1||!1,at=R.length,_t=T.objectId,Kt=function(Ni){return Ni};if(null!==E&&void 0===_t)throw new Error("ObjectId must be passed to putStream for file encryption");null!==E&&(Kt=eo.encryptor(_t,0));var en={};!0===ie&&(ie=["FlateEncode"]);var An=T.additionalKeyValues||[],In=(en=void 0!==Vt.API.processDataByFilters?Vt.API.processDataByFilters(R,ie):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(0!==en.data.length&&(An.push({key:"Length",value:en.data.length}),!0===Le&&An.push({key:"Length1",value:at})),0!=In.length)if(In.split("/").length-1==1)An.push({key:"Filter",value:In});else{An.push({key:"Filter",value:"["+In+"]"});for(var go=0;go<An.length;go+=1)if("DecodeParms"===An[go].key){for(var ii=[],xi=0;xi<en.reverseChain.split("/").length-1;xi+=1)ii.push("null");ii.push(An[go].value),An[go].value="["+ii.join(" ")+"]"}}de("<<");for(var Lo=0;Lo<An.length;Lo++)de("/"+An[Lo].key+" "+An[Lo].value);de(">>"),0!==en.data.length&&(de("stream"),de(Kt(en.data)),de("endstream"))},ul=I.__private__.putPage=function(T){var R=T.number,ie=T.data,ye=T.objId,Le=T.contentsObjId;ki(ye,!0),de("<</Type /Page"),de("/Parent "+T.rootDictionaryObjId+" 0 R"),de("/Resources "+T.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(ze(T.mediaBox.bottomLeftX))+" "+parseFloat(ze(T.mediaBox.bottomLeftY))+" "+ze(T.mediaBox.topRightX)+" "+ze(T.mediaBox.topRightY)+"]"),null!==T.cropBox&&de("/CropBox ["+ze(T.cropBox.bottomLeftX)+" "+ze(T.cropBox.bottomLeftY)+" "+ze(T.cropBox.topRightX)+" "+ze(T.cropBox.topRightY)+"]"),null!==T.bleedBox&&de("/BleedBox ["+ze(T.bleedBox.bottomLeftX)+" "+ze(T.bleedBox.bottomLeftY)+" "+ze(T.bleedBox.topRightX)+" "+ze(T.bleedBox.topRightY)+"]"),null!==T.trimBox&&de("/TrimBox ["+ze(T.trimBox.bottomLeftX)+" "+ze(T.trimBox.bottomLeftY)+" "+ze(T.trimBox.topRightX)+" "+ze(T.trimBox.topRightY)+"]"),null!==T.artBox&&de("/ArtBox ["+ze(T.artBox.bottomLeftX)+" "+ze(T.artBox.bottomLeftY)+" "+ze(T.artBox.topRightX)+" "+ze(T.artBox.topRightY)+"]"),"number"==typeof T.userUnit&&1!==T.userUnit&&de("/UserUnit "+T.userUnit),uo.publish("putPage",{objId:ye,pageContext:Zn[R],pageNumber:R,page:ie}),de("/Contents "+Le+" 0 R"),de(">>"),de("endobj");var at=ie.join("\n");return Ze===Ce&&(at+="\nQ"),ki(Le,!0),kr({data:at,filters:Kr(),objectId:Le}),de("endobj"),ye},Sa=I.__private__.putPages=function(){var T,R,ie=[];for(T=1;T<=Zo;T++)Zn[T].objId=bi(),Zn[T].contentsObjId=bi();for(T=1;T<=Zo;T++)ie.push(ul({number:T,data:Ut[T],objId:Zn[T].objId,contentsObjId:Zn[T].contentsObjId,mediaBox:Zn[T].mediaBox,cropBox:Zn[T].cropBox,bleedBox:Zn[T].bleedBox,trimBox:Zn[T].trimBox,artBox:Zn[T].artBox,userUnit:Zn[T].userUnit,rootDictionaryObjId:qs,resourceDictionaryObjId:Hr}));ki(qs,!0),de("<</Type /Pages");var ye="/Kids [";for(R=0;R<Zo;R++)ye+=ie[R]+" 0 R ";de(ye+"]"),de("/Count "+Zo),de(">>"),de("endobj"),uo.publish("postPutPages")},cl=function(T){uo.publish("putFont",{font:T,out:de,newObject:Ho,putStream:kr}),!0!==T.isAlreadyPutted&&(T.objectNumber=Ho(),de("<<"),de("/Type /Font"),de("/BaseFont /"+Jl(T.postScriptName)),de("/Subtype /Type1"),"string"==typeof T.encoding&&de("/Encoding /"+T.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},Wl=function(T){T.objectNumber=Ho();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[ze(T.x),ze(T.y),ze(T.x+T.width),ze(T.y+T.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var ie=T.pages[1].join("\n");kr({data:ie,additionalKeyValues:R,objectId:T.objectNumber}),de("endobj")},Vl=function(T,R){R||(R=21);var ie=Ho(),ye=function(_t,Kt){var en,An=[],In=1/(Kt-1);for(en=0;en<1;en+=In)An.push(en);An.push(1),0!=_t[0].offset&&_t.unshift({offset:0,color:_t[0].color}),1!=_t[_t.length-1].offset&&_t.push({offset:1,color:_t[_t.length-1].color});for(var xi="",Lo=0,Ni=0;Ni<An.length;Ni++){for(en=An[Ni];en>_t[Lo+1].offset;)Lo++;var Ai=_t[Lo].offset,er=(en-Ai)/(_t[Lo+1].offset-Ai),Na=_t[Lo].color,Ir=_t[Lo+1].color;xi+=ke(Math.round((1-er)*Na[0]+er*Ir[0]).toString(16))+ke(Math.round((1-er)*Na[1]+er*Ir[1]).toString(16))+ke(Math.round((1-er)*Na[2]+er*Ir[2]).toString(16))}return xi.trim()}(T.colors,R),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+R+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),kr({data:ye,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),de("endobj"),T.objectNumber=Ho(),de("<< /ShadingType "+T.type),de("/ColorSpace /DeviceRGB");var at="/Coords ["+ze(parseFloat(T.coords[0]))+" "+ze(parseFloat(T.coords[1]))+" ";at+=2===T.type?ze(parseFloat(T.coords[2]))+" "+ze(parseFloat(T.coords[3])):ze(parseFloat(T.coords[2]))+" "+ze(parseFloat(T.coords[3]))+" "+ze(parseFloat(T.coords[4]))+" "+ze(parseFloat(T.coords[5])),de(at+="]"),T.matrix&&de("/Matrix ["+T.matrix.toString()+"]"),de("/Function "+ie+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},Wr=function(T,R){var ie=bi(),ye=Ho();R.push({resourcesOid:ie,objectOid:ye}),T.objectNumber=ye;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+T.boundingBox.map(ze).join(" ")+"]"}),Le.push({key:"XStep",value:ze(T.xStep)}),Le.push({key:"YStep",value:ze(T.yStep)}),Le.push({key:"Resources",value:ie+" 0 R"}),T.matrix&&Le.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),kr({data:T.stream,additionalKeyValues:Le,objectId:T.objectNumber}),de("endobj")},Kp=function(T){for(var R in T.objectNumber=Ho(),de("<<"),T)switch(R){case"opacity":de("/ca "+Q(T[R]));break;case"stroke-opacity":de("/CA "+Q(T[R]))}de(">>"),de("endobj")},Hu=function(T){ki(T.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var R in de("/Font <<"),Ht)Ht.hasOwnProperty(R)&&(!1===H||!0===H&&V.hasOwnProperty(R))&&de("/"+R+" "+Ht[R].objectNumber+" 0 R");de(">>")}(),function(){if(Object.keys(pn).length>0){for(var R in de("/Shading <<"),pn)pn.hasOwnProperty(R)&&pn[R]instanceof xs&&pn[R].objectNumber>=0&&de("/"+R+" "+pn[R].objectNumber+" 0 R");uo.publish("putShadingPatternDict"),de(">>")}}(),function(R){if(Object.keys(pn).length>0){for(var ie in de("/Pattern <<"),pn)pn.hasOwnProperty(ie)&&pn[ie]instanceof I.TilingPattern&&pn[ie].objectNumber>=0&&pn[ie].objectNumber<R&&de("/"+ie+" "+pn[ie].objectNumber+" 0 R");uo.publish("putTilingPatternDict"),de(">>")}}(T.objectOid),function(){if(Object.keys(qn).length>0){var R;for(R in de("/ExtGState <<"),qn)qn.hasOwnProperty(R)&&qn[R].objectNumber>=0&&de("/"+R+" "+qn[R].objectNumber+" 0 R");uo.publish("putGStateDict"),de(">>")}}(),function(){for(var R in de("/XObject <<"),Hi)Hi.hasOwnProperty(R)&&Hi[R].objectNumber>=0&&de("/"+R+" "+Hi[R].objectNumber+" 0 R");uo.publish("putXobjectDict"),de(">>")}(),de(">>"),de("endobj")},yd=function(T){Cn[T.fontName]=Cn[T.fontName]||{},Cn[T.fontName][T.fontStyle]=T.id},Wp=function(T,R,ie,ye,Le){var at={id:"F"+(Object.keys(Ht).length+1).toString(10),postScriptName:T,fontName:R,fontStyle:ie,encoding:ye,isStandardFont:Le||!1,metadata:{}};return uo.publish("addFont",{font:at,instance:this}),Ht[at.id]=at,yd(at),at.id},Nr=I.__private__.pdfEscape=I.pdfEscape=function(T,R){return function(ie,ye){var Le,at,_t,Kt,en,An,In,go,ii;if(_t=(ye=ye||{}).sourceEncoding||"Unicode",en=ye.outputEncoding,(ye.autoencode||en)&&Ht[rn].metadata&&Ht[rn].metadata[_t]&&Ht[rn].metadata[_t].encoding&&(Kt=Ht[rn].metadata[_t].encoding,!en&&Ht[rn].encoding&&(en=Ht[rn].encoding),!en&&Kt.codePages&&(en=Kt.codePages[0]),"string"==typeof en&&(en=Kt[en]),en)){for(In=!1,An=[],Le=0,at=ie.length;Le<at;Le++)(go=en[ie.charCodeAt(Le)])?An.push(String.fromCharCode(go)):An.push(ie[Le]),An[Le].charCodeAt(0)>>8&&(In=!0);ie=An.join("")}for(Le=ie.length;void 0===In&&0!==Le;)ie.charCodeAt(Le-1)>>8&&(In=!0),Le--;if(!In)return ie;for(An=ye.noBOM?[]:[254,255],Le=0,at=ie.length;Le<at;Le++){if((ii=(go=ie.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");An.push(ii),An.push(go-(ii<<8))}return String.fromCharCode.apply(void 0,An)}(T,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yu=I.__private__.beginPage=function(T){Ut[++Zo]=[],Zn[Zo]={objId:0,contentsObjId:0,userUnit:Number(x),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},n(Zo),et(Ut[ce])},bd=function(T,R){var ie,ye,Le;switch(a=R||a,"string"==typeof T&&(ie=X(T.toLowerCase()),Array.isArray(ie)&&(ye=ie[0],Le=ie[1])),Array.isArray(T)&&(ye=T[0]*hn,Le=T[1]*hn),isNaN(ye)&&(ye=h[0],Le=h[1]),(ye>14400||Le>14400)&&(yo.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),Le=Math.min(14400,Le)),h=[ye,Le],a.substr(0,1)){case"l":Le>ye&&(h=[Le,ye]);break;case"p":ye>Le&&(h=[Le,ye])}Yu(h),Zg(Qp),de(Zd),0!==Xp&&de(Xp+" J"),0!==e1&&de(e1+" j"),uo.publish("addPage",{pageNumber:Zo})},c=function(T){T>0&&T<=Zo&&(Ut.splice(T,1),Zn.splice(T,1),Zo--,ce>Zo&&(ce=Zo),this.setPage(ce))},n=function(T){T>0&&T<=Zo&&(ce=T)},t=I.__private__.getNumberOfPages=I.getNumberOfPages=function(){return Ut.length-1},s=function(T,R,ie){var ye,Le=void 0;return ie=ie||{},R=void 0!==R?R:Ht[rn].fontStyle,ye=(T=void 0!==T?T:Ht[rn].fontName).toLowerCase(),void 0!==Cn[ye]&&void 0!==Cn[ye][R]?Le=Cn[ye][R]:void 0!==Cn[T]&&void 0!==Cn[T][R]?Le=Cn[T][R]:!1===ie.disableWarning&&yo.warn("Unable to look up font label for font '"+T+"', '"+R+"'. Refer to getFontList() for available fonts."),Le||ie.noFallback||null==(Le=Cn.times[R])&&(Le=Cn.times.normal),Le},p=I.__private__.putInfo=function(){var T=Ho(),R=function(ye){return ye};for(var ie in null!==E&&(R=eo.encryptor(T,0)),de("<<"),de("/Producer ("+Nr(R("jsPDF "+Vt.version))+")"),Pn)Pn.hasOwnProperty(ie)&&Pn[ie]&&de("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+Nr(R(Pn[ie]))+")");de("/CreationDate ("+Nr(R(Qe))+")"),de(">>"),de("endobj")},C=I.__private__.putCatalog=function(T){var R=(T=T||{}).rootDictionaryObjId||qs;switch(Ho(),de("<<"),de("/Type /Catalog"),de("/Pages "+R+" 0 R"),nn||(nn="fullwidth"),nn){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+nn;"%"===ie.substr(ie.length-1)&&(nn=parseInt(nn)/100),"number"==typeof nn&&de("/OpenAction [3 0 R /XYZ null null "+Q(nn)+"]")}switch(Tn||(Tn="continuous"),Tn){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}ln&&de("/PageMode /"+ln),uo.publish("putCatalog"),de(">>"),de("endobj")},O=I.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(Oe+1)),de("/Root "+Oe+" 0 R"),de("/Info "+(Oe-1)+" 0 R"),null!==E&&de("/Encrypt "+eo.oid+" 0 R"),de("/ID [ <"+rt+"> <"+rt+"> ]"),de(">>")},qe=I.__private__.putHeader=function(){de("%PDF-"+le),de("%\xba\xdf\xac\xe0")},Ln=I.__private__.putXRef=function(){var T="0000000000";de("xref"),de("0 "+(Oe+1)),de("0000000000 65535 f ");for(var R=1;R<=Oe;R++)de("function"==typeof De[R]?(T+De[R]()).slice(-10)+" 00000 n ":void 0!==De[R]?(T+De[R]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},un=I.__private__.buildDocument=function(){var T;Oe=0,We=0,Ve=[],De=[],dt=[],qs=bi(),Hr=bi(),et(Ve),uo.publish("buildDocument"),qe(),Sa(),function(){uo.publish("putAdditionalObjects");for(var ie=0;ie<dt.length;ie++){var ye=dt[ie];ki(ye.objId,!0),de(ye.content),de("endobj")}uo.publish("postPutAdditionalObjects")}(),T=[],function(){for(var ie in Ht)Ht.hasOwnProperty(ie)&&(!1===H||!0===H&&V.hasOwnProperty(ie))&&cl(Ht[ie])}(),function(){var ie;for(ie in qn)qn.hasOwnProperty(ie)&&Kp(qn[ie])}(),function(){for(var ie in Hi)Hi.hasOwnProperty(ie)&&Wl(Hi[ie])}(),function(ie){var ye;for(ye in pn)pn.hasOwnProperty(ye)&&(pn[ye]instanceof xs?Vl(pn[ye]):pn[ye]instanceof Qs&&Wr(pn[ye],ie))}(T),uo.publish("putResources"),T.forEach(Hu),Hu({resourcesOid:Hr,objectOid:Number.MAX_SAFE_INTEGER}),uo.publish("postPutResources"),null!==E&&(eo.oid=Ho(),de("<<"),de("/Filter /Standard"),de("/V "+eo.v),de("/R "+eo.r),de("/U <"+eo.toHexString(eo.U)+">"),de("/O <"+eo.toHexString(eo.O)+">"),de("/P "+eo.P),de(">>"),de("endobj")),p(),C();var R=We;return Ln(),O(),de("startxref"),de(""+R),de("%%EOF"),et(Ut[ce]),Ve.join("\n")},Mn=I.__private__.getBlob=function(T){return new Blob([kn(T)],{type:"application/pdf"})},fo=I.output=I.__private__.output=((Si=function(T,R){switch("string"==typeof(R=R||{})?R={filename:R}:R.filename=R.filename||"generated.pdf",T){case void 0:return un();case"save":I.save(R.filename);break;case"arraybuffer":return kn(un());case"blob":return Mn(un());case"bloburi":case"bloburl":if(void 0!==mn.URL&&"function"==typeof mn.URL.createObjectURL)return mn.URL&&mn.URL.createObjectURL(Mn(un()))||void 0;yo.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",ye=un();try{ie=q1(ye)}catch{ie=q1(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+R.filename+";base64,"+ie;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(mn)){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",at=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(Le=R.pdfObjectUrl,at="");var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+at+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",Kt=mn.open();return null!==Kt&&Kt.document.write(_t),Kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(mn)){var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',An=mn.open();if(null!==An){An.document.write(en);var In=this;An.document.documentElement.querySelector("#pdfViewer").onload=function(){An.document.title=R.filename,An.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(In.output("bloburl"))}}return An}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(mn))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var go='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',ii=mn.open();if(null!==ii&&(ii.document.write(go),ii.document.title=R.filename),ii||typeof safari>"u")return ii;break;case"datauri":case"dataurl":return mn.document.location.href=this.output("datauristring",R);default:return null}}).foo=function(){try{return Si.apply(this,arguments)}catch(ie){var T=ie.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var R="Error in function "+T.split("\n")[0].split("<")[0]+": "+ie.message;if(!mn.console)throw new Error(R);mn.console.error(R,ie),mn.alert&&alert(R)}},Si.foo.bar=Si,Si.foo),ai=function(T){return!0===Array.isArray(sl)&&sl.indexOf(T)>-1};switch(f){case"pt":hn=1;break;case"mm":hn=72/25.4;break;case"cm":hn=72/2.54;break;case"in":hn=72;break;case"px":hn=1==ai("px_scaling")?.75:96/72;break;case"pc":case"em":hn=12;break;case"ex":hn=6;break;default:if("number"!=typeof f)throw new Error("Invalid unit: "+f);hn=f}var eo=null;At(),Ge();var cr=I.__private__.getPageInfo=I.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Zn[T].objId,pageNumber:T,pageContext:Zn[T]}},Zi=I.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in Zn)if(Zn[R].objId===T)break;return cr(R)},Vr=I.__private__.getCurrentPageInfo=I.getCurrentPageInfo=function(){return{objId:Zn[ce].objId,pageNumber:ce,pageContext:Zn[ce]}};I.addPage=function(){return bd.apply(this,arguments),this},I.setPage=function(){return n.apply(this,arguments),et.call(this,Ut[ce]),this},I.insertPage=function(T){return this.addPage(),this.movePage(ce,T),this},I.movePage=function(T,R){var ie,ye;if(T>R){ie=Ut[T],ye=Zn[T];for(var Le=T;Le>R;Le--)Ut[Le]=Ut[Le-1],Zn[Le]=Zn[Le-1];Ut[R]=ie,Zn[R]=ye,this.setPage(R)}else if(T<R){ie=Ut[T],ye=Zn[T];for(var at=T;at<R;at++)Ut[at]=Ut[at+1],Zn[at]=Zn[at+1];Ut[R]=ie,Zn[R]=ye,this.setPage(R)}return this},I.deletePage=function(){return c.apply(this,arguments),this},I.__private__.text=I.text=function(T,R,ie,ye,Le){var at,_t,Kt,en,An,In,go,ii,xi,Lo=(ye=ye||{}).scope||this;if("number"==typeof T&&"number"==typeof R&&("string"==typeof ie||Array.isArray(ie))){var Ni=ie;ie=R,R=T,T=Ni}if(arguments[3]instanceof fn==0?(Kt=arguments[4],en=arguments[5],"object"===Gt(go=arguments[3])&&null!==go||("string"==typeof Kt&&(en=Kt,Kt=null),"string"==typeof go&&(en=go,go=null),"number"==typeof go&&(Kt=go,go=null),ye={flags:go,angle:Kt,align:en})):(Te("The transform parameter of text() with a Matrix value"),xi=Le),isNaN(R)||isNaN(ie)||null==T)throw new Error("Invalid arguments passed to jsPDF.text");if(0===T.length)return Lo;var Ai,er="",Na="number"==typeof ye.lineHeightFactor?ye.lineHeightFactor:Wu,Ir=Lo.internal.scaleFactor;function uf(_o){return _o=_o.split("\t").join(Array(ye.TabLen||9).join(" ")),Nr(_o,go)}function wd(_o){for(var Po,mi=_o.concat(),Pi=[],_l=mi.length;_l--;)"string"==typeof(Po=mi.shift())?Pi.push(Po):Array.isArray(_o)&&(1===Po.length||void 0===Po[1]&&void 0===Po[2])?Pi.push(Po[0]):Pi.push([Po[0],Po[1],Po[2]]);return Pi}function tc(_o,Po){var mi;if("string"==typeof _o)mi=Po(_o)[0];else if(Array.isArray(_o)){for(var Pi,_l,p1=_o.concat(),Ud=[],pf=p1.length;pf--;)"string"==typeof(Pi=p1.shift())?Ud.push(Po(Pi)[0]):Array.isArray(Pi)&&"string"==typeof Pi[0]&&(_l=Po(Pi[0],Pi[1],Pi[2]),Ud.push([_l[0],_l[1],_l[2]]));mi=Ud}return mi}var Xl=!1,nc=!0;if("string"==typeof T)Xl=!0;else if(Array.isArray(T)){var oc=T.concat();_t=[];for(var ic,dr=oc.length;dr--;)("string"!=typeof(ic=oc.shift())||Array.isArray(ic)&&"string"!=typeof ic[0])&&(nc=!1);Xl=nc}if(!1===Xl)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');"string"==typeof T&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var rc=Ct/Lo.internal.scaleFactor,ac=rc*(Na-1);switch(ye.baseline){case"bottom":ie-=ac;break;case"top":ie+=rc-ac;break;case"hanging":ie+=rc-2*ac;break;case"middle":ie+=rc/2-ac}if((In=ye.maxWidth||0)>0&&("string"==typeof T?T=Lo.splitTextToSize(T,In):"[object Array]"===Object.prototype.toString.call(T)&&(T=T.reduce(function(_o,Po){return _o.concat(Lo.splitTextToSize(Po,In))},[]))),uo.publish("preProcessText",at={text:T,x:R,y:ie,options:ye,mutex:{pdfEscape:Nr,activeFontKey:rn,fonts:Ht,activeFontSize:Ct}}),T=at.text,Kt=(ye=at.options).angle,xi instanceof fn==0&&Kt&&"number"==typeof Kt){Kt*=Math.PI/180,0===ye.rotationDirection&&(Kt=-Kt),Ze===Ce&&(Kt=-Kt);var o1=Math.cos(Kt),i1=Math.sin(Kt);xi=new fn(o1,i1,-i1,o1,0,0)}else Kt&&Kt instanceof fn&&(xi=Kt);Ze!==Ce||xi||(xi=ts),void 0!==(An=ye.charSpace||Ad)&&(er+=ze(xe(An))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(ii=ye.horizontalScale)&&(er+=ze(100*ii)+" Tz\n");var si=-1,ml=void 0!==ye.renderingMode?ye.renderingMode:ye.stroke,Cd=Lo.internal.getCurrentPageInfo().pageContext;switch(ml){case 0:case!1:case"fill":si=0;break;case 1:case!0:case"stroke":si=1;break;case 2:case"fillThenStroke":si=2;break;case 3:case"invisible":si=3;break;case 4:case"fillAndAddForClipping":si=4;break;case 5:case"strokeAndAddPathForClipping":si=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":si=6;break;case 7:case"addToPathForClipping":si=7}var cf=void 0!==Cd.usedRenderingMode?Cd.usedRenderingMode:-1;-1!==si?er+=si+" Tr\n":-1!==cf&&(er+="0 Tr\n"),-1!==si&&(Cd.usedRenderingMode=si),en=ye.align||"left";var Pa,sc=Ct*Na,r1=Lo.internal.pageSize.getWidth(),a1=Ht[rn];An=ye.charSpace||Ad,In=ye.maxWidth||0,go=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var eu=[],lc=function(_o){return Lo.getStringUnitWidth(_o,{font:a1,charSpace:An,fontSize:Ct,doKerning:!1})*Ct/Ir};if("[object Array]"===Object.prototype.toString.call(T)){var $r;_t=wd(T),"left"!==en&&(Pa=_t.map(lc));var Xr,tu=0;if("right"===en){R-=Pa[0],T=[],dr=_t.length;for(var hl=0;hl<dr;hl++)0===hl?(Xr=dl(R),$r=pl(ie)):(Xr=xe(tu-Pa[hl]),$r=-sc),T.push([_t[hl],Xr,$r]),tu=Pa[hl]}else if("center"===en){R-=Pa[0]/2,T=[],dr=_t.length;for(var nu=0;nu<dr;nu++)0===nu?(Xr=dl(R),$r=pl(ie)):(Xr=xe((tu-Pa[nu])/2),$r=-sc),T.push([_t[nu],Xr,$r]),tu=Pa[nu]}else if("left"===en){T=[],dr=_t.length;for(var s1=0;s1<dr;s1++)T.push(_t[s1])}else if("justify"===en&&"Identity-H"===a1.encoding){T=[],dr=_t.length,In=0!==In?In:r1;for(var qd=0,gi=0;gi<dr;gi++)if($r=0===gi?pl(ie):-sc,Xr=0===gi?dl(R):qd,gi<dr-1){var df=xe((In-Pa[gi])/(_t[gi].split(" ").length-1)),Us=_t[gi].split(" ");T.push([Us[0]+" ",Xr,$r]),qd=0;for(var Ss=1;Ss<Us.length;Ss++){var l1=(lc(Us[Ss-1]+" "+Us[Ss])-lc(Us[Ss]))*Ir+df;T.push(Ss==Us.length-1?[Us[Ss],l1,0]:[Us[Ss]+" ",l1,0]),qd-=l1}}else T.push([_t[gi],Xr,$r]);T.push(["",qd,0])}else{if("justify"!==en)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],dr=_t.length,In=0!==In?In:r1,gi=0;gi<dr;gi++){$r=0===gi?pl(ie):-sc,Xr=0===gi?dl(R):0;var u1=_t[gi].split(" ").length-1,c1=u1>0?(In-Pa[gi])/u1:0;eu.push(gi<dr-1?ze(xe(c1)):0),T.push([_t[gi],Xr,$r])}}}!0===("boolean"==typeof ye.R2L?ye.R2L:Nn)&&(T=tc(T,function(_o,Po,mi){return[_o.split("").reverse().join(""),Po,mi]})),uo.publish("postProcessText",at={text:T,x:R,y:ie,options:ye,mutex:{pdfEscape:Nr,activeFontKey:rn,fonts:Ht,activeFontSize:Ct}}),T=at.text,Ai=at.mutex.isHex||!1;var d1=Ht[rn].encoding;"WinAnsiEncoding"!==d1&&"StandardEncoding"!==d1||(T=tc(T,function(_o,Po,mi){return[uf(_o),Po,mi]})),_t=wd(T),T=[];for(var ou,iu,ru,uc=Array.isArray(_t[0])?1:0,au="",cc=function(_o,Po,mi){var Pi="";return mi instanceof fn?(mi="number"==typeof ye.angle?es(mi,new fn(1,0,0,1,_o,Po)):es(new fn(1,0,0,1,_o,Po),mi),Ze===Ce&&(mi=es(new fn(1,0,0,-1,0,0),mi)),Pi=mi.join(" ")+" Tm\n"):Pi=ze(_o)+" "+ze(Po)+" Td\n",Pi},Ia=0;Ia<_t.length;Ia++){switch(au="",uc){case 1:ru=(Ai?"<":"(")+_t[Ia][0]+(Ai?">":")"),ou=parseFloat(_t[Ia][1]),iu=parseFloat(_t[Ia][2]);break;case 0:ru=(Ai?"<":"(")+_t[Ia]+(Ai?">":")"),ou=dl(R),iu=pl(ie)}void 0!==eu&&void 0!==eu[Ia]&&(au=eu[Ia]+" Tw\n"),0===Ia?T.push(au+cc(ou,iu,xi)+ru):0===uc?T.push(au+ru):1===uc&&T.push(au+cc(ou,iu,xi)+ru)}T=T.join(0===uc?" Tj\nT* ":" Tj\n"),T+=" Tj\n";var ks="BT\n/";return ks+=rn+" "+Ct+" Tf\n",ks+=ze(Ct*Na)+" TL\n",ks+=Vu+"\n",ks+=er,ks+=T,de(ks+="ET"),V[rn]=!0,Lo};var Qr=I.__private__.clip=I.clip=function(T){return de("evenodd"===T?"W*":"W"),this};I.clipEvenOdd=function(){return Qr("evenodd")},I.__private__.discardPath=I.discardPath=function(){return de("n"),this};var Zr=I.__private__.isValidStyle=function(T){var R=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)&&(R=!0),R};I.__private__.setDefaultPathOperation=I.setDefaultPathOperation=function(T){return Zr(T)&&(k=T),this};var Pr=I.__private__.getStyle=I.getStyle=function(T){var R=k;switch(T){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=T}return R},Ql=I.close=function(){return de("h"),this};I.stroke=function(){return de("S"),this},I.fill=function(T){return ka("f",T),this},I.fillEvenOdd=function(T){return ka("f*",T),this},I.fillStroke=function(T){return ka("B",T),this},I.fillStrokeEvenOdd=function(T){return ka("B*",T),this};var ka=function(T,R){"object"===Gt(R)?vg(R,T):de(T)},xo=function(T){null===T||Ze===Ce&&void 0===T||(T=Pr(T),de(T))};function No(T,R,ie,ye,Le){var at=new Qs(R||this.boundingBox,ie||this.xStep,ye||this.yStep,this.gState,Le||this.matrix);at.stream=this.stream;var _t=T+"$$"+this.cloneIndex+++"$$";return Sr(_t,at),at}var vg=function(T,R){var ie=Vn[T.key],ye=pn[ie];if(ye instanceof xs)de("q"),de(yg(R)),ye.gState&&I.setGState(ye.gState),de(T.matrix.toString()+" cm"),de("/"+ie+" sh"),de("Q");else if(ye instanceof Qs){var Le=new fn(1,0,0,-1,0,ec());T.matrix&&(Le=Le.multiply(T.matrix||ts),ie=No.call(ye,T.key,T.boundingBox,T.xStep,T.yStep,Le).id),de("q"),de("/Pattern cs"),de("/"+ie+" scn"),ye.gState&&I.setGState(ye.gState),de(R),de("Q")}},yg=function(T){switch(T){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Vp=I.moveTo=function(T,R){return de(ze(xe(T))+" "+ze(Ae(R))+" m"),this},Ku=I.lineTo=function(T,R){return de(ze(xe(T))+" "+ze(Ae(R))+" l"),this},$l=I.curveTo=function(T,R,ie,ye,Le,at){return de([ze(xe(T)),ze(Ae(R)),ze(xe(ie)),ze(Ae(ye)),ze(xe(Le)),ze(Ae(at)),"c"].join(" ")),this};I.__private__.line=I.line=function(T,R,ie,ye,Le){if(isNaN(T)||isNaN(R)||isNaN(ie)||isNaN(ye)||!Zr(Le))throw new Error("Invalid arguments passed to jsPDF.line");return Ze===Se?this.lines([[ie-T,ye-R]],T,R,[1,1],Le||"S"):this.lines([[ie-T,ye-R]],T,R,[1,1]).stroke()},I.__private__.lines=I.lines=function(T,R,ie,ye,Le,at){var _t,Kt,en,An,In,Ni,Ai,er;if("number"==typeof T&&(er=ie,ie=R,R=T,T=er),ye=ye||[1,1],at=at||!1,isNaN(R)||isNaN(ie)||!Array.isArray(T)||!Array.isArray(ye)||!Zr(Le)||"boolean"!=typeof at)throw new Error("Invalid arguments passed to jsPDF.lines");for(Vp(R,ie),_t=ye[0],Kt=ye[1],An=T.length,Ni=R,Ai=ie,en=0;en<An;en++)2===(In=T[en]).length?Ku(Ni=In[0]*_t+Ni,Ai=In[1]*Kt+Ai):$l(In[0]*_t+Ni,In[1]*Kt+Ai,In[2]*_t+Ni,In[3]*Kt+Ai,Ni=In[4]*_t+Ni,Ai=In[5]*Kt+Ai);return at&&Ql(),xo(Le),this},I.path=function(T){for(var R=0;R<T.length;R++){var ie=T[R],ye=ie.c;switch(ie.op){case"m":Vp(ye[0],ye[1]);break;case"l":Ku(ye[0],ye[1]);break;case"c":$l.apply(this,ye);break;case"h":Ql()}}return this},I.__private__.rect=I.rect=function(T,R,ie,ye,Le){if(isNaN(T)||isNaN(R)||isNaN(ie)||isNaN(ye)||!Zr(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return Ze===Se&&(ye=-ye),de([ze(xe(T)),ze(Ae(R)),ze(xe(ie)),ze(xe(ye)),"re"].join(" ")),xo(Le),this},I.__private__.triangle=I.triangle=function(T,R,ie,ye,Le,at,_t){if(isNaN(T)||isNaN(R)||isNaN(ie)||isNaN(ye)||isNaN(Le)||isNaN(at)||!Zr(_t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-T,ye-R],[Le-ie,at-ye],[T-Le,R-at]],T,R,[1,1],_t,!0),this},I.__private__.roundedRect=I.roundedRect=function(T,R,ie,ye,Le,at,_t){if(isNaN(T)||isNaN(R)||isNaN(ie)||isNaN(ye)||isNaN(Le)||isNaN(at)||!Zr(_t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Kt=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*ie),at=Math.min(at,.5*ye),this.lines([[ie-2*Le,0],[Le*Kt,0,Le,at-at*Kt,Le,at],[0,ye-2*at],[0,at*Kt,-Le*Kt,at,-Le,at],[2*Le-ie,0],[-Le*Kt,0,-Le,-at*Kt,-Le,-at],[0,2*at-ye],[0,-at*Kt,Le*Kt,-at,Le,-at]],T+Le,R,[1,1],_t,!0),this},I.__private__.ellipse=I.ellipse=function(T,R,ie,ye,Le){if(isNaN(T)||isNaN(R)||isNaN(ie)||isNaN(ye)||!Zr(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var at=4/3*(Math.SQRT2-1)*ie,_t=4/3*(Math.SQRT2-1)*ye;return Vp(T+ie,R),$l(T+ie,R-_t,T+at,R-ye,T,R-ye),$l(T-at,R-ye,T-ie,R-_t,T-ie,R),$l(T-ie,R+_t,T-at,R+ye,T,R+ye),$l(T+at,R+ye,T+ie,R+_t,T+ie,R),xo(Le),this},I.__private__.circle=I.circle=function(T,R,ie,ye){if(isNaN(T)||isNaN(R)||isNaN(ie)||!Zr(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,R,ie,ie,ye)},I.setFont=function(T,R,ie){return ie&&(R=gt(R,ie)),rn=s(T,R,{disableWarning:!1}),this};var bg=I.__private__.getFont=I.getFont=function(){return Ht[s.apply(I,arguments)]};I.__private__.getFontList=I.getFontList=function(){var T,R,ie={};for(T in Cn)if(Cn.hasOwnProperty(T))for(R in ie[T]=[],Cn[T])Cn[T].hasOwnProperty(R)&&ie[T].push(R);return ie},I.addFont=function(T,R,ie,ye,Le){var at=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==at.indexOf(arguments[3])?Le=arguments[3]:arguments[3]&&-1==at.indexOf(arguments[3])&&(ie=gt(ie,ye)),Wp.call(this,T,R,ie,Le=Le||"Identity-H")};var Wu,Qp=i.lineWidth||.200025,Un=I.__private__.getLineWidth=I.getLineWidth=function(){return Qp},Zg=I.__private__.setLineWidth=I.setLineWidth=function(T){return Qp=T,de(ze(xe(T))+" w"),this};I.__private__.setLineDash=Vt.API.setLineDash=Vt.API.setLineDashPattern=function(T,R){if(T=T||[],R=R||0,isNaN(R)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(ie){return ze(xe(ie))}).join(" "),R=ze(xe(R)),de("["+T+"] "+R+" d"),this};var xg=I.__private__.getLineHeight=I.getLineHeight=function(){return Ct*Wu};I.__private__.getLineHeight=I.getLineHeight=function(){return Ct*Wu};var Ag=I.__private__.setLineHeightFactor=I.setLineHeightFactor=function(T){return"number"==typeof(T=T||1.15)&&(Wu=T),this},Tg=I.__private__.getLineHeightFactor=I.getLineHeightFactor=function(){return Wu};Ag(i.lineHeight);var dl=I.__private__.getHorizontalCoordinate=function(T){return xe(T)},pl=I.__private__.getVerticalCoordinate=function(T){return Ze===Ce?T:Zn[ce].mediaBox.topRightY-Zn[ce].mediaBox.bottomLeftY-xe(T)},wg=I.__private__.getHorizontalCoordinateString=I.getHorizontalCoordinateString=function(T){return ze(dl(T))},Cg=I.__private__.getVerticalCoordinateString=I.getVerticalCoordinateString=function(T){return ze(pl(T))},Zd=i.strokeColor||"0 G";I.__private__.getStrokeColor=I.getDrawColor=function(){return Ua(Zd)},I.__private__.setStrokeColor=I.setDrawColor=function(T,R,ie,ye){return Zd=Yr({ch1:T,ch2:R,ch3:ie,ch4:ye,pdfColorType:"draw",precision:2}),de(Zd),this};var $p=i.fillColor||"0 g";I.__private__.getFillColor=I.getFillColor=function(){return Ua($p)},I.__private__.setFillColor=I.setFillColor=function(T,R,ie,ye){return $p=Yr({ch1:T,ch2:R,ch3:ie,ch4:ye,pdfColorType:"fill",precision:2}),de($p),this};var Vu=i.textColor||"0 g",xd=I.__private__.getTextColor=I.getTextColor=function(){return Ua(Vu)};I.__private__.setTextColor=I.setTextColor=function(T,R,ie,ye){return Vu=Yr({ch1:T,ch2:R,ch3:ie,ch4:ye,pdfColorType:"text",precision:3}),this};var Ad=i.charSpace,qg=I.__private__.getCharSpace=I.getCharSpace=function(){return parseFloat(Ad||0)};I.__private__.setCharSpace=I.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ad=T,this};var Xp=0;I.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},I.__private__.setLineCap=I.setLineCap=function(T){var R=I.CapJoinStyles[T];if(void 0===R)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xp=R,de(R+" J"),this};var e1=0;I.__private__.setLineJoin=I.setLineJoin=function(T){var R=I.CapJoinStyles[T];if(void 0===R)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return e1=R,de(R+" j"),this},I.__private__.setLineMiterLimit=I.__private__.setMiterLimit=I.setLineMiterLimit=I.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(ze(xe(T))+" M"),this},I.GState=Ru,I.setGState=function(T){(T="string"==typeof T?qn[oi[T]]:Qu(null,T)).equals(fi)||(de("/"+T.id+" gs"),fi=T)};var Qu=function(T,R){if(!T||!oi[T]){var ie=!1;for(var ye in qn)if(qn.hasOwnProperty(ye)&&qn[ye].equals(R)){ie=!0;break}if(ie)R=qn[ye];else{var Le="GS"+(Object.keys(qn).length+1).toString(10);qn[Le]=R,R.id=Le}return T&&(oi[T]=R.id),uo.publish("addGState",R),R}};I.addGState=function(T,R){return Qu(T,R),this},I.saveGraphicsState=function(){return de("q"),bo.push({key:rn,size:Ct,color:Vu}),this},I.restoreGraphicsState=function(){de("Q");var T=bo.pop();return rn=T.key,Ct=T.size,Vu=T.color,fi=null,this},I.setCurrentTransformationMatrix=function(T){return de(T.toString()+" cm"),this},I.comment=function(T){return de("#"+T),this};var $u=function(T,R){var ie=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(at){isNaN(at)||(ie=parseFloat(at))}});var ye=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(at){isNaN(at)||(ye=parseFloat(at))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function(at){Le=at.toString()}}),this},t1=function(T,R,ie,ye){$u.call(this,T,R),this.type="rect";var Le=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(_t){isNaN(_t)||(Le=parseFloat(_t))}});var at=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return at},set:function(_t){isNaN(_t)||(at=parseFloat(_t))}}),this},Td=function(){this.page=Zo,this.currentPage=ce,this.pages=Ut.slice(0),this.pagesContext=Zn.slice(0),this.x=an,this.y=Co,this.matrix=io,this.width=of(ce),this.height=fl(ce),this.outputDestination=Bt,this.id="",this.objectNumber=-1};Td.prototype.restore=function(){Zo=this.page,Zn=this.pagesContext,Ut=this.pages,an=this.x,Co=this.y,io=this.matrix,rf(ce=this.currentPage,this.width),gl(ce,this.height),Bt=this.outputDestination};var n1=function(T,R,ie,ye,Le){qa.push(new Td),Zo=ce=0,Ut=[],an=T,Co=R,io=Le,Yu([ie,ye])};for(var Xu in I.beginFormObject=function(T,R,ie,ye,Le){return n1(T,R,ie,ye,Le),this},I.endFormObject=function(T){return function(R){if(Xa[R])qa.pop().restore();else{var ie=new Td,ye="Xo"+(Object.keys(Hi).length+1).toString(10);ie.id=ye,Xa[R]=ye,Hi[ye]=ie,uo.publish("addFormObject",ie),qa.pop().restore()}}(T),this},I.doFormObject=function(T,R){var ie=Hi[Xa[T]];return de("q"),de(R.toString()+" cm"),de("/"+ie.id+" Do"),de("Q"),this},I.getFormObject=function(T){var R=Hi[Xa[T]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},I.save=function(T,R){return T=T||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,!1===R.returnPromise?(Ws(Mn(un()),T),"function"==typeof Ws.unload&&mn.setTimeout&&setTimeout(Ws.unload,911),this):new Promise(function(ie,ye){try{var Le=Ws(Mn(un()),T);"function"==typeof Ws.unload&&mn.setTimeout&&setTimeout(Ws.unload,911),ie(Le)}catch(at){ye(at.message)}})},Vt.API)Vt.API.hasOwnProperty(Xu)&&("events"===Xu&&Vt.API.events.length?function(T,R){var ye,Le;for(Le=R.length-1;-1!==Le;Le--)T.subscribe.apply(T,[R[Le][0]].concat("function"==typeof(ye=R[Le][1])?[ye]:ye))}(uo,Vt.API.events):I[Xu]=Vt.API[Xu]);function of(T){return Zn[T].mediaBox.topRightX-Zn[T].mediaBox.bottomLeftX}function rf(T,R){Zn[T].mediaBox.topRightX=R+Zn[T].mediaBox.bottomLeftX}function fl(T){return Zn[T].mediaBox.topRightY-Zn[T].mediaBox.bottomLeftY}function gl(T,R){Zn[T].mediaBox.topRightY=R+Zn[T].mediaBox.bottomLeftY}var af=I.getPageWidth=function(T){return of(T=T||ce)/hn},sf=I.setPageWidth=function(T,R){rf(T,R*hn)},ec=I.getPageHeight=function(T){return fl(T=T||ce)/hn},lf=I.setPageHeight=function(T,R){gl(T,R*hn)};return I.internal={pdfEscape:Nr,getStyle:Pr,getFont:bg,getFontSize:It,getCharSpace:qg,getTextColor:xd,getLineHeight:xg,getLineHeightFactor:Tg,getLineWidth:Un,write:Yn,getHorizontalCoordinate:dl,getVerticalCoordinate:pl,getCoordinateString:wg,getVerticalCoordinateString:Cg,collections:{},newObject:Ho,newAdditionalObject:ll,newObjectDeferred:bi,newObjectDeferredBegin:ki,getFilters:Kr,putStream:kr,events:uo,scaleFactor:hn,pageSize:{getWidth:function(){return af(ce)},setWidth:function(T){sf(ce,T)},getHeight:function(){return ec(ce)},setHeight:function(T){lf(ce,T)}},encryptionOptions:E,encryption:eo,getEncryptor:function(T){return null!==E?eo.encryptor(T,0):function(R){return R}},output:fo,getNumberOfPages:t,pages:Ut,out:de,f2:Q,f3:se,getPageInfo:cr,getPageInfoByObjId:Zi,getCurrentPageInfo:Vr,getPDFVersion:re,Point:$u,Rectangle:t1,Matrix:fn,hasHotfix:ai},Object.defineProperty(I.internal.pageSize,"width",{get:function(){return af(ce)},set:function(T){sf(ce,T)},enumerable:!0,configurable:!0}),Object.defineProperty(I.internal.pageSize,"height",{get:function(){return ec(ce)},set:function(T){lf(ce,T)},enumerable:!0,configurable:!0}),function(T){for(var R=0,ie=dn.length;R<ie;R++){var ye=Wp.call(this,T[R][0],T[R][1],T[R][2],dn[R][3],!0);!1===H&&(V[ye]=!0);var Le=T[R][0].split("-");yd({id:ye,fontName:Le[0],fontStyle:Le[1]||""})}uo.publish("addFonts",{fonts:Ht,dictionary:Cn})}.call(I,dn),rn="F1",bd(h,a),uo.publish("initialized"),I}zl.prototype.lsbFirstWord=function(i){return String.fromCharCode(255&i,i>>8&255,i>>16&255,i>>24&255)},zl.prototype.toHexString=function(i){return i.split("").map(function(l){return("0"+(255&l.charCodeAt(0)).toString(16)).slice(-2)}).join("")},zl.prototype.hexToBytes=function(i){for(var l=[],a=0;a<i.length;a+=2)l.push(String.fromCharCode(parseInt(i.substr(a,2),16)));return l.join("")},zl.prototype.processOwnerPassword=function(i,l){return Rp(jp(l).substr(0,5),i)},zl.prototype.encryptor=function(i,l){var a=jp(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&l,l>>8&255)).substr(0,10);return function(f){return Rp(a,f)}},Ru.prototype.equals=function(i){var l,a="id,objectNumber,equals";if(!i||Gt(i)!==Gt(this))return!1;var f=0;for(l in this)if(!(a.indexOf(l)>=0)){if(this.hasOwnProperty(l)&&!i.hasOwnProperty(l)||this[l]!==i[l])return!1;f++}for(l in i)i.hasOwnProperty(l)&&a.indexOf(l)<0&&f--;return 0===f},Vt.API={events:[]},Vt.version="3.0.3";var Go=Vt.API,Dp=1,$s=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gl=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xn=function(i){return i.toFixed(2)},As=function(i){return i.toFixed(5)};Go.__acroform__={};var ur=function(i,l){i.prototype=Object.create(l.prototype),i.prototype.constructor=i},Xs=function(i){return i*Dp},Ta=function(i){var l=new I1,a=Jt.internal.getHeight(i)||0,f=Jt.internal.getWidth(i)||0;return l.BBox=[0,0,Number(xn(f)),Number(xn(a))],l},Bf=Go.__acroform__.setBit=function(i,l){if(i=i||0,l=l||0,isNaN(i)||isNaN(l))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|1<<l},zf=Go.__acroform__.clearBit=function(i,l){if(i=i||0,l=l||0,isNaN(i)||isNaN(l))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&~(1<<l)},Jf=Go.__acroform__.getBit=function(i,l){if(isNaN(i)||isNaN(l))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<l?1:0},ei=Go.__acroform__.getBitForPdf=function(i,l){if(isNaN(i)||isNaN(l))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Jf(i,l-1)},ti=Go.__acroform__.setBitForPdf=function(i,l){if(isNaN(i)||isNaN(l))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Bf(i,l-1)},ni=Go.__acroform__.clearBitForPdf=function(i,l){if(isNaN(i)||isNaN(l))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return zf(i,l-1)},Gf=Go.__acroform__.calculateCoordinates=function(i,l){var a=l.internal.getHorizontalCoordinate,f=l.internal.getVerticalCoordinate,h=i[0],_=i[1],w=i[2],x=i[3],q={};return q.lowerLeft_X=a(h)||0,q.lowerLeft_Y=f(_+x)||0,q.upperRight_X=a(h+w)||0,q.upperRight_Y=f(_)||0,[Number(xn(q.lowerLeft_X)),Number(xn(q.lowerLeft_Y)),Number(xn(q.upperRight_X)),Number(xn(q.upperRight_Y))]},Hf=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var l=[],f=Bp(i,i._V||i.DV),h=i.scope.internal.getFont(i.fontName,i.fontStyle).id;l.push("/Tx BMC"),l.push("q"),l.push("BT"),l.push(i.scope.__private__.encodeColorString(i.color)),l.push("/"+h+" "+xn(f.fontSize)+" Tf"),l.push("1 0 0 1 0 0 Tm"),l.push(f.text),l.push("ET"),l.push("Q"),l.push("EMC");var _=Ta(i);return _.scope=i.scope,_.stream=l.join("\n"),_}},Bp=function(i,l){var a=0===i.fontSize?i.maxFontSize:i.fontSize,f={text:"",fontSize:""},h=(l=")"==(l="("==l.substr(0,1)?l.substr(1):l).substr(l.length-1)?l.substr(0,l.length-1):l).split(" ");h=h.map(i.multiline?function(Q){return Q.split("\n")}:function(Q){return[Q]});var _=a,w=Jt.internal.getHeight(i)||0;w=w<0?-w:w;var Q,x=Jt.internal.getWidth(i)||0;x=x<0?-x:x,_++;e:for(;_>0;){l="",_--;var k,E,H=Du("3",i,_).height,V=i.multiline?w-_:(w-H)/2,I=V+=2,le=0,re=0,fe=0;if(_<=0){l="(...) Tj\n",l+="% Width of Text: "+Du(l,i,_=12).width+", FieldWidth:"+x+"\n";break}for(var X="",Se=0,Ce=0;Ce<h.length;Ce++)if(h.hasOwnProperty(Ce)){var Ze=!1;if(1!==h[Ce].length&&fe!==h[Ce].length-1){if((H+2)*(Se+2)+2>w)continue e;X+=h[Ce][fe],Ze=!0,re=Ce,Ce--}else{X=" "==(X+=h[Ce][fe]+" ").substr(X.length-1)?X.substr(0,X.length-1):X;var $e=parseInt(Ce),Zt=(Q=$e)+1<h.length&&Du(X+" "+h[Q+1][0],i,_).width<=x-4,gt=Ce>=h.length-1;if(Zt&&!gt){X+=" ",fe=0;continue}if(Zt||gt){if(gt)re=$e;else if(i.multiline&&(H+2)*(Se+2)+2>w)continue e}else{if(!i.multiline||(H+2)*(Se+2)+2>w)continue e;re=$e}}for(var ze="",Te=le;Te<=re;Te++){var Je=h[Te];if(i.multiline){if(Te===re){ze+=Je[fe]+" ",fe=(fe+1)%Je.length;continue}if(Te===le){ze+=Je[Je.length-1]+" ";continue}}ze+=Je[0]+" "}switch(ze=" "==ze.substr(ze.length-1)?ze.substr(0,ze.length-1):ze,E=Du(ze,i,_).width,i.textAlign){case"right":k=x-E-2;break;case"center":k=(x-E)/2;break;default:k=2}l+=xn(k)+" "+xn(I)+" Td\n",l+="("+$s(ze)+") Tj\n",l+=-xn(k)+" 0 Td\n",I=-(_+2),E=0,le=Ze?re:re+1,Se++,X=""}break}return f.text=l,f.fontSize=_,f},Du=function(i,l,a){var f=l.scope.internal.getFont(l.fontName,l.fontStyle),h=l.scope.getStringUnitWidth(i,{font:f,fontSize:parseFloat(a),charSpace:0})*parseFloat(a);return{height:l.scope.getStringUnitWidth("3",{font:f,fontSize:parseFloat(a),charSpace:0})*parseFloat(a)*1.5,width:h}},Hl={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Yf=function(i,l){var a={type:"reference",object:i};void 0===l.internal.getPageInfo(i.page).pageContext.annotations.find(function(f){return f.type===a.type&&f.object===a.object})&&l.internal.getPageInfo(i.page).pageContext.annotations.push(a)},P1=Go.__acroform__.arrayToPdfArray=function(i,l,a){var f=function(w){return w};if(Array.isArray(i)){for(var h="[",_=0;_<i.length;_++)switch(0!==_&&(h+=" "),Gt(i[_])){case"boolean":case"number":case"object":h+=i[_].toString();break;case"string":"/"!==i[_].substr(0,1)?(void 0!==l&&a&&(f=a.internal.getEncryptor(l)),h+="("+$s(f(i[_].toString()))+")"):h+=i[_].toString()}return h+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},zp=function(i,l,a){var f=function(h){return h};return void 0!==l&&a&&(f=a.internal.getEncryptor(l)),(i=i||"").toString(),"("+$s(f(i))+")"},wa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};wa.prototype.toString=function(){return this.objId+" 0 R"},wa.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},wa.prototype.getKeyValueListForStream=function(){var i=[],l=Object.getOwnPropertyNames(this).filter(function(_){return"content"!=_&&"appearanceStreamContent"!=_&&"scope"!=_&&"objId"!=_&&"_"!=_.substring(0,1)});for(var a in l)if(!1===Object.getOwnPropertyDescriptor(this,l[a]).configurable){var f=l[a],h=this[f];h&&(Array.isArray(h)?i.push({key:f,value:P1(h,this.objId,this.scope)}):h instanceof wa?(h.scope=this.scope,i.push({key:f,value:h.objId+" 0 R"})):"function"!=typeof h&&i.push({key:f,value:h}))}return i};var I1=function(){wa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,l=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return l},set:function(a){l=a}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(a){i=a.trim()},get:function(){return i||null}})};ur(I1,wa);var L1=function(){wa.call(this);var i,l=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return l.length>0?l:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return l}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var a=function(f){return f};return this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),"("+$s(a(i))+")"}},set:function(a){i=a}})};ur(L1,wa);var zr=function i(){wa.call(this);var l=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return l},set:function(X){if(isNaN(X))throw new Error('Invalid value "'+X+'" for attribute F supplied.');l=X}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(l,3))},set:function(X){this.F=!0===Boolean(X)?ti(l,3):ni(l,3)}});var a=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return a},set:function(X){if(isNaN(X))throw new Error('Invalid value "'+X+'" for attribute Ff supplied.');a=X}});var f=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==f.length)return f},set:function(X){f=void 0!==X?X:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!f||isNaN(f[0])?0:f[0]},set:function(X){f[0]=X}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!f||isNaN(f[1])?0:f[1]},set:function(X){f[1]=X}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!f||isNaN(f[2])?0:f[2]},set:function(X){f[2]=X}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!f||isNaN(f[3])?0:f[3]},set:function(X){f[3]=X}});var h="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return h},set:function(X){switch(X){case"/Btn":case"/Tx":case"/Ch":case"/Sig":h=X;break;default:throw new Error('Invalid value "'+X+'" for attribute FT supplied.')}}});var _=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!_||_.length<1){if(this instanceof _d)return;_="FieldObject"+i.FieldNum++}var X=function(Se){return Se};return this.scope&&(X=this.scope.internal.getEncryptor(this.objId)),"("+$s(X(_))+")"},set:function(X){_=X.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return _},set:function(X){_=X}});var w="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return w},set:function(X){w=X}});var x="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return x},set:function(X){x=X}});var q=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return q},set:function(X){q=X}});var k=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===k?50/Dp:k},set:function(X){k=X}});var E="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return E},set:function(X){E=X}});var H="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!H||this instanceof _d||this instanceof Ts))return zp(H,this.objId,this.scope)},set:function(X){X=X.toString(),H=X}});var V=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(V)return this instanceof pi==0?zp(V,this.objId,this.scope):V},set:function(X){X=X.toString(),V=this instanceof pi==0?"("===X.substr(0,1)?Gl(X.substr(1,X.length-2)):Gl(X):X}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof pi==1?Gl(V.substr(1,V.length-1)):V},set:function(X){X=X.toString(),V=this instanceof pi==1?"/"+X:X}});var I=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(I)return I},set:function(X){this.V=X}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(I)return this instanceof pi==0?zp(I,this.objId,this.scope):I},set:function(X){X=X.toString(),I=this instanceof pi==0?"("===X.substr(0,1)?Gl(X.substr(1,X.length-2)):Gl(X):X}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof pi==1?Gl(I.substr(1,I.length-1)):I},set:function(X){X=X.toString(),I=this instanceof pi==1?"/"+X:X}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var le,re=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return re},set:function(X){X=Boolean(X),re=X}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(le)return le},set:function(X){le=X}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,1))},set:function(X){this.Ff=!0===Boolean(X)?ti(this.Ff,1):ni(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,2))},set:function(X){this.Ff=!0===Boolean(X)?ti(this.Ff,2):ni(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,3))},set:function(X){this.Ff=!0===Boolean(X)?ti(this.Ff,3):ni(this.Ff,3)}});var fe=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==fe)return fe},set:function(X){if(-1===[0,1,2].indexOf(X))throw new Error('Invalid value "'+X+'" for attribute Q supplied.');fe=X}}),Object.defineProperty(this,"textAlign",{get:function(){var X;switch(fe){case 0:default:X="left";break;case 1:X="center";break;case 2:X="right"}return X},configurable:!0,enumerable:!0,set:function(X){switch(X){case"right":case 2:fe=2;break;case"center":case 1:fe=1;break;default:fe=0}}})};ur(zr,wa);var el=function(){zr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(a){i=a}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(a){i=a}});var l=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return P1(l,this.objId,this.scope)},set:function(a){var f,h;h=[],"string"==typeof(f=a)&&(h=function(_,w,x){x||(x=1);for(var q,k=[];q=w.exec(_);)k.push(q[x]);return k}(f,/\((.*?)\)/g)),l=h}}),this.getOptions=function(){return l},this.setOptions=function(a){l=a,this.sort&&l.sort()},this.addOption=function(a){a=(a=a||"").toString(),l.push(a),this.sort&&l.sort()},this.removeOption=function(a,f){for(f=f||!1,a=(a=a||"").toString();-1!==l.indexOf(a)&&(l.splice(l.indexOf(a),1),!1!==f););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,18))},set:function(a){this.Ff=!0===Boolean(a)?ti(this.Ff,18):ni(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,19))},set:function(a){!0===this.combo&&(this.Ff=!0===Boolean(a)?ti(this.Ff,19):ni(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,20))},set:function(a){!0===Boolean(a)?(this.Ff=ti(this.Ff,20),l.sort()):this.Ff=ni(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,22))},set:function(a){this.Ff=!0===Boolean(a)?ti(this.Ff,22):ni(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,23))},set:function(a){this.Ff=!0===Boolean(a)?ti(this.Ff,23):ni(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,27))},set:function(a){this.Ff=!0===Boolean(a)?ti(this.Ff,27):ni(this.Ff,27)}}),this.hasAppearanceStream=!1};ur(el,zr);var tl=function(){el.call(this),this.fontName="helvetica",this.combo=!1};ur(tl,el);var nl=function(){tl.call(this),this.combo=!0};ur(nl,tl);var Bu=function(){nl.call(this),this.edit=!0};ur(Bu,nl);var pi=function(){zr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,15))},set:function(a){this.Ff=!0===Boolean(a)?ti(this.Ff,15):ni(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,16))},set:function(a){this.Ff=!0===Boolean(a)?ti(this.Ff,16):ni(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,17))},set:function(a){this.Ff=!0===Boolean(a)?ti(this.Ff,17):ni(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,26))},set:function(a){this.Ff=!0===Boolean(a)?ti(this.Ff,26):ni(this.Ff,26)}});var i,l={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(_){return _};if(this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(l).length){var f,h=[];for(f in h.push("<<"),l)h.push("/"+f+" ("+$s(a(l[f]))+")");return h.push(">>"),h.join("\n")}},set:function(a){"object"===Gt(a)&&(l=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return l.CA||""},set:function(a){"string"==typeof a&&(l.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(a){i=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(a){i="/"+a}})};ur(pi,zr);var zu=function(){pi.call(this),this.pushButton=!0};ur(zu,pi);var Ur=function(){pi.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(l){i=void 0!==l?l:[]}})};ur(Ur,pi);var _d=function(){var i,l;zr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(h){i=h}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return l},set:function(h){l=h}});var a,f={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var h=function(x){return x};this.scope&&(h=this.scope.internal.getEncryptor(this.objId));var _,w=[];for(_ in w.push("<<"),f)w.push("/"+_+" ("+$s(h(f[_]))+")");return w.push(">>"),w.join("\n")},set:function(h){"object"===Gt(h)&&(f=h)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return f.CA||""},set:function(h){"string"==typeof h&&(f.CA=h)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(h){a=h}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(h){a="/"+h}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ur(_d,zr),Ur.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var l in this.Kids)if(this.Kids.hasOwnProperty(l)){var a=this.Kids[l];a.appearanceStreamContent=i.createAppearanceStream(a.optionName),a.caption=i.getCA()}},Ur.prototype.createOption=function(i){var l=new _d;return l.Parent=this,l.optionName=i,this.Kids.push(l),Wf.call(this.scope,l),l};var Ju=function(){pi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Jt.CheckBox.createAppearanceStream()};ur(Ju,pi);var Ts=function(){zr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,13))},set:function(l){this.Ff=!0===Boolean(l)?ti(this.Ff,13):ni(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,21))},set:function(l){this.Ff=!0===Boolean(l)?ti(this.Ff,21):ni(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,23))},set:function(l){this.Ff=!0===Boolean(l)?ti(this.Ff,23):ni(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,24))},set:function(l){this.Ff=!0===Boolean(l)?ti(this.Ff,24):ni(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,25))},set:function(l){this.Ff=!0===Boolean(l)?ti(this.Ff,25):ni(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,26))},set:function(l){this.Ff=!0===Boolean(l)?ti(this.Ff,26):ni(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(l){i=l}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(l){Number.isInteger(l)&&(i=l)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ur(Ts,zr);var Gu=function(){Ts.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(ei(this.Ff,14))},set:function(i){this.Ff=!0===Boolean(i)?ti(this.Ff,14):ni(this.Ff,14)}}),this.password=!0};ur(Gu,Ts);var Jt={CheckBox:{createAppearanceStream:function(){return{N:{On:Jt.CheckBox.YesNormal},D:{On:Jt.CheckBox.YesPushDown,Off:Jt.CheckBox.OffPushDown}}},YesPushDown:function(i){var l=Ta(i);l.scope=i.scope;var a=[],f=i.scope.internal.getFont(i.fontName,i.fontStyle).id,h=i.scope.__private__.encodeColorString(i.color),_=Bp(i,i.caption);return a.push("0.749023 g"),a.push("0 0 "+xn(Jt.internal.getWidth(i))+" "+xn(Jt.internal.getHeight(i))+" re"),a.push("f"),a.push("BMC"),a.push("q"),a.push("0 0 1 rg"),a.push("/"+f+" "+xn(_.fontSize)+" Tf "+h),a.push("BT"),a.push(_.text),a.push("ET"),a.push("Q"),a.push("EMC"),l.stream=a.join("\n"),l},YesNormal:function(i){var l=Ta(i);l.scope=i.scope;var a=i.scope.internal.getFont(i.fontName,i.fontStyle).id,f=i.scope.__private__.encodeColorString(i.color),h=[],_=Jt.internal.getHeight(i),w=Jt.internal.getWidth(i),x=Bp(i,i.caption);return h.push("1 g"),h.push("0 0 "+xn(w)+" "+xn(_)+" re"),h.push("f"),h.push("q"),h.push("0 0 1 rg"),h.push("0 0 "+xn(w-1)+" "+xn(_-1)+" re"),h.push("W"),h.push("n"),h.push("0 g"),h.push("BT"),h.push("/"+a+" "+xn(x.fontSize)+" Tf "+f),h.push(x.text),h.push("ET"),h.push("Q"),l.stream=h.join("\n"),l},OffPushDown:function(i){var l=Ta(i);l.scope=i.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+xn(Jt.internal.getWidth(i))+" "+xn(Jt.internal.getHeight(i))+" re"),a.push("f"),l.stream=a.join("\n"),l}},RadioButton:{Circle:{createAppearanceStream:function(i){var l={D:{Off:Jt.RadioButton.Circle.OffPushDown},N:{}};return l.N[i]=Jt.RadioButton.Circle.YesNormal,l.D[i]=Jt.RadioButton.Circle.YesPushDown,l},getCA:function(){return"l"},YesNormal:function(i){var l=Ta(i);l.scope=i.scope;var a=[],f=Jt.internal.getWidth(i)<=Jt.internal.getHeight(i)?Jt.internal.getWidth(i)/4:Jt.internal.getHeight(i)/4;f=Number((.9*f).toFixed(5));var _=Number((f*Jt.internal.Bezier_C).toFixed(5));return a.push("q"),a.push("1 0 0 1 "+As(Jt.internal.getWidth(i)/2)+" "+As(Jt.internal.getHeight(i)/2)+" cm"),a.push(f+" 0 m"),a.push(f+" "+_+" "+_+" "+f+" 0 "+f+" c"),a.push("-"+_+" "+f+" -"+f+" "+_+" -"+f+" 0 c"),a.push("-"+f+" -"+_+" -"+_+" -"+f+" 0 -"+f+" c"),a.push(_+" -"+f+" "+f+" -"+_+" "+f+" 0 c"),a.push("f"),a.push("Q"),l.stream=a.join("\n"),l},YesPushDown:function(i){var l=Ta(i);l.scope=i.scope;var a=[],f=Jt.internal.getWidth(i)<=Jt.internal.getHeight(i)?Jt.internal.getWidth(i)/4:Jt.internal.getHeight(i)/4;f=Number((.9*f).toFixed(5));var h=Number((2*f).toFixed(5)),_=Number((h*Jt.internal.Bezier_C).toFixed(5)),w=Number((f*Jt.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+As(Jt.internal.getWidth(i)/2)+" "+As(Jt.internal.getHeight(i)/2)+" cm"),a.push(h+" 0 m"),a.push(h+" "+_+" "+_+" "+h+" 0 "+h+" c"),a.push("-"+_+" "+h+" -"+h+" "+_+" -"+h+" 0 c"),a.push("-"+h+" -"+_+" -"+_+" -"+h+" 0 -"+h+" c"),a.push(_+" -"+h+" "+h+" -"+_+" "+h+" 0 c"),a.push("f"),a.push("Q"),a.push("0 g"),a.push("q"),a.push("1 0 0 1 "+As(Jt.internal.getWidth(i)/2)+" "+As(Jt.internal.getHeight(i)/2)+" cm"),a.push(f+" 0 m"),a.push(f+" "+w+" "+w+" "+f+" 0 "+f+" c"),a.push("-"+w+" "+f+" -"+f+" "+w+" -"+f+" 0 c"),a.push("-"+f+" -"+w+" -"+w+" -"+f+" 0 -"+f+" c"),a.push(w+" -"+f+" "+f+" -"+w+" "+f+" 0 c"),a.push("f"),a.push("Q"),l.stream=a.join("\n"),l},OffPushDown:function(i){var l=Ta(i);l.scope=i.scope;var a=[],f=Jt.internal.getWidth(i)<=Jt.internal.getHeight(i)?Jt.internal.getWidth(i)/4:Jt.internal.getHeight(i)/4;f=Number((.9*f).toFixed(5));var h=Number((2*f).toFixed(5)),_=Number((h*Jt.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+As(Jt.internal.getWidth(i)/2)+" "+As(Jt.internal.getHeight(i)/2)+" cm"),a.push(h+" 0 m"),a.push(h+" "+_+" "+_+" "+h+" 0 "+h+" c"),a.push("-"+_+" "+h+" -"+h+" "+_+" -"+h+" 0 c"),a.push("-"+h+" -"+_+" -"+_+" -"+h+" 0 -"+h+" c"),a.push(_+" -"+h+" "+h+" -"+_+" "+h+" 0 c"),a.push("f"),a.push("Q"),l.stream=a.join("\n"),l}},Cross:{createAppearanceStream:function(i){var l={D:{Off:Jt.RadioButton.Cross.OffPushDown},N:{}};return l.N[i]=Jt.RadioButton.Cross.YesNormal,l.D[i]=Jt.RadioButton.Cross.YesPushDown,l},getCA:function(){return"8"},YesNormal:function(i){var l=Ta(i);l.scope=i.scope;var a=[],f=Jt.internal.calculateCross(i);return a.push("q"),a.push("1 1 "+xn(Jt.internal.getWidth(i)-2)+" "+xn(Jt.internal.getHeight(i)-2)+" re"),a.push("W"),a.push("n"),a.push(xn(f.x1.x)+" "+xn(f.x1.y)+" m"),a.push(xn(f.x2.x)+" "+xn(f.x2.y)+" l"),a.push(xn(f.x4.x)+" "+xn(f.x4.y)+" m"),a.push(xn(f.x3.x)+" "+xn(f.x3.y)+" l"),a.push("s"),a.push("Q"),l.stream=a.join("\n"),l},YesPushDown:function(i){var l=Ta(i);l.scope=i.scope;var a=Jt.internal.calculateCross(i),f=[];return f.push("0.749023 g"),f.push("0 0 "+xn(Jt.internal.getWidth(i))+" "+xn(Jt.internal.getHeight(i))+" re"),f.push("f"),f.push("q"),f.push("1 1 "+xn(Jt.internal.getWidth(i)-2)+" "+xn(Jt.internal.getHeight(i)-2)+" re"),f.push("W"),f.push("n"),f.push(xn(a.x1.x)+" "+xn(a.x1.y)+" m"),f.push(xn(a.x2.x)+" "+xn(a.x2.y)+" l"),f.push(xn(a.x4.x)+" "+xn(a.x4.y)+" m"),f.push(xn(a.x3.x)+" "+xn(a.x3.y)+" l"),f.push("s"),f.push("Q"),l.stream=f.join("\n"),l},OffPushDown:function(i){var l=Ta(i);l.scope=i.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+xn(Jt.internal.getWidth(i))+" "+xn(Jt.internal.getHeight(i))+" re"),a.push("f"),l.stream=a.join("\n"),l}}},createDefaultAppearanceStream:function(i){var l=i.scope.internal.getFont(i.fontName,i.fontStyle).id,a=i.scope.__private__.encodeColorString(i.color);return"/"+l+" "+i.fontSize+" Tf "+a}};Jt.internal={Bezier_C:.551915024494,calculateCross:function(i){var l=Jt.internal.getWidth(i),a=Jt.internal.getHeight(i),f=Math.min(l,a);return{x1:{x:(l-f)/2,y:(a-f)/2+f},x2:{x:(l-f)/2+f,y:(a-f)/2},x3:{x:(l-f)/2,y:(a-f)/2},x4:{x:(l-f)/2+f,y:(a-f)/2+f}}}},Jt.internal.getWidth=function(i){var l=0;return"object"===Gt(i)&&(l=Xs(i.Rect[2])),l},Jt.internal.getHeight=function(i){var l=0;return"object"===Gt(i)&&(l=Xs(i.Rect[3])),l};var Wf=Go.addField=function(i){if(function(i,l){if(l.scope=i,void 0!==i.internal&&(void 0===i.internal.acroformPlugin||!1===i.internal.acroformPlugin.isInitialized)){if(zr.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(Hl)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Dp=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new L1,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){var a;(a=i).internal.events.unsubscribe(a.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete a.internal.acroformPlugin.acroFormDictionaryRoot._eventID,a.internal.acroformPlugin.printedOut=!0}),i.internal.events.subscribe("buildDocument",function(){!function(a){a.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var f=a.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var h in f)if(f.hasOwnProperty(h)){var _=f[h];_.objId=void 0,_.hasAnnotation&&Yf(_,a)}}(i)}),i.internal.events.subscribe("putCatalog",function(){!function(a){if(void 0===a.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");a.internal.write("/AcroForm "+a.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(i)}),i.internal.events.subscribe("postPutPages",function(a){!function(f,h){var _=!f;for(var w in f||(h.internal.newObjectDeferredBegin(h.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),h.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),f=f||h.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(f.hasOwnProperty(w)){var x=f[w],q=[],k=x.Rect;if(x.Rect&&(x.Rect=Gf(x.Rect,h)),h.internal.newObjectDeferredBegin(x.objId,!0),x.DA=Jt.createDefaultAppearanceStream(x),"object"===Gt(x)&&"function"==typeof x.getKeyValueListForStream&&(q=x.getKeyValueListForStream()),x.Rect=k,x.hasAppearanceStream&&!x.appearanceStreamContent){var E=Hf(x);q.push({key:"AP",value:"<</N "+E+">>"}),h.internal.acroformPlugin.xForms.push(E)}if(x.appearanceStreamContent){var H="";for(var V in x.appearanceStreamContent)if(x.appearanceStreamContent.hasOwnProperty(V)){var I=x.appearanceStreamContent[V];if(H+="/"+V+" ",H+="<<",Object.keys(I).length>=1||Array.isArray(I)){for(var w in I)if(I.hasOwnProperty(w)){var le=I[w];"function"==typeof le&&(le=le.call(h,x)),H+="/"+w+" "+le+" ",h.internal.acroformPlugin.xForms.indexOf(le)>=0||h.internal.acroformPlugin.xForms.push(le)}}else"function"==typeof(le=I)&&(le=le.call(h,x)),H+="/"+w+" "+le,h.internal.acroformPlugin.xForms.indexOf(le)>=0||h.internal.acroformPlugin.xForms.push(le);H+=">>"}q.push({key:"AP",value:"<<\n"+H+">>"})}h.internal.putStream({additionalKeyValues:q,objectId:x.objId}),h.internal.out("endobj")}_&&function(re,fe){for(var X in re)if(re.hasOwnProperty(X)){var Se=X,Ce=re[X];fe.internal.newObjectDeferredBegin(Ce.objId,!0),"object"===Gt(Ce)&&"function"==typeof Ce.putStream&&Ce.putStream(),delete re[Se]}}(h.internal.acroformPlugin.xForms,h)}(a,i)}),i.internal.acroformPlugin.isInitialized=!0}}(this,i),!(i instanceof zr))throw new Error("Invalid argument passed to jsPDF.addField.");var l;return(l=i).scope.internal.acroformPlugin.printedOut&&(l.scope.internal.acroformPlugin.printedOut=!1,l.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),l.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(l),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};Go.AcroFormChoiceField=el,Go.AcroFormListBox=tl,Go.AcroFormComboBox=nl,Go.AcroFormEditBox=Bu,Go.AcroFormButton=pi,Go.AcroFormPushButton=zu,Go.AcroFormRadioButton=Ur,Go.AcroFormCheckBox=Ju,Go.AcroFormTextField=Ts,Go.AcroFormPasswordField=Gu,Go.AcroFormAppearance=Jt,Go.AcroForm={ChoiceField:el,ListBox:tl,ComboBox:nl,EditBox:Bu,Button:pi,PushButton:zu,RadioButton:Ur,CheckBox:Ju,TextField:Ts,PasswordField:Gu,Appearance:Jt};var i,l,Vf=Vt.AcroForm={ChoiceField:el,ListBox:tl,ComboBox:nl,EditBox:Bu,Button:pi,PushButton:zu,RadioButton:Ur,CheckBox:Ju,TextField:Ts,PasswordField:Gu,Appearance:Jt};function O1(i){return i.reduce(function(l,a,f){return l[a]=f,l},{})}(function(i){var l="addImage_";i.__addimage__={};var a="UNKNOWN",f={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},h=i.__addimage__.getImageFileTypeByImageData=function(Q,se){var xe,Ae,Qe,rt,ft,Ge=a;if("RGBA"===(se=se||a)||void 0!==Q.data&&Q.data instanceof Uint8ClampedArray&&"height"in Q&&"width"in Q)return"RGBA";if(Zt(Q))for(ft in f)for(Qe=f[ft],xe=0;xe<Qe.length;xe+=1){for(rt=!0,Ae=0;Ae<Qe[xe].length;Ae+=1)if(void 0!==Qe[xe][Ae]&&Qe[xe][Ae]!==Q[Ae]){rt=!1;break}if(!0===rt){Ge=ft;break}}else for(ft in f)for(Qe=f[ft],xe=0;xe<Qe.length;xe+=1){for(rt=!0,Ae=0;Ae<Qe[xe].length;Ae+=1)if(void 0!==Qe[xe][Ae]&&Qe[xe][Ae]!==Q.charCodeAt(Ae)){rt=!1;break}if(!0===rt){Ge=ft;break}}return Ge===a&&se!==a&&(Ge=se),Ge},_=function Q(se){for(var xe=this.internal.write,Ae=this.internal.putStream,Qe=(0,this.internal.getFilters)();-1!==Qe.indexOf("FlateEncode");)Qe.splice(Qe.indexOf("FlateEncode"),1);se.objectId=this.internal.newObject();var rt=[];if(rt.push({key:"Type",value:"/XObject"}),rt.push({key:"Subtype",value:"/Image"}),rt.push({key:"Width",value:se.width}),rt.push({key:"Height",value:se.height}),se.colorSpace===X.INDEXED?rt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(se.palette.length/3-1)+" "+("sMask"in se&&void 0!==se.sMask?se.objectId+2:se.objectId+1)+" 0 R]"}):(rt.push({key:"ColorSpace",value:"/"+se.colorSpace}),se.colorSpace===X.DEVICE_CMYK&&rt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),rt.push({key:"BitsPerComponent",value:se.bitsPerComponent}),"decodeParameters"in se&&void 0!==se.decodeParameters&&rt.push({key:"DecodeParms",value:"<<"+se.decodeParameters+">>"}),"transparency"in se&&Array.isArray(se.transparency)&&se.transparency.length>0){for(var ft="",Ge=0,ct=se.transparency.length;Ge<ct;Ge++)ft+=se.transparency[Ge]+" "+se.transparency[Ge]+" ";rt.push({key:"Mask",value:"["+ft+"]"})}if(void 0!==se.sMask&&rt.push({key:"SMask",value:se.objectId+1+" 0 R"}),Ae({data:se.data,additionalKeyValues:rt,alreadyAppliedFilters:void 0!==se.filter?["/"+se.filter]:void 0,objectId:se.objectId}),xe("endobj"),"sMask"in se&&void 0!==se.sMask){var At,J=null!==(At=se.sMaskBitsPerComponent)&&void 0!==At?At:se.bitsPerComponent,ce={width:se.width,height:se.height,colorSpace:"DeviceGray",bitsPerComponent:J,data:se.sMask};"filter"in se&&(ce.decodeParameters="/Predictor ".concat(se.predictor," /Colors 1 /BitsPerComponent ").concat(J," /Columns ").concat(se.width),ce.filter=se.filter),Q.call(this,ce)}if(se.colorSpace===X.INDEXED){var _e=this.internal.newObject();Ae({data:ze(new Uint8Array(se.palette)),objectId:_e}),xe("endobj")}},w=function(){var Q=this.internal.collections[l+"images"];for(var se in Q)_.call(this,Q[se])},x=function(){var Q,se=this.internal.collections[l+"images"],xe=this.internal.write;for(var Ae in se)xe("/I"+(Q=se[Ae]).index,Q.objectId,"0","R")},q=function(){this.internal.collections[l+"images"]||(this.internal.collections[l+"images"]={},this.internal.events.subscribe("putResources",w),this.internal.events.subscribe("putXobjectDict",x))},k=function(){var Q=this.internal.collections[l+"images"];return q.call(this),Q},E=function(){return Object.keys(this.internal.collections[l+"images"]).length},H=function(Q){return"function"==typeof i["process"+Q.toUpperCase()]},V=function(Q){return"object"===Gt(Q)&&1===Q.nodeType},I=function(Q,se){if("IMG"===Q.nodeName&&Q.hasAttribute("src")){var xe=""+Q.getAttribute("src");if(0===xe.indexOf("data:image/"))return md(unescape(xe).split("base64,").pop());var Ae=i.loadFile(xe,!0);if(void 0!==Ae)return Ae}if("CANVAS"===Q.nodeName){if(0===Q.width||0===Q.height)throw new Error("Given canvas must have data. Canvas width: "+Q.width+", height: "+Q.height);var Qe;switch(se){case"PNG":Qe="image/png";break;case"WEBP":Qe="image/webp";break;default:Qe="image/jpeg"}return md(Q.toDataURL(Qe,1).split("base64,").pop())}},le=function(Q){var se=this.internal.collections[l+"images"];if(se)for(var xe in se)if(Q===se[xe].alias)return se[xe]},re=function(Q,se,xe){return Q||se||(Q=-96,se=-96),Q<0&&(Q=-1*xe.width*72/Q/this.internal.scaleFactor),se<0&&(se=-1*xe.height*72/se/this.internal.scaleFactor),0===Q&&(Q=se*xe.width/xe.height),0===se&&(se=Q*xe.height/xe.width),[Q,se]},fe=function(Q,se,xe,Ae,Qe,rt){var ft=re.call(this,xe,Ae,Qe),Ge=this.internal.getCoordinateString,ct=this.internal.getVerticalCoordinateString,Pt=k.call(this);if(xe=ft[0],Ae=ft[1],Pt[Qe.index]=Qe,rt){rt*=Math.PI/180;var At=Math.cos(rt),J=Math.sin(rt),ce=function(ke){return ke.toFixed(4)},_e=[ce(At),ce(J),ce(-1*J),ce(At),0,0,"cm"]}this.internal.write("q"),rt?(this.internal.write([1,"0","0",1,Ge(Q),ct(se+Ae),"cm"].join(" ")),this.internal.write(_e.join(" ")),this.internal.write([Ge(xe),"0","0",Ge(Ae),"0","0","cm"].join(" "))):this.internal.write([Ge(xe),"0","0",Ge(Ae),Ge(Q),ct(se+Ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Qe.index+" Do"),this.internal.write("Q")},X=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Se=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Ce=i.__addimage__.sHashCode=function(Q){var se,xe,Ae=0;if("string"==typeof Q)for(xe=Q.length,se=0;se<xe;se++)Ae=(Ae<<5)-Ae+Q.charCodeAt(se),Ae|=0;else if(Zt(Q))for(xe=Q.byteLength/2,se=0;se<xe;se++)Ae=(Ae<<5)-Ae+Q[se],Ae|=0;return Ae},Ze=i.__addimage__.validateStringAsBase64=function(Q){(Q=Q||"").toString().trim();var se=!0;return 0===Q.length&&(se=!1),Q.length%4!=0&&(se=!1),!1===/^[A-Za-z0-9+/]+$/.test(Q.substr(0,Q.length-2))&&(se=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Q.substr(-2))&&(se=!1),se},$e=i.__addimage__.extractImageFromDataUrl=function(Q){if(null==Q||!(Q=Q.trim()).startsWith("data:"))return null;var se=Q.indexOf(",");return se<0?null:Q.substring(0,se).trim().endsWith("base64")?Q.substring(se+1):null};i.__addimage__.isArrayBuffer=function(Q){return Q instanceof ArrayBuffer};var Zt=i.__addimage__.isArrayBufferView=function(Q){return Q instanceof Int8Array||Q instanceof Uint8Array||Q instanceof Uint8ClampedArray||Q instanceof Int16Array||Q instanceof Uint16Array||Q instanceof Int32Array||Q instanceof Uint32Array||Q instanceof Float32Array||Q instanceof Float64Array},gt=i.__addimage__.binaryStringToUint8Array=function(Q){for(var se=Q.length,xe=new Uint8Array(se),Ae=0;Ae<se;Ae++)xe[Ae]=Q.charCodeAt(Ae);return xe},ze=i.__addimage__.arrayBufferToBinaryString=function(Q){for(var se="",xe=Zt(Q)?Q:new Uint8Array(Q),Ae=0;Ae<xe.length;Ae+=8192)se+=String.fromCharCode.apply(null,xe.subarray(Ae,Ae+8192));return se};i.addImage=function(){var Q,se,xe,Ae,Qe,rt,ft,Ge,ct;if("number"==typeof arguments[1]?(se=a,xe=arguments[1],Ae=arguments[2],Qe=arguments[3],rt=arguments[4],ft=arguments[5],Ge=arguments[6],ct=arguments[7]):(se=arguments[1],xe=arguments[2],Ae=arguments[3],Qe=arguments[4],rt=arguments[5],ft=arguments[6],Ge=arguments[7],ct=arguments[8]),"object"===Gt(Q=arguments[0])&&!V(Q)&&"imageData"in Q){var Pt=Q;Q=Pt.imageData,se=Pt.format||se||a,xe=Pt.x||xe||0,Ae=Pt.y||Ae||0,Qe=Pt.w||Pt.width||Qe,rt=Pt.h||Pt.height||rt,ft=Pt.alias||ft,Ge=Pt.compression||Ge,ct=Pt.rotation||Pt.angle||ct}var At=this.internal.getFilters();if(void 0===Ge&&-1!==At.indexOf("FlateEncode")&&(Ge="SLOW"),isNaN(xe)||isNaN(Ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");q.call(this);var J=Te.call(this,Q,se,ft,Ge);return fe.call(this,xe,Ae,Qe,rt,J,ct),this};var Te=function(Q,se,xe,Ae){var Qe,rt,ft,ct;if("string"==typeof Q&&h(Q)===a){Q=unescape(Q);var Ge=Je(Q,!1);(""!==Ge||void 0!==(Ge=i.loadFile(Q,!0)))&&(Q=Ge)}if(V(Q)&&(Q=I(Q,se)),se=h(Q,se),!H(se))throw new Error("addImage does not support files of type '"+se+"', please ensure that a plugin for '"+se+"' support is added.");if((null==(ft=xe)||0===ft.length)&&(xe="string"==typeof(ct=Q)||Zt(ct)?Ce(ct):Zt(ct.data)?Ce(ct.data):null),(Qe=le.call(this,xe))||(Q instanceof Uint8Array||"RGBA"===se||(rt=Q,Q=gt(Q)),Qe=this["process"+se.toUpperCase()](Q,E.call(this),xe,function(ct){return ct&&"string"==typeof ct&&(ct=ct.toUpperCase()),ct in i.image_compression?ct:Se.NONE}(Ae),rt)),!Qe)throw new Error("An unknown error occurred whilst processing the image.");return Qe},Je=i.__addimage__.convertBase64ToBinaryString=function(Q,se){se="boolean"!=typeof se||se;var xe,Ae="";if("string"==typeof Q){var Qe;xe=null!==(Qe=$e(Q))&&void 0!==Qe?Qe:Q;try{Ae=md(xe)}catch(rt){if(se)throw Ze(xe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+rt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Ae};i.getImageProperties=function(Q){var se,xe,Ae="";if(V(Q)&&(Q=I(Q)),"string"==typeof Q&&h(Q)===a&&(""===(Ae=Je(Q,!1))&&(Ae=i.loadFile(Q)||""),Q=Ae),xe=h(Q),!H(xe))throw new Error("addImage does not support files of type '"+xe+"', please ensure that a plugin for '"+xe+"' support is added.");if(Q instanceof Uint8Array||(Q=gt(Q)),!(se=this["process"+xe.toUpperCase()](Q)))throw new Error("An unknown error occurred whilst processing the image");return se.fileType=xe,se}})(Vt.API),i=Vt.API,l=function(a){if(void 0!==a&&""!=a)return!0},Vt.API.events.push(["addPage",function(a){this.internal.getPageInfo(a.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(a){for(var f,h,_,w=this.internal.getCoordinateString,x=this.internal.getVerticalCoordinateString,q=this.internal.getPageInfoByObjId(a.objId),k=a.pageContext.annotations,E=!1,H=0;H<k.length&&!E;H++)switch((f=k[H]).type){case"link":(l(f.options.url)||l(f.options.pageNumber))&&(E=!0);break;case"reference":case"text":case"freetext":E=!0}if(0!=E){this.internal.write("/Annots [");for(var V=0;V<k.length;V++){f=k[V];var I=this.internal.pdfEscape,le=this.internal.getEncryptor(a.objId);switch(f.type){case"reference":this.internal.write(" "+f.object.objId+" 0 R ");break;case"text":var re=this.internal.newAdditionalObject(),fe=this.internal.newAdditionalObject(),X=this.internal.getEncryptor(re.objId),Se=f.title||"Note";_="<</Type /Annot /Subtype /Text "+(h="/Rect ["+w(f.bounds.x)+" "+x(f.bounds.y+f.bounds.h)+" "+w(f.bounds.x+f.bounds.w)+" "+x(f.bounds.y)+"] ")+"/Contents ("+I(X(f.contents))+")",_+=" /Popup "+fe.objId+" 0 R",_+=" /P "+q.objId+" 0 R",_+=" /T ("+I(X(Se))+") >>",re.content=_;var Ce=re.objId+" 0 R";_="<</Type /Annot /Subtype /Popup "+(h="/Rect ["+w(f.bounds.x+30)+" "+x(f.bounds.y+f.bounds.h)+" "+w(f.bounds.x+f.bounds.w+30)+" "+x(f.bounds.y)+"] ")+" /Parent "+Ce,f.open&&(_+=" /Open true"),fe.content=_+=" >>",this.internal.write(re.objId,"0 R",fe.objId,"0 R");break;case"freetext":h="/Rect ["+w(f.bounds.x)+" "+x(f.bounds.y)+" "+w(f.bounds.x+f.bounds.w)+" "+x(f.bounds.y+f.bounds.h)+"] ";var Ze=f.color||"#000000";_="<</Type /Annot /Subtype /FreeText "+h+"/Contents ("+I(le(f.contents))+")",_+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Ze+")",_+=" /Border [0 0 0]",this.internal.write(_+=" >>");break;case"link":if(f.options.name){var $e=this.annotations._nameMap[f.options.name];f.options.pageNumber=$e.page,f.options.top=$e.y}else f.options.top||(f.options.top=0);if(h="/Rect ["+f.finalBounds.x+" "+f.finalBounds.y+" "+f.finalBounds.w+" "+f.finalBounds.h+"] ",_="",f.options.url)_="<</Type /Annot /Subtype /Link "+h+"/Border [0 0 0] /A <</S /URI /URI ("+I(le(f.options.url))+") >>";else if(f.options.pageNumber)switch(_="<</Type /Annot /Subtype /Link "+h+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(f.options.pageNumber).objId+" 0 R",f.options.magFactor=f.options.magFactor||"XYZ",f.options.magFactor){case"Fit":_+=" /Fit]";break;case"FitH":_+=" /FitH "+f.options.top+"]";break;case"FitV":f.options.left=f.options.left||0,_+=" /FitV "+f.options.left+"]";break;default:var Zt=x(f.options.top);f.options.left=f.options.left||0,void 0===f.options.zoom&&(f.options.zoom=0),_+=" /XYZ "+f.options.left+" "+Zt+" "+f.options.zoom+"]"}""!=_&&this.internal.write(_+=" >>")}}this.internal.write("]")}}]),i.createAnnotation=function(a){var f=this.internal.getCurrentPageInfo();switch(a.type){case"link":this.link(a.bounds.x,a.bounds.y,a.bounds.w,a.bounds.h,a);break;case"text":case"freetext":f.pageContext.annotations.push(a)}},i.link=function(a,f,h,_,w){var x=this.internal.getCurrentPageInfo(),q=this.internal.getCoordinateString,k=this.internal.getVerticalCoordinateString;x.pageContext.annotations.push({finalBounds:{x:q(a),y:k(f),w:q(a+h),h:k(f+_)},options:w,type:"link"})},i.textWithLink=function(a,f,h,_){var w,x,q=this.getTextWidth(a),k=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==_.maxWidth){var E=this.splitTextToSize(a,x=_.maxWidth).length;w=Math.ceil(k*E)}else x=q,w=k;return this.text(a,f,h,_),"center"===_.align&&(f-=q/2),"right"===_.align&&(f-=q),this.link(f,(h+=.2*k)-k,x,w,_),q},i.getTextWidth=function(a){var f=this.internal.getFontSize();return this.getStringUnitWidth(a)*f/this.internal.scaleFactor},function(i){var l={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},f={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},h=[1570,1571,1573,1575];i.__arabicParser__={};var _=i.__arabicParser__.isInArabicSubstitutionA=function(re){return void 0!==l[re.charCodeAt(0)]},w=i.__arabicParser__.isArabicLetter=function(re){return"string"==typeof re&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(re)},x=i.__arabicParser__.isArabicEndLetter=function(re){return w(re)&&_(re)&&l[re.charCodeAt(0)].length<=2},q=i.__arabicParser__.isArabicAlfLetter=function(re){return w(re)&&h.indexOf(re.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(re){return w(re)&&_(re)&&l[re.charCodeAt(0)].length>=1};var k=i.__arabicParser__.arabicLetterHasFinalForm=function(re){return w(re)&&_(re)&&l[re.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(re){return w(re)&&_(re)&&l[re.charCodeAt(0)].length>=3};var E=i.__arabicParser__.arabicLetterHasMedialForm=function(re){return w(re)&&_(re)&&4==l[re.charCodeAt(0)].length},H=i.__arabicParser__.resolveLigatures=function(re){var fe=0,X=a,Se="",Ce=0;for(fe=0;fe<re.length;fe+=1)void 0!==X[re.charCodeAt(fe)]?(Ce++,"number"==typeof(X=X[re.charCodeAt(fe)])&&(Se+=String.fromCharCode(X),X=a,Ce=0),fe===re.length-1&&(X=a,Se+=re.charAt(fe-(Ce-1)),fe-=Ce-1,Ce=0)):(X=a,Se+=re.charAt(fe-Ce),fe-=Ce,Ce=0);return Se};i.__arabicParser__.isArabicDiacritic=function(re){return void 0!==re&&void 0!==f[re.charCodeAt(0)]};var V=i.__arabicParser__.getCorrectForm=function(re,fe,X){return w(re)?!1===_(re)?-1:!k(re)||!w(fe)&&!w(X)||!w(X)&&x(fe)||x(re)&&!w(fe)||x(re)&&q(fe)||x(re)&&x(fe)?0:E(re)&&w(fe)&&!x(fe)&&w(X)&&k(X)?3:x(re)||!w(X)?1:2:-1},I=function(re){var fe=0,X=0,Se=0,Ce="",Ze="",$e="",Zt=(re=re||"").split("\\s+"),gt=[];for(fe=0;fe<Zt.length;fe+=1){for(gt.push(""),X=0;X<Zt[fe].length;X+=1)Ze=Zt[fe][X-1],$e=Zt[fe][X+1],w(Ce=Zt[fe][X])?(Se=V(Ce,Ze,$e),gt[fe]+=-1!==Se?String.fromCharCode(l[Ce.charCodeAt(0)][Se]):Ce):gt[fe]+=Ce;gt[fe]=H(gt[fe])}return gt.join(" ")},le=i.__arabicParser__.processArabic=i.processArabic=function(){var re,fe="string"==typeof arguments[0]?arguments[0]:arguments[0].text,X=[];if(Array.isArray(fe)){var Se=0;for(X=[],Se=0;Se<fe.length;Se+=1)Array.isArray(fe[Se])?X.push([I(fe[Se][0]),fe[Se][1],fe[Se][2]]):X.push([I(fe[Se])]);re=X}else re=I(fe);return"string"==typeof arguments[0]?re:(arguments[0].text=re,arguments[0])};i.events.push(["preProcessText",le])}(Vt.API),Vt.API.autoPrint=function(i){var l;return(i=i||{}).variant=i.variant||"non-conform","javascript"===i.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){l=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+l+" 0 R")})),this},function(i){var l=function(){var a=void 0;Object.defineProperty(this,"pdf",{get:function(){return a},set:function(x){a=x}});var f=150;Object.defineProperty(this,"width",{get:function(){return f},set:function(x){f=isNaN(x)||!1===Number.isInteger(x)||x<0?150:x,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=f+1)}});var h=300;Object.defineProperty(this,"height",{get:function(){return h},set:function(x){h=isNaN(x)||!1===Number.isInteger(x)||x<0?300:x,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=h+1)}});var _=[];Object.defineProperty(this,"childNodes",{get:function(){return _},set:function(x){_=x}});var w={};Object.defineProperty(this,"style",{get:function(){return w},set:function(x){w=x}}),Object.defineProperty(this,"parentNode",{})};l.prototype.getContext=function(a,f){var h;if("2d"!==(a=a||"2d"))return null;for(h in f)this.pdf.context2d.hasOwnProperty(h)&&(this.pdf.context2d[h]=f[h]);return this.pdf.context2d._canvas=this,this.pdf.context2d},l.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new l,this.canvas.pdf=this}])}(Vt.API),function(i){var l={left:0,top:0,bottom:0,right:0},a=!1,f=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},l),this.internal.__cell__.margins.width=this.getPageWidth(),h.call(this))},h=function(){this.internal.__cell__.lastCell=new _,this.internal.__cell__.pages=1},_=function(){var q=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return q},set:function(re){q=re}});var k=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return k},set:function(re){k=re}});var E=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return E},set:function(re){E=re}});var H=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return H},set:function(re){H=re}});var V=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return V},set:function(re){V=re}});var I=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return I},set:function(re){I=re}});var le=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return le},set:function(re){le=re}}),this};_.prototype.clone=function(){return new _(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},_.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(q){return f.call(this),this.internal.__cell__.headerFunction="function"==typeof q?q:void 0,this},i.getTextDimensions=function(q,k){f.call(this);var E=(k=k||{}).fontSize||this.getFontSize(),H=k.font||this.getFont(),V=k.scaleFactor||this.internal.scaleFactor,I=0,le=0,re=0,fe=this;if(!Array.isArray(q)&&"string"!=typeof q){if("number"!=typeof q)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");q=String(q)}var X=k.maxWidth;X>0?"string"==typeof q?q=this.splitTextToSize(q,X):"[object Array]"===Object.prototype.toString.call(q)&&(q=q.reduce(function(Ce,Ze){return Ce.concat(fe.splitTextToSize(Ze,X))},[])):q=Array.isArray(q)?q:[q];for(var Se=0;Se<q.length;Se++)I<(re=this.getStringUnitWidth(q[Se],{font:H})*E)&&(I=re);return 0!==I&&(le=q.length),{w:I/=V,h:Math.max((le*E*this.getLineHeightFactor()-E*(this.getLineHeightFactor()-1))/V,0)}},i.cellAddPage=function(){f.call(this),this.addPage();var q=this.internal.__cell__.margins||l;return this.internal.__cell__.lastCell=new _(q.left,q.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var w=i.cell=function(){var q;q=arguments[0]instanceof _?arguments[0]:new _(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),f.call(this);var k=this.internal.__cell__.lastCell,E=this.internal.__cell__.padding,H=this.internal.__cell__.margins||l,V=this.internal.__cell__.tableHeaderRow,I=this.internal.__cell__.printHeaders;return void 0!==k.lineNumber&&(k.lineNumber===q.lineNumber?(q.x=(k.x||0)+(k.width||0),q.y=k.y||0):k.y+k.height+q.height+H.bottom>this.getPageHeight()?(this.cellAddPage(),q.y=H.top,I&&V&&(this.printHeaderRow(q.lineNumber,!0),q.y+=V[0].height)):q.y=k.y+k.height||q.y),void 0!==q.text[0]&&(this.rect(q.x,q.y,q.width,q.height,!0===a?"FD":void 0),"right"===q.align?this.text(q.text,q.x+q.width-E,q.y+E,{align:"right",baseline:"top"}):"center"===q.align?this.text(q.text,q.x+q.width/2,q.y+E,{align:"center",baseline:"top",maxWidth:q.width-E-E}):this.text(q.text,q.x+E,q.y+E,{align:"left",baseline:"top",maxWidth:q.width-E-E})),this.internal.__cell__.lastCell=q,this};i.table=function(q,k,E,H,V){if(f.call(this),!E)throw new Error("No data for PDF table.");var I,le,re,fe,X=[],Se=[],Ce=[],Ze={},$e={},Zt=[],gt=[],ze=(V=V||{}).autoSize||!1,Te=!1!==V.printHeaders,Je=V.css&&void 0!==V.css["font-size"]?16*V.css["font-size"]:V.fontSize||12,Q=V.margins||Object.assign({width:this.getPageWidth()},l),se="number"==typeof V.padding?V.padding:3,xe=V.headerBackgroundColor||"#c8c8c8",Ae=V.headerTextColor||"#000";if(h.call(this),this.internal.__cell__.printHeaders=Te,this.internal.__cell__.margins=Q,this.internal.__cell__.table_font_size=Je,this.internal.__cell__.padding=se,this.internal.__cell__.headerBackgroundColor=xe,this.internal.__cell__.headerTextColor=Ae,this.setFontSize(Je),null==H)Se=X=Object.keys(E[0]),Ce=X.map(function(){return"left"});else if(Array.isArray(H)&&"object"===Gt(H[0]))for(X=H.map(function(Pt){return Pt.name}),Se=H.map(function(Pt){return Pt.prompt||Pt.name||""}),Ce=H.map(function(Pt){return Pt.align||"left"}),I=0;I<H.length;I+=1)$e[H[I].name]=.7499990551181103*H[I].width;else Array.isArray(H)&&"string"==typeof H[0]&&(Se=X=H,Ce=X.map(function(){return"left"}));if(ze||Array.isArray(H)&&"string"==typeof H[0])for(I=0;I<X.length;I+=1){for(Ze[fe=X[I]]=E.map(function(Pt){return Pt[fe]}),this.setFont(void 0,"bold"),Zt.push(this.getTextDimensions(Se[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),le=Ze[fe],this.setFont(void 0,"normal"),re=0;re<le.length;re+=1)Zt.push(this.getTextDimensions(le[re],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$e[fe]=Math.max.apply(null,Zt)+se+se,Zt=[]}if(Te){var Qe={};for(I=0;I<X.length;I+=1)Qe[X[I]]={},Qe[X[I]].text=Se[I],Qe[X[I]].align=Ce[I];var rt=x.call(this,Qe,$e);gt=X.map(function(Pt){return new _(q,k,$e[Pt],rt,Qe[Pt].text,void 0,Qe[Pt].align)}),this.setTableHeaderRow(gt),this.printHeaderRow(1,!1)}var ft=H.reduce(function(Pt,At){return Pt[At.name]=At.align,Pt},{});for(I=0;I<E.length;I+=1){"rowStart"in V&&V.rowStart instanceof Function&&V.rowStart({row:I,data:E[I]},this);var Ge=x.call(this,E[I],$e);for(re=0;re<X.length;re+=1){var ct=E[I][X[re]];"cellStart"in V&&V.cellStart instanceof Function&&V.cellStart({row:I,col:re,data:ct},this),w.call(this,new _(q,k,$e[X[re]],Ge,ct,I+2,ft[X[re]]))}}return this.internal.__cell__.table_x=q,this.internal.__cell__.table_y=k,this};var x=function(q,k){var E=this.internal.__cell__.padding,H=this.internal.__cell__.table_font_size,V=this.internal.scaleFactor;return Object.keys(q).map(function(I){var le=q[I];return this.splitTextToSize(le.hasOwnProperty("text")?le.text:le,k[I]-E-E)},this).map(function(I){return this.getLineHeightFactor()*I.length*H/V+E+E},this).reduce(function(I,le){return Math.max(I,le)},0)};i.setTableHeaderRow=function(q){f.call(this),this.internal.__cell__.tableHeaderRow=q},i.printHeaderRow=function(q,k){if(f.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var E;if(a=!0,"function"==typeof this.internal.__cell__.headerFunction){var H=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new _(H[0],H[1],H[2],H[3],void 0,-1)}this.setFont(void 0,"bold");for(var V=[],I=0;I<this.internal.__cell__.tableHeaderRow.length;I+=1){E=this.internal.__cell__.tableHeaderRow[I].clone(),k&&(E.y=this.internal.__cell__.margins.top||0,V.push(E)),E.lineNumber=q;var le=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),w.call(this,E),this.setTextColor(le)}V.length>0&&this.setTableHeaderRow(V),this.setFont(void 0,"normal"),a=!1}}(Vt.API);var E1={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},M1=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Jp=O1(M1),F1=[100,200,300,400,500,600,700,800,900],j1=O1(F1);function ws(i){var _,l=i.family.replace(/"|'/g,"").toLowerCase(),a=E1[_=(_=i.style)||"normal"]?_:"normal",f=function(_){return _?"number"==typeof _?_>=100&&_<=900&&_%100==0?_:400:/^\d00$/.test(_)?parseInt(_):"bold"===_?700:400:400}(i.weight),h=function(_){return"number"==typeof Jp[_=_||"normal"]?_:"normal"}(i.stretch);return{family:l,style:a,weight:f,stretch:h,src:i.src||[],ref:i.ref||{name:l,style:[h,a,f].join(" ")}}}function R1(i,l,a,f){var h;for(h=a;h>=0&&h<l.length;h+=f)if(i[l[h]])return i[l[h]];for(h=a;h>=0&&h<l.length;h-=f)if(i[l[h]])return i[l[h]]}var Qf={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},D1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function B1(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function z1(i){return i.trimLeft()}function $f(i,l){for(var a=0;a<i.length;){if(i.charAt(a)===l)return[i.substring(0,a),i.substring(a+1)];a+=1}return null}function Xf(i){var l=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===l?null:[l[0],i.substring(l[0].length)]}var $a,J1,G1,Yl,vd,ol,H1,Y1,Gp=["times"];function K1(i,l,a,f,h){var _=4,w=V1;switch(h){case Vt.API.image_compression.FAST:_=1,w=W1;break;case Vt.API.image_compression.MEDIUM:_=6,w=il;break;case Vt.API.image_compression.SLOW:_=9,w=Q1}i=function(q,k,E,H){for(var V,I=q.length/k,le=new Uint8Array(q.length+I),re=[eg,W1,V1,il,Q1],fe=0;fe<I;fe+=1){var X=fe*k,Se=q.subarray(X,X+k);if(H)le.set(H(Se,E,V),X+fe);else{for(var Ce=re.length,Ze=[],$e=0;$e<Ce;$e+=1)Ze[$e]=re[$e](Se,E,V);var Zt=ng(Ze.concat());le.set(Ze[Zt],X+fe)}V=Se}return le}(i,l,Math.ceil(a*f/8),w);var x=(0,be.iZ)(i,{level:_});return Vt.API.__addimage__.arrayBufferToBinaryString(x)}function eg(i){var l=Array.apply([],i);return l.unshift(0),l}function W1(i,l){var a=i.length,f=[];f[0]=1;for(var h=0;h<a;h+=1)f[h+1]=i[h]-(i[h-l]||0)+256&255;return f}function V1(i,l,a){var f=i.length,h=[];h[0]=2;for(var _=0;_<f;_+=1)h[_+1]=i[_]-(a&&a[_]||0)+256&255;return h}function il(i,l,a){var f=i.length,h=[];h[0]=3;for(var _=0;_<f;_+=1)h[_+1]=i[_]+256-((i[_-l]||0)+(a&&a[_]||0)>>>1)&255;return h}function Q1(i,l,a){var f=i.length,h=[];h[0]=4;for(var _=0;_<f;_+=1){var w=tg(i[_-l]||0,a&&a[_]||0,a&&a[_-l]||0);h[_+1]=i[_]-w+256&255}return h}function tg(i,l,a){if(i===l&&l===a)return i;var f=Math.abs(l-a),h=Math.abs(i-a),_=Math.abs(i+l-a-a);return f<=h&&f<=_?i:h<=_?l:a}function ng(i){var l=i.map(function(a){return a.reduce(function(f,h){return f+Math.abs(h)},0)});return l.indexOf(Math.min.apply(null,l))}function Hp(i,l,a){var f=l*a,h=Math.floor(f/8),_=16-(f-8*h+a),w=(1<<a)-1;return $1(i,h)>>_&w}function rl(i,l,a,f){var k,E,H,h=a*f,_=Math.floor(h/8),w=16-(h-8*_+f),x=(1<<f)-1,q=(l&x)<<w;k=i,E=_,H=$1(i,_)&~(x<<w)&65535|q,E+1<k.byteLength?k.setUint16(E,H,!1):k.setUint8(E,H>>8&255)}function $1(i,l){return l+1<i.byteLength?i.getUint16(l,!1):i.getUint8(l)<<8}function og(i){var l=0;if(71!==i[l++]||73!==i[l++]||70!==i[l++]||56!==i[l++]||56!=(i[l++]+1&253)||97!==i[l++])throw new Error("Invalid GIF 87a/89a header.");var a=i[l++]|i[l++]<<8,f=i[l++]|i[l++]<<8,h=i[l++],w=1<<1+(7&h);l++,l++;var x=null,q=null;h>>7&&(x=l,q=w,l+=3*w);var k=!0,E=[],H=0,V=null,I=0,le=null;for(this.width=a,this.height=f;k&&l<i.length;)switch(i[l++]){case 33:switch(i[l++]){case 255:if(11!==i[l]||78==i[l+1]&&69==i[l+2]&&84==i[l+3]&&83==i[l+4]&&67==i[l+5]&&65==i[l+6]&&80==i[l+7]&&69==i[l+8]&&50==i[l+9]&&46==i[l+10]&&48==i[l+11]&&3==i[l+12]&&1==i[l+13]&&0==i[l+16])l+=14,le=i[l++]|i[l++]<<8,l++;else for(l+=12;;){if(!((Q=i[l++])>=0))throw Error("Invalid block size");if(0===Q)break;l+=Q}break;case 249:if(4!==i[l++]||0!==i[l+4])throw new Error("Invalid graphics extension block.");var re=i[l++];H=i[l++]|i[l++]<<8,V=i[l++],1&re||(V=null),I=re>>2&7,l++;break;case 254:for(;;){if(!((Q=i[l++])>=0))throw Error("Invalid block size");if(0===Q)break;l+=Q}break;default:throw new Error("Unknown graphic control label: 0x"+i[l-1].toString(16))}break;case 44:var fe=i[l++]|i[l++]<<8,X=i[l++]|i[l++]<<8,Se=i[l++]|i[l++]<<8,Ce=i[l++]|i[l++]<<8,Ze=i[l++],$e=Ze>>6&1,Zt=1<<1+(7&Ze),gt=x,ze=q,Te=!1;Ze>>7&&(Te=!0,gt=l,ze=Zt,l+=3*Zt);var Je=l;for(l++;;){var Q;if(!((Q=i[l++])>=0))throw Error("Invalid block size");if(0===Q)break;l+=Q}E.push({x:fe,y:X,width:Se,height:Ce,has_local_palette:Te,palette_offset:gt,palette_size:ze,data_offset:Je,data_length:l-Je,transparent_index:V,interlaced:!!$e,delay:H,disposal:I});break;case 59:k=!1;break;default:throw new Error("Unknown gif block: 0x"+i[l-1].toString(16))}this.numFrames=function(){return E.length},this.loopCount=function(){return le},this.frameInfo=function(se){if(se<0||se>=E.length)throw new Error("Frame index out of range.");return E[se]},this.decodeAndBlitFrameBGRA=function(se,xe){var Ae=this.frameInfo(se),Qe=Ae.width*Ae.height,rt=new Uint8Array(Qe);X1(i,Ae.data_offset,rt,Qe);var ft=Ae.palette_offset,Ge=Ae.transparent_index;null===Ge&&(Ge=256);var ct=Ae.width,Pt=a-ct,At=ct,J=4*(Ae.y*a+Ae.x),ce=4*((Ae.y+Ae.height)*a+Ae.x),_e=J,ke=4*Pt;!0===Ae.interlaced&&(ke+=4*a*7);for(var Oe=8,De=0,Ve=rt.length;De<Ve;++De){var We=rt[De];if(0===At&&(At=ct,(_e+=ke)>=ce&&(ke=4*Pt+4*a*(Oe-1),_e=J+(ct+Pt)*(Oe<<1),Oe>>=1)),We===Ge)_e+=4;else{var dt=i[ft+3*We],Ut=i[ft+3*We+1];xe[_e++]=i[ft+3*We+2],xe[_e++]=Ut,xe[_e++]=dt,xe[_e++]=255}--At}},this.decodeAndBlitFrameRGBA=function(se,xe){var Ae=this.frameInfo(se),Qe=Ae.width*Ae.height,rt=new Uint8Array(Qe);X1(i,Ae.data_offset,rt,Qe);var ft=Ae.palette_offset,Ge=Ae.transparent_index;null===Ge&&(Ge=256);var ct=Ae.width,Pt=a-ct,At=ct,J=4*(Ae.y*a+Ae.x),ce=4*((Ae.y+Ae.height)*a+Ae.x),_e=J,ke=4*Pt;!0===Ae.interlaced&&(ke+=4*a*7);for(var Oe=8,De=0,Ve=rt.length;De<Ve;++De){var We=rt[De];if(0===At&&(At=ct,(_e+=ke)>=ce&&(ke=4*Pt+4*a*(Oe-1),_e=J+(ct+Pt)*(Oe<<1),Oe>>=1)),We===Ge)_e+=4;else{var Ut=i[ft+3*We+1],jt=i[ft+3*We+2];xe[_e++]=i[ft+3*We],xe[_e++]=Ut,xe[_e++]=jt,xe[_e++]=255}--At}}}function X1(i,l,a,f){for(var h=i[l++],_=1<<h,w=_+1,x=w+1,q=h+1,k=(1<<q)-1,E=0,H=0,V=0,I=i[l++],le=new Int32Array(4096),re=null;;){for(;E<16&&0!==I;)H|=i[l++]<<E,E+=8,1===I?I=i[l++]:--I;if(E<q)break;var fe=H&k;if(H>>=q,E-=q,fe!==_){if(fe===w)break;for(var X=fe<x?fe:re,Se=0,Ce=X;Ce>_;)Ce=le[Ce]>>8,++Se;var Ze=Ce;if(V+Se+(X!==fe?1:0)>f)return void yo.log("Warning, gif stream longer than expected.");a[V++]=Ze;var $e=V+=Se;for(X!==fe&&(a[V++]=Ze),Ce=X;Se--;)a[--$e]=255&(Ce=le[Ce]),Ce>>=8;null!==re&&x<4096&&(le[x++]=re<<8|Ze,x>=k+1&&q<12&&(++q,k=k<<1|1)),re=fe}else x=w+1,k=(1<<(q=h+1))-1,re=null}return V!==f&&yo.log("Warning, gif stream shorter than expected."),a}function Yp(i){var l,a,f,h,_,w=Math.floor,x=new Array(64),q=new Array(64),k=new Array(64),E=new Array(64),H=new Array(65535),V=new Array(65535),I=new Array(64),le=new Array(64),re=[],fe=0,X=7,Se=new Array(64),Ce=new Array(64),Ze=new Array(64),$e=new Array(256),Zt=new Array(2048),gt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ze=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Te=[0,1,2,3,4,5,6,7,8,9,10,11],Je=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],se=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],xe=[0,1,2,3,4,5,6,7,8,9,10,11],Ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Qe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function rt(J,ce){for(var _e=0,ke=0,Oe=new Array,De=1;De<=16;De++){for(var Ve=1;Ve<=J[De];Ve++)Oe[ce[ke]]=[],Oe[ce[ke]][0]=_e,Oe[ce[ke]][1]=De,ke++,_e++;_e*=2}return Oe}function ft(J){for(var ce=J[0],_e=J[1]-1;_e>=0;)ce&1<<_e&&(fe|=1<<X),_e--,--X<0&&(255==fe?(Ge(255),Ge(0)):Ge(fe),X=7,fe=0)}function Ge(J){re.push(J)}function ct(J){Ge(J>>8&255),Ge(255&J)}function Pt(J,ce,_e,ke,Oe){for(var De,Ve=Oe[0],We=Oe[240],dt=function(Ct,nn){var It,Nn,ln,oo,Tn,wn,ho,Pn,rn,hn,an=0;for(rn=0;rn<8;++rn){var Co=(It=Ct[an])+(Pn=Ct[an+7]),io=It-Pn,Ht=(Nn=Ct[an+1])+(ho=Ct[an+6]),Cn=Nn-ho,bo=(ln=Ct[an+2])+(wn=Ct[an+5]),pn=ln-wn,Vn=(oo=Ct[an+3])+(Tn=Ct[an+4]),qn=oo-Tn,oi=Co+Vn,fi=Co-Vn,Zo=Ht+bo,Zn=Ht-bo;Ct[an]=oi+Zo,Ct[an+4]=oi-Zo;var uo=.707106781*(Zn+fi);Ct[an+2]=fi+uo,Ct[an+6]=fi-uo;var sl=.382683433*((oi=qn+pn)-(Zn=Cn+io)),Hi=.5411961*oi+sl,Xa=1.306562965*Zn+sl,qa=.707106781*(Zo=pn+Cn),fn=io+qa,es=io-qa;Ct[an+5]=es+Hi,Ct[an+3]=es-Hi,Ct[an+1]=fn+Xa,Ct[an+7]=fn-Xa,an+=8}for(an=0,rn=0;rn<8;++rn){var ts=(It=Ct[an])+(Pn=Ct[an+56]),Sr=It-Pn,Si=(Nn=Ct[an+8])+(ho=Ct[an+48]),Ho=Nn-ho,bi=(ln=Ct[an+16])+(wn=Ct[an+40]),ki=ln-wn,ll=(oo=Ct[an+24])+(Tn=Ct[an+32]),qs=oo-Tn,Hr=ts+ll,Ua=ts-ll,Yr=Si+bi,Kr=Si-bi;Ct[an]=Hr+Yr,Ct[an+32]=Hr-Yr;var kr=.707106781*(Kr+Ua);Ct[an+16]=Ua+kr,Ct[an+48]=Ua-kr;var ul=.382683433*((Hr=qs+ki)-(Kr=Ho+Sr)),Sa=.5411961*Hr+ul,cl=1.306562965*Kr+ul,Wl=.707106781*(Yr=ki+Ho),Vl=Sr+Wl,Wr=Sr-Wl;Ct[an+40]=Wr+Sa,Ct[an+24]=Wr-Sa,Ct[an+8]=Vl+cl,Ct[an+56]=Vl-cl,an++}for(rn=0;rn<64;++rn)I[rn]=(hn=Ct[rn]*nn[rn])>0?hn+.5|0:hn-.5|0;return I}(J,ce),Ut=0;Ut<64;++Ut)le[gt[Ut]]=dt[Ut];var jt=le[0]-_e;_e=le[0],0==jt?ft(ke[0]):(ft(ke[V[De=32767+jt]]),ft(H[De]));for(var Bt=63;Bt>0&&0==le[Bt];)Bt--;if(0==Bt)return ft(Ve),_e;for(var et,de=1;de<=Bt;){for(var Yn=de;0==le[de]&&de<=Bt;)++de;var kn=de-Yn;if(kn>=16){et=kn>>4;for(var dn=1;dn<=et;++dn)ft(We);kn&=15}ft(Oe[(kn<<4)+V[De=32767+le[de]]]),ft(H[De]),de++}return 63!=Bt&&ft(Ve),_e}function At(J){J=Math.min(Math.max(J,1),100),_!=J&&(function(ce){for(var _e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ke=0;ke<64;ke++){var Oe=w((_e[ke]*ce+50)/100);Oe=Math.min(Math.max(Oe,1),255),x[gt[ke]]=Oe}for(var De=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ve=0;Ve<64;Ve++){var We=w((De[Ve]*ce+50)/100);We=Math.min(Math.max(We,1),255),q[gt[Ve]]=We}for(var dt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ut=0,jt=0;jt<8;jt++)for(var Bt=0;Bt<8;Bt++)k[Ut]=1/(x[gt[Ut]]*dt[jt]*dt[Bt]*8),E[Ut]=1/(q[gt[Ut]]*dt[jt]*dt[Bt]*8),Ut++}(J<50?Math.floor(5e3/J):Math.floor(200-2*J)),_=J)}this.encode=function(J,ce){var Nn,ln;ce&&At(ce),re=new Array,fe=0,X=7,ct(65496),ct(65504),ct(16),Ge(74),Ge(70),Ge(73),Ge(70),Ge(0),Ge(1),Ge(1),Ge(0),ct(1),ct(1),Ge(0),Ge(0),function(){ct(65499),ct(132),Ge(0);for(var Nn=0;Nn<64;Nn++)Ge(x[Nn]);Ge(1);for(var ln=0;ln<64;ln++)Ge(q[ln])}(),Nn=J.width,ln=J.height,ct(65472),ct(17),Ge(8),ct(ln),ct(Nn),Ge(3),Ge(1),Ge(17),Ge(0),Ge(2),Ge(17),Ge(1),Ge(3),Ge(17),Ge(1),function(){ct(65476),ct(418),Ge(0);for(var Nn=0;Nn<16;Nn++)Ge(ze[Nn+1]);for(var ln=0;ln<=11;ln++)Ge(Te[ln]);Ge(16);for(var oo=0;oo<16;oo++)Ge(Je[oo+1]);for(var Tn=0;Tn<=161;Tn++)Ge(Q[Tn]);Ge(1);for(var wn=0;wn<16;wn++)Ge(se[wn+1]);for(var ho=0;ho<=11;ho++)Ge(xe[ho]);Ge(17);for(var Pn=0;Pn<16;Pn++)Ge(Ae[Pn+1]);for(var rn=0;rn<=161;rn++)Ge(Qe[rn])}(),ct(65498),ct(12),Ge(3),Ge(1),Ge(0),Ge(2),Ge(17),Ge(3),Ge(17),Ge(0),Ge(63),Ge(0);var _e=0,ke=0,Oe=0;fe=0,X=7,this.encode.displayName="_encode_";for(var De,Ve,We,dt,Ut,jt,Bt,et,de,Yn=J.data,dn=J.height,Ct=4*J.width,nn=0;nn<dn;){for(De=0;De<Ct;){for(Ut=Ct*nn+De,Bt=-1,et=0,de=0;de<64;de++)jt=Ut+(et=de>>3)*Ct+(Bt=4*(7&de)),nn+et>=dn&&(jt-=Ct*(nn+1+et-dn)),De+Bt>=Ct&&(jt-=De+Bt-Ct+4),Ve=Yn[jt++],We=Yn[jt++],dt=Yn[jt++],Se[de]=(Zt[Ve]+Zt[We+256|0]+Zt[dt+512|0]>>16)-128,Ce[de]=(Zt[Ve+768|0]+Zt[We+1024|0]+Zt[dt+1280|0]>>16)-128,Ze[de]=(Zt[Ve+1280|0]+Zt[We+1536|0]+Zt[dt+1792|0]>>16)-128;_e=Pt(Se,k,_e,l,f),ke=Pt(Ce,E,ke,a,h),Oe=Pt(Ze,E,Oe,a,h),De+=32}nn+=8}if(X>=0){var It=[];It[1]=X+1,It[0]=(1<<X+1)-1,ft(It)}return ct(65497),new Uint8Array(re)},i=i||50,function(){for(var J=String.fromCharCode,ce=0;ce<256;ce++)$e[ce]=J(ce)}(),l=rt(ze,Te),a=rt(se,xe),f=rt(Je,Q),h=rt(Ae,Qe),function(){for(var J=1,ce=2,_e=1;_e<=15;_e++){for(var ke=J;ke<ce;ke++)V[32767+ke]=_e,H[32767+ke]=[],H[32767+ke][1]=_e,H[32767+ke][0]=ke;for(var Oe=-(ce-1);Oe<=-J;Oe++)V[32767+Oe]=_e,H[32767+Oe]=[],H[32767+Oe][1]=_e,H[32767+Oe][0]=ce-1+Oe;J<<=1,ce<<=1}}(),function(){for(var J=0;J<256;J++)Zt[J]=19595*J,Zt[J+256|0]=38470*J,Zt[J+512|0]=7471*J+32768,Zt[J+768|0]=-11059*J,Zt[J+1024|0]=-21709*J,Zt[J+1280|0]=32768*J+8421375,Zt[J+1536|0]=-27439*J,Zt[J+1792|0]=-5329*J}(),At(i)}function Jr(i,l){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!l,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ef(i){function l(Te){if(!Te)throw Error("assert :P")}function a(Te,Je,Q){for(var se=0;4>se;se++)if(Te[Je+se]!=Q.charCodeAt(se))return!0;return!1}function f(Te,Je,Q,se,xe){for(var Ae=0;Ae<xe;Ae++)Te[Je+Ae]=Q[se+Ae]}function h(Te,Je,Q,se){for(var xe=0;xe<se;xe++)Te[Je+xe]=Q}function _(Te){return new Int32Array(Te)}function w(Te,Je){for(var Q=[],se=0;se<Te;se++)Q.push(new Je);return Q}function x(Te,Je){var Q=[];return function se(xe,Ae,Qe){for(var rt=Qe[Ae],ft=0;ft<rt&&(xe.push(Qe.length>Ae+1?[]:new Je),!(Qe.length<Ae+1));ft++)se(xe[ft],Ae+1,Qe)}(Q,0,Te),Q}var q=function(){var Te=this;function Je(m,y){for(var S=1<<y-1>>>0;m&S;)S>>>=1;return S?(m&S-1)+S:m}function Q(m,y,S,L,D){l(!(L%S));do{m[y+(L-=S)]=D}while(0<L)}function se(m,y,S,L,D){if(l(2328>=D),512>=D)var B=_(512);else if(null==(B=_(D)))return 0;return function(z,K,$,ne,we,Re){var oe,Ue,Me=K,Xe=1<<$,je=_(16),nt=_(16);for(l(0!=we),l(null!=ne),l(null!=z),l(0<$),Ue=0;Ue<we;++Ue){if(15<ne[Ue])return 0;++je[ne[Ue]]}if(je[0]==we)return 0;for(nt[1]=0,oe=1;15>oe;++oe){if(je[oe]>1<<oe)return 0;nt[oe+1]=nt[oe]+je[oe]}for(Ue=0;Ue<we;++Ue)oe=ne[Ue],0<ne[Ue]&&(Re[nt[oe]++]=Ue);if(1==nt[15])return(ne=new xe).g=0,ne.value=Re[0],Q(z,Me,1,Xe,ne),Xe;var st,xt=-1,mt=Xe-1,on=0,Yt=1,Fn=1,Qt=1<<$;for(Ue=0,oe=1,we=2;oe<=$;++oe,we<<=1){if(Yt+=Fn<<=1,0>(Fn-=je[oe]))return 0;for(;0<je[oe];--je[oe])(ne=new xe).g=oe,ne.value=Re[Ue++],Q(z,Me+on,we,Qt,ne),on=Je(on,oe)}for(oe=$+1,we=2;15>=oe;++oe,we<<=1){if(Yt+=Fn<<=1,0>(Fn-=je[oe]))return 0;for(;0<je[oe];--je[oe]){if(ne=new xe,(on&mt)!=xt){for(Me+=Qt,st=1<<(xt=oe)-$;15>xt&&!(0>=(st-=je[xt]));)++xt,st<<=1;Xe+=Qt=1<<(st=xt-$),z[K+(xt=on&mt)].g=st+$,z[K+xt].value=Me-K-xt}ne.g=oe-$,ne.value=Re[Ue++],Q(z,Me+(on>>$),we,Qt,ne),on=Je(on,oe)}}return Yt!=2*nt[15]-1?0:Xe}(m,y,S,L,D,B)}function xe(){this.value=this.g=0}function Ae(){this.value=this.g=0}function Qe(){this.G=w(5,xe),this.H=_(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=w(lc,Ae)}function rt(m,y,S,L){l(null!=m),l(null!=y),l(2147483648>L),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=y,m.pa=S,m.Jd=y,m.Yc=S+L,m.Zc=4<=L?S+L-4+1:S,Ve(m)}function ft(m,y){for(var S=0;0<y--;)S|=dt(m,128)<<y;return S}function Ge(m,y){var S=ft(m,y);return We(m)?-S:S}function ct(m,y,S,L){var D,B=0;for(l(null!=m),l(null!=y),l(4294967288>L),m.Sb=L,m.Ra=0,m.u=0,m.h=0,4<L&&(L=4),D=0;D<L;++D)B+=y[S+D]<<8*D;m.Ra=B,m.bb=L,m.oa=y,m.pa=S}function Pt(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<tu-8>>>0,++m.bb,m.u-=8;ke(m)&&(m.h=1,m.u=0)}function At(m,y){if(l(0<=y),!m.h&&y<=Xr){var S=_e(m)&$r[y];return m.u+=y,Pt(m),S}return m.h=1,m.u=0}function J(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ce(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function _e(m){return m.Ra>>>(m.u&tu-1)>>>0}function ke(m){return l(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>tu}function Oe(m,y){m.u=y,m.h=ke(m)}function De(m){m.u>=hl&&(l(m.u>=hl),Pt(m))}function Ve(m){l(null!=m&&null!=m.oa),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(l(null!=m&&null!=m.oa),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function We(m){return ft(m,1)}function dt(m,y){var S=m.Ca;0>m.b&&Ve(m);var L=m.b,D=S*y>>>8,B=(m.I>>>L>D)+0;for(B?(S-=D,m.I-=D+1<<L>>>0):S=D+1,L=S,D=0;256<=L;)D+=8,L>>=8;return m.b-=L=7^D+nu[L],m.Ca=(S<<L)-1,B}function Ut(m,y,S){m[y+0]=S>>24&255,m[y+1]=S>>16&255,m[y+2]=S>>8&255,m[y+3]=255&S}function jt(m,y){return m[y+0]|m[y+1]<<8}function Bt(m,y){return jt(m,y)|m[y+2]<<16}function et(m,y){return jt(m,y)|jt(m,y+2)<<16}function de(m,y){var S=1<<y;return l(null!=m),l(0<y),m.X=_(S),null==m.X?0:(m.Mb=32-y,m.Xa=y,1)}function Yn(m,y){l(null!=m),l(null!=y),l(m.Xa==y.Xa),f(y.X,0,m.X,0,1<<y.Xa)}function kn(){this.X=[],this.Xa=this.Mb=0}function dn(m,y,S,L){l(null!=S),l(null!=L);var D=S[0],B=L[0];return 0==D&&(D=(m*B+y/2)/y),0==B&&(B=(y*D+m/2)/m),0>=D||0>=B?0:(S[0]=D,L[0]=B,1)}function Ct(m,y){return m+(1<<y)-1>>>y}function nn(m,y){return((4278255360&m)+(4278255360&y)>>>0&4278255360)+((16711935&m)+(16711935&y)>>>0&16711935)>>>0}function It(m,y){Te[y]=function(S,L,D,B,z,K,$){var ne;for(ne=0;ne<z;++ne){var we=Te[m](K[$+ne-1],D,B+ne);K[$+ne]=nn(S[L+ne],we)}}}function Nn(){this.ud=this.hd=this.jd=0}function ln(m,y){return((4278124286&(m^y))>>>1)+(m&y)>>>0}function oo(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Tn(m,y){return oo(m+(m-y+.5>>1))}function wn(m,y,S){return Math.abs(y-S)-Math.abs(m-S)}function ho(m,y,S,L,D,B,z){for(L=B[z-1],S=0;S<D;++S)B[z+S]=L=nn(m[y+S],L)}function Pn(m,y,S,L,D){var B;for(B=0;B<S;++B){var z=m[y+B],K=z>>8&255,$=16711935&($=($=16711935&z)+((K<<16)+K));L[D+B]=(4278255360&z)+$>>>0}}function rn(m,y){y.jd=255&m,y.hd=m>>8&255,y.ud=m>>16&255}function hn(m,y,S,L,D,B){var z;for(z=0;z<L;++z){var K=y[S+z],$=K>>>8,ne=K,we=255&(we=(we=K>>>16)+((m.jd<<24>>24)*($<<24>>24)>>>5));ne=255&(ne=(ne+=(m.hd<<24>>24)*($<<24>>24)>>>5)+((m.ud<<24>>24)*(we<<24>>24)>>>5)),D[B+z]=(4278255360&K)+(we<<16)+ne}}function an(m,y,S,L,D){Te[y]=function(B,z,K,$,ne,we,Re,oe,Ue){for($=Re;$<oe;++$)for(Re=0;Re<Ue;++Re)ne[we++]=D(K[L(B[z++])])},Te[m]=function(B,z,K,$,ne,we,Re){var oe=8>>B.b,Ue=B.Ea,Me=B.K[0],Xe=B.w;if(8>oe)for(B=(1<<B.b)-1,Xe=(1<<oe)-1;z<K;++z){var je,nt=0;for(je=0;je<Ue;++je)je&B||(nt=L($[ne++])),we[Re++]=D(Me[nt&Xe]),nt>>=oe}else Te["VP8LMapColor"+S]($,ne,Me,Xe,we,Re,z,K,Ue)}}function Co(m,y,S,L,D){for(S=y+S;y<S;){var B=m[y++];L[D++]=B>>16&255,L[D++]=B>>8&255,L[D++]=255&B}}function io(m,y,S,L,D){for(S=y+S;y<S;){var B=m[y++];L[D++]=B>>16&255,L[D++]=B>>8&255,L[D++]=255&B,L[D++]=B>>24&255}}function Ht(m,y,S,L,D){for(S=y+S;y<S;){var B=(z=m[y++])>>16&240|z>>12&15,z=240&z|z>>28&15;L[D++]=B,L[D++]=z}}function Cn(m,y,S,L,D){for(S=y+S;y<S;){var B=(z=m[y++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;L[D++]=B,L[D++]=z}}function bo(m,y,S,L,D){for(S=y+S;y<S;){var B=m[y++];L[D++]=255&B,L[D++]=B>>8&255,L[D++]=B>>16&255}}function pn(m,y,S,L,D,B){if(0==B)for(S=y+S;y<S;)Ut(L,((B=m[y++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),D+=32;else f(L,D,m,y,S)}function Vn(m,y){Te[y][0]=Te[m+"0"],Te[y][1]=Te[m+"1"],Te[y][2]=Te[m+"2"],Te[y][3]=Te[m+"3"],Te[y][4]=Te[m+"4"],Te[y][5]=Te[m+"5"],Te[y][6]=Te[m+"6"],Te[y][7]=Te[m+"7"],Te[y][8]=Te[m+"8"],Te[y][9]=Te[m+"9"],Te[y][10]=Te[m+"10"],Te[y][11]=Te[m+"11"],Te[y][12]=Te[m+"12"],Te[y][13]=Te[m+"13"],Te[y][14]=Te[m+"0"],Te[y][15]=Te[m+"0"]}function qn(m){return m==kg||m==Ng||m==vf||m==Pg}function oi(){this.eb=[],this.size=this.A=this.fb=0}function fi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Zo(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new oi,this.f.kb=new fi,this.sd=null}function Zn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function uo(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function sl(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Hi(m,y){var S=m.T,L=y.ba.f.RGBA,D=L.eb,B=L.fb+m.ka*L.A,z=Oa[y.ba.S],K=m.y,$=m.O,ne=m.f,we=m.N,Re=m.ea,oe=m.W,Ue=y.cc,Me=y.dc,Xe=y.Mc,je=y.Nc,nt=m.ka,st=m.ka+m.T,xt=m.U,mt=xt+1>>1;for(0==nt?z(K,$,null,null,ne,we,Re,oe,ne,we,Re,oe,D,B,null,null,xt):(z(y.ec,y.fc,K,$,Ue,Me,Xe,je,ne,we,Re,oe,D,B-L.A,D,B,xt),++S);nt+2<st;nt+=2)z(K,($+=2*m.fa)-m.fa,K,$,Ue=ne,Me=we,Xe=Re,je=oe,ne,we+=m.Rc,Re,oe+=m.Rc,D,(B+=2*L.A)-L.A,D,B,xt);return $+=m.fa,m.j+st<m.o?(f(y.ec,y.fc,K,$,xt),f(y.cc,y.dc,ne,we,mt),f(y.Mc,y.Nc,Re,oe,mt),S--):1&st||z(K,$,null,null,ne,we,Re,oe,ne,we,Re,oe,D,B+L.A,null,null,xt),S}function Xa(m,y,S){var L=m.F,D=[m.J];if(null!=L){var B=m.U,z=y.ba.S,K=z==_f||z==vf;y=y.ba.f.RGBA;var $=[0],ne=m.ka;$[0]=m.T,m.Kb&&(0==ne?--$[0]:(--ne,D[0]-=m.width),m.j+m.ka+m.T==m.o&&($[0]=m.o-m.j-ne));var we=y.eb;m=Xg(L,D[0],m.width,B,$,we,(ne=y.fb+ne*y.A)+(K?0:3),y.A),l(S==$),m&&qn(z)&&f1(we,ne,K,B,$,y.A)}return 0}function qa(m){var y=m.ma,S=y.ba.S,L=11>S,D=S==mf||S==hf||S==_f||S==Sg||12==S||qn(S);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!r1(y.Oa,m,D?11:12))return 0;if(D&&qn(S)&&uf(),m.da)alert("todo:use_scaling");else{if(L){if(y.Ib=sl,m.Kb){if(y.memory=_(m.U+2*(S=m.U+1>>1)),null==y.memory)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+m.U,y.Mc=y.cc,y.Nc=y.dc+S,y.Ib=Hi,uf()}}else alert("todo:EmitYUV");D&&(y.Jb=Xa,L&&Na())}if(L&&!hm){for(m=0;256>m;++m)Km[m]=89858*(m-128)+bf>>yf,Qm[m]=-22014*(m-128)+bf,Vm[m]=-45773*(m-128),Wm[m]=113618*(m-128)+bf>>yf;for(m=m1;m<Og;++m)$m[m-m1]=si(y=76283*(m-16)+bf>>yf,255),Xm[m-m1]=si(y+8>>4,15);hm=1}return 1}function fn(m){var y=m.ma,S=m.U,L=m.T;return l(!(1&m.ka)),0>=S||0>=L?0:(S=y.Ib(m,y),null!=y.Jb&&y.Jb(m,y,S),y.Dc+=S,1)}function es(m){m.ma.memory=null}function ts(m,y,S,L){return 47!=At(m,8)?0:(y[0]=At(m,14)+1,S[0]=At(m,14)+1,L[0]=At(m,1),0!=At(m,3)?0:!m.h)}function Sr(m,y){if(4>m)return m+1;var S=m-2>>1;return(2+(1&m)<<S)+At(y,S)+1}function Si(m,y){return 120<y?y-120:1<=(S=((S=Lm[y-1])>>4)*m+(8-(15&S)))?S:1;var S}function Ho(m,y,S){var L=_e(S),D=m[y+=255&L].g-8;return 0<D&&(Oe(S,S.u+8),L=_e(S),y+=m[y].value,y+=L&(1<<D)-1),Oe(S,S.u+m[y].g),m[y].value}function bi(m,y,S){return S.g+=m.g,S.value+=m.value<<y>>>0,l(8>=S.g),m.g}function ki(m,y,S){var L=m.xc;return l((y=0==L?0:m.vc[m.md*(S>>L)+(y>>L)])<m.Wb),m.Ya[y]}function ll(m,y,S,L){var D=m.ab,B=m.c*y,z=m.C;y=z+y;var K=S,$=L;for(L=m.Ta,S=m.Ua;0<D--;){var ne=m.gc[D],we=z,Re=y,oe=K,Ue=$,Me=($=L,K=S,ne.Ea);switch(l(we<Re),l(Re<=ne.nc),ne.hc){case 2:gi(oe,Ue,(Re-we)*Me,$,K);break;case 0:var Xe=we,je=Re,nt=$,st=K,xt=(Qt=ne).Ea;0==Xe&&(s1(oe,Ue,null,null,1,nt,st),ho(oe,Ue+1,0,0,xt-1,nt,st+1),Ue+=xt,st+=xt,++Xe);for(var mt=1<<Qt.b,on=mt-1,Yt=Ct(xt,Qt.b),Fn=Qt.K,Qt=Qt.w+(Xe>>Qt.b)*Yt;Xe<je;){var $n=Fn,Ii=Qt,jn=1;for(qd(oe,Ue,nt,st-xt,1,nt,st);jn<xt;){var $t=(jn&~on)+mt;$t>xt&&($t=xt),(0,u1[$n[Ii++]>>8&15])(oe,Ue+ +jn,nt,st+jn-xt,$t-jn,nt,st+jn),jn=$t}Ue+=xt,st+=xt,++Xe&on||(Qt+=Yt)}Re!=ne.nc&&f($,K-Me,$,K+(Re-we-1)*Me,Me);break;case 1:for(Me=oe,je=Ue,xt=(oe=ne.Ea)-(st=oe&~(nt=(Ue=1<<ne.b)-1)),Xe=Ct(oe,ne.b),mt=ne.K,ne=ne.w+(we>>ne.b)*Xe;we<Re;){for(on=mt,Yt=ne,Fn=new Nn,Qt=je+st,$n=je+oe;je<Qt;)rn(on[Yt++],Fn),c1(Fn,Me,je,Ue,$,K),je+=Ue,K+=Ue;je<$n&&(rn(on[Yt++],Fn),c1(Fn,Me,je,xt,$,K),je+=xt,K+=xt),++we&nt||(ne+=Xe)}break;case 3:if(oe==$&&Ue==K&&0<ne.b){for(je=$,oe=Me=K+(Re-we)*Me-(st=(Re-we)*Ct(ne.Ea,ne.b)),Ue=$,nt=K,Xe=[],st=(xt=st)-1;0<=st;--st)Xe[st]=Ue[nt+st];for(st=xt-1;0<=st;--st)je[oe+st]=Xe[st];df(ne,we,Re,$,Me,$,K)}else df(ne,we,Re,oe,Ue,$,K)}K=L,$=S}$!=S&&f(L,S,K,$,B)}function qs(m,y){var S=m.V,L=m.Ba+m.c*m.C,D=y-m.C;if(l(y<=m.l.o),l(16>=D),0<D){var B=m.l,z=m.Ta,K=m.Ua,$=B.width;if(ll(m,D,S,L),D=K=[K],l((S=m.C)<(L=y)),l(B.v<B.va),L>B.o&&(L=B.o),S<B.j){var ne=B.j-S;S=B.j,D[0]+=ne*$}if(S>=L?S=0:(D[0]+=4*B.v,B.ka=S-B.j,B.U=B.va-B.v,B.T=L-S,S=1),S){if(K=K[0],11>(S=m.ca).S){var we=S.f.RGBA,Re=(L=S.S,D=B.U,B=B.T,ne=we.eb,we.A),oe=B;for(we=we.fb+m.Ma*we.A;0<oe--;){var Ue=z,Me=K,Xe=D,je=ne,nt=we;switch(L){case gf:d1(Ue,Me,Xe,je,nt);break;case mf:ou(Ue,Me,Xe,je,nt);break;case kg:ou(Ue,Me,Xe,je,nt),f1(je,nt,0,Xe,1,0);break;case am:uc(Ue,Me,Xe,je,nt);break;case hf:pn(Ue,Me,Xe,je,nt,1);break;case Ng:pn(Ue,Me,Xe,je,nt,1),f1(je,nt,0,Xe,1,0);break;case _f:pn(Ue,Me,Xe,je,nt,0);break;case vf:pn(Ue,Me,Xe,je,nt,0),f1(je,nt,1,Xe,1,0);break;case Sg:iu(Ue,Me,Xe,je,nt);break;case Pg:iu(Ue,Me,Xe,je,nt),$g(je,nt,Xe,1,0);break;case sm:ru(Ue,Me,Xe,je,nt);break;default:l(0)}K+=$,we+=Re}m.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");l(m.Ma<=S.height)}}m.C=y,l(m.C<=m.i)}function Hr(m){var y;if(0<m.ua)return 0;for(y=0;y<m.Wb;++y){var S=m.Ya[y].G,L=m.Ya[y].H;if(0<S[1][L[1]+0].g||0<S[2][L[2]+0].g||0<S[3][L[3]+0].g)return 0}return 1}function Ua(m,y,S,L,D,B){if(0!=m.Z){var z=m.qd,K=m.rd;for(l(null!=lu[m.Z]);y<S;++y)lu[m.Z](z,K,L,D,L,D,B),z=L,K=D,D+=B;m.qd=z,m.rd=K}}function Yr(m,y){var S=m.l.ma,L=0==S.Z||1==S.Z?m.l.j:m.C;if(L=m.C<L?L:m.C,l(y<=m.l.o),y>L){var D=m.l.width,B=S.ca,z=S.tb+D*L,K=m.V,$=m.Ba+m.c*L,ne=m.gc;l(1==m.ab),l(3==ne[0].hc),Ss(ne[0],L,y,K,$,B,z),Ua(S,L,y,B,z,D)}m.C=m.Ma=y}function Kr(m,y,S,L,D,B,z){var K=m.$/L,$=m.$%L,ne=m.m,we=m.s,Re=S+m.$,oe=Re;D=S+L*D;var Ue=S+L*B,Me=280+we.ua,Xe=m.Pb?K:16777216,je=0<we.ua?we.Wa:null,nt=we.wc,st=Re<Ue?ki(we,$,K):null;l(m.C<B),l(Ue<=D);var xt=!1;e:for(;;){for(;xt||Re<Ue;){var mt=0;if(K>=Xe){var on=Re-S;l((Xe=m).Pb),Xe.wd=Xe.m,Xe.xd=on,0<Xe.s.ua&&Yn(Xe.s.Wa,Xe.s.vb),Xe=K+Em}if($&nt||(st=ki(we,$,K)),l(null!=st),st.Qb&&(y[Re]=st.qb,xt=!0),!xt)if(De(ne),st.jc){on=y;var Yt=Re,Fn=st.pd[_e(mt=ne)&lc-1];l(st.jc),256>Fn.g?(Oe(mt,mt.u+Fn.g),on[Yt]=Fn.value,mt=0):(Oe(mt,mt.u+Fn.g-256),l(256<=Fn.value),mt=Fn.value),0==mt&&(xt=!0)}else mt=Ho(st.G[0],st.H[0],ne);if(ne.h)break;if(xt||256>mt){if(!xt)if(st.nd)y[Re]=(st.qb|mt<<8)>>>0;else{if(De(ne),xt=Ho(st.G[1],st.H[1],ne),De(ne),on=Ho(st.G[2],st.H[2],ne),Yt=Ho(st.G[3],st.H[3],ne),ne.h)break;y[Re]=(Yt<<24|xt<<16|mt<<8|on)>>>0}if(xt=!1,++Re,++$>=L&&($=0,++K,null!=z&&K<=B&&!(K%16)&&z(m,K),null!=je))for(;oe<Re;)mt=y[oe++],je.X[(506832829*mt&4294967295)>>>je.Mb]=mt}else if(280>mt){if(mt=Sr(mt-256,ne),on=Ho(st.G[4],st.H[4],ne),De(ne),on=Si(L,on=Sr(on,ne)),ne.h)break;if(Re-S<on||D-Re<mt)break e;for(Yt=0;Yt<mt;++Yt)y[Re+Yt]=y[Re+Yt-on];for(Re+=mt,$+=mt;$>=L;)$-=L,++K,null!=z&&K<=B&&!(K%16)&&z(m,K);if(l(Re<=D),$&nt&&(st=ki(we,$,K)),null!=je)for(;oe<Re;)mt=y[oe++],je.X[(506832829*mt&4294967295)>>>je.Mb]=mt}else{if(!(mt<Me))break e;for(xt=mt-280,l(null!=je);oe<Re;)mt=y[oe++],je.X[(506832829*mt&4294967295)>>>je.Mb]=mt;mt=Re,l(!(xt>>>(on=je).Xa)),y[mt]=on.X[xt],xt=!0}xt||l(ne.h==ke(ne))}if(m.Pb&&ne.h&&Re<D)l(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Yn(m.s.vb,m.s.Wa);else{if(ne.h)break e;z?.(m,K>B?B:K),m.a=0,m.$=Re-S}return 1}return m.a=3,0}function kr(m){l(null!=m),m.vc=null,m.yc=null,m.Ya=null;var y=m.Wa;null!=y&&(y.X=null),m.vb=null,l(null!=m)}function ul(){var m=new en;return null==m?null:(m.a=0,m.xb=cm,Vn("Predictor","VP8LPredictors"),Vn("Predictor","VP8LPredictors_C"),Vn("PredictorAdd","VP8LPredictorsAdd"),Vn("PredictorAdd","VP8LPredictorsAdd_C"),gi=Pn,c1=hn,d1=Co,ou=io,iu=Ht,ru=Cn,uc=bo,Te.VP8LMapColor32b=Us,Te.VP8LMapColor8b=l1,m)}function Sa(m,y,S,L,D){var B=1,z=[m],K=[y],$=L.m,ne=L.s,we=null,Re=0;e:for(;;){if(S)for(;B&&At($,1);){var oe=z,Ue=K,Me=L,Xe=1,je=Me.m,nt=Me.gc[Me.ab],st=At(je,2);if(Me.Oc&1<<st)B=0;else{switch(Me.Oc|=1<<st,nt.hc=st,nt.Ea=oe[0],nt.nc=Ue[0],nt.K=[null],++Me.ab,l(4>=Me.ab),st){case 0:case 1:nt.b=At(je,3)+2,Xe=Sa(Ct(nt.Ea,nt.b),Ct(nt.nc,nt.b),0,Me,nt.K),nt.K=nt.K[0];break;case 3:var xt,mt=At(je,8)+1,on=16<mt?0:4<mt?1:2<mt?2:3;if(oe[0]=Ct(nt.Ea,on),nt.b=on,xt=Xe=Sa(mt,1,0,Me,nt.K)){var Yt,Fn=mt,Qt=nt,$n=1<<(8>>Qt.b),Ii=_($n);if(null==Ii)xt=0;else{var jn=Qt.K[0],$t=Qt.w;for(Ii[0]=Qt.K[0][0],Yt=1;Yt<1*Fn;++Yt)Ii[Yt]=nn(jn[$t+Yt],Ii[Yt-1]);for(;Yt<4*$n;++Yt)Ii[Yt]=0;Qt.K[0]=null,Qt.K[0]=Ii,xt=1}}Xe=xt;break;case 2:break;default:l(0)}B=Xe}}if(z=z[0],K=K[0],B&&At($,1)&&!(B=1<=(Re=At($,4))&&11>=Re)){L.a=3;break e}var Lt;if(Lt=B)t:{var hi,On,to,Do=L,tr=z,xr=K,li=Re,pr=S,Ar=Do.m,Li=Do.s,ro=[null],Ao=1,ui=0,To=Om[li];n:for(;;){if(pr&&At(Ar,1)){var nr=At(Ar,3)+2,os=Ct(tr,nr),_i=Ct(xr,nr),Lr=os*_i;if(!Sa(os,_i,0,Do,ro))break n;for(ro=ro[0],Li.xc=nr,hi=0;hi<Lr;++hi){var Io=ro[hi]>>8&65535;ro[hi]=Io,Io>=Ao&&(Ao=Io+1)}}if(Ar.h)break n;for(On=0;5>On;++On){var Oi=lm[On];!On&&0<li&&(Oi+=1<<li),ui<Oi&&(ui=Oi)}var ta=w(Ao*To,xe),Tr=Ao,na=w(Tr,Qe);if(null==na)var oa=null;else l(65536>=Tr),oa=na;var Or=_(ui);if(null==oa||null==Or||null==ta){Do.a=1;break n}var ia=ta;for(hi=to=0;hi<Ao;++hi){var Oo=oa[hi],ra=Oo.G,is=Oo.H,dc=0,yl=1,or=0;for(On=0;5>On;++On){Oi=lm[On],ra[On]=ia,is[On]=to,!On&&0<li&&(Oi+=1<<li);i:{var xf,Eg=Oi,Af=Do,h1=Or,nh=ia,oh=to,Mg=0,uu=Af.m,ih=At(uu,1);if(h(h1,0,0,Eg),ih){var rh=At(uu,1)+1,ah=At(uu,1),ym=At(uu,0==ah?1:8);h1[ym]=1,2==rh&&(h1[ym=At(uu,8)]=1);var Tf=1}else{var bm=_(19),Zm=At(uu,4)+4;if(19<Zm){Af.a=3;var wf=0;break i}for(xf=0;xf<Zm;++xf)bm[Im[xf]]=At(uu,3);var Fg=void 0,_1=void 0,xm=Af,sh=bm,Cf=Eg,Am=h1,jg=0,cu=xm.m,Tm=8,wm=w(128,xe);o:for(;se(wm,0,7,sh,19);){if(At(cu,1)){var lh=2+2*At(cu,3);if((Fg=2+At(cu,lh))>Cf)break o}else Fg=Cf;for(_1=0;_1<Cf&&Fg--;){De(cu);var Cm=wm[0+(127&_e(cu))];Oe(cu,cu.u+Cm.g);var Sd=Cm.value;if(16>Sd)Am[_1++]=Sd,0!=Sd&&(Tm=Sd);else{var uh=16==Sd,qm=Sd-16,ch=Nm[qm],Um=At(cu,km[qm])+ch;if(_1+Um>Cf)break o;for(var dh=uh?Tm:0;0<Um--;)Am[_1++]=dh}}jg=1;break o}jg||(xm.a=3),Tf=jg}(Tf=Tf&&!uu.h)&&(Mg=se(nh,oh,8,h1,Eg)),Tf&&0!=Mg?wf=Mg:(Af.a=3,wf=0)}if(0==wf)break n;if(yl&&1==Pm[On]&&(yl=0==ia[to].g),dc+=ia[to].g,to+=wf,3>=On){var v1,Rg=Or[0];for(v1=1;v1<Oi;++v1)Or[v1]>Rg&&(Rg=Or[v1]);or+=Rg}}if(Oo.nd=yl,Oo.Qb=0,yl&&(Oo.qb=(ra[3][is[3]+0].value<<24|ra[1][is[1]+0].value<<16|ra[2][is[2]+0].value)>>>0,0==dc&&256>ra[0][is[0]+0].value&&(Oo.Qb=1,Oo.qb+=ra[0][is[0]+0].value<<8)),Oo.jc=!Oo.Qb&&6>or,Oo.jc){var qf,bl=Oo;for(qf=0;qf<lc;++qf){var du=qf,pu=bl.pd[du],Uf=bl.G[0][bl.H[0]+du];256<=Uf.value?(pu.g=Uf.g+256,pu.value=Uf.value):(pu.g=0,pu.value=0,du>>=bi(Uf,8,pu),du>>=bi(bl.G[1][bl.H[1]+du],16,pu),du>>=bi(bl.G[2][bl.H[2]+du],0,pu),bi(bl.G[3][bl.H[3]+du],24,pu))}}}Li.vc=ro,Li.Wb=Ao,Li.Ya=oa,Li.yc=ta,Lt=1;break t}Lt=0}if(!(B=Lt)){L.a=3;break e}if(0<Re){if(ne.ua=1<<Re,!de(ne.Wa,Re)){L.a=1,B=0;break e}}else ne.ua=0;var Dg=L,Sm=z,ph=K,Bg=Dg.s,zg=Bg.xc;if(Dg.c=Sm,Dg.i=ph,Bg.md=Ct(Sm,zg),Bg.wc=0==zg?-1:(1<<zg)-1,S){L.xb=zm;break e}if(null==(we=_(z*K))){L.a=1,B=0;break e}B=(B=Kr(L,we,0,z,K,K,null))&&!$.h;break e}return B?(null!=D?D[0]=we:(l(null==we),l(S)),L.$=0,S||kr(ne)):kr(ne),B}function cl(m,y){var S=m.c*m.i,L=S+y+16*y;return l(m.c<=y),m.V=_(L),null==m.V?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+S+y,1)}function Wl(m,y){var S=m.C,L=y-S,D=m.V,B=m.Ba+m.c*S;for(l(y<=m.l.o);0<L;){var z=16<L?16:L,K=m.l.ma,$=m.l.width,ne=$*z,we=K.ca,Re=K.tb+$*S,oe=m.Ta,Ue=m.Ua;ll(m,z,D,B),em(oe,Ue,we,Re,ne),Ua(K,S,S+z,we,Re,$),L-=z,D+=z*m.c,S+=z}l(S==y),m.C=m.Ma=y}function Vl(){this.ub=this.yd=this.td=this.Rb=0}function Wr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Kp(){this.Fb=this.Bb=this.Cb=0,this.Zb=_(4),this.Lb=_(4)}function Hu(){var m;this.Yb=(function y(S,L,D){for(var B=D[L],z=0;z<B&&(S.push(D.length>L+1?[]:0),!(D.length<L+1));z++)y(S[z],L+1,D)}(m=[],0,[3,11]),m)}function yd(){this.jb=_(3),this.Wc=x([4,8],Hu),this.Xc=x([4,17],Hu)}function Wp(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new _(4),this.od=new _(4)}function Nr(){this.ld=this.La=this.dd=this.tc=0}function Yu(){this.Na=this.la=0}function bd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function c(){this.ad=_(384),this.Za=0,this.Ob=_(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function n(){this.uc=this.M=this.Nb=0,this.wa=Array(new Nr),this.Y=0,this.ya=Array(new c),this.aa=0,this.l=new p}function t(){this.y=_(16),this.f=_(8),this.ea=_(8)}function s(){this.cb=this.a=0,this.sc="",this.m=new J,this.Od=new Vl,this.Kc=new Wr,this.ed=new Wp,this.Qa=new Kp,this.Ic=this.$c=this.Aa=0,this.D=new n,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=w(8,J),this.ia=0,this.pb=w(4,bd),this.Pa=new yd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new t),this.Hd=0,this.rb=Array(new Yu),this.sb=0,this.wa=Array(new Nr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new c),this.L=this.aa=0,this.gd=x([4,2],Nr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function p(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function C(){var m=new s;return null!=m&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,g1||(g1=un)),m}function O(m,y,S){return 0==m.a&&(m.a=y,m.sc=S,m.cb=0),0}function qe(m,y,S){return 3<=S&&157==m[y+0]&&1==m[y+1]&&42==m[y+2]}function Ln(m,y){if(null==m)return 0;if(m.a=0,m.sc="OK",null==y)return O(m,2,"null VP8Io passed to VP8GetHeaders()");var S=y.data,L=y.w,D=y.ha;if(4>D)return O(m,7,"Truncated header.");var B=S[L+0]|S[L+1]<<8|S[L+2]<<16,z=m.Od;if(z.Rb=!(1&B),z.td=B>>1&7,z.yd=B>>4&1,z.ub=B>>5,3<z.td)return O(m,3,"Incorrect keyframe parameters.");if(!z.yd)return O(m,4,"Frame not displayable.");L+=3,D-=3;var K=m.Kc;if(z.Rb){if(7>D)return O(m,7,"cannot parse picture header");if(!qe(S,L,D))return O(m,3,"Bad code word");K.c=16383&(S[L+4]<<8|S[L+3]),K.Td=S[L+4]>>6,K.i=16383&(S[L+6]<<8|S[L+5]),K.Ud=S[L+6]>>6,L+=7,D-=7,m.za=K.c+15>>4,m.Ub=K.i+15>>4,y.width=K.c,y.height=K.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,h((B=m.Pa).jb,0,255,B.jb.length),l(null!=(B=m.Qa)),B.Cb=0,B.Bb=0,B.Fb=1,h(B.Zb,0,0,B.Zb.length),h(B.Lb,0,0,B.Lb)}if(z.ub>D)return O(m,7,"bad partition length");rt(B=m.m,S,L,z.ub),L+=z.ub,D-=z.ub,z.Rb&&(K.Ld=We(B),K.Kd=We(B)),K=m.Qa;var $,ne=m.Pa;if(l(null!=B),l(null!=K),K.Cb=We(B),K.Cb){if(K.Bb=We(B),We(B)){for(K.Fb=We(B),$=0;4>$;++$)K.Zb[$]=We(B)?Ge(B,7):0;for($=0;4>$;++$)K.Lb[$]=We(B)?Ge(B,6):0}if(K.Bb)for($=0;3>$;++$)ne.jb[$]=We(B)?ft(B,8):255}else K.Bb=0;if(B.Ka)return O(m,3,"cannot parse segment header");if((K=m.ed).zd=We(B),K.Tb=ft(B,6),K.wb=ft(B,3),K.Pc=We(B),K.Pc&&We(B)){for(ne=0;4>ne;++ne)We(B)&&(K.vd[ne]=Ge(B,6));for(ne=0;4>ne;++ne)We(B)&&(K.od[ne]=Ge(B,6))}if(m.L=0==K.Tb?0:K.zd?1:2,B.Ka)return O(m,3,"cannot parse filter header");var we=D;if(D=$=L,L=$+we,K=we,m.Xb=(1<<ft(m.m,2))-1,we<3*(ne=m.Xb))S=7;else{for($+=3*ne,K-=3*ne,we=0;we<ne;++we){var Re=S[D+0]|S[D+1]<<8|S[D+2]<<16;Re>K&&(Re=K),rt(m.Jc[+we],S,$,Re),$+=Re,K-=Re,D+=3}rt(m.Jc[+ne],S,$,K),S=$<L?0:5}if(0!=S)return O(m,S,"cannot parse partitions");for(S=ft($=m.m,7),D=We($)?Ge($,4):0,L=We($)?Ge($,4):0,K=We($)?Ge($,4):0,ne=We($)?Ge($,4):0,$=We($)?Ge($,4):0,we=m.Qa,Re=0;4>Re;++Re){if(we.Cb){var oe=we.Zb[Re];we.Fb||(oe+=S)}else{if(0<Re){m.pb[Re]=m.pb[0];continue}oe=S}var Ue=m.pb[Re];Ue.Sc[0]=Ig[si(oe+D,127)],Ue.Sc[1]=Lg[si(oe+0,127)],Ue.Eb[0]=2*Ig[si(oe+L,127)],Ue.Eb[1]=101581*Lg[si(oe+K,127)]>>16,8>Ue.Eb[1]&&(Ue.Eb[1]=8),Ue.Qc[0]=Ig[si(oe+ne,117)],Ue.Qc[1]=Lg[si(oe+$,127)],Ue.lc=oe+$}if(!z.Rb)return O(m,4,"Not a key frame.");for(We(B),z=m.Pa,S=0;4>S;++S){for(D=0;8>D;++D)for(L=0;3>L;++L)for(K=0;11>K;++K)ne=dt(B,Dm[S][D][L][K])?ft(B,8):jm[S][D][L][K],z.Wc[S][D].Yb[L][K]=ne;for(D=0;17>D;++D)z.Xc[S][D]=z.Wc[S][Bm[D]]}return m.kc=We(B),m.kc&&(m.Bd=ft(B,8)),m.cb=1}function un(m,y,S,L,D,B,z){var K=y[D].Yb[S];for(S=0;16>D;++D){if(!dt(m,K[S+0]))return D;for(;!dt(m,K[S+1]);)if(K=y[++D].Yb[0],S=0,16==D)return 16;var $=y[D+1].Yb;if(dt(m,K[S+2])){var ne=m,we=0;if(dt(ne,(oe=K)[(Re=S)+3]))if(dt(ne,oe[Re+6])){for(K=0,Re=2*(we=dt(ne,oe[Re+8]))+(oe=dt(ne,oe[Re+9+we])),we=0,oe=Mm[Re];oe[K];++K)we+=we+dt(ne,oe[K]);we+=3+(8<<Re)}else dt(ne,oe[Re+7])?(we=7+2*dt(ne,165),we+=dt(ne,145)):we=5+dt(ne,159);else we=dt(ne,oe[Re+4])?3+dt(ne,oe[Re+5]):2;K=$[2]}else we=1,K=$[1];$=z+Fm[D],0>(ne=m).b&&Ve(ne);var Re,oe=ne.b,Ue=(Re=ne.Ca>>1)-(ne.I>>oe)>>31;--ne.b,ne.Ca+=Ue,ne.Ca|=1,ne.I-=(Re+1&Ue)<<oe,B[$]=((we^Ue)-Ue)*L[(0<D)+0]}return 16}function Mn(m){var y=m.rb[m.sb-1];y.la=0,y.Na=0,h(m.zc,0,0,m.zc.length),m.ja=0}function fo(m,y,S,L,D){m[y+S+32*L]=-256&(D=m[y+S+32*L]+(D>>3))?0>D?0:255:D}function ai(m,y,S,L,D,B){fo(m,y,0,S,L+D),fo(m,y,1,S,L+B),fo(m,y,2,S,L-B),fo(m,y,3,S,L-D)}function eo(m){return(20091*m>>16)+m}function cr(m,y,S,L){var D,B=0,z=_(16);for(D=0;4>D;++D){var K=m[y+0]+m[y+8],$=m[y+0]-m[y+8],ne=(35468*m[y+4]>>16)-eo(m[y+12]),we=eo(m[y+4])+(35468*m[y+12]>>16);z[B+0]=K+we,z[B+1]=$+ne,z[B+2]=$-ne,z[B+3]=K-we,B+=4,y++}for(D=B=0;4>D;++D)K=(m=z[B+0]+4)+z[B+8],$=m-z[B+8],ne=(35468*z[B+4]>>16)-eo(z[B+12]),fo(S,L,0,0,K+(we=eo(z[B+4])+(35468*z[B+12]>>16))),fo(S,L,1,0,$+ne),fo(S,L,2,0,$-ne),fo(S,L,3,0,K-we),B++,L+=32}function Zi(m,y,S,L){var D=m[y+0]+4,B=35468*m[y+4]>>16,z=eo(m[y+4]),K=35468*m[y+1]>>16;ai(S,L,0,D+z,m=eo(m[y+1]),K),ai(S,L,1,D+B,m,K),ai(S,L,2,D-B,m,K),ai(S,L,3,D-z,m,K)}function Vr(m,y,S,L,D){cr(m,y,S,L),D&&cr(m,y+16,S,L+4)}function Qr(m,y,S,L){cc(m,y+0,S,L,1),cc(m,y+32,S,L+128,1)}function Zr(m,y,S,L){var D;for(m=m[y+0]+4,D=0;4>D;++D)for(y=0;4>y;++y)fo(S,L,y,D,m)}function Pr(m,y,S,L){m[y+0]&&_o(m,y+0,S,L),m[y+16]&&_o(m,y+16,S,L+4),m[y+32]&&_o(m,y+32,S,L+128),m[y+48]&&_o(m,y+48,S,L+128+4)}function Ql(m,y,S,L){var D,B=_(16);for(D=0;4>D;++D){var z=m[y+0+D]+m[y+12+D],K=m[y+4+D]+m[y+8+D],$=m[y+4+D]-m[y+8+D],ne=m[y+0+D]-m[y+12+D];B[0+D]=z+K,B[8+D]=z-K,B[4+D]=ne+$,B[12+D]=ne-$}for(D=0;4>D;++D)z=(m=B[0+4*D]+3)+B[3+4*D],$=B[1+4*D]-B[2+4*D],ne=m-B[3+4*D],S[L+0]=z+(K=B[1+4*D]+B[2+4*D])>>3,S[L+16]=ne+$>>3,S[L+32]=z-K>>3,S[L+48]=ne-$>>3,L+=64}function ka(m,y,S){var L,D=y-32,B=ea,z=255-m[D-1];for(L=0;L<S;++L){var K,$=B,ne=z+m[y-1];for(K=0;K<S;++K)m[y+K]=$[ne+m[D+K]];y+=32}}function xo(m,y){ka(m,y,4)}function No(m,y){ka(m,y,8)}function vg(m,y){ka(m,y,16)}function yg(m,y){var S;for(S=0;16>S;++S)f(m,y+32*S,m,y-32,16)}function Vp(m,y){var S;for(S=16;0<S;--S)h(m,y,m[y-1],16),y+=32}function Ku(m,y,S){var L;for(L=0;16>L;++L)h(y,S+32*L,m,16)}function $l(m,y){var S,L=16;for(S=0;16>S;++S)L+=m[y-1+32*S]+m[y+S-32];Ku(L>>5,m,y)}function bg(m,y){var S,L=8;for(S=0;16>S;++S)L+=m[y-1+32*S];Ku(L>>4,m,y)}function Wu(m,y){var S,L=8;for(S=0;16>S;++S)L+=m[y+S-32];Ku(L>>4,m,y)}function Qp(m,y){Ku(128,m,y)}function Un(m,y,S){return m+2*y+S+2>>2}function Zg(m,y){var S,L=y-32;for(L=new Uint8Array([Un(m[L-1],m[L+0],m[L+1]),Un(m[L+0],m[L+1],m[L+2]),Un(m[L+1],m[L+2],m[L+3]),Un(m[L+2],m[L+3],m[L+4])]),S=0;4>S;++S)f(m,y+32*S,L,0,L.length)}function xg(m,y){var S=m[y-1],L=m[y-1+32],D=m[y-1+64],B=m[y-1+96];Ut(m,y+0,16843009*Un(m[y-1-32],S,L)),Ut(m,y+32,16843009*Un(S,L,D)),Ut(m,y+64,16843009*Un(L,D,B)),Ut(m,y+96,16843009*Un(D,B,B))}function Ag(m,y){var S,L=4;for(S=0;4>S;++S)L+=m[y+S-32]+m[y-1+32*S];for(L>>=3,S=0;4>S;++S)h(m,y+32*S,L,4)}function Tg(m,y){var S=m[y-1+0],L=m[y-1+32],D=m[y-1+64],B=m[y-1-32],z=m[y+0-32],K=m[y+1-32],$=m[y+2-32],ne=m[y+3-32];m[y+0+96]=Un(L,D,m[y-1+96]),m[y+1+96]=m[y+0+64]=Un(S,L,D),m[y+2+96]=m[y+1+64]=m[y+0+32]=Un(B,S,L),m[y+3+96]=m[y+2+64]=m[y+1+32]=m[y+0+0]=Un(z,B,S),m[y+3+64]=m[y+2+32]=m[y+1+0]=Un(K,z,B),m[y+3+32]=m[y+2+0]=Un($,K,z),m[y+3+0]=Un(ne,$,K)}function dl(m,y){var S=m[y+1-32],L=m[y+2-32],D=m[y+3-32],B=m[y+4-32],z=m[y+5-32],K=m[y+6-32],$=m[y+7-32];m[y+0+0]=Un(m[y+0-32],S,L),m[y+1+0]=m[y+0+32]=Un(S,L,D),m[y+2+0]=m[y+1+32]=m[y+0+64]=Un(L,D,B),m[y+3+0]=m[y+2+32]=m[y+1+64]=m[y+0+96]=Un(D,B,z),m[y+3+32]=m[y+2+64]=m[y+1+96]=Un(B,z,K),m[y+3+64]=m[y+2+96]=Un(z,K,$),m[y+3+96]=Un(K,$,$)}function pl(m,y){var S=m[y-1+0],L=m[y-1+32],D=m[y-1+64],B=m[y-1-32],z=m[y+0-32],K=m[y+1-32],$=m[y+2-32],ne=m[y+3-32];m[y+0+0]=m[y+1+64]=B+z+1>>1,m[y+1+0]=m[y+2+64]=z+K+1>>1,m[y+2+0]=m[y+3+64]=K+$+1>>1,m[y+3+0]=$+ne+1>>1,m[y+0+96]=Un(D,L,S),m[y+0+64]=Un(L,S,B),m[y+0+32]=m[y+1+96]=Un(S,B,z),m[y+1+32]=m[y+2+96]=Un(B,z,K),m[y+2+32]=m[y+3+96]=Un(z,K,$),m[y+3+32]=Un(K,$,ne)}function wg(m,y){var S=m[y+0-32],L=m[y+1-32],D=m[y+2-32],B=m[y+3-32],z=m[y+4-32],K=m[y+5-32],$=m[y+6-32],ne=m[y+7-32];m[y+0+0]=S+L+1>>1,m[y+1+0]=m[y+0+64]=L+D+1>>1,m[y+2+0]=m[y+1+64]=D+B+1>>1,m[y+3+0]=m[y+2+64]=B+z+1>>1,m[y+0+32]=Un(S,L,D),m[y+1+32]=m[y+0+96]=Un(L,D,B),m[y+2+32]=m[y+1+96]=Un(D,B,z),m[y+3+32]=m[y+2+96]=Un(B,z,K),m[y+3+64]=Un(z,K,$),m[y+3+96]=Un(K,$,ne)}function Cg(m,y){var S=m[y-1+0],L=m[y-1+32],D=m[y-1+64],B=m[y-1+96];m[y+0+0]=S+L+1>>1,m[y+2+0]=m[y+0+32]=L+D+1>>1,m[y+2+32]=m[y+0+64]=D+B+1>>1,m[y+1+0]=Un(S,L,D),m[y+3+0]=m[y+1+32]=Un(L,D,B),m[y+3+32]=m[y+1+64]=Un(D,B,B),m[y+3+64]=m[y+2+64]=m[y+0+96]=m[y+1+96]=m[y+2+96]=m[y+3+96]=B}function Zd(m,y){var S=m[y-1+0],L=m[y-1+32],D=m[y-1+64],B=m[y-1+96],z=m[y-1-32],K=m[y+0-32],$=m[y+1-32],ne=m[y+2-32];m[y+0+0]=m[y+2+32]=S+z+1>>1,m[y+0+32]=m[y+2+64]=L+S+1>>1,m[y+0+64]=m[y+2+96]=D+L+1>>1,m[y+0+96]=B+D+1>>1,m[y+3+0]=Un(K,$,ne),m[y+2+0]=Un(z,K,$),m[y+1+0]=m[y+3+32]=Un(S,z,K),m[y+1+32]=m[y+3+64]=Un(L,S,z),m[y+1+64]=m[y+3+96]=Un(D,L,S),m[y+1+96]=Un(B,D,L)}function $p(m,y){var S;for(S=0;8>S;++S)f(m,y+32*S,m,y-32,8)}function Vu(m,y){var S;for(S=0;8>S;++S)h(m,y,m[y-1],8),y+=32}function xd(m,y,S){var L;for(L=0;8>L;++L)h(y,S+32*L,m,8)}function Ad(m,y){var S,L=8;for(S=0;8>S;++S)L+=m[y+S-32]+m[y-1+32*S];xd(L>>4,m,y)}function qg(m,y){var S,L=4;for(S=0;8>S;++S)L+=m[y+S-32];xd(L>>3,m,y)}function Xp(m,y){var S,L=4;for(S=0;8>S;++S)L+=m[y-1+32*S];xd(L>>3,m,y)}function e1(m,y){xd(128,m,y)}function Qu(m,y,S){var L=m[y-S],D=m[y+0],B=3*(D-L)+Ug[1020+m[y-2*S]-m[y+S]],z=ff[112+(B+4>>3)];m[y-S]=ea[255+L+ff[112+(B+3>>3)]],m[y+0]=ea[255+D-z]}function $u(m,y,S,L){return La[255+m[y-2*S]-m[y-S]]>L||La[255+m[y+S]-m[y+0]]>L}function t1(m,y,S,L){return 4*La[255+m[y-S]-m[y+0]]+La[255+m[y-2*S]-m[y+S]]<=L}function Td(m,y,S,L,D){var B=m[y-3*S],z=m[y-2*S],K=m[y-S],$=m[y+0],ne=m[y+S],we=m[y+2*S];return 4*La[255+K-$]+La[255+z-ne]>L?0:La[255+m[y-4*S]-B]<=D&&La[255+B-z]<=D&&La[255+z-K]<=D&&La[255+m[y+3*S]-we]<=D&&La[255+we-ne]<=D&&La[255+ne-$]<=D}function n1(m,y,S,L){var D=2*L+1;for(L=0;16>L;++L)t1(m,y+L,S,D)&&Qu(m,y+L,S)}function Xu(m,y,S,L){var D=2*L+1;for(L=0;16>L;++L)t1(m,y+L*S,1,D)&&Qu(m,y+L*S,1)}function of(m,y,S,L){var D;for(D=3;0<D;--D)n1(m,y+=4*S,S,L)}function rf(m,y,S,L){var D;for(D=3;0<D;--D)Xu(m,y+=4,S,L)}function fl(m,y,S,L,D,B,z,K){for(B=2*B+1;0<D--;){if(Td(m,y,S,B,z))if($u(m,y,S,K))Qu(m,y,S);else{var $=m,ne=y,we=S,Re=$[ne-2*we],oe=$[ne-we],Ue=$[ne+0],Me=$[ne+we],Xe=$[ne+2*we],je=27*(st=Ug[1020+3*(Ue-oe)+Ug[1020+Re-Me]])+63>>7,nt=18*st+63>>7,st=9*st+63>>7;$[ne-3*we]=ea[255+$[ne-3*we]+st],$[ne-2*we]=ea[255+Re+nt],$[ne-we]=ea[255+oe+je],$[ne+0]=ea[255+Ue-je],$[ne+we]=ea[255+Me-nt],$[ne+2*we]=ea[255+Xe-st]}y+=L}}function gl(m,y,S,L,D,B,z,K){for(B=2*B+1;0<D--;){if(Td(m,y,S,B,z))if($u(m,y,S,K))Qu(m,y,S);else{var $=m,ne=y,we=S,Re=$[ne-we],oe=$[ne+0],Ue=$[ne+we],Me=ff[112+(4+(Xe=3*(oe-Re))>>3)],Xe=ff[112+(Xe+3>>3)],je=Me+1>>1;$[ne-2*we]=ea[255+$[ne-2*we]+je],$[ne-we]=ea[255+Re+Xe],$[ne+0]=ea[255+oe-Me],$[ne+we]=ea[255+Ue-je]}y+=L}}function af(m,y,S,L,D,B){fl(m,y,S,1,16,L,D,B)}function sf(m,y,S,L,D,B){fl(m,y,1,S,16,L,D,B)}function ec(m,y,S,L,D,B){var z;for(z=3;0<z;--z)gl(m,y+=4*S,S,1,16,L,D,B)}function lf(m,y,S,L,D,B){var z;for(z=3;0<z;--z)gl(m,y+=4,1,S,16,L,D,B)}function T(m,y,S,L,D,B,z,K){fl(m,y,D,1,8,B,z,K),fl(S,L,D,1,8,B,z,K)}function R(m,y,S,L,D,B,z,K){fl(m,y,1,D,8,B,z,K),fl(S,L,1,D,8,B,z,K)}function ie(m,y,S,L,D,B,z,K){gl(m,y+4*D,D,1,8,B,z,K),gl(S,L+4*D,D,1,8,B,z,K)}function ye(m,y,S,L,D,B,z,K){gl(m,y+4,1,D,8,B,z,K),gl(S,L+4,1,D,8,B,z,K)}function Le(){this.ba=new Zo,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new uo,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function at(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function _t(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Kt(){this.ua=0,this.Wa=new kn,this.vb=new kn,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Qe,this.yc=new xe}function en(){this.xb=this.a=0,this.l=new p,this.ca=new Zo,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ce,this.Pb=0,this.wd=new ce,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Kt,this.ab=0,this.gc=w(4,_t),this.Oc=0}function An(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new p,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function In(m,y,S,L,D,B,z){for(m=null==m?0:m[y+0],y=0;y<z;++y)D[B+y]=m+S[L+y]&255,m=D[B+y]}function go(m,y,S,L,D,B,z){var K;if(null==m)In(null,null,S,L,D,B,z);else for(K=0;K<z;++K)D[B+K]=m[y+K]+S[L+K]&255}function ii(m,y,S,L,D,B,z){if(null==m)In(null,null,S,L,D,B,z);else{var K,$=m[y+0],ne=$,we=$;for(K=0;K<z;++K)ne=we+($=m[y+K])-ne,we=S[L+K]+(-256&ne?0>ne?0:255:ne)&255,ne=$,D[B+K]=we}}function xi(m,y,S,L){var D=y.width,B=y.o;if(l(null!=m&&null!=y),0>S||0>=L||S+L>B)return null;if(!m.Cc){if(null==m.ga){var z;if(m.ga=new An,(z=null==m.ga)||(z=y.width*y.o,l(0==m.Gb.length),m.Gb=_(z),m.Uc=0,null==m.Gb?z=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,z=1),z=!z),!z){var K=m.Fa,$=m.P,ne=m.qc,we=m.mb,Re=m.nb,oe=$+1,Ue=ne-1,Me=(z=m.ga).l;if(l(null!=K&&null!=we&&null!=y),lu[0]=null,lu[1]=In,lu[2]=go,lu[3]=ii,z.ca=we,z.tb=Re,z.c=y.width,z.i=y.height,l(0<z.c&&0<z.i),1>=ne)y=0;else if(z.$a=3&K[$+0],z.Z=K[$+0]>>2&3,z.Lc=K[$+0]>>4&3,$=K[$+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||$)y=0;else if(Me.put=fn,Me.ac=qa,Me.bc=es,Me.ma=z,Me.width=y.width,Me.height=y.height,Me.Da=y.Da,Me.v=y.v,Me.va=y.va,Me.j=y.j,Me.o=y.o,z.$a)e:{l(1==z.$a),y=ul();t:for(;;){if(null==y){y=0;break e}if(l(null!=z),z.mc=y,y.c=z.c,y.i=z.i,y.l=z.l,y.l.ma=z,y.l.width=z.c,y.l.height=z.i,y.a=0,ct(y.m,K,oe,Ue),!Sa(z.c,z.i,1,y,null)||(1==y.ab&&3==y.gc[0].hc&&Hr(y.s)?(z.ic=1,K=y.c*y.i,y.Ta=null,y.Ua=0,y.V=_(K),y.Ba=0,null==y.V?(y.a=1,y=0):y=1):(z.ic=0,y=cl(y,z.c)),!y))break t;y=1;break e}z.mc=null,y=0}else y=Ue>=z.c*z.i;z=!y}if(z)return null;1!=m.ga.Lc?m.Ga=0:L=B-S}l(null!=m.ga),l(S+L<=B);e:{if(y=(K=m.ga).c,B=K.l.o,0==K.$a){if(oe=m.rc,Ue=m.Vc,Me=m.Fa,ne=m.mb,we=m.nb+S*y,l(($=m.P+1+S*y)<=m.P+m.qc),0!=K.Z)for(l(null!=lu[K.Z]),z=0;z<L;++z)lu[K.Z](oe,Ue,Me,$,ne,we,y),oe=ne,Ue=we,we+=y,$+=y;else for(z=0;z<L;++z)f(ne,we,Me,$,y),oe=ne,Ue=we,we+=y,$+=y;m.rc=oe,m.Vc=Ue}else{if(l(null!=K.mc),y=S+L,l(null!=(z=K.mc)),l(y<=z.i),z.C>=y)y=1;else if(K.ic||Na(),K.ic){K=z.V,oe=z.Ba;var Xe=z.i,je=(Me=1,$=z.$/(Ue=z.c),ne=z.$%Ue,we=z.m,Re=z.s,z.$),nt=Ue*Xe,st=Ue*y,xt=Re.wc,mt=je<st?ki(Re,ne,$):null;l(je<=nt),l(y<=Xe),l(Hr(Re));t:for(;;){for(;!we.h&&je<st;){if(ne&xt||(mt=ki(Re,ne,$)),l(null!=mt),De(we),256>(Xe=Ho(mt.G[0],mt.H[0],we)))K[oe+je]=Xe,++je,++ne>=Ue&&(ne=0,++$<=y&&!($%16)&&Yr(z,$));else{if(!(280>Xe)){Me=0;break t}Xe=Sr(Xe-256,we);var on,Yt=Ho(mt.G[4],mt.H[4],we);if(De(we),!(je>=(Yt=Si(Ue,Yt=Sr(Yt,we)))&&nt-je>=Xe)){Me=0;break t}for(on=0;on<Xe;++on)K[oe+je+on]=K[oe+je+on-Yt];for(je+=Xe,ne+=Xe;ne>=Ue;)ne-=Ue,++$<=y&&!($%16)&&Yr(z,$);je<st&&ne&xt&&(mt=ki(Re,ne,$))}l(we.h==ke(we))}Yr(z,$>y?y:$);break t}!Me||we.h&&je<nt?(Me=0,z.a=we.h?5:3):z.$=je,y=Me}else y=Kr(z,z.V,z.Ba,z.c,z.i,y,Wl);if(!y){L=0;break e}}S+L>=B&&(m.Cc=1),L=1}if(!L)return null;if(m.Cc&&(null!=(L=m.ga)&&(L.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+S*D}function Lo(m,y,S,L,D,B){for(;0<D--;){var z,K=m,$=y+(S?1:0),ne=m,we=y+(S?0:3);for(z=0;z<L;++z){var Re=ne[we+4*z];255!=Re&&(K[$+4*z+0]=K[$+4*z+0]*(Re*=32897)>>23,K[$+4*z+1]=K[$+4*z+1]*Re>>23,K[$+4*z+2]=K[$+4*z+2]*Re>>23)}y+=B}}function Ni(m,y,S,L,D){for(;0<L--;){var B;for(B=0;B<S;++B){var z=m[y+2*B+0],K=15&(ne=m[y+2*B+1]),$=4369*K,ne=(240&ne|ne>>4)*$>>16;m[y+2*B+0]=(240&z|z>>4)*$>>16&240|(15&z|z<<4)*$>>16>>4&15,m[y+2*B+1]=240&ne|K}y+=D}}function Ai(m,y,S,L,D,B,z,K){var $,ne,we=255;for(ne=0;ne<D;++ne){for($=0;$<L;++$){var Re=m[y+$];B[z+4*$]=Re,we&=Re}y+=S,z+=K}return 255!=we}function er(m,y,S,L,D){var B;for(B=0;B<D;++B)S[L+B]=m[y+B]>>8}function Na(){f1=Lo,$g=Ni,Xg=Ai,em=er}function Ir(m,y,S){Te[m]=function(L,D,B,z,K,$,ne,we,Re,oe,Ue,Me,Xe,je,nt,st,xt){var mt,on=xt-1>>1,Yt=K[$+0]|ne[we+0]<<16,Fn=Re[oe+0]|Ue[Me+0]<<16;l(null!=L);var Qt=3*Yt+Fn+131074>>2;for(y(L[D+0],255&Qt,Qt>>16,Xe,je),null!=B&&y(B[z+0],255&(Qt=3*Fn+Yt+131074>>2),Qt>>16,nt,st),mt=1;mt<=on;++mt){var $n=K[$+mt]|ne[we+mt]<<16,Ii=Re[oe+mt]|Ue[Me+mt]<<16,jn=Yt+$n+Fn+Ii+524296,$t=jn+2*($n+Fn)>>3;Qt=$t+Yt>>1,Yt=(jn=jn+2*(Yt+Ii)>>3)+$n>>1,y(L[D+2*mt-1],255&Qt,Qt>>16,Xe,je+(2*mt-1)*S),y(L[D+2*mt-0],255&Yt,Yt>>16,Xe,je+(2*mt-0)*S),null!=B&&(Yt=$t+Ii>>1,y(B[z+2*mt-1],255&(Qt=jn+Fn>>1),Qt>>16,nt,st+(2*mt-1)*S),y(B[z+2*mt+0],255&Yt,Yt>>16,nt,st+(2*mt+0)*S)),Yt=$n,Fn=Ii}1&xt||(y(L[D+xt-1],255&(Qt=3*Yt+Fn+131074>>2),Qt>>16,Xe,je+(xt-1)*S),null!=B&&y(B[z+xt-1],255&(Qt=3*Fn+Yt+131074>>2),Qt>>16,nt,st+(xt-1)*S))}}function uf(){Oa[gf]=Jm,Oa[mf]=dm,Oa[am]=Gm,Oa[hf]=pm,Oa[_f]=fm,Oa[Sg]=gm,Oa[sm]=Hm,Oa[kg]=dm,Oa[Ng]=pm,Oa[vf]=fm,Oa[Pg]=gm}function wd(m){return m&~Ym?0>m?0:255:m>>mm}function tc(m,y){return wd((19077*m>>8)+(26149*y>>8)-14234)}function Xl(m,y,S){return wd((19077*m>>8)-(6419*y>>8)-(13320*S>>8)+8708)}function nc(m,y){return wd((19077*m>>8)+(33050*y>>8)-17685)}function oc(m,y,S,L,D){L[D+0]=tc(m,S),L[D+1]=Xl(m,y,S),L[D+2]=nc(m,y)}function ic(m,y,S,L,D){L[D+0]=nc(m,y),L[D+1]=Xl(m,y,S),L[D+2]=tc(m,S)}function dr(m,y,S,L,D){var B=Xl(m,y,S);y=B<<3&224|nc(m,y)>>3,L[D+0]=248&tc(m,S)|B>>5,L[D+1]=y}function rc(m,y,S,L,D){var B=240&nc(m,y)|15;L[D+0]=240&tc(m,S)|Xl(m,y,S)>>4,L[D+1]=B}function ac(m,y,S,L,D){L[D+0]=255,oc(m,y,S,L,D+1)}function o1(m,y,S,L,D){ic(m,y,S,L,D),L[D+3]=255}function i1(m,y,S,L,D){oc(m,y,S,L,D),L[D+3]=255}function si(m,y){return 0>m?0:m>y?y:m}function ml(m,y,S){Te[m]=function(L,D,B,z,K,$,ne,we,Re){for(var oe=we+(-2&Re)*S;we!=oe;)y(L[D+0],B[z+0],K[$+0],ne,we),y(L[D+1],B[z+0],K[$+0],ne,we+S),D+=2,++z,++$,we+=2*S;1&Re&&y(L[D+0],B[z+0],K[$+0],ne,we)}}function Cd(m,y,S){return 0==S?0==m?0==y?6:5:0==y?4:0:S}function cf(m,y,S,L,D){switch(m>>>30){case 3:cc(y,S,L,D,0);break;case 2:Ia(y,S,L,D);break;case 1:_o(y,S,L,D)}}function Pa(m,y){var S,L,D=y.M,B=y.Nb,z=m.oc,K=m.pc+40,$=m.oc,ne=m.pc+584,we=m.oc,Re=m.pc+600;for(S=0;16>S;++S)z[K+32*S-1]=129;for(S=0;8>S;++S)$[ne+32*S-1]=129,we[Re+32*S-1]=129;for(0<D?z[K-1-32]=$[ne-1-32]=we[Re-1-32]=129:(h(z,K-32-1,127,21),h($,ne-32-1,127,9),h(we,Re-32-1,127,9)),L=0;L<m.za;++L){var oe=y.ya[y.aa+L];if(0<L){for(S=-1;16>S;++S)f(z,K+32*S-4,z,K+32*S+12,4);for(S=-1;8>S;++S)f($,ne+32*S-4,$,ne+32*S+4,4),f(we,Re+32*S-4,we,Re+32*S+4,4)}var Ue=m.Gd,Me=m.Hd+L,Xe=oe.ad,je=oe.Hc;if(0<D&&(f(z,K-32,Ue[Me].y,0,16),f($,ne-32,Ue[Me].f,0,8),f(we,Re-32,Ue[Me].ea,0,8)),oe.Za){var nt=z,st=K-32+16;for(0<D&&(L>=m.za-1?h(nt,st,Ue[Me].y[15],4):f(nt,st,Ue[Me+1].y,0,4)),S=0;4>S;S++)nt[st+128+S]=nt[st+256+S]=nt[st+384+S]=nt[st+0+S];for(S=0;16>S;++S,je<<=2)ns[oe.Ob[S]](nt=z,st=K+_m[S]),cf(je,Xe,16*+S,nt,st)}else if(nt=Cd(L,D,oe.Ob[0]),su[nt](z,K),0!=je)for(S=0;16>S;++S,je<<=2)cf(je,Xe,16*+S,z,K+_m[S]);for(S=oe.Gc,nt=Cd(L,D,oe.Dd),vl[nt]($,ne),vl[nt](we,Re),je=Xe,nt=$,st=ne,255&(oe=0|S)&&(170&oe?ks(je,256,nt,st):Po(je,256,nt,st)),oe=we,je=Re,255&(S>>=8)&&(170&S?ks(Xe,320,oe,je):Po(Xe,320,oe,je)),D<m.Ub-1&&(f(Ue[Me].y,0,z,K+480,16),f(Ue[Me].f,0,$,ne+224,8),f(Ue[Me].ea,0,we,Re+224,8)),Ue=m.sa,Me=m.ta+16*L+16*B*m.R,Xe=m.qa,oe=m.ra+8*L+(S=8*B*m.B),je=m.Ha,nt=m.Ia+8*L+S,S=0;16>S;++S)f(Ue,Me+S*m.R,z,K+32*S,16);for(S=0;8>S;++S)f(Xe,oe+S*m.B,$,ne+32*S,8),f(je,nt+S*m.B,we,Re+32*S,8)}}function sc(m,y,S,L,D,B,z,K,$){var ne=[0],we=[0],Re=0,oe=null!=$?$.kd:0,Ue=$??new at;if(null==m||12>S)return 7;Ue.data=m,Ue.w=y,Ue.ha=S,y=[y],S=[S],Ue.gb=[Ue.gb];e:{var Me=y,Xe=S,je=Ue.gb;if(l(null!=m),l(null!=Xe),l(null!=je),je[0]=0,12<=Xe[0]&&!a(m,Me[0],"RIFF")){if(a(m,Me[0]+8,"WEBP")){je=3;break e}var nt=et(m,Me[0]+4);if(12>nt||4294967286<nt){je=3;break e}if(oe&&nt>Xe[0]-8){je=7;break e}je[0]=nt,Me[0]+=12,Xe[0]-=12}je=0}if(0!=je)return je;for(nt=0<Ue.gb[0],S=S[0];;){e:{var st=m;Xe=y,je=S;var xt=ne,mt=we,on=Me=[0];if((Qt=Re=[Re])[0]=0,8>je[0])je=7;else{if(!a(st,Xe[0],"VP8X")){if(10!=et(st,Xe[0]+4)){je=3;break e}if(18>je[0]){je=7;break e}var Yt=et(st,Xe[0]+8),Fn=1+Bt(st,Xe[0]+12);if(2147483648<=Fn*(st=1+Bt(st,Xe[0]+15))){je=3;break e}null!=on&&(on[0]=Yt),null!=xt&&(xt[0]=Fn),null!=mt&&(mt[0]=st),Xe[0]+=18,je[0]-=18,Qt[0]=1}je=0}}if(Re=Re[0],0!=je)return je;if(Xe=!!(2&(Me=Me[0])),!nt&&Re)return 3;if(null!=B&&(B[0]=!!(16&Me)),null!=z&&(z[0]=Xe),null!=K&&(K[0]=0),z=ne[0],Me=we[0],Re&&Xe&&null==$){je=0;break}if(4>S){je=7;break}if(nt&&Re||!nt&&!Re&&!a(m,y[0],"ALPH")){S=[S],Ue.na=[Ue.na],Ue.P=[Ue.P],Ue.Sa=[Ue.Sa];e:{je=y,nt=S;var Qt=Ue.gb;xt=Ue.na,mt=Ue.P,on=Ue.Sa,Fn=22,l(null!=(Yt=m)),l(null!=nt),st=je[0];var $n=nt[0];for(l(null!=xt),l(null!=on),xt[0]=null,mt[0]=null,on[0]=0;;){if(je[0]=st,nt[0]=$n,8>$n){je=7;break e}var Ii=et(Yt,st+4);if(4294967286<Ii){je=3;break e}var jn=8+Ii+1&-2;if(Fn+=jn,0<Qt&&Fn>Qt){je=3;break e}if(!a(Yt,st,"VP8 ")||!a(Yt,st,"VP8L")){je=0;break e}if($n[0]<jn){je=7;break e}a(Yt,st,"ALPH")||(xt[0]=Yt,mt[0]=st+8,on[0]=Ii),st+=jn,$n-=jn}}if(S=S[0],Ue.na=Ue.na[0],Ue.P=Ue.P[0],Ue.Sa=Ue.Sa[0],0!=je)break}S=[S],Ue.Ja=[Ue.Ja],Ue.xa=[Ue.xa];e:if(Qt=m,je=y,nt=S,xt=Ue.gb[0],mt=Ue.Ja,on=Ue.xa,Yt=je[0],st=!a(Qt,Yt,"VP8 "),Fn=!a(Qt,Yt,"VP8L"),l(null!=Qt),l(null!=nt),l(null!=mt),l(null!=on),8>nt[0])je=7;else{if(st||Fn){if(Qt=et(Qt,Yt+4),12<=xt&&Qt>xt-12){je=3;break e}if(oe&&Qt>nt[0]-8){je=7;break e}mt[0]=Qt,je[0]+=8,nt[0]-=8,on[0]=Fn}else on[0]=5<=nt[0]&&47==Qt[Yt+0]&&!(Qt[Yt+4]>>5),mt[0]=nt[0];je=0}if(S=S[0],Ue.Ja=Ue.Ja[0],Ue.xa=Ue.xa[0],y=y[0],0!=je)break;if(4294967286<Ue.Ja)return 3;if(null==K||Xe||(K[0]=Ue.xa?2:1),z=[z],Me=[Me],Ue.xa){if(5>S){je=7;break}K=z,oe=Me,Xe=B,null==m||5>S?m=0:5<=S&&47==m[y+0]&&!(m[y+4]>>5)?(nt=[0],Qt=[0],xt=[0],ct(mt=new ce,m,y,S),ts(mt,nt,Qt,xt)?(null!=K&&(K[0]=nt[0]),null!=oe&&(oe[0]=Qt[0]),null!=Xe&&(Xe[0]=xt[0]),m=1):m=0):m=0}else{if(10>S){je=7;break}K=Me,null==m||10>S||!qe(m,y+3,S-3)?m=0:(oe=m[y+0]|m[y+1]<<8|m[y+2]<<16,Xe=16383&(m[y+7]<<8|m[y+6]),m=16383&(m[y+9]<<8|m[y+8]),1&oe||3<(oe>>1&7)||!(oe>>4&1)||oe>>5>=Ue.Ja||!Xe||!m?m=0:(z&&(z[0]=Xe),K&&(K[0]=m),m=1))}if(!m||(z=z[0],Me=Me[0],Re&&(ne[0]!=z||we[0]!=Me)))return 3;null!=$&&($[0]=Ue,$.offset=y-$.w,l(4294967286>y-$.w),l($.offset==$.ha-S));break}return 0==je||7==je&&Re&&null==$?(null!=B&&(B[0]|=null!=Ue.na&&0<Ue.na.length),null!=L&&(L[0]=z),null!=D&&(D[0]=Me),0):je}function r1(m,y,S){var L=y.width,D=y.height,B=0,z=0,K=L,$=D;if(y.Da=null!=m&&0<m.Da,y.Da&&(K=m.cd,$=m.bd,B=m.v,z=m.j,11>S||(B&=-2,z&=-2),0>B||0>z||0>=K||0>=$||B+K>L||z+$>D))return 0;if(y.v=B,y.j=z,y.va=B+K,y.o=z+$,y.U=K,y.T=$,y.da=null!=m&&0<m.da,y.da){if(!dn(K,$,S=[m.ib],B=[m.hb]))return 0;y.ib=S[0],y.hb=B[0]}return y.ob=null!=m&&m.ob,y.Kb=null==m||!m.Sd,y.da&&(y.ob=y.ib<3*L/4&&y.hb<3*D/4,y.Kb=0),1}function a1(m){if(null==m)return 2;if(11>m.S){var y=m.f.RGBA;y.fb+=(m.height-1)*y.A,y.A=-y.A}else(y=m.f.kb).O+=((m=m.height)-1)*y.fa,y.fa=-y.fa,y.N+=(m-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(m-1>>1)*y.Db,y.Db=-y.Db,null!=y.F&&(y.J+=(m-1)*y.lb,y.lb=-y.lb);return 0}function eu(m,y,S,L){if(null==L||0>=m||0>=y)return 2;if(null!=S){if(S.Da){var D=S.cd,B=S.bd,z=-2&S.v,K=-2&S.j;if(0>z||0>K||0>=D||0>=B||z+D>m||K+B>y)return 2;m=D,y=B}if(S.da){if(!dn(m,y,D=[S.ib],B=[S.hb]))return 2;m=D[0],y=B[0]}}L.width=m,L.height=y;e:{var $=L.width,ne=L.height;if(m=L.S,0>=$||0>=ne||!(m>=gf&&13>m))m=2;else{if(0>=L.Rd&&null==L.sd){z=B=D=y=0;var we=(K=$*vm[m])*ne;if(11>m||(B=(ne+1)/2*(y=($+1)/2),12==m&&(z=(D=$)*ne)),null==(ne=_(we+2*B+z))){m=1;break e}L.sd=ne,11>m?(($=L.f.RGBA).eb=ne,$.fb=0,$.A=K,$.size=we):(($=L.f.kb).y=ne,$.O=0,$.fa=K,$.Fd=we,$.f=ne,$.N=0+we,$.Ab=y,$.Cd=B,$.ea=ne,$.W=0+we+B,$.Db=y,$.Ed=B,12==m&&($.F=ne,$.J=0+we+2*B),$.Tc=z,$.lb=D)}if(y=1,B=L.width,z=L.height,(D=L.S)>=gf&&13>D)if(11>D)m=L.f.RGBA,y&=(K=Math.abs(m.A))*(z-1)+B<=m.size,y&=K>=B*vm[D],y&=null!=m.eb;else{m=L.f.kb,K=(B+1)/2,we=(z+1)/2,$=Math.abs(m.fa),ne=Math.abs(m.Ab);var Re=Math.abs(m.Db),oe=Math.abs(m.lb);y&=$*(z-1)+B<=m.Fd,y&=ne*(we-1)+K<=m.Cd,y=(y&=Re*(we-1)+K<=m.Ed)&$>=B&ne>=K&Re>=K,y&=null!=m.y,y&=null!=m.f,y&=null!=m.ea,12==D&&(y&=oe>=B,y&=oe*(z-1)+B<=m.Tc,y&=null!=m.F)}else y=0;m=y?0:2}}return 0!=m||null!=S&&S.fd&&(m=a1(L)),m}var lc=64,$r=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xr=24,tu=32,hl=8,nu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];It("Predictor0","PredictorAdd0"),Te.Predictor0=function(){return 4278190080},Te.Predictor1=function(m){return m},Te.Predictor2=function(m,y,S){return y[S+0]},Te.Predictor3=function(m,y,S){return y[S+1]},Te.Predictor4=function(m,y,S){return y[S-1]},Te.Predictor5=function(m,y,S){return ln(ln(m,y[S+1]),y[S+0])},Te.Predictor6=function(m,y,S){return ln(m,y[S-1])},Te.Predictor7=function(m,y,S){return ln(m,y[S+0])},Te.Predictor8=function(m,y,S){return ln(y[S-1],y[S+0])},Te.Predictor9=function(m,y,S){return ln(y[S+0],y[S+1])},Te.Predictor10=function(m,y,S){return ln(ln(m,y[S-1]),ln(y[S+0],y[S+1]))},Te.Predictor11=function(m,y,S){var L=y[S+0];return 0>=wn(L>>24&255,m>>24&255,(y=y[S-1])>>24&255)+wn(L>>16&255,m>>16&255,y>>16&255)+wn(L>>8&255,m>>8&255,y>>8&255)+wn(255&L,255&m,255&y)?L:m},Te.Predictor12=function(m,y,S){var L=y[S+0];return(oo((m>>24&255)+(L>>24&255)-((y=y[S-1])>>24&255))<<24|oo((m>>16&255)+(L>>16&255)-(y>>16&255))<<16|oo((m>>8&255)+(L>>8&255)-(y>>8&255))<<8|oo((255&m)+(255&L)-(255&y)))>>>0},Te.Predictor13=function(m,y,S){var L=y[S-1];return(Tn((m=ln(m,y[S+0]))>>24&255,L>>24&255)<<24|Tn(m>>16&255,L>>16&255)<<16|Tn(m>>8&255,L>>8&255)<<8|Tn(255&m,255&L))>>>0};var s1=Te.PredictorAdd0;Te.PredictorAdd1=ho,It("Predictor2","PredictorAdd2"),It("Predictor3","PredictorAdd3"),It("Predictor4","PredictorAdd4"),It("Predictor5","PredictorAdd5"),It("Predictor6","PredictorAdd6"),It("Predictor7","PredictorAdd7"),It("Predictor8","PredictorAdd8"),It("Predictor9","PredictorAdd9"),It("Predictor10","PredictorAdd10"),It("Predictor11","PredictorAdd11"),It("Predictor12","PredictorAdd12"),It("Predictor13","PredictorAdd13");var qd=Te.PredictorAdd2;an("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),an("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var gi,df=Te.ColorIndexInverseTransform,Us=Te.MapARGB,Ss=Te.VP8LColorIndexInverseTransformAlpha,l1=Te.MapAlpha,u1=Te.VP8LPredictorsAdd=[];u1.length=16,(Te.VP8LPredictors=[]).length=16,(Te.VP8LPredictorsAdd_C=[]).length=16,(Te.VP8LPredictors_C=[]).length=16;var c1,d1,ou,iu,ru,uc,au,cc,Ia,ks,_o,Po,mi,Pi,_l,p1,Ud,pf,Hg,Yg,Kg,Wg,Vg,Qg,f1,$g,Xg,em,tm=_(511),nm=_(2041),om=_(225),im=_(767),rm=0,Ug=nm,ff=om,ea=im,La=tm,gf=0,mf=1,am=2,hf=3,_f=4,Sg=5,sm=6,kg=7,Ng=8,vf=9,Pg=10,km=[2,3,7],Nm=[3,3,11],lm=[280,256,256,256,40],Pm=[0,1,1,1,0],Im=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Lm=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Om=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Em=8,Ig=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Lg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],g1=null,Mm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Fm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],um=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],jm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Rm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Dm=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Bm=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],su=[],ns=[],vl=[],zm=1,cm=2,lu=[],Oa=[];Ir("UpsampleRgbLinePair",oc,3),Ir("UpsampleBgrLinePair",ic,3),Ir("UpsampleRgbaLinePair",i1,4),Ir("UpsampleBgraLinePair",o1,4),Ir("UpsampleArgbLinePair",ac,4),Ir("UpsampleRgba4444LinePair",rc,2),Ir("UpsampleRgb565LinePair",dr,2);var Jm=Te.UpsampleRgbLinePair,Gm=Te.UpsampleBgrLinePair,dm=Te.UpsampleRgbaLinePair,pm=Te.UpsampleBgraLinePair,fm=Te.UpsampleArgbLinePair,gm=Te.UpsampleRgba4444LinePair,Hm=Te.UpsampleRgb565LinePair,yf=16,bf=1<<yf-1,m1=-227,Og=482,mm=6,Ym=(256<<mm)-1,hm=0,Km=_(256),Wm=_(256),Vm=_(256),Qm=_(256),$m=_(Og-m1),Xm=_(Og-m1);ml("YuvToRgbRow",oc,3),ml("YuvToBgrRow",ic,3),ml("YuvToRgbaRow",i1,4),ml("YuvToBgraRow",o1,4),ml("YuvToArgbRow",ac,4),ml("YuvToRgba4444Row",rc,2),ml("YuvToRgb565Row",dr,2);var _m=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zf=[0,2,8],eh=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(m,y,S,L,D){var B=mf,z=new Le,K=new Zo;z.ba=K,K.S=B,K.width=[K.width],K.height=[K.height];var $=K.width,ne=K.height,we=new Zn;if(null==we||null==m)var Re=2;else l(null!=we),Re=sc(m,y,S,we.width,we.height,we.Pd,we.Qd,we.format,null);if(0!=Re?$=0:(null!=$&&($[0]=we.width[0]),null!=ne&&(ne[0]=we.height[0]),$=1),$){K.width=K.width[0],K.height=K.height[0],null!=L&&(L[0]=K.width),null!=D&&(D[0]=K.height);e:{if(L=new p,(D=new at).data=m,D.w=y,D.ha=S,D.kd=1,y=[0],l(null!=D),(0==(m=sc(D.data,D.w,D.ha,null,null,null,y,null,D))||7==m)&&y[0]&&(m=4),0==(y=m)){if(l(null!=z),L.data=D.data,L.w=D.w+D.offset,L.ha=D.ha-D.offset,L.put=fn,L.ac=qa,L.bc=es,L.ma=z,D.xa){if(null==(m=ul())){z=1;break e}if(function(oe,Ue){var Me=[0],Xe=[0],je=[0];t:for(;;){if(null==oe)return 0;if(null==Ue)return oe.a=2,0;if(oe.l=Ue,oe.a=0,ct(oe.m,Ue.data,Ue.w,Ue.ha),!ts(oe.m,Me,Xe,je)){oe.a=3;break t}if(oe.xb=cm,Ue.width=Me[0],Ue.height=Xe[0],!Sa(Me[0],Xe[0],1,oe,null))break t;return 1}return l(0!=oe.a),0}(m,L)){if(L=0==(y=eu(L.width,L.height,z.Oa,z.ba))){t:{L=m;n:for(;;){if(null==L){L=0;break t}if(l(null!=L.s.yc),l(null!=L.s.Ya),l(0<L.s.Wb),l(null!=(S=L.l)),l(null!=(D=S.ma)),0!=L.xb){if(L.ca=D.ba,L.tb=D.tb,l(null!=L.ca),!r1(D.Oa,S,hf)){L.a=2;break n}if(!cl(L,S.width)||S.da)break n;if((S.da||qn(L.ca.S))&&Na(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=L.ca.f.kb.F&&Na()),L.Pb&&0<L.s.ua&&null==L.s.vb.X&&!de(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!Kr(L,L.V,L.Ba,L.c,L.i,S.o,qs))break n;D.Dc=L.Ma,L=1;break t}l(0!=L.a),L=0}L=!L}L&&(y=m.a)}else y=m.a}else{if(null==(m=new C)){z=1;break e}if(m.Fa=D.na,m.P=D.P,m.qc=D.Sa,Ln(m,L)){if(0==(y=eu(L.width,L.height,z.Oa,z.ba))){if(m.Aa=0,S=z.Oa,l(null!=(D=m)),null!=S){if(0<($=0>($=S.Md)?0:100<$?255:255*$/100)){for(ne=we=0;4>ne;++ne)12>(Re=D.pb[ne]).lc&&(Re.ia=$*eh[0>Re.lc?0:Re.lc]>>3),we|=Re.ia;we&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=S.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}(function(oe,Ue){if(null==oe)return 0;if(null==Ue)return O(oe,2,"NULL VP8Io parameter in VP8Decode().");if(!oe.cb&&!Ln(oe,Ue))return 0;if(l(oe.cb),null==Ue.ac||Ue.ac(Ue)){Ue.ob&&(oe.L=0);var Me=Zf[oe.L];if(2==oe.L?(oe.yb=0,oe.zb=0):(oe.yb=Ue.v-Me>>4,oe.zb=Ue.j-Me>>4,0>oe.yb&&(oe.yb=0),0>oe.zb&&(oe.zb=0)),oe.Va=Ue.o+15+Me>>4,oe.Hb=Ue.va+15+Me>>4,oe.Hb>oe.za&&(oe.Hb=oe.za),oe.Va>oe.Ub&&(oe.Va=oe.Ub),0<oe.L){var Xe=oe.ed;for(Me=0;4>Me;++Me){var je;if(oe.Qa.Cb){var nt=oe.Qa.Lb[Me];oe.Qa.Fb||(nt+=Xe.Tb)}else nt=Xe.Tb;for(je=0;1>=je;++je){var st=oe.gd[Me][je],xt=nt;if(Xe.Pc&&(xt+=Xe.vd[0],je&&(xt+=Xe.od[0])),0<(xt=0>xt?0:63<xt?63:xt)){var mt=xt;0<Xe.wb&&(mt=4<Xe.wb?mt>>2:mt>>1)>9-Xe.wb&&(mt=9-Xe.wb),1>mt&&(mt=1),st.dd=mt,st.tc=2*xt+mt,st.ld=40<=xt?2:15<=xt?1:0}else st.tc=0;st.La=je}}}Me=0}else O(oe,6,"Frame setup failed"),Me=oe.a;if(Me=0==Me){if(Me){oe.$c=0,0<oe.Aa||(oe.Ic=1);t:{Xe=4*(mt=oe.za);var on=32*mt,Yt=mt+1,Fn=0<oe.L?mt*(0<oe.Aa?2:1):0,Qt=(2==oe.Aa?2:1)*mt;if((st=Xe+832+(je=3*(16*(Me=oe.Ic)+Zf[oe.L])/2*on)+(nt=null!=oe.Fa&&0<oe.Fa.length?oe.Kc.c*oe.Kc.i:0))!=st)Me=0;else{if(st>oe.Vb){if(oe.Vb=0,oe.Ec=_(st),oe.Fc=0,null==oe.Ec){Me=O(oe,1,"no memory during frame initialization.");break t}oe.Vb=st}xt=oe.Fc,oe.Ac=st=oe.Ec,oe.Bc=xt,xt+=Xe,oe.Gd=w(on,t),oe.Hd=0,oe.rb=w(Yt+1,Yu),oe.sb=1,oe.wa=Fn?w(Fn,Nr):null,oe.Y=0,oe.D.Nb=0,oe.D.wa=oe.wa,oe.D.Y=oe.Y,0<oe.Aa&&(oe.D.Y+=mt),l(!0),oe.oc=st,oe.pc=xt,xt+=832,oe.ya=w(Qt,c),oe.aa=0,oe.D.ya=oe.ya,oe.D.aa=oe.aa,2==oe.Aa&&(oe.D.aa+=mt),oe.R=16*mt,oe.B=8*mt,mt=(on=Zf[oe.L])*oe.R,on=on/2*oe.B,oe.sa=st,oe.ta=xt+mt,oe.qa=oe.sa,oe.ra=oe.ta+16*Me*oe.R+on,oe.Ha=oe.qa,oe.Ia=oe.ra+8*Me*oe.B+on,oe.$c=0,xt+=je,oe.mb=nt?st:null,oe.nb=nt?xt:null,l(xt+nt<=oe.Fc+oe.Vb),Mn(oe),h(oe.Ac,oe.Bc,0,Xe),Me=1}}if(Me){if(Ue.ka=0,Ue.y=oe.sa,Ue.O=oe.ta,Ue.f=oe.qa,Ue.N=oe.ra,Ue.ea=oe.Ha,Ue.Vd=oe.Ia,Ue.fa=oe.R,Ue.Rc=oe.B,Ue.F=null,Ue.J=0,!rm){for(Me=-255;255>=Me;++Me)tm[255+Me]=0>Me?-Me:Me;for(Me=-1020;1020>=Me;++Me)nm[1020+Me]=-128>Me?-128:127<Me?127:Me;for(Me=-112;112>=Me;++Me)om[112+Me]=-16>Me?-16:15<Me?15:Me;for(Me=-255;510>=Me;++Me)im[255+Me]=0>Me?0:255<Me?255:Me;rm=1}au=Ql,cc=Vr,ks=Qr,_o=Zr,Po=Pr,Ia=Zi,mi=af,Pi=sf,_l=T,p1=R,Ud=ec,pf=lf,Hg=ie,Yg=ye,Kg=n1,Wg=Xu,Vg=of,Qg=rf,ns[0]=Ag,ns[1]=xo,ns[2]=Zg,ns[3]=xg,ns[4]=Tg,ns[5]=pl,ns[6]=dl,ns[7]=wg,ns[8]=Zd,ns[9]=Cg,su[0]=$l,su[1]=vg,su[2]=yg,su[3]=Vp,su[4]=bg,su[5]=Wu,su[6]=Qp,vl[0]=Ad,vl[1]=No,vl[2]=$p,vl[3]=Vu,vl[4]=Xp,vl[5]=qg,vl[6]=e1,Me=1}else Me=0}Me&&(Me=function($n,Ii){for($n.M=0;$n.M<$n.Va;++$n.M){var jn,$t=$n.Jc[$n.M&$n.Xb],Lt=$n.m,hi=$n;for(jn=0;jn<hi.za;++jn){var On=Lt,to=hi,Do=to.Ac,tr=to.Bc+4*jn,xr=to.zc,li=to.ya[to.aa+jn];if(li.$b=to.Qa.Bb?dt(On,to.Pa.jb[0])?2+dt(On,to.Pa.jb[2]):dt(On,to.Pa.jb[1]):0,to.kc&&(li.Ad=dt(On,to.Bd)),li.Za=!dt(On,145)+0,li.Za){var pr=li.Ob,Ar=0;for(to=0;4>to;++to){var Li,ro=xr[0+to];for(Li=0;4>Li;++Li){for(var Ao=um[dt(On,(ro=Rm[Do[tr+Li]][ro])[0])];0<Ao;)Ao=um[2*Ao+dt(On,ro[Ao])];Do[tr+Li]=ro=-Ao}f(pr,Ar,Do,tr,4),Ar+=4,xr[0+to]=ro}}else ro=dt(On,156)?dt(On,128)?1:3:dt(On,163)?2:0,li.Ob[0]=ro,h(Do,tr,ro,4),h(xr,0,ro,4);li.Dd=dt(On,142)?dt(On,114)?dt(On,183)?1:3:2:0}if(hi.m.Ka)return O($n,7,"Premature end-of-partition0 encountered.");for(;$n.ja<$n.za;++$n.ja){if(hi=$t,On=(Lt=$n).rb[Lt.sb-1],Do=Lt.rb[Lt.sb+Lt.ja],jn=Lt.ya[Lt.aa+Lt.ja],tr=Lt.kc?jn.Ad:0)On.la=Do.la=0,jn.Za||(On.Na=Do.Na=0),jn.Hc=0,jn.Gc=0,jn.ia=0;else{var ui,To;if(On=Do,Do=hi,tr=Lt.Pa.Xc,li=Lt.pb[(xr=Lt.ya[Lt.aa+Lt.ja]).$b],Ar=Lt.rb[Lt.sb-1],ro=Li=0,h(to=xr.ad,pr=0,0,384),xr.Za)var nr=0,os=tr[3];else{Ao=_(16);var _i=On.Na+Ar.Na;if(_i=g1(Do,tr[1],_i,li.Eb,0,Ao,0),On.Na=Ar.Na=(0<_i)+0,1<_i)au(Ao,0,to,pr);else{var Lr=Ao[0]+3>>3;for(Ao=0;256>Ao;Ao+=16)to[pr+Ao]=Lr}nr=1,os=tr[0]}var Io=15&On.la,Oi=15&Ar.la;for(Ao=0;4>Ao;++Ao){var ta=1&Oi;for(Lr=To=0;4>Lr;++Lr)Io=Io>>1|(ta=(_i=g1(Do,os,_i=ta+(1&Io),li.Sc,nr,to,pr))>nr)<<7,To=To<<2|(3<_i?3:1<_i?2:0!=to[pr+0]),pr+=16;Io>>=4,Oi=Oi>>1|ta<<7,Li=(Li<<8|To)>>>0}for(os=Io,nr=Oi>>4,ui=0;4>ui;ui+=2){for(To=0,Io=On.la>>4+ui,Oi=Ar.la>>4+ui,Ao=0;2>Ao;++Ao){for(ta=1&Oi,Lr=0;2>Lr;++Lr)Io=Io>>1|(ta=0<(_i=g1(Do,tr[2],_i=ta+(1&Io),li.Qc,0,to,pr)))<<3,To=To<<2|(3<_i?3:1<_i?2:0!=to[pr+0]),pr+=16;Io>>=2,Oi=Oi>>1|ta<<5}ro|=To<<4*ui,os|=Io<<4<<ui,nr|=(240&Oi)<<ui}On.la=os,Ar.la=nr,xr.Hc=Li,xr.Gc=ro,xr.ia=43690&ro?0:li.ia,tr=!(Li|ro)}if(0<Lt.L&&(Lt.wa[Lt.Y+Lt.ja]=Lt.gd[jn.$b][jn.Za],Lt.wa[Lt.Y+Lt.ja].La|=!tr),hi.Ka)return O($n,7,"Premature end-of-file encountered.")}if(Mn($n),Lt=Ii,hi=1,jn=($t=$n).D,On=0<$t.L&&$t.M>=$t.zb&&$t.M<=$t.Va,0==$t.Aa)t:{if(jn.M=$t.M,jn.uc=On,Pa($t,jn),hi=1,jn=(To=$t.D).Nb,On=(ro=Zf[$t.L])*$t.R,tr=$t.sa,xr=$t.ta-On+(Ao=16*jn*$t.R),li=$t.qa,to=$t.ra-(Do=ro/2*$t.B)+(Lr=8*jn*$t.B),pr=$t.Ha,Ar=$t.Ia-Do+Lr,Oi=0==(Io=To.M),Li=Io>=$t.Va-1,2==$t.Aa&&Pa($t,To),To.uc)for(ta=(_i=$t).D.M,l(_i.D.uc),To=_i.yb;To<_i.Hb;++To){os=ta;var Tr=(na=(or=_i).D).Nb,na=na.wa[na.Y+(nr=To)],oa=or.sa,Or=or.ta+16*Tr*(ui=or.R)+16*nr,ia=na.dd,Oo=na.tc;if(0!=Oo)if(l(3<=Oo),1==or.L)0<nr&&Wg(oa,Or,ui,Oo+4),na.La&&Qg(oa,Or,ui,Oo),0<os&&Kg(oa,Or,ui,Oo+4),na.La&&Vg(oa,Or,ui,Oo);else{var ra=or.B,is=or.qa,dc=or.ra+8*Tr*ra+8*nr,yl=or.Ha,or=or.Ia+8*Tr*ra+8*nr;Tr=na.ld,0<nr&&(Pi(oa,Or,ui,Oo+4,ia,Tr),p1(is,dc,yl,or,ra,Oo+4,ia,Tr)),na.La&&(pf(oa,Or,ui,Oo,ia,Tr),Yg(is,dc,yl,or,ra,Oo,ia,Tr)),0<os&&(mi(oa,Or,ui,Oo+4,ia,Tr),_l(is,dc,yl,or,ra,Oo+4,ia,Tr)),na.La&&(Ud(oa,Or,ui,Oo,ia,Tr),Hg(is,dc,yl,or,ra,Oo,ia,Tr))}}if($t.ia&&alert("todo:DitherRow"),null!=Lt.put){if(To=16*Io,Io=16*(Io+1),Oi?(Lt.y=$t.sa,Lt.O=$t.ta+Ao,Lt.f=$t.qa,Lt.N=$t.ra+Lr,Lt.ea=$t.Ha,Lt.W=$t.Ia+Lr):(To-=ro,Lt.y=tr,Lt.O=xr,Lt.f=li,Lt.N=to,Lt.ea=pr,Lt.W=Ar),Li||(Io-=ro),Io>Lt.o&&(Io=Lt.o),Lt.F=null,Lt.J=null,null!=$t.Fa&&0<$t.Fa.length&&To<Io&&(Lt.J=xi($t,Lt,To,Io-To),Lt.F=$t.mb,null==Lt.F&&0==Lt.F.length)){hi=O($t,3,"Could not decode alpha data.");break t}To<Lt.j&&(ro=Lt.j-To,To=Lt.j,l(!(1&ro)),Lt.O+=$t.R*ro,Lt.N+=$t.B*(ro>>1),Lt.W+=$t.B*(ro>>1),null!=Lt.F&&(Lt.J+=Lt.width*ro)),To<Io&&(Lt.O+=Lt.v,Lt.N+=Lt.v>>1,Lt.W+=Lt.v>>1,null!=Lt.F&&(Lt.J+=Lt.v),Lt.ka=To-Lt.j,Lt.U=Lt.va-Lt.v,Lt.T=Io-To,hi=Lt.put(Lt))}jn+1!=$t.Ic||Li||(f($t.sa,$t.ta-On,tr,xr+16*$t.R,On),f($t.qa,$t.ra-Do,li,to+8*$t.B,Do),f($t.Ha,$t.Ia-Do,pr,Ar+8*$t.B,Do))}if(!hi)return O($n,6,"Output aborted.")}return 1}(oe,Ue)),null!=Ue.bc&&Ue.bc(Ue),Me&=1}return Me?(oe.cb=0,Me):0})(m,L)||(y=m.a)}}else y=m.a}0==y&&null!=z.Oa&&z.Oa.fd&&(y=a1(z.ba))}z=y}B=0!=z?null:11>B?K.f.RGBA.eb:K.f.kb.y}else B=null;return B};var vm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function k(Te,Je){for(var Q="",se=0;se<4;se++)Q+=String.fromCharCode(Te[Je++]);return Q}function E(Te,Je){return Te[Je+0]|Te[Je+1]<<8}function H(Te,Je){return(Te[Je+0]|Te[Je+1]<<8|Te[Je+2]<<16)>>>0}function V(Te,Je){return(Te[Je+0]|Te[Je+1]<<8|Te[Je+2]<<16|Te[Je+3]<<24)>>>0}new q;var I=[0],le=[0],re=[],fe=new q,X=i,Se=function(Te,Je){var Q={},se=0,xe=!1,Ae=0,Qe=0;if(Q.frames=[],!function(J,ce){for(var _e=0;_e<4;_e++)if(J[ce+_e]!="RIFF".charCodeAt(_e))return!0;return!1}(Te,Je)){for(V(Te,Je+=4),Je+=8;Je<Te.length;){var rt=k(Te,Je),ft=V(Te,Je+=4);Je+=4;var Ge=ft+(1&ft);switch(rt){case"VP8 ":case"VP8L":void 0===Q.frames[se]&&(Q.frames[se]={}),(At=Q.frames[se]).src_off=xe?Qe:Je-8,At.src_size=Ae+ft+8,se++,xe&&(xe=!1,Ae=0,Qe=0);break;case"VP8X":(At=Q.header={}).feature_flags=Te[Je];var ct=Je+4;At.canvas_width=1+H(Te,ct),At.canvas_height=1+H(Te,ct+=3),ct+=3;break;case"ALPH":xe=!0,Ae=Ge+8,Qe=Je-8;break;case"ANIM":(At=Q.header).bgcolor=V(Te,Je),At.loop_count=E(Te,ct=Je+4),ct+=2;break;case"ANMF":var Pt,At;(At=Q.frames[se]={}).offset_x=2*H(Te,Je),At.offset_y=2*H(Te,Je+=3),At.width=1+H(Te,Je+=3),At.height=1+H(Te,Je+=3),At.duration=H(Te,Je+=3),Je+=3,Pt=Te[Je++],At.dispose=1&Pt,At.blend=Pt>>1&1}"ANMF"!=rt&&(Je+=Ge)}return Q}}(X,0);Se.response=X,Se.rgbaoutput=!0,Se.dataurl=!1;var Ce=Se.header?Se.header:null,Ze=Se.frames?Se.frames:null;if(Ce){Ce.loop_counter=Ce.loop_count,I=[Ce.canvas_height],le=[Ce.canvas_width];for(var $e=0;$e<Ze.length&&0!=Ze[$e].blend;$e++);}var Zt=Ze[0],gt=fe.WebPDecodeRGBA(X,Zt.src_off,Zt.src_size,le,I);Zt.rgba=gt,Zt.imgwidth=le[0],Zt.imgheight=I[0];for(var ze=0;ze<le[0]*I[0]*4;ze++)re[ze]=gt[ze];return this.width=le,this.height=I,this.data=re,this}(function(i){var l,a,f,h,_,w,x,q,k,E=function(J){return this.isStrokeTransparent=(J=J||{}).isStrokeTransparent||!1,this.strokeOpacity=J.strokeOpacity||1,this.strokeStyle=J.strokeStyle||"#000000",this.fillStyle=J.fillStyle||"#000000",this.isFillTransparent=J.isFillTransparent||!1,this.fillOpacity=J.fillOpacity||1,this.font=J.font||"10px sans-serif",this.textBaseline=J.textBaseline||"alphabetic",this.textAlign=J.textAlign||"left",this.lineWidth=J.lineWidth||1,this.lineJoin=J.lineJoin||"miter",this.lineCap=J.lineCap||"butt",this.path=J.path||[],this.transform=void 0!==J.transform?J.transform.clone():new q,this.globalCompositeOperation=J.globalCompositeOperation||"normal",this.globalAlpha=J.globalAlpha||1,this.clip_path=J.clip_path||[],this.currentPoint=J.currentPoint||new w,this.miterLimit=J.miterLimit||10,this.lastPoint=J.lastPoint||new w,this.lineDashOffset=J.lineDashOffset||0,this.lineDash=J.lineDash||[],this.margin=J.margin||[0,0,0,0],this.prevPageLastElemOffset=J.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof J.ignoreClearRect||J.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new H(this),l=this.internal.f2,a=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString,h=this.internal.getHorizontalCoordinate,_=this.internal.getVerticalCoordinate,w=this.internal.Point,x=this.internal.Rectangle,q=this.internal.Matrix,k=new E}]);var H=function(J){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ce=J;Object.defineProperty(this,"pdf",{get:function(){return ce}});var _e=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return _e},set:function(et){_e=Boolean(et)}});var ke=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ke},set:function(et){ke=Boolean(et)}});var Oe=0;Object.defineProperty(this,"posX",{get:function(){return Oe},set:function(et){isNaN(et)||(Oe=et)}});var De=0;Object.defineProperty(this,"posY",{get:function(){return De},set:function(et){isNaN(et)||(De=et)}}),Object.defineProperty(this,"margin",{get:function(){return k.margin},set:function(et){var de;"number"==typeof et?de=[et,et,et,et]:((de=new Array(4))[0]=et[0],de[1]=et.length>=2?et[1]:de[0],de[2]=et.length>=3?et[2]:de[0],de[3]=et.length>=4?et[3]:de[1]),k.margin=de}});var Ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ve},set:function(et){Ve=et}});var We=0;Object.defineProperty(this,"lastBreak",{get:function(){return We},set:function(et){We=et}});var dt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return dt},set:function(et){dt=et}}),Object.defineProperty(this,"ctx",{get:function(){return k},set:function(et){et instanceof E&&(k=et)}}),Object.defineProperty(this,"path",{get:function(){return k.path},set:function(et){k.path=et}});var Ut=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ut},set:function(et){Ut=et}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(et){var de;de=V(et),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=0===de.a,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(et){var de=V(et);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=0===de.a,this.ctx.strokeOpacity=de.a,0===de.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(de.r,de.g,de.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(et){-1!==["butt","round","square"].indexOf(et)&&(this.ctx.lineCap=et,this.pdf.setLineCap(et))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(et){isNaN(et)||(this.ctx.lineWidth=et,this.pdf.setLineWidth(et))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(et){-1!==["bevel","round","miter"].indexOf(et)&&(this.ctx.lineJoin=et,this.pdf.setLineJoin(et))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(et){isNaN(et)||(this.ctx.miterLimit=et,this.pdf.setMiterLimit(et))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(et){this.ctx.textBaseline=et}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(et){-1!==["right","end","center","left","start"].indexOf(et)&&(this.ctx.textAlign=et)}});var jt=null,Bt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Bt},set:function(et){jt=null,Bt=et}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(et){var de;if(this.ctx.font=et,null!==(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(et))){var Yn=de[1],kn=de[3],dn=de[4],Ct=de[6],nn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(dn)[2];dn=Math.floor("px"===nn?parseFloat(dn)*this.pdf.internal.scaleFactor:"em"===nn?parseFloat(dn)*this.pdf.getFontSize():parseFloat(dn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(dn);var It=function(hn){var an,Co,io=[],Ht=hn.trim();if(""===Ht)return Gp;if(Ht in D1)return[D1[Ht]];for(;""!==Ht;){switch(Co=null,an=(Ht=z1(Ht)).charAt(0)){case'"':case"'":Co=$f(Ht.substring(1),an);break;default:Co=Xf(Ht)}if(null===Co||(io.push(Co[0]),""!==(Ht=z1(Co[1]))&&","!==Ht.charAt(0)))return Gp;Ht=Ht.replace(/^,/,"")}return io}(Ct);if(this.fontFaces){var oo=function(hn,an,Co){for(var io=(Co=Co||{}).defaultFontFamily||"times",Ht=Object.assign({},Qf,Co.genericFontFamilies||{}),Cn=null,bo=null,pn=0;pn<an.length;++pn)if(Ht[(Cn=ws(an[pn])).family]&&(Cn.family=Ht[Cn.family]),hn.hasOwnProperty(Cn.family)){bo=hn[Cn.family];break}if(!(bo=bo||hn[io]))throw new Error("Could not find a font-family for the rule '"+B1(Cn)+"' and default family '"+io+"'.");if(bo=function(Vn,qn){if(qn[Vn])return qn[Vn];var oi=Jp[Vn],Zo=R1(qn,M1,oi,oi<=Jp.normal?-1:1);if(!Zo)throw new Error("Could not find a matching font-stretch value for "+Vn);return Zo}(Cn.stretch,bo),bo=function(Vn,qn){if(qn[Vn])return qn[Vn];for(var oi=E1[Vn],fi=0;fi<oi.length;++fi)if(qn[oi[fi]])return qn[oi[fi]];throw new Error("Could not find a matching font-style for "+Vn)}(Cn.style,bo),!(bo=function(Vn,qn){if(qn[Vn])return qn[Vn];if(400===Vn&&qn[500])return qn[500];if(500===Vn&&qn[400])return qn[400];var fi=R1(qn,F1,j1[Vn],Vn<400?-1:1);if(!fi)throw new Error("Could not find a matching font-weight for value "+Vn);return fi}(Cn.weight,bo)))throw new Error("Failed to resolve a font for the rule '"+B1(Cn)+"'.");return bo}(function(hn,an){if(null===jt){var Co=(io=hn.getFontList(),Ht=[],Object.keys(io).forEach(function(Cn){io[Cn].forEach(function(bo){var pn=null;switch(bo){case"bold":pn={family:Cn,weight:"bold"};break;case"italic":pn={family:Cn,style:"italic"};break;case"bolditalic":pn={family:Cn,weight:"bold",style:"italic"};break;case"":case"normal":pn={family:Cn}}null!==pn&&(pn.ref={name:Cn,style:bo},Ht.push(pn))})}),Ht);jt=function(io){for(var Ht={},Cn=0;Cn<io.length;++Cn){var bo=ws(io[Cn]),pn=bo.family,Vn=bo.stretch,qn=bo.style,oi=bo.weight;Ht[pn]=Ht[pn]||{},Ht[pn][Vn]=Ht[pn][Vn]||{},Ht[pn][Vn][qn]=Ht[pn][Vn][qn]||{},Ht[pn][Vn][qn][oi]=bo}return Ht}(Co.concat(an))}var io,Ht;return jt}(this.pdf,this.fontFaces),It.map(function(hn){return{family:hn,stretch:"normal",weight:kn,style:Yn}}));this.pdf.setFont(oo.ref.name,oo.ref.style)}else{var Tn="";("bold"===kn||parseInt(kn,10)>=700||"bold"===Yn)&&(Tn="bold"),"italic"===Yn&&(Tn+="italic"),0===Tn.length&&(Tn="normal");for(var wn="",ho={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pn=0;Pn<It.length;Pn++){if(void 0!==this.pdf.internal.getFont(It[Pn],Tn,{noFallback:!0,disableWarning:!0})){wn=It[Pn];break}if("bolditalic"===Tn&&void 0!==this.pdf.internal.getFont(It[Pn],"bold",{noFallback:!0,disableWarning:!0}))wn=It[Pn],Tn="bold";else if(void 0!==this.pdf.internal.getFont(It[Pn],"normal",{noFallback:!0,disableWarning:!0})){wn=It[Pn],Tn="normal";break}}if(""===wn)for(var rn=0;rn<It.length;rn++)if(ho[It[rn]]){wn=ho[It[rn]];break}this.pdf.setFont(wn=""===wn?"Times":wn,Tn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(et){this.ctx.globalCompositeOperation=et}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(et){this.ctx.globalAlpha=et}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(et){this.ctx.lineDashOffset=et,At.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(et){this.ctx.lineDash=et,At.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(et){this.ctx.ignoreClearRect=Boolean(et)}})};H.prototype.setLineDash=function(J){this.lineDash=J},H.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},H.prototype.fill=function(){Ze.call(this,"fill",!1)},H.prototype.stroke=function(){Ze.call(this,"stroke",!1)},H.prototype.beginPath=function(){this.path=[{type:"begin"}]},H.prototype.moveTo=function(J,ce){if(isNaN(J)||isNaN(ce))throw yo.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var _e=this.ctx.transform.applyToPoint(new w(J,ce));this.path.push({type:"mt",x:_e.x,y:_e.y}),this.ctx.lastPoint=new w(J,ce)},H.prototype.closePath=function(){var J=new w(0,0),ce=0;for(ce=this.path.length-1;-1!==ce;ce--)if("begin"===this.path[ce].type&&"object"===Gt(this.path[ce+1])&&"number"==typeof this.path[ce+1].x){J=new w(this.path[ce+1].x,this.path[ce+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new w(J.x,J.y)},H.prototype.lineTo=function(J,ce){if(isNaN(J)||isNaN(ce))throw yo.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var _e=this.ctx.transform.applyToPoint(new w(J,ce));this.path.push({type:"lt",x:_e.x,y:_e.y}),this.ctx.lastPoint=new w(_e.x,_e.y)},H.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Ze.call(this,null,!0)},H.prototype.quadraticCurveTo=function(J,ce,_e,ke){if(isNaN(_e)||isNaN(ke)||isNaN(J)||isNaN(ce))throw yo.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Oe=this.ctx.transform.applyToPoint(new w(_e,ke)),De=this.ctx.transform.applyToPoint(new w(J,ce));this.path.push({type:"qct",x1:De.x,y1:De.y,x:Oe.x,y:Oe.y}),this.ctx.lastPoint=new w(Oe.x,Oe.y)},H.prototype.bezierCurveTo=function(J,ce,_e,ke,Oe,De){if(isNaN(Oe)||isNaN(De)||isNaN(J)||isNaN(ce)||isNaN(_e)||isNaN(ke))throw yo.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ve=this.ctx.transform.applyToPoint(new w(Oe,De)),We=this.ctx.transform.applyToPoint(new w(J,ce)),dt=this.ctx.transform.applyToPoint(new w(_e,ke));this.path.push({type:"bct",x1:We.x,y1:We.y,x2:dt.x,y2:dt.y,x:Ve.x,y:Ve.y}),this.ctx.lastPoint=new w(Ve.x,Ve.y)},H.prototype.arc=function(J,ce,_e,ke,Oe,De){if(isNaN(J)||isNaN(ce)||isNaN(_e)||isNaN(ke)||isNaN(Oe))throw yo.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(De=Boolean(De),!this.ctx.transform.isIdentity){var Ve=this.ctx.transform.applyToPoint(new w(J,ce));J=Ve.x,ce=Ve.y;var We=this.ctx.transform.applyToPoint(new w(0,_e)),dt=this.ctx.transform.applyToPoint(new w(0,0));_e=Math.sqrt(Math.pow(We.x-dt.x,2)+Math.pow(We.y-dt.y,2))}Math.abs(Oe-ke)>=2*Math.PI&&(ke=0,Oe=2*Math.PI),this.path.push({type:"arc",x:J,y:ce,radius:_e,startAngle:ke,endAngle:Oe,counterclockwise:De})},H.prototype.arcTo=function(J,ce,_e,ke,Oe){throw new Error("arcTo not implemented.")},H.prototype.rect=function(J,ce,_e,ke){if(isNaN(J)||isNaN(ce)||isNaN(_e)||isNaN(ke))throw yo.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(J,ce),this.lineTo(J+_e,ce),this.lineTo(J+_e,ce+ke),this.lineTo(J,ce+ke),this.lineTo(J,ce),this.lineTo(J+_e,ce),this.lineTo(J,ce)},H.prototype.fillRect=function(J,ce,_e,ke){if(isNaN(J)||isNaN(ce)||isNaN(_e)||isNaN(ke))throw yo.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!I.call(this)){var Oe={};"butt"!==this.lineCap&&(Oe.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(Oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(J,ce,_e,ke),this.fill(),Oe.hasOwnProperty("lineCap")&&(this.lineCap=Oe.lineCap),Oe.hasOwnProperty("lineJoin")&&(this.lineJoin=Oe.lineJoin)}},H.prototype.strokeRect=function(J,ce,_e,ke){if(isNaN(J)||isNaN(ce)||isNaN(_e)||isNaN(ke))throw yo.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");le.call(this)||(this.beginPath(),this.rect(J,ce,_e,ke),this.stroke())},H.prototype.clearRect=function(J,ce,_e,ke){if(isNaN(J)||isNaN(ce)||isNaN(_e)||isNaN(ke))throw yo.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(J,ce,_e,ke))},H.prototype.save=function(J){J="boolean"!=typeof J||J;for(var ce=this.pdf.internal.getCurrentPageInfo().pageNumber,_e=0;_e<this.pdf.internal.getNumberOfPages();_e++)this.pdf.setPage(_e+1),this.pdf.internal.out("q");if(this.pdf.setPage(ce),J){this.ctx.fontSize=this.pdf.internal.getFontSize();var ke=new E(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ke}},H.prototype.restore=function(J){J="boolean"!=typeof J||J;for(var ce=this.pdf.internal.getCurrentPageInfo().pageNumber,_e=0;_e<this.pdf.internal.getNumberOfPages();_e++)this.pdf.setPage(_e+1),this.pdf.internal.out("Q");this.pdf.setPage(ce),J&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},H.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var V=function(J){var ce,_e,ke,Oe;if(!0===J.isCanvasGradient&&(J=J.getColor()),!J)return{r:0,g:0,b:0,a:0,style:J};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(J))ce=0,_e=0,ke=0,Oe=0;else{var De=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(J);if(null!==De)ce=parseInt(De[1]),_e=parseInt(De[2]),ke=parseInt(De[3]),Oe=1;else if(null!==(De=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(J)))ce=parseInt(De[1]),_e=parseInt(De[2]),ke=parseInt(De[3]),Oe=parseFloat(De[4]);else{if(Oe=1,"string"==typeof J&&"#"!==J.charAt(0)){var Ve=new C1(J);J=Ve.ok?Ve.toHex():"#000000"}4===J.length?(ce=J.substring(1,2),ce+=ce,_e=J.substring(2,3),_e+=_e,ke=J.substring(3,4),ke+=ke):(ce=J.substring(1,3),_e=J.substring(3,5),ke=J.substring(5,7)),ce=parseInt(ce,16),_e=parseInt(_e,16),ke=parseInt(ke,16)}}return{r:ce,g:_e,b:ke,a:Oe,style:J}},I=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},le=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};H.prototype.fillText=function(J,ce,_e,ke){if(isNaN(ce)||isNaN(_e)||"string"!=typeof J)throw yo.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ke=isNaN(ke)?void 0:ke,!I.call(this)){var Oe=Ge(this.ctx.transform.rotation),De=this.ctx.transform.scaleX;se.call(this,{text:J,x:ce,y:_e,scale:De,angle:Oe,align:this.textAlign,maxWidth:ke})}},H.prototype.strokeText=function(J,ce,_e,ke){if(isNaN(ce)||isNaN(_e)||"string"!=typeof J)throw yo.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!le.call(this)){ke=isNaN(ke)?void 0:ke;var Oe=Ge(this.ctx.transform.rotation),De=this.ctx.transform.scaleX;se.call(this,{text:J,x:ce,y:_e,scale:De,renderingMode:"stroke",angle:Oe,align:this.textAlign,maxWidth:ke})}},H.prototype.measureText=function(J){if("string"!=typeof J)throw yo.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ce=this.pdf,_e=this.pdf.internal.scaleFactor,ke=ce.internal.getFontSize(),Oe=ce.getStringUnitWidth(J)*ke/ce.internal.scaleFactor;return new function(De){var Ve=(De=De||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ve}}),this}({width:Oe*=Math.round(96*_e/72*1e4)/1e4})},H.prototype.scale=function(J,ce){if(isNaN(J)||isNaN(ce))throw yo.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var _e=new q(J,0,0,ce,0,0);this.ctx.transform=this.ctx.transform.multiply(_e)},H.prototype.rotate=function(J){if(isNaN(J))throw yo.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ce=new q(Math.cos(J),Math.sin(J),-Math.sin(J),Math.cos(J),0,0);this.ctx.transform=this.ctx.transform.multiply(ce)},H.prototype.translate=function(J,ce){if(isNaN(J)||isNaN(ce))throw yo.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var _e=new q(1,0,0,1,J,ce);this.ctx.transform=this.ctx.transform.multiply(_e)},H.prototype.transform=function(J,ce,_e,ke,Oe,De){if(isNaN(J)||isNaN(ce)||isNaN(_e)||isNaN(ke)||isNaN(Oe)||isNaN(De))throw yo.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ve=new q(J,ce,_e,ke,Oe,De);this.ctx.transform=this.ctx.transform.multiply(Ve)},H.prototype.setTransform=function(J,ce,_e,ke,Oe,De){J=isNaN(J)?1:J,ce=isNaN(ce)?0:ce,_e=isNaN(_e)?0:_e,ke=isNaN(ke)?1:ke,Oe=isNaN(Oe)?0:Oe,De=isNaN(De)?0:De,this.ctx.transform=new q(J,ce,_e,ke,Oe,De)};var re=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};H.prototype.drawImage=function(J,ce,_e,ke,Oe,De,Ve,We,dt){var Ut=this.pdf.getImageProperties(J),jt=1,Bt=1,et=1,de=1;void 0!==ke&&void 0!==We&&(et=We/ke,de=dt/Oe,jt=Ut.width/ke*We/ke,Bt=Ut.height/Oe*dt/Oe),void 0===De&&(De=ce,Ve=_e,ce=0,_e=0),void 0!==ke&&void 0===We&&(We=ke,dt=Oe),void 0===ke&&void 0===We&&(We=Ut.width,dt=Ut.height);for(var Yn,kn=this.ctx.transform.decompose(),dn=Ge(kn.rotate.shx),Ct=new q,nn=(Ct=(Ct=(Ct=Ct.multiply(kn.translate)).multiply(kn.skew)).multiply(kn.scale)).applyToRectangle(new x(De-ce*et,Ve-_e*de,ke*jt,Oe*Bt)),It=fe.call(this,nn),Nn=[],ln=0;ln<It.length;ln+=1)-1===Nn.indexOf(It[ln])&&Nn.push(It[ln]);if(Ce(Nn),this.autoPaging)for(var oo=Nn[0],Tn=Nn[Nn.length-1],wn=oo;wn<Tn+1;wn++){this.pdf.setPage(wn);var ho=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pn=1===wn?this.posY+this.margin[0]:this.margin[0],hn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],an=1===wn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(wn-2)*hn;if(0!==this.ctx.clip_path.length){var Co=this.path;Yn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Se(Yn,this.posX+this.margin[3],-an+Pn+this.ctx.prevPageLastElemOffset),$e.call(this,"fill",!0),this.path=Co}var io=JSON.parse(JSON.stringify(nn));io=Se([io],this.posX+this.margin[3],-an+Pn+this.ctx.prevPageLastElemOffset)[0];var Ht=(wn>oo||wn<Tn)&&re.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ho,hn,null).clip().discardPath()),this.pdf.addImage(J,"JPEG",io.x,io.y,io.w,io.h,null,null,dn),Ht&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(J,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,dn)};var fe=function(J,ce,_e){var ke=[];ce=ce||this.pdf.internal.pageSize.width,_e=_e||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Oe=this.posY+this.ctx.prevPageLastElemOffset;switch(J.type){default:case"mt":case"lt":ke.push(Math.floor((J.y+Oe)/_e)+1);break;case"arc":ke.push(Math.floor((J.y+Oe-J.radius)/_e)+1),ke.push(Math.floor((J.y+Oe+J.radius)/_e)+1);break;case"qct":var De=ct(this.ctx.lastPoint.x,this.ctx.lastPoint.y,J.x1,J.y1,J.x,J.y);ke.push(Math.floor((De.y+Oe)/_e)+1),ke.push(Math.floor((De.y+De.h+Oe)/_e)+1);break;case"bct":var Ve=Pt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,J.x1,J.y1,J.x2,J.y2,J.x,J.y);ke.push(Math.floor((Ve.y+Oe)/_e)+1),ke.push(Math.floor((Ve.y+Ve.h+Oe)/_e)+1);break;case"rect":ke.push(Math.floor((J.y+Oe)/_e)+1),ke.push(Math.floor((J.y+J.h+Oe)/_e)+1)}for(var We=0;We<ke.length;We+=1)for(;this.pdf.internal.getNumberOfPages()<ke[We];)X.call(this);return ke},X=function(){var J=this.fillStyle,ce=this.strokeStyle,_e=this.font,ke=this.lineCap,Oe=this.lineWidth,De=this.lineJoin;this.pdf.addPage(),this.fillStyle=J,this.strokeStyle=ce,this.font=_e,this.lineCap=ke,this.lineWidth=Oe,this.lineJoin=De},Se=function(J,ce,_e){for(var ke=0;ke<J.length;ke++)switch(J[ke].type){case"bct":J[ke].x2+=ce,J[ke].y2+=_e;case"qct":J[ke].x1+=ce,J[ke].y1+=_e;default:J[ke].x+=ce,J[ke].y+=_e}return J},Ce=function(J){return J.sort(function(ce,_e){return ce-_e})},Ze=function(J,ce){for(var _e,ke,Oe=this.fillStyle,De=this.strokeStyle,Ve=this.lineCap,We=this.lineWidth,dt=Math.abs(We*this.ctx.transform.scaleX),Ut=this.lineJoin,jt=JSON.parse(JSON.stringify(this.path)),Bt=JSON.parse(JSON.stringify(this.path)),et=[],de=0;de<Bt.length;de++)if(void 0!==Bt[de].x)for(var Yn=fe.call(this,Bt[de]),kn=0;kn<Yn.length;kn+=1)-1===et.indexOf(Yn[kn])&&et.push(Yn[kn]);for(var dn=0;dn<et.length;dn++)for(;this.pdf.internal.getNumberOfPages()<et[dn];)X.call(this);if(Ce(et),this.autoPaging)for(var Ct=et[0],nn=et[et.length-1],It=Ct;It<nn+1;It++){this.pdf.setPage(It),this.fillStyle=Oe,this.strokeStyle=De,this.lineCap=Ve,this.lineWidth=dt,this.lineJoin=Ut;var Nn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ln=1===It?this.posY+this.margin[0]:this.margin[0],Tn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wn=1===It?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(It-2)*Tn;if(0!==this.ctx.clip_path.length){var ho=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Se(_e,this.posX+this.margin[3],-wn+ln+this.ctx.prevPageLastElemOffset),$e.call(this,J,!0),this.path=ho}if(ke=JSON.parse(JSON.stringify(jt)),this.path=Se(ke,this.posX+this.margin[3],-wn+ln+this.ctx.prevPageLastElemOffset),!1===ce||0===It){var Pn=(It>Ct||It<nn)&&re.call(this);Pn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nn,Tn,null).clip().discardPath()),$e.call(this,J,ce),Pn&&this.pdf.restoreGraphicsState()}this.lineWidth=We}else this.lineWidth=dt,$e.call(this,J,ce),this.lineWidth=We;this.path=jt},$e=function(J,ce){if(("stroke"!==J||ce||!le.call(this))&&("stroke"===J||ce||!I.call(this))){for(var _e,ke,Oe=[],De=this.path,Ve=0;Ve<De.length;Ve++){var We=De[Ve];switch(We.type){case"begin":Oe.push({begin:!0});break;case"close":Oe.push({close:!0});break;case"mt":Oe.push({start:We,deltas:[],abs:[]});break;case"lt":var dt=Oe.length;if(De[Ve-1]&&!isNaN(De[Ve-1].x)&&(_e=[We.x-De[Ve-1].x,We.y-De[Ve-1].y],dt>0))for(;dt>=0;dt--)if(!0!==Oe[dt-1].close&&!0!==Oe[dt-1].begin){Oe[dt-1].deltas.push(_e),Oe[dt-1].abs.push(We);break}break;case"bct":Oe[Oe.length-1].deltas.push(_e=[We.x1-De[Ve-1].x,We.y1-De[Ve-1].y,We.x2-De[Ve-1].x,We.y2-De[Ve-1].y,We.x-De[Ve-1].x,We.y-De[Ve-1].y]);break;case"qct":Oe[Oe.length-1].deltas.push(_e=[De[Ve-1].x+2/3*(We.x1-De[Ve-1].x)-De[Ve-1].x,De[Ve-1].y+2/3*(We.y1-De[Ve-1].y)-De[Ve-1].y,We.x+2/3*(We.x1-We.x)-De[Ve-1].x,We.y+2/3*(We.y1-We.y)-De[Ve-1].y,We.x-De[Ve-1].x,We.y-De[Ve-1].y]);break;case"arc":Oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(Oe[Oe.length-1].abs)&&Oe[Oe.length-1].abs.push(We)}}ke=ce?null:"stroke"===J?"stroke":"fill";for(var kn=!1,dn=0;dn<Oe.length;dn++)if(Oe[dn].arc)for(var Ct=Oe[dn].abs,nn=0;nn<Ct.length;nn++){var It=Ct[nn];"arc"===It.type?ze.call(this,It.x,It.y,It.radius,It.startAngle,It.endAngle,It.counterclockwise,void 0,ce,!kn):xe.call(this,It.x,It.y),kn=!0}else!0===Oe[dn].close?(this.pdf.internal.out("h"),kn=!1):!0!==Oe[dn].begin&&(Ae.call(this,Oe[dn].deltas,Oe[dn].start.x,Oe[dn].start.y),kn=!0);ke&&Te.call(this,ke),ce&&Je.call(this)}},Zt=function(J){var ce=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,_e=ce*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return J-_e;case"top":return J+ce-_e;case"hanging":return J+ce-2*_e;case"middle":return J+ce/2-_e;default:return J}},gt=function(J){return J+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};H.prototype.createLinearGradient=function(){var J=function(){};return J.colorStops=[],J.addColorStop=function(ce,_e){this.colorStops.push([ce,_e])},J.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},J.isCanvasGradient=!0,J},H.prototype.createPattern=function(){return this.createLinearGradient()},H.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ze=function(J,ce,_e,ke,Oe,De,Ve,We,dt){for(var Ut=rt.call(this,_e,ke,Oe,De),jt=0;jt<Ut.length;jt++){var Bt=Ut[jt];0===jt&&(dt?Q.call(this,Bt.x1+J,Bt.y1+ce):xe.call(this,Bt.x1+J,Bt.y1+ce)),Qe.call(this,J,ce,Bt.x2,Bt.y2,Bt.x3,Bt.y3,Bt.x4,Bt.y4)}We?Je.call(this):Te.call(this,Ve)},Te=function(J){switch(J){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Je=function(){this.pdf.clip(),this.pdf.discardPath()},Q=function(J,ce){this.pdf.internal.out(a(J)+" "+f(ce)+" m")},se=function(J){var ce;switch(J.align){case"right":case"end":ce="right";break;case"center":ce="center";break;default:ce="left"}var _e=this.pdf.getTextDimensions(J.text),ke=Zt.call(this,J.y),Oe=gt.call(this,ke)-_e.h,De=this.ctx.transform.applyToPoint(new w(J.x,ke)),Ve=this.ctx.transform.decompose(),We=new q;We=(We=(We=We.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale);for(var dt,Ut,jt,Bt=this.ctx.transform.applyToRectangle(new x(J.x,ke,_e.w,_e.h)),et=We.applyToRectangle(new x(J.x,Oe,_e.w,_e.h)),de=fe.call(this,et),Yn=[],kn=0;kn<de.length;kn+=1)-1===Yn.indexOf(de[kn])&&Yn.push(de[kn]);if(Ce(Yn),this.autoPaging)for(var dn=Yn[0],Ct=Yn[Yn.length-1],nn=dn;nn<Ct+1;nn++){this.pdf.setPage(nn);var It=1===nn?this.posY+this.margin[0]:this.margin[0],ln=this.pdf.internal.pageSize.height-this.margin[2],oo=ln-this.margin[0],Tn=this.pdf.internal.pageSize.width-this.margin[1],wn=Tn-this.margin[3],ho=1===nn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(nn-2)*oo;if(0!==this.ctx.clip_path.length){var Pn=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Se(dt,this.posX+this.margin[3],-1*ho+It),$e.call(this,"fill",!0),this.path=Pn}var rn=Se([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-ho+It+this.ctx.prevPageLastElemOffset)[0];J.scale>=.01&&(Ut=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ut*J.scale),this.lineWidth=(jt=this.lineWidth)*J.scale);var hn="text"!==this.autoPaging;if(hn||rn.y+rn.h<=ln){if(hn||rn.y>=It&&rn.x<=Tn){var an=hn?J.text:this.pdf.splitTextToSize(J.text,J.maxWidth||Tn-rn.x)[0],Co=Se([JSON.parse(JSON.stringify(Bt))],this.posX+this.margin[3],-ho+It+this.ctx.prevPageLastElemOffset)[0],io=hn&&(nn>dn||nn<Ct)&&re.call(this);io&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wn,oo,null).clip().discardPath()),this.pdf.text(an,Co.x,Co.y,{angle:J.angle,align:ce,renderingMode:J.renderingMode}),io&&this.pdf.restoreGraphicsState()}}else rn.y<ln&&(this.ctx.prevPageLastElemOffset+=ln-rn.y);J.scale>=.01&&(this.pdf.setFontSize(Ut),this.lineWidth=jt)}else J.scale>=.01&&(Ut=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ut*J.scale),this.lineWidth=(jt=this.lineWidth)*J.scale),this.pdf.text(J.text,De.x+this.posX,De.y+this.posY,{angle:J.angle,align:ce,renderingMode:J.renderingMode,maxWidth:J.maxWidth}),J.scale>=.01&&(this.pdf.setFontSize(Ut),this.lineWidth=jt)},xe=function(J,ce,_e,ke){ke=ke||0,this.pdf.internal.out(a(J+(_e=_e||0))+" "+f(ce+ke)+" l")},Ae=function(J,ce,_e){return this.pdf.lines(J,ce,_e,null,null)},Qe=function(J,ce,_e,ke,Oe,De,Ve,We){this.pdf.internal.out([l(h(_e+J)),l(_(ke+ce)),l(h(Oe+J)),l(_(De+ce)),l(h(Ve+J)),l(_(We+ce)),"c"].join(" "))},rt=function(J,ce,_e,ke){for(var Oe=2*Math.PI,De=Math.PI/2;ce>_e;)ce-=Oe;var Ve=Math.abs(_e-ce);Ve<Oe&&ke&&(Ve=Oe-Ve);for(var We=[],dt=ke?-1:1,Ut=ce;Ve>1e-5;){var jt=Ut+dt*Math.min(Ve,De);We.push(ft.call(this,J,Ut,jt)),Ve-=Math.abs(jt-Ut),Ut=jt}return We},ft=function(J,ce,_e){var ke=(_e-ce)/2,Oe=J*Math.cos(ke),De=J*Math.sin(ke),Ve=Oe,We=-De,dt=Ve*Ve+We*We,Ut=dt+Ve*Oe+We*De,jt=4/3*(Math.sqrt(2*dt*Ut)-Ut)/(Ve*De-We*Oe),Bt=Ve-jt*We,et=We+jt*Ve,de=Bt,Yn=-et,kn=ke+ce,dn=Math.cos(kn),Ct=Math.sin(kn);return{x1:J*Math.cos(ce),y1:J*Math.sin(ce),x2:Bt*dn-et*Ct,y2:Bt*Ct+et*dn,x3:de*dn-Yn*Ct,y3:de*Ct+Yn*dn,x4:J*Math.cos(_e),y4:J*Math.sin(_e)}},Ge=function(J){return 180*J/Math.PI},ct=function(J,ce,_e,ke,Oe,De){var Ve=J+.5*(_e-J),We=ce+.5*(ke-ce),dt=Oe+.5*(_e-Oe),Ut=De+.5*(ke-De),jt=Math.min(J,Oe,Ve,dt),Bt=Math.max(J,Oe,Ve,dt),et=Math.min(ce,De,We,Ut),de=Math.max(ce,De,We,Ut);return new x(jt,et,Bt-jt,de-et)},Pt=function(J,ce,_e,ke,Oe,De,Ve,We){var dt,Ut,jt,Bt,et,de,Yn,kn,dn,Ct,nn,It,Nn,ln,oo=_e-J,Tn=ke-ce,wn=Oe-_e,ho=De-ke,Pn=Ve-Oe,rn=We-De;for(Ut=0;Ut<41;Ut++)dn=(Yn=(jt=J+(dt=Ut/40)*oo)+dt*((et=_e+dt*wn)-jt))+dt*(et+dt*(Oe+dt*Pn-et)-Yn),Ct=(kn=(Bt=ce+dt*Tn)+dt*((de=ke+dt*ho)-Bt))+dt*(de+dt*(De+dt*rn-de)-kn),0==Ut?(nn=dn,It=Ct,Nn=dn,ln=Ct):(nn=Math.min(nn,dn),It=Math.min(It,Ct),Nn=Math.max(Nn,dn),ln=Math.max(ln,Ct));return new x(Math.round(nn),Math.round(It),Math.round(Nn-nn),Math.round(ln-It))},At=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _e=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==_e&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=_e)}}})(Vt.API),function(i){var l=function(w){var x,q,k,E,H,V,I,le,re,fe;for(/[^\x00-\xFF]/.test(w),q=[],k=0,E=(w+=x="\0\0\0\0".slice(w.length%4||4)).length;E>k;k+=4)0!==(H=(w.charCodeAt(k)<<24)+(w.charCodeAt(k+1)<<16)+(w.charCodeAt(k+2)<<8)+w.charCodeAt(k+3))?(V=(H=((H=((H=((H=(H-(fe=H%85))/85)-(re=H%85))/85)-(le=H%85))/85)-(I=H%85))/85)%85,q.push(V+33,I+33,le+33,re+33,fe+33)):q.push(122);return function(X,Se){for(var Ce=Se;Ce>0;Ce--)X.pop()}(q,x.length),String.fromCharCode.apply(String,q)+"~>"},a=function(w){var x,q,k,E,H,V=String,I="length",re="charCodeAt",fe="slice",X="replace";for(w[fe](-2),w=w[fe](0,-2)[X](/\s/g,"")[X]("z","!!!!!"),k=[],E=0,H=(w+=x="uuuuu"[fe](w[I]%5||5))[I];H>E;E+=5)q=52200625*(w[re](E)-33)+614125*(w[re](E+1)-33)+7225*(w[re](E+2)-33)+85*(w[re](E+3)-33)+(w[re](E+4)-33),k.push(255&q>>24,255&q>>16,255&q>>8,255&q);return function(Se,Ce){for(var Ze=Ce;Ze>0;Ze--)Se.pop()}(k,x[I]),V.fromCharCode.apply(V,k)},f=function(w){return w.split("").map(function(x){return("0"+x.charCodeAt().toString(16)).slice(-2)}).join("")+">"},h=function(w){var x=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(w=w.replace(/\s/g,"")).indexOf(">")&&(w=w.substr(0,w.indexOf(">"))),w.length%2&&(w+="0"),!1===x.test(w))return"";for(var q="",k=0;k<w.length;k+=2)q+=String.fromCharCode("0x"+(w[k]+w[k+1]));return q},_=function(w){for(var x=new Uint8Array(w.length),q=w.length;q--;)x[q]=w.charCodeAt(q);return(x=(0,be.iZ)(x)).reduce(function(k,E){return k+String.fromCharCode(E)},"")};i.processDataByFilters=function(w,x){var q=0,k=w||"",E=[];for("string"==typeof(x=x||[])&&(x=[x]),q=0;q<x.length;q+=1)switch(x[q]){case"ASCII85Decode":case"/ASCII85Decode":k=a(k),E.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":k=l(k),E.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":k=h(k),E.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":k=f(k),E.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":k=_(k),E.push("/FlateDecode");break;default:throw new Error('The filter: "'+x[q]+'" is not implemented')}return{data:k,reverseChain:E.reverse().join(" ")}}}(Vt.API),function(i){i.loadFile=function(l,a,f){return function(h,_,w){_=!1!==_,w="function"==typeof w?w:function(){};var x=void 0;try{x=function(q,k,E){var H=new XMLHttpRequest,V=0,I=function(le){var re=le.length,fe=[],X=String.fromCharCode;for(V=0;V<re;V+=1)fe.push(X(255&le.charCodeAt(V)));return fe.join("")};if(H.open("GET",q,!k),H.overrideMimeType("text/plain; charset=x-user-defined"),!1===k&&(H.onload=function(){E(200===H.status?I(this.responseText):void 0)}),H.send(null),k&&200===H.status)return I(H.responseText)}(h,_,w)}catch{}return x}(l,a,f)},i.loadImageFile=i.loadFile}(Vt.API),function(i){function l(){return(mn.html2canvas?Promise.resolve(mn.html2canvas):Promise.resolve().then(cn.t.bind(cn,4159,23))).catch(function(x){return Promise.reject(new Error("Could not load html2canvas: "+x))}).then(function(x){return x.default?x.default:x})}function a(){return(mn.DOMPurify?Promise.resolve(mn.DOMPurify):cn.e(484).then(cn.bind(cn,4484))).catch(function(x){return Promise.reject(new Error("Could not load dompurify: "+x))}).then(function(x){return x.default?x.default:x})}var f=function(x){var q=Gt(x);return"undefined"===q?"undefined":"string"===q||x instanceof String?"string":"number"===q||x instanceof Number?"number":"function"===q||x instanceof Function?"function":x&&x.constructor===Array?"array":x&&1===x.nodeType?"element":"object"===q?"object":"unknown"},h=function(x,q){var k=document.createElement(x);for(var E in q.className&&(k.className=q.className),q.innerHTML&&q.dompurify&&(k.innerHTML=q.dompurify.sanitize(q.innerHTML)),q.style)k.style[E]=q.style[E];return k},_=function x(q,k){for(var E=3===q.nodeType?document.createTextNode(q.nodeValue):q.cloneNode(!1),H=q.firstChild;H;H=H.nextSibling)!0!==k&&1===H.nodeType&&"SCRIPT"===H.nodeName||E.appendChild(x(H,k));return 1===q.nodeType&&("CANVAS"===q.nodeName?(E.width=q.width,E.height=q.height,E.getContext("2d").drawImage(q,0,0)):"TEXTAREA"!==q.nodeName&&"SELECT"!==q.nodeName||(E.value=q.value),E.addEventListener("load",function(){E.scrollTop=q.scrollTop,E.scrollLeft=q.scrollLeft},!0)),E},w=function x(q){var k=Object.assign(x.convert(Promise.resolve()),JSON.parse(JSON.stringify(x.template))),E=x.convert(Promise.resolve(),k);return(E=E.setProgress(1,x,1,[x])).set(q)};(w.prototype=Object.create(Promise.prototype)).constructor=w,w.convert=function(x,q){return x.__proto__=q||w.prototype,x},w.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},w.prototype.from=function(x,q){return this.then(function(){switch(q=q||function(k){switch(f(k)){case"string":return"string";case"element":return"canvas"===k.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(x)){case"string":return this.then(a).then(function(k){return this.set({src:h("div",{innerHTML:x,dompurify:k})})});case"element":return this.set({src:x});case"canvas":return this.set({canvas:x});case"img":return this.set({img:x});default:return this.error("Unknown source type.")}})},w.prototype.to=function(x){switch(x){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},w.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var x={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},q=_(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===q.tagName&&(x.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=h("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=h("div",{className:"html2pdf__container",style:x}),this.prop.container.appendChild(q),this.prop.container.firstChild.appendChild(h("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},w.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(l).then(function(q){var k=Object.assign({},this.opt.html2canvas);return delete k.onrendered,q(this.prop.container,k)}).then(function(q){(this.opt.html2canvas.onrendered||function(){})(q),this.prop.canvas=q,document.body.removeChild(this.prop.overlay)})},w.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(l).then(function(q){var k=this.opt.jsPDF,E=this.opt.fontFaces,H="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,V=Object.assign({async:!0,allowTaint:!0,scale:H,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete V.onrendered,k.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,k.context2d.posX=this.opt.x,k.context2d.posY=this.opt.y,k.context2d.margin=this.opt.margin,k.context2d.fontFaces=E,E)for(var I=0;I<E.length;++I){var le=E[I],re=le.src.find(function(fe){return"truetype"===fe.format});re&&k.addFont(re.url,le.ref.name,le.ref.style)}return V.windowHeight=V.windowHeight||0,V.windowHeight=0==V.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):V.windowHeight,k.context2d.save(!0),q(this.prop.container,V)}).then(function(q){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(q),this.prop.canvas=q,document.body.removeChild(this.prop.overlay)})},w.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var x=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=x})},w.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},w.prototype.output=function(x,q,k){return"img"===(k=k||"pdf").toLowerCase()||"image"===k.toLowerCase()?this.outputImg(x,q):this.outputPdf(x,q)},w.prototype.outputPdf=function(x,q){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(x,q)})},w.prototype.outputImg=function(x){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(x){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+x+'" is not supported.'}})},w.prototype.save=function(x){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(x?{filename:x}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},w.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},w.prototype.set=function(x){if("object"!==f(x))return this;var q=Object.keys(x||{}).map(function(k){if(k in w.template.prop)return function(){this.prop[k]=x[k]};switch(k){case"margin":return this.setMargin.bind(this,x.margin);case"jsPDF":return function(){return this.opt.jsPDF=x.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,x.pageSize);default:return function(){this.opt[k]=x[k]}}},this);return this.then(function(){return this.thenList(q)})},w.prototype.get=function(x,q){return this.then(function(){var k=x in w.template.prop?this.prop[x]:this.opt[x];return q?q(k):k})},w.prototype.setMargin=function(x){return this.then(function(){switch(f(x)){case"number":x=[x,x,x,x];case"array":if(2===x.length&&(x=[x[0],x[1],x[0],x[1]]),4===x.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=x}).then(this.setPageSize)},w.prototype.setPageSize=function(x){function q(k,E){return Math.floor(k*E/72*96)}return this.then(function(){(x=x||Vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(x.inner={width:x.width-this.opt.margin[1]-this.opt.margin[3],height:x.height-this.opt.margin[0]-this.opt.margin[2]},x.inner.px={width:q(x.inner.width,x.k),height:q(x.inner.height,x.k)},x.inner.ratio=x.inner.height/x.inner.width),this.prop.pageSize=x})},w.prototype.setProgress=function(x,q,k,E){return null!=x&&(this.progress.val=x),null!=q&&(this.progress.state=q),null!=k&&(this.progress.n=k),null!=E&&(this.progress.stack=E),this.progress.ratio=this.progress.val/this.progress.state,this},w.prototype.updateProgress=function(x,q,k,E){return this.setProgress(x?this.progress.val+x:null,q||null,k?this.progress.n+k:null,E?this.progress.stack.concat(E):null)},w.prototype.then=function(x,q){var k=this;return this.thenCore(x,q,function(E,H){return k.updateProgress(null,null,1,[E]),Promise.prototype.then.call(this,function(V){return k.updateProgress(null,E),V}).then(E,H).then(function(V){return k.updateProgress(1),V})})},w.prototype.thenCore=function(x,q,k){k=k||Promise.prototype.then;var E=this;x&&(x=x.bind(E)),q&&(q=q.bind(E));var H=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?E:w.convert(Object.assign({},E),Promise.prototype),V=k.call(H,x,q);return w.convert(V,E.__proto__)},w.prototype.thenExternal=function(x,q){return Promise.prototype.then.call(this,x,q)},w.prototype.thenList=function(x){var q=this;return x.forEach(function(k){q=q.thenCore(k)}),q},w.prototype.catch=function(x){x&&(x=x.bind(this));var q=Promise.prototype.catch.call(this,x);return w.convert(q,this)},w.prototype.catchExternal=function(x){return Promise.prototype.catch.call(this,x)},w.prototype.error=function(x){return this.then(function(){throw new Error(x)})},w.prototype.using=w.prototype.set,w.prototype.saveAs=w.prototype.save,w.prototype.export=w.prototype.output,w.prototype.run=w.prototype.then,Vt.getPageSize=function(x,q,k){if("object"===Gt(x)){var E=x;x=E.orientation,q=E.unit||q,k=E.format||k}q=q||"mm",k=k||"a4",x=(""+(x||"P")).toLowerCase();var H,V=(""+k).toLowerCase(),I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(q){case"pt":H=1;break;case"mm":H=72/25.4;break;case"cm":H=72/2.54;break;case"in":H=72;break;case"px":H=.75;break;case"pc":case"em":H=12;break;case"ex":H=6;break;default:throw"Invalid unit: "+q}var le,re=0,fe=0;if(I.hasOwnProperty(V))re=I[V][1]/H,fe=I[V][0]/H;else try{re=k[1],fe=k[0]}catch{throw new Error("Invalid format: "+k)}if("p"===x||"portrait"===x)x="p",fe>re&&(le=fe,fe=re,re=le);else{if("l"!==x&&"landscape"!==x)throw"Invalid orientation: "+x;x="l",re>fe&&(le=fe,fe=re,re=le)}return{width:fe,height:re,unit:q,k:H,orientation:x}},i.html=function(x,q){(q=q||{}).callback=q.callback||function(){},q.html2canvas=q.html2canvas||{},q.html2canvas.canvas=q.html2canvas.canvas||this.canvas,q.jsPDF=q.jsPDF||this,q.fontFaces=q.fontFaces?q.fontFaces.map(ws):null;var k=new w(q);return q.worker?k:k.from(x).doCallback()}}(Vt.API),Vt.API.addJS=function(i){return G1=i,this.internal.events.subscribe("postPutResources",function(){$a=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($a+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),J1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+G1+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==$a&&void 0!==J1&&this.internal.out("/Names <</JavaScript "+$a+" 0 R>>")}),this},function(i){var l;i.events.push(["postPutResources",function(){var a=this,f=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var h=a.outline.render().split(/\r\n/),_=0;_<h.length;_++){var w=h[_],x=f.exec(w);null!=x&&a.internal.newObjectDeferredBegin(x[1],!1),a.internal.write(w)}if(this.outline.createNamedDestinations){var k=this.internal.pages.length,E=[];for(_=0;_<k;_++){var H=a.internal.newObject();E.push(H);var V=a.internal.getPageInfo(_+1);a.internal.write("<< /D["+V.objId+" 0 R /XYZ null null null]>> endobj")}var I=a.internal.newObject();for(a.internal.write("<< /Names [ "),_=0;_<E.length;_++)a.internal.write("(page_"+(_+1)+")"+E[_]+" 0 R");a.internal.write(" ] >>","endobj"),l=a.internal.newObject(),a.internal.write("<< /Dests "+I+" 0 R"),a.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){var a=this;a.outline.root.children.length>0&&(a.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&a.internal.write("/Names "+l+" 0 R"))}]),i.events.push(["initialized",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(f,h,_){var w={title:h,options:_,children:[]};return null==f&&(f=this.root),f.children.push(w),w},a.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(f){f.id=a.internal.newObjectDeferred();for(var h=0;h<f.children.length;h++)this.genIds_r(f.children[h])},a.outline.renderRoot=function(f){this.objStart(f),this.line("/Type /Outlines"),f.children.length>0&&(this.line("/First "+this.makeRef(f.children[0])),this.line("/Last "+this.makeRef(f.children[f.children.length-1]))),this.line("/Count "+this.count_r({count:0},f)),this.objEnd()},a.outline.renderItems=function(f){for(var h=this.ctx.pdf.internal.getVerticalCoordinateString,_=0;_<f.children.length;_++){var w=f.children[_];this.objStart(w),this.line("/Title "+this.makeString(w.title)),this.line("/Parent "+this.makeRef(f)),_>0&&this.line("/Prev "+this.makeRef(f.children[_-1])),_<f.children.length-1&&this.line("/Next "+this.makeRef(f.children[_+1])),w.children.length>0&&(this.line("/First "+this.makeRef(w.children[0])),this.line("/Last "+this.makeRef(w.children[w.children.length-1])));var x=this.count=this.count_r({count:0},w);if(x>0&&this.line("/Count "+x),w.options&&w.options.pageNumber){var q=a.internal.getPageInfo(w.options.pageNumber);this.line("/Dest ["+q.objId+" 0 R /XYZ 0 "+h(0)+" 0]")}this.objEnd()}for(var k=0;k<f.children.length;k++)this.renderItems(f.children[k])},a.outline.line=function(f){this.ctx.val+=f+"\r\n"},a.outline.makeRef=function(f){return f.id+" 0 R"},a.outline.makeString=function(f){return"("+a.internal.pdfEscape(f)+")"},a.outline.objStart=function(f){this.ctx.val+="\r\n"+f.id+" 0 obj\r\n<<\r\n"},a.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},a.outline.count_r=function(f,h){for(var _=0;_<h.children.length;_++)f.count++,this.count_r(f,h.children[_]);return f.count}}])}(Vt.API),function(i){var l=[192,193,194,195,196,197,198,199];i.processJPEG=function(a,f,h,_,w,x){var q,k=this.decode.DCT_DECODE,E=null;if("string"==typeof a||this.__addimage__.isArrayBuffer(a)||this.__addimage__.isArrayBufferView(a)){switch(a=this.__addimage__.isArrayBuffer(a=w||a)?new Uint8Array(a):a,(q=function(H){for(var V,I=256*H.charCodeAt(4)+H.charCodeAt(5),le=H.length,re={width:0,height:0,numcomponents:1},fe=4;fe<le;fe+=2){if(-1!==l.indexOf(H.charCodeAt((fe+=I)+1))){V=256*H.charCodeAt(fe+5)+H.charCodeAt(fe+6),re={width:256*H.charCodeAt(fe+7)+H.charCodeAt(fe+8),height:V,numcomponents:H.charCodeAt(fe+9)};break}I=256*H.charCodeAt(fe+2)+H.charCodeAt(fe+3)}return re}(a=this.__addimage__.isArrayBufferView(a)?this.__addimage__.arrayBufferToBinaryString(a):a)).numcomponents){case 1:x=this.color_spaces.DEVICE_GRAY;break;case 4:x=this.color_spaces.DEVICE_CMYK;break;case 3:x=this.color_spaces.DEVICE_RGB}E={data:a,width:q.width,height:q.height,colorSpace:x,bitsPerComponent:8,filter:k,index:f,alias:h}}return E}}(Vt.API),Vt.API.processPNG=function(i,l,a,f){if(this.__addimage__.isArrayBuffer(i)&&(i=new Uint8Array(i)),this.__addimage__.isArrayBufferView(i)){var h,H,V,I,_=function Mf(i,l){return new kf(i,l).decode()}(i,{checkCrc:!0}),w=_.width,x=_.height,q=_.channels,E=_.depth,re=(h=_.palette&&1===q?function(ze){for(var Te=ze.width,Je=ze.height,Q=ze.data,se=ze.palette,xe=ze.depth,Ae=!1,Qe=[],rt=[],ft=void 0,Ge=!1,ct=0,Pt=0;Pt<se.length;Pt++){var At=ae(se[Pt],4),ke=At[3];Qe.push(At[0],At[1],At[2]),null!=ke&&(0===ke?(ct++,rt.length<1&&rt.push(Pt)):ke<255&&(Ge=!0))}if(Ge||ct>1){Ae=!0,rt=void 0;var Oe=Te*Je;ft=new Uint8Array(Oe);for(var De=new DataView(Q.buffer),Ve=0;Ve<Oe;Ve++){var dt=ae(se[Hp(De,Ve,xe)],4)[3];ft[Ve]=dt}}else 0===ct&&(rt=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Ae?8:void 0,colorBytes:Q,alphaBytes:ft,needSMask:Ae,palette:Qe,mask:rt}}(_):2===q||4===q?function(ze){for(var Te=ze.data,se=ze.channels,xe=ze.depth,Ae=2===se?"DeviceGray":"DeviceRGB",Qe=se-1,rt=ze.width*ze.height,ft=Qe,ct=1*rt,Pt=Math.ceil(rt*ft*xe/8),At=Math.ceil(ct*xe/8),J=new Uint8Array(Pt),ce=new Uint8Array(At),_e=new DataView(Te.buffer),ke=new DataView(J.buffer),Oe=new DataView(ce.buffer),De=!1,Ve=0;Ve<rt;Ve++){for(var We=Ve*se,dt=0;dt<ft;dt++)rl(ke,Hp(_e,We+dt,xe),Ve*ft+dt,xe);var Ut=Hp(_e,We+ft,xe);Ut<(1<<xe)-1&&(De=!0),rl(Oe,Ut,1*Ve,xe)}return{colorSpace:Ae,colorsPerPixel:Qe,sMaskBitsPerComponent:De?xe:void 0,colorBytes:J,alphaBytes:ce,needSMask:De}}(_):{colorSpace:Je=1===(ze=_).channels?"DeviceGray":"DeviceRGB",colorsPerPixel:"DeviceGray"===Je?1:3,colorBytes:(Te=ze.data)instanceof Uint16Array?function(Q){for(var se=Q.length,xe=new Uint8Array(2*se),Ae=new DataView(xe.buffer,xe.byteOffset,xe.byteLength),Qe=0;Qe<se;Qe++)Ae.setUint16(2*Qe,Q[Qe],!1);return xe}(Te):Te,needSMask:!1}).colorSpace,fe=h.colorsPerPixel,X=h.sMaskBitsPerComponent,Se=h.colorBytes,Ce=h.alphaBytes,Ze=h.needSMask,$e=h.palette,Zt=h.mask,gt=null;return f!==Vt.API.image_compression.NONE&&"function"==typeof be.iZ?(gt=function(ze){var Te;switch(ze){case Vt.API.image_compression.FAST:Te=11;break;case Vt.API.image_compression.MEDIUM:Te=13;break;case Vt.API.image_compression.SLOW:Te=14;break;default:Te=12}return Te}(f),H=this.decode.FLATE_DECODE,V="/Predictor ".concat(gt," /Colors ").concat(fe," /BitsPerComponent ").concat(E," /Columns ").concat(w),i=K1(Se,Math.ceil(w*fe*E/8),fe,E,f),Ze&&(I=K1(Ce,Math.ceil(w*X/8),1,X,f))):(H=void 0,V=void 0,i=Se,Ze&&(I=Ce)),(this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i))&&(i=this.__addimage__.arrayBufferToBinaryString(i)),(I&&this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),{alias:a,data:i,index:l,filter:H,decodeParameters:V,transparency:Zt,palette:$e,sMask:I,predictor:gt,width:w,height:x,bitsPerComponent:E,sMaskBitsPerComponent:X,colorSpace:re}}var ze,Te,Je},function(i){i.processGIF89A=function(l,a,f,h){var _=new og(l),w=_.width,x=_.height,q=[];_.decodeAndBlitFrameRGBA(0,q);var k={data:q,width:w,height:x},E=new Yp(100).encode(k,100);return i.processJPEG.call(this,E,a,f,h)},i.processGIF87A=i.processGIF89A}(Vt.API),Jr.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var l=0;l<i;l++){var a=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),_=this.datav.getUint8(this.pos++,!0);this.palette[l]={red:h,green:f,blue:a,quad:_}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Jr.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[i]()}catch(a){yo.log("bit decode error:"+a)}},Jr.prototype.bit1=function(){var i,l=Math.ceil(this.width/8),a=l%4;for(i=this.height-1;i>=0;i--){for(var f=this.bottom_up?i:this.height-1-i,h=0;h<l;h++)for(var _=this.datav.getUint8(this.pos++,!0),w=f*this.width*4+8*h*4,x=0;x<8&&8*h+x<this.width;x++){var q=this.palette[_>>7-x&1];this.data[w+4*x]=q.blue,this.data[w+4*x+1]=q.green,this.data[w+4*x+2]=q.red,this.data[w+4*x+3]=255}0!==a&&(this.pos+=4-a)}},Jr.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),l=i%4,a=this.height-1;a>=0;a--){for(var f=this.bottom_up?a:this.height-1-a,h=0;h<i;h++){var _=this.datav.getUint8(this.pos++,!0),w=f*this.width*4+2*h*4,q=15&_,k=this.palette[_>>4];if(this.data[w]=k.blue,this.data[w+1]=k.green,this.data[w+2]=k.red,this.data[w+3]=255,2*h+1>=this.width)break;this.data[w+4]=(k=this.palette[q]).blue,this.data[w+4+1]=k.green,this.data[w+4+2]=k.red,this.data[w+4+3]=255}0!==l&&(this.pos+=4-l)}},Jr.prototype.bit8=function(){for(var i=this.width%4,l=this.height-1;l>=0;l--){for(var a=this.bottom_up?l:this.height-1-l,f=0;f<this.width;f++){var h=this.datav.getUint8(this.pos++,!0),_=a*this.width*4+4*f;if(h<this.palette.length){var w=this.palette[h];this.data[_]=w.red,this.data[_+1]=w.green,this.data[_+2]=w.blue,this.data[_+3]=255}else this.data[_]=255,this.data[_+1]=255,this.data[_+2]=255,this.data[_+3]=255}0!==i&&(this.pos+=4-i)}},Jr.prototype.bit15=function(){for(var i=this.width%3,l=parseInt("11111",2),a=this.height-1;a>=0;a--){for(var f=this.bottom_up?a:this.height-1-a,h=0;h<this.width;h++){var _=this.datav.getUint16(this.pos,!0);this.pos+=2;var w=(_&l)/l*255|0,x=(_>>5&l)/l*255|0,k=_>>15?255:0,E=f*this.width*4+4*h;this.data[E]=(_>>10&l)/l*255|0,this.data[E+1]=x,this.data[E+2]=w,this.data[E+3]=k}this.pos+=i}},Jr.prototype.bit16=function(){for(var i=this.width%3,l=parseInt("11111",2),a=parseInt("111111",2),f=this.height-1;f>=0;f--){for(var h=this.bottom_up?f:this.height-1-f,_=0;_<this.width;_++){var w=this.datav.getUint16(this.pos,!0);this.pos+=2;var x=(w&l)/l*255|0,q=(w>>5&a)/a*255|0,E=h*this.width*4+4*_;this.data[E]=(w>>11)/l*255|0,this.data[E+1]=q,this.data[E+2]=x,this.data[E+3]=255}this.pos+=i}},Jr.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var l=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var f=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),_=this.datav.getUint8(this.pos++,!0),w=l*this.width*4+4*a;this.data[w]=_,this.data[w+1]=h,this.data[w+2]=f,this.data[w+3]=255}this.pos+=this.width%4}},Jr.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var l=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var f=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),_=this.datav.getUint8(this.pos++,!0),w=this.datav.getUint8(this.pos++,!0),x=l*this.width*4+4*a;this.data[x]=_,this.data[x+1]=h,this.data[x+2]=f,this.data[x+3]=w}},Jr.prototype.getData=function(){return this.data},function(i){i.processBMP=function(l,a,f,h){var _=new Jr(l,!1),w=_.width,x=_.height,q={data:_.getData(),width:w,height:x},k=new Yp(100).encode(q,100);return i.processJPEG.call(this,k,a,f,h)}}(Vt.API),ef.prototype.getData=function(){return this.data},function(i){i.processWEBP=function(l,a,f,h){var _=new ef(l),w=_.width,x=_.height,q={data:_.getData(),width:w,height:x},k=new Yp(100).encode(q,100);return i.processJPEG.call(this,k,a,f,h)}}(Vt.API),Vt.API.processRGBA=function(i,l,a){for(var f=i.data,h=f.length,_=new Uint8Array(h/4*3),w=new Uint8Array(h/4),x=0,q=0,k=0;k<h;k+=4){var H=f[k+1],V=f[k+2],I=f[k+3];_[x++]=f[k],_[x++]=H,_[x++]=V,w[q++]=I}var le=this.__addimage__.arrayBufferToBinaryString(_);return{alpha:this.__addimage__.arrayBufferToBinaryString(w),data:le,index:l,alias:a,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Vt.API.setLanguage=function(i){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]&&(this.internal.languageSettings.languageCode=i,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},vd=(Yl=Vt.API).getCharWidthsArray=function(i,l){var a,f,h=(l=l||{}).font||this.internal.getFont(),_=l.fontSize||this.internal.getFontSize(),w=l.charSpace||this.internal.getCharSpace(),x=l.widths?l.widths:h.metadata.Unicode.widths,q=x.fof?x.fof:1,k=l.kerning?l.kerning:h.metadata.Unicode.kerning,E=k.fof?k.fof:1,H=!1!==l.doKerning,V=0,I=i.length,le=0,re=x[0]||q,fe=[];for(a=0;a<I;a++)f=i.charCodeAt(a),"function"==typeof h.metadata.widthOfString?fe.push((h.metadata.widthOfGlyph(h.metadata.characterToGlyph(f))+w*(1e3/_)||0)/1e3):(V=H&&"object"===Gt(k[f])&&!isNaN(parseInt(k[f][le],10))?k[f][le]/E:0,fe.push((x[f]||re)/q+V)),le=f;return fe},ol=Yl.getStringUnitWidth=function(i,l){var a=(l=l||{}).fontSize||this.internal.getFontSize(),f=l.font||this.internal.getFont(),h=l.charSpace||this.internal.getCharSpace();return Yl.processArabic&&(i=Yl.processArabic(i)),"function"==typeof f.metadata.widthOfString?f.metadata.widthOfString(i,a,h)/a:vd.apply(this,arguments).reduce(function(_,w){return _+w},0)},H1=function(i,l,a,f){for(var h=[],_=0,w=i.length,x=0;_!==w&&x+l[_]<a;)x+=l[_],_++;h.push(i.slice(0,_));var q=_;for(x=0;_!==w;)x+l[_]>f&&(h.push(i.slice(q,_)),x=0,q=_),x+=l[_],_++;return q!==_&&h.push(i.slice(q,_)),h},Y1=function(i,l,a){a||(a={});var f,h,_,w,x,q,E=[],H=[E],V=a.textIndent||0,I=0,le=0,re=i.split(" "),fe=vd.apply(this,[" ",a])[0];if(q=-1===a.lineIndent?re[0].length+2:a.lineIndent||0){var X=Array(q).join(" "),Se=[];re.map(function(Ze){(Ze=Ze.split(/\s*\n/)).length>1?Se=Se.concat(Ze.map(function($e,Zt){return(Zt&&$e.length?"\n":"")+$e})):Se.push(Ze[0])}),re=Se,q=ol.apply(this,[X,a])}for(_=0,w=re.length;_<w;_++){var Ce=0;if(f=re[_],q&&"\n"==f[0]&&(f=f.substr(1),Ce=1),V+I+(le=(h=vd.apply(this,[f,a])).reduce(function(Ze,$e){return Ze+$e},0))>l||Ce){if(le>l){for(x=H1.apply(this,[f,h,l-(V+I),l]),E.push(x.shift()),E=[x.pop()];x.length;)H.push([x.shift()]);le=h.slice(f.length-(E[0]?E[0].length:0)).reduce(function(Ze,$e){return Ze+$e},0)}else E=[f];H.push(E),V=le+q,I=fe}else E.push(f),V+=I+le,I=fe}return H.map(q?function(Ze,$e){return($e?X:"")+Ze.join(" ")}:function(Ze){return Ze.join(" ")})},Yl.splitTextToSize=function(i,l,a){var f,h=(a=a||{}).fontSize||this.internal.getFontSize(),_=function(E){if(E.widths&&E.kerning)return{widths:E.widths,kerning:E.kerning};var H=this.internal.getFont(E.fontName,E.fontStyle),V="Unicode";return H.metadata[V]?{widths:H.metadata[V].widths||{0:1},kerning:H.metadata[V].kerning||{}}:{font:H.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,a);f=Array.isArray(i)?i:String(i).split(/\r?\n/);var w=1*this.internal.scaleFactor*l/h;_.textIndent=a.textIndent?1*a.textIndent*this.internal.scaleFactor/h:0,_.lineIndent=a.lineIndent;var x,q,k=[];for(x=0,q=f.length;x<q;x++)k=k.concat(Y1.apply(this,[f[x],w,_]));return k},function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var l="0123456789abcdef",a="klmnopqrstuvwxyz",f={},h={},_=0;_<16;_++)f[a[_]]=l[_],h[l[_]]=a[_];var w=function(V){return"0x"+parseInt(V,10).toString(16)},x=i.__fontmetrics__.compress=function(V){var I,le,re,fe,X=["{"];for(var Se in V){if(I=V[Se],isNaN(parseInt(Se,10))?le="'"+Se+"'":(Se=parseInt(Se,10),le=(le=w(Se).slice(2)).slice(0,-1)+h[le.slice(-1)]),"number"==typeof I)I<0?(re=w(I).slice(3),fe="-"):(re=w(I).slice(2),fe=""),re=fe+re.slice(0,-1)+h[re.slice(-1)];else{if("object"!==Gt(I))throw new Error("Don't know what to do with value type "+Gt(I)+".");re=x(I)}X.push(le+re)}return X.push("}"),X.join("")},q=i.__fontmetrics__.uncompress=function(V){if("string"!=typeof V)throw new Error("Invalid argument passed to uncompress.");for(var I,le,re,fe,X={},Se=1,Ce=X,Ze=[],$e="",Zt="",gt=V.length-1,ze=1;ze<gt;ze+=1)"'"==(fe=V[ze])?I?(re=I.join(""),I=void 0):I=[]:I?I.push(fe):"{"==fe?(Ze.push([Ce,re]),Ce={},re=void 0):"}"==fe?((le=Ze.pop())[0][le[1]]=Ce,re=void 0,Ce=le[0]):"-"==fe?Se=-1:void 0===re?f.hasOwnProperty(fe)?($e+=f[fe],re=parseInt($e,16)*Se,Se=1,$e=""):$e+=fe:f.hasOwnProperty(fe)?(Zt+=f[fe],Ce[re]=parseInt(Zt,16)*Se,Se=1,re=void 0,Zt=""):Zt+=fe;return X},k={codePages:["WinAnsiEncoding"],WinAnsiEncoding:q("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},E={Unicode:{Courier:k,"Courier-Bold":k,"Courier-BoldOblique":k,"Courier-Oblique":k,Helvetica:k,"Helvetica-Bold":k,"Helvetica-BoldOblique":k,"Helvetica-Oblique":k,"Times-Roman":k,"Times-Bold":k,"Times-BoldItalic":k,"Times-Italic":k}},H={Unicode:{"Courier-Oblique":q("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":q("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":q("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:q("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":q("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":q("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:q("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:q("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":q("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:q("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":q("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":q("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":q("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":q("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(V){var I=V.font,le=H.Unicode[I.postScriptName];le&&(I.metadata.Unicode={},I.metadata.Unicode.widths=le.widths,I.metadata.Unicode.kerning=le.kerning);var re=E.Unicode[I.postScriptName];re&&(I.metadata.Unicode.encoding=re,I.encoding=re.codePages[0])}])}(Vt.API),function(i){var l=function(a){for(var f=a.length,h=new Uint8Array(f),_=0;_<f;_++)h[_]=a.charCodeAt(_);return h};i.API.events.push(["addFont",function(a){var w,x,f=void 0,h=a.font,_=a.instance;if(!h.isStandardFont){if(void 0===_)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+h.postScriptName+"').");if("string"!=typeof(f=!1===_.existsFileInVFS(h.postScriptName)?_.loadFile(h.postScriptName):_.getFileFromVFS(h.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+h.postScriptName+"').");w=h,x=/^\x00\x01\x00\x00/.test(x=f)?l(x):l(md(x)),w.metadata=i.API.TTFFont.open(x),w.metadata.Unicode=w.metadata.Unicode||{encoding:{},kerning:{},widths:[]},w.metadata.glyIdsUsed=[0]}}])}(Vt),Vt.API.addSvgAsImage=function(i,l,a,f,h,_,w,x){if(isNaN(l)||isNaN(a))throw yo.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(f)||isNaN(h))throw yo.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var q=document.createElement("canvas");q.width=f,q.height=h;var k=q.getContext("2d");k.fillStyle="#fff",k.fillRect(0,0,q.width,q.height);var E={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},H=this;return(mn.canvg?Promise.resolve(mn.canvg):cn.e(489).then(cn.bind(cn,6489))).catch(function(V){return Promise.reject(new Error("Could not load canvg: "+V))}).then(function(V){return V.default?V.default:V}).then(function(V){return V.fromString(k,i,E)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(V){return V.render(E)}).then(function(){H.addImage(q.toDataURL("image/jpeg",1),l,a,f,h,w,x)})},Vt.API.putTotalPages=function(i){var l,a=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(l=new RegExp(i,"g"),a=this.internal.getNumberOfPages()):(l=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),a=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var f=1;f<=this.internal.getNumberOfPages();f++)for(var h=0;h<this.internal.pages[f].length;h++)this.internal.pages[f][h]=this.internal.pages[f][h].replace(l,a);return this},Vt.API.viewerPreferences=function(i,l){var a;i=i||{},l=l||!1;var f,h,_,w={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},x=Object.keys(w),q=[],k=0,E=0,H=0;function V(le,re){var fe,X=!1;for(fe=0;fe<le.length;fe+=1)le[fe]===re&&(X=!0);return X}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(w)),this.internal.viewerpreferences.isSubscribed=!1),a=this.internal.viewerpreferences.configuration,"reset"===i||!0===l){var I=x.length;for(H=0;H<I;H+=1)a[x[H]].value=a[x[H]].defaultValue,a[x[H]].explicitSet=!1}if("object"===Gt(i))for(h in i)if(_=i[h],V(x,h)&&void 0!==_){if("boolean"===a[h].type&&"boolean"==typeof _)a[h].value=_;else if("name"===a[h].type&&V(a[h].valueSet,_))a[h].value=_;else if("integer"===a[h].type&&Number.isInteger(_))a[h].value=_;else if("array"===a[h].type){for(k=0;k<_.length;k+=1)if(f=!0,1===_[k].length&&"number"==typeof _[k][0])q.push(String(_[k]-1));else if(_[k].length>1){for(E=0;E<_[k].length;E+=1)"number"!=typeof _[k][E]&&(f=!1);!0===f&&q.push([_[k][0]-1,_[k][1]-1].join(" "))}a[h].value="["+q.join(" ")+"]"}else a[h].value=a[h].defaultValue;a[h].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var le,re=[];for(le in a)!0===a[le].explicitSet&&re.push("name"===a[le].type?"/"+le+" /"+a[le].value:"/"+le+" "+a[le].value);0!==re.length&&this.internal.write("/ViewerPreferences\n<<\n"+re.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=a,this},function(i){var l=function(){var f='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',h=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),_=unescape(encodeURIComponent(f)),w=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),x=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),q=unescape(encodeURIComponent("</x:xmpmeta>")),k=_.length+w.length+x.length+h.length+q.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+k+" >>"),this.internal.write("stream"),this.internal.write(h+_+w+x+q),this.internal.write("endstream"),this.internal.write("endobj")},a=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(f,h){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:f,namespaceuri:h||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",a),this.internal.events.subscribe("postPutResources",l)),this}}(Vt.API),function(i){var l=i.API,a=l.pdfEscape16=function(_,w){for(var x,q=w.metadata.Unicode.widths,k=["","0","00","000","0000"],E=[""],H=0,V=_.length;H<V;++H){if(x=w.metadata.characterToGlyph(_.charCodeAt(H)),w.metadata.glyIdsUsed.push(x),w.metadata.toUnicode[x]=_.charCodeAt(H),-1==q.indexOf(x)&&(q.push(x),q.push([parseInt(w.metadata.widthOfGlyph(x),10)])),"0"==x)return E.join("");x=x.toString(16),E.push(k[4-x.length],x)}return E.join("")},f=function(_){var w,x,q,k,E,H,V;for(E="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",q=[],H=0,V=(x=Object.keys(_).sort(function(I,le){return I-le})).length;H<V;H++)w=x[H],q.length>=100&&(E+="\n"+q.length+" beginbfchar\n"+q.join("\n")+"\nendbfchar",q=[]),null!=_[w]&&"function"==typeof _[w].toString&&(k=("0000"+_[w].toString(16)).slice(-4),w=("0000"+(+w).toString(16)).slice(-4),q.push("<"+w+"><"+k+">"));return q.length&&(E+="\n"+q.length+" beginbfchar\n"+q.join("\n")+"\nendbfchar\n"),E+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};l.events.push(["putFont",function(_){!function(w){var x=w.font,q=w.out,k=w.newObject,E=w.putStream;if(x.metadata instanceof i.API.TTFFont&&"Identity-H"===x.encoding){for(var H=x.metadata.Unicode.widths,V=x.metadata.subset.encode(x.metadata.glyIdsUsed,1),I="",le=0;le<V.length;le++)I+=String.fromCharCode(V[le]);var re=k();E({data:I,addLength1:!0,objectId:re}),q("endobj");var fe=k();E({data:f(x.metadata.toUnicode),addLength1:!0,objectId:fe}),q("endobj");var X=k();q("<<"),q("/Type /FontDescriptor"),q("/FontName /"+Jl(x.fontName)),q("/FontFile2 "+re+" 0 R"),q("/FontBBox "+i.API.PDFObject.convert(x.metadata.bbox)),q("/Flags "+x.metadata.flags),q("/StemV "+x.metadata.stemV),q("/ItalicAngle "+x.metadata.italicAngle),q("/Ascent "+x.metadata.ascender),q("/Descent "+x.metadata.decender),q("/CapHeight "+x.metadata.capHeight),q(">>"),q("endobj");var Se=k();q("<<"),q("/Type /Font"),q("/BaseFont /"+Jl(x.fontName)),q("/FontDescriptor "+X+" 0 R"),q("/W "+i.API.PDFObject.convert(H)),q("/CIDToGIDMap /Identity"),q("/DW 1000"),q("/Subtype /CIDFontType2"),q("/CIDSystemInfo"),q("<<"),q("/Supplement 0"),q("/Registry (Adobe)"),q("/Ordering ("+x.encoding+")"),q(">>"),q(">>"),q("endobj"),x.objectNumber=k(),q("<<"),q("/Type /Font"),q("/Subtype /Type0"),q("/ToUnicode "+fe+" 0 R"),q("/BaseFont /"+Jl(x.fontName)),q("/Encoding /"+x.encoding),q("/DescendantFonts ["+Se+" 0 R]"),q(">>"),q("endobj"),x.isAlreadyPutted=!0}}(_)}]),l.events.push(["putFont",function(_){!function(w){var x=w.font,q=w.out,k=w.newObject,E=w.putStream;if(x.metadata instanceof i.API.TTFFont&&"WinAnsiEncoding"===x.encoding){for(var H=x.metadata.rawData,V="",I=0;I<H.length;I++)V+=String.fromCharCode(H[I]);var le=k();E({data:V,addLength1:!0,objectId:le}),q("endobj");var re=k();E({data:f(x.metadata.toUnicode),addLength1:!0,objectId:re}),q("endobj");var fe=k();q("<<"),q("/Descent "+x.metadata.decender),q("/CapHeight "+x.metadata.capHeight),q("/StemV "+x.metadata.stemV),q("/Type /FontDescriptor"),q("/FontFile2 "+le+" 0 R"),q("/Flags 96"),q("/FontBBox "+i.API.PDFObject.convert(x.metadata.bbox)),q("/FontName /"+Jl(x.fontName)),q("/ItalicAngle "+x.metadata.italicAngle),q("/Ascent "+x.metadata.ascender),q(">>"),q("endobj"),x.objectNumber=k();for(var X=0;X<x.metadata.hmtx.widths.length;X++)x.metadata.hmtx.widths[X]=parseInt(x.metadata.hmtx.widths[X]*(1e3/x.metadata.head.unitsPerEm));q("<</Subtype/TrueType/Type/Font/ToUnicode "+re+" 0 R/BaseFont/"+Jl(x.fontName)+"/FontDescriptor "+fe+" 0 R/Encoding/"+x.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(x.metadata.hmtx.widths)+">>"),q("endobj"),x.isAlreadyPutted=!0}}(_)}]);var h=function(_){var w,x=_.text||"",q=_.x,k=_.y,E=_.options||{},H=_.mutex||{},V=H.pdfEscape,I=H.activeFontKey,le=H.fonts,re=I,fe="",X=0,Se="",Ce=le[re].encoding;if("Identity-H"!==le[re].encoding)return{text:x,x:q,y:k,options:E,mutex:H};for(Se=x,re=I,Array.isArray(x)&&(Se=x[0]),X=0;X<Se.length;X+=1)le[re].metadata.hasOwnProperty("cmap")&&(w=le[re].metadata.cmap.unicode.codeMap[Se[X].charCodeAt(0)]),w||Se[X].charCodeAt(0)<256&&le[re].metadata.hasOwnProperty("Unicode")?fe+=Se[X]:fe+="";var Ze="";return parseInt(re.slice(1))<14||"WinAnsiEncoding"===Ce?Ze=V(fe,re).split("").map(function($e){return $e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===Ce&&(Ze=a(fe,le[re])),H.isHex=!0,{text:Ze,x:q,y:k,options:E,mutex:H}};l.events.push(["postProcessText",function(_){var w=_.text||"",x=[],q={text:w,x:_.x,y:_.y,options:_.options,mutex:_.mutex};if(Array.isArray(w)){var k=0;for(k=0;k<w.length;k+=1)Array.isArray(w[k])&&3===w[k].length?x.push([h(Object.assign({},q,{text:w[k][0]})).text,w[k][1],w[k][2]]):x.push(h(Object.assign({},q,{text:w[k]})).text);_.text=x}else _.text=h(Object.assign({},q,{text:w})).text}])}(Vt),function(i){var l=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(a){return l.call(this),void 0!==this.internal.vFS[a]},i.addFileToVFS=function(a,f){return l.call(this),this.internal.vFS[a]=f,this},i.getFileFromVFS=function(a){return l.call(this),void 0!==this.internal.vFS[a]?this.internal.vFS[a]:null}}(Vt.API),function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(f){var h,_,w,x,q,k,E,H=l,V=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],I=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],le={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},re={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},fe=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],X=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Se=!1,Ce=0;this.__bidiEngine__={};var Ze=function(Q){var se=Q.charCodeAt(),xe=se>>8,Ae=re[xe];return void 0!==Ae?H[256*Ae+(255&se)]:252===xe||253===xe?"AL":X.test(xe)?"L":8===xe?"R":"N"},$e=function(Q){for(var se,xe=0;xe<Q.length;xe++){if("L"===(se=Ze(Q.charAt(xe))))return!1;if("R"===se)return!0}return!1},Zt=function(Q,se,xe,Ae){var Qe,rt,ft,Ge,ct=se[Ae];switch(ct){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Se=!1;break;case"N":case"AN":break;case"EN":Se&&(ct="AN");break;case"AL":Se=!0,ct="R";break;case"WS":case"BN":ct="N";break;case"CS":Ae<1||Ae+1>=se.length||"EN"!==(Qe=xe[Ae-1])&&"AN"!==Qe||"EN"!==(rt=se[Ae+1])&&"AN"!==rt?ct="N":Se&&(rt="AN"),ct=rt===Qe?rt:"N";break;case"ES":ct="EN"===(Qe=Ae>0?xe[Ae-1]:"B")&&Ae+1<se.length&&"EN"===se[Ae+1]?"EN":"N";break;case"ET":if(Ae>0&&"EN"===xe[Ae-1]){ct="EN";break}if(Se){ct="N";break}for(ft=Ae+1,Ge=se.length;ft<Ge&&"ET"===se[ft];)ft++;ct=ft<Ge&&"EN"===se[ft]?"EN":"N";break;case"NSM":if(w&&!x){for(Ge=se.length,ft=Ae+1;ft<Ge&&"NSM"===se[ft];)ft++;if(ft<Ge){var Pt=Q[Ae];if(Qe=se[ft],(Pt>=1425&&Pt<=2303||64286===Pt)&&("R"===Qe||"AL"===Qe)){ct="R";break}}}ct=Ae<1||"B"===(Qe=se[Ae-1])?"N":xe[Ae-1];break;case"B":Se=!1,h=!0,ct=Ce;break;case"S":_=!0,ct="N"}return ct},gt=function(Q,se,xe){var Ae=Q.split("");return xe&&ze(Ae,xe,{hiLevel:Ce}),Ae.reverse(),se&&se.reverse(),Ae.join("")},ze=function(Q,se,xe){var Ae,Qe,rt,ft,Ge,ct=-1,Pt=Q.length,At=0,J=[],ce=Ce?I:V,_e=[];for(Se=!1,h=!1,_=!1,Qe=0;Qe<Pt;Qe++)_e[Qe]=Ze(Q[Qe]);for(rt=0;rt<Pt;rt++){if(Ge=At,J[rt]=Zt(Q,_e,J,rt),Ae=240&(At=ce[Ge][le[J[rt]]]),se[rt]=ft=ce[At&=15][5],Ae>0)if(16===Ae){for(Qe=ct;Qe<rt;Qe++)se[Qe]=1;ct=-1}else ct=-1;if(ce[At][6])-1===ct&&(ct=rt);else if(ct>-1){for(Qe=ct;Qe<rt;Qe++)se[Qe]=ft;ct=-1}"B"===_e[rt]&&(se[rt]=0),xe.hiLevel|=ft}_&&function(ke,Oe,De){for(var Ve=0;Ve<De;Ve++)if("S"===ke[Ve]){Oe[Ve]=Ce;for(var We=Ve-1;We>=0&&"WS"===ke[We];We--)Oe[We]=Ce}}(_e,se,Pt)},Te=function(Q,se,xe,Ae,Qe){if(!(Qe.hiLevel<Q)){if(1===Q&&1===Ce&&!h)return se.reverse(),void(xe&&xe.reverse());for(var rt,ft,Ge,ct,Pt=se.length,At=0;At<Pt;){if(Ae[At]>=Q){for(Ge=At+1;Ge<Pt&&Ae[Ge]>=Q;)Ge++;for(ct=At,ft=Ge-1;ct<ft;ct++,ft--)rt=se[ct],se[ct]=se[ft],se[ft]=rt,xe&&(rt=xe[ct],xe[ct]=xe[ft],xe[ft]=rt);At=Ge}At++}}},Je=function(Q,se,xe){var Ae=Q.split(""),Qe={hiLevel:Ce};return xe||(xe=[]),ze(Ae,xe,Qe),function(rt,ft,Ge){if(0!==Ge.hiLevel&&E)for(var ct,Pt=0;Pt<rt.length;Pt++)1===ft[Pt]&&(ct=fe.indexOf(rt[Pt]))>=0&&(rt[Pt]=fe[ct+1])}(Ae,xe,Qe),Te(2,Ae,se,xe,Qe),Te(1,Ae,se,xe,Qe),Ae.join("")};return this.__bidiEngine__.doBidiReorder=function(Q,se,xe){if(function(Qe,rt){if(rt)for(var ft=0;ft<Qe.length;ft++)rt[ft]=ft;void 0===x&&(x=$e(Qe)),void 0===k&&(k=$e(Qe))}(Q,se),w||!q||k)if(w&&q&&x^k)Ce=x?1:0,Q=gt(Q,se,xe);else if(!w&&q&&k)Ce=x?1:0,Q=Je(Q,se,xe),Q=gt(Q,se);else if(!w||x||q||k){if(w&&!q&&x^k)Q=gt(Q,se),x?(Ce=0,Q=Je(Q,se,xe)):(Ce=1,Q=Je(Q,se,xe),Q=gt(Q,se));else if(w&&x&&!q&&k)Ce=1,Q=Je(Q,se,xe),Q=gt(Q,se);else if(!w&&!q&&x^k){var Ae=E;x?(Ce=1,Q=Je(Q,se,xe),Ce=0,E=!1,Q=Je(Q,se,xe),E=Ae):(Ce=0,Q=Je(Q,se,xe),Q=gt(Q,se),Ce=1,E=!1,Q=Je(Q,se,xe),E=Ae,Q=gt(Q,se))}}else Ce=0,Q=Je(Q,se,xe);else Ce=x?1:0,Q=Je(Q,se,xe);return Q},this.__bidiEngine__.setOptions=function(Q){Q&&(w=Q.isInputVisual,q=Q.isOutputVisual,x=Q.isInputRtl,k=Q.isOutputRtl,E=Q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(f),this.__bidiEngine__};var l=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],a=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(f){var h=f.text,_=f.options||{},w=[];if(_.isInputVisual="boolean"!=typeof _.isInputVisual||_.isInputVisual,a.setOptions(_),"[object Array]"===Object.prototype.toString.call(h)){var x=0;for(w=[],x=0;x<h.length;x+=1)"[object Array]"===Object.prototype.toString.call(h[x])?w.push([a.doBidiReorder(h[x][0]),h[x][1],h[x][2]]):w.push([a.doBidiReorder(h[x])]);f.text=w}else f.text=a.doBidiReorder(h);a.setOptions({isInputVisual:!0})}])}(Vt),Vt.API.TTFFont=function(){function i(l){var a;if(this.rawData=l,a=this.contents=new Cs(l),this.contents.pos=4,"ttcf"===a.readString(4))throw new Error("TTCF not supported.");a.pos=0,this.parse(),this.subset=new _g(this),this.registerTTF()}return i.open=function(l){return new i(l)},i.prototype.parse=function(){return this.directory=new ig(this.contents),this.head=new ag(this),this.name=new cg(this),this.cmap=new tf(this),this.toUnicode={},this.hhea=new sg(this),this.maxp=new dg(this),this.hmtx=new pg(this),this.post=new ug(this),this.os2=new lg(this),this.loca=new hg(this),this.glyf=new fg(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var a,f,h,_;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var w,x,q,k;for(k=[],w=0,x=(q=this.bbox).length;w<x;w++)k.push(Math.round(q[w]*this.scaleFactor));return k}.call(this),this.stemV=0,this.post.exists?(f=255&(h=this.post.italic_angle),32768&(a=h>>16)&&(a=-(1+(65535^a))),this.italicAngle=+(a+"."+f)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(_=this.familyClass)||2===_||3===_||4===_||5===_||7===_,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(l){var a;return(null!=(a=this.cmap.unicode)?a.codeMap[l]:void 0)||0},i.prototype.widthOfGlyph=function(l){var a;return a=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(l).advance*a},i.prototype.widthOfString=function(l,a,f){var h,_,w,x;for(w=0,_=0,x=(l=""+l).length;0<=x?_<x:_>x;_=0<=x?++_:--_)h=l.charCodeAt(_),w+=this.widthOfGlyph(this.characterToGlyph(h))+f*(1e3/a)||0;return w*(a/1e3)},i.prototype.lineHeight=function(l,a){return null==a&&(a=!1),(this.ascender+(a?this.lineGap:0)-this.decender)/1e3*l},i}();var Gr,Cs=function(){function i(l){this.data=l??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(l){return this.data[this.pos++]=l},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(l){return this.writeByte(l>>>24&255),this.writeByte(l>>16&255),this.writeByte(l>>8&255),this.writeByte(255&l)},i.prototype.readInt32=function(){var l;return(l=this.readUInt32())>=2147483648?l-4294967296:l},i.prototype.writeInt32=function(l){return l<0&&(l+=4294967296),this.writeUInt32(l)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(l){return this.writeByte(l>>8&255),this.writeByte(255&l)},i.prototype.readInt16=function(){var l;return(l=this.readUInt16())>=32768?l-65536:l},i.prototype.writeInt16=function(l){return l<0&&(l+=65536),this.writeUInt16(l)},i.prototype.readString=function(l){var a,f;for(f=[],a=0;0<=l?a<l:a>l;a=0<=l?++a:--a)f[a]=String.fromCharCode(this.readByte());return f.join("")},i.prototype.writeString=function(l){var a,f,h;for(h=[],a=0,f=l.length;0<=f?a<f:a>f;a=0<=f?++a:--a)h.push(this.writeByte(l.charCodeAt(a)));return h},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(l){return this.writeInt16(l)},i.prototype.readLongLong=function(){var l,a,f,h,_,w,x,q;return l=this.readByte(),a=this.readByte(),f=this.readByte(),h=this.readByte(),_=this.readByte(),w=this.readByte(),x=this.readByte(),q=this.readByte(),128&l?-1*(72057594037927940*(255^l)+281474976710656*(255^a)+1099511627776*(255^f)+4294967296*(255^h)+16777216*(255^_)+65536*(255^w)+256*(255^x)+(255^q)+1):72057594037927940*l+281474976710656*a+1099511627776*f+4294967296*h+16777216*_+65536*w+256*x+q},i.prototype.writeLongLong=function(l){var a,f;return a=Math.floor(l/4294967296),f=4294967295&l,this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a),this.writeByte(f>>24&255),this.writeByte(f>>16&255),this.writeByte(f>>8&255),this.writeByte(255&f)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(l){return this.writeInt32(l)},i.prototype.read=function(l){var a,f;for(a=[],f=0;0<=l?f<l:f>l;f=0<=l?++f:--f)a.push(this.readByte());return a},i.prototype.write=function(l){var f,h,_;for(_=[],f=0,h=l.length;f<h;f++)_.push(this.writeByte(l[f]));return _},i}(),ig=function(){var i;function l(a){var f,h,_;for(this.scalarType=a.readInt(),this.tableCount=a.readShort(),this.searchRange=a.readShort(),this.entrySelector=a.readShort(),this.rangeShift=a.readShort(),this.tables={},h=0,_=this.tableCount;0<=_?h<_:h>_;h=0<=_?++h:--h)f={tag:a.readString(4),checksum:a.readInt(),offset:a.readInt(),length:a.readInt()},this.tables[f.tag]=f}return l.prototype.encode=function(a){var f,h,w,x,q,k,E,H,V,I,le,re;for(re in I=Object.keys(a).length,q=Math.log(2),H=16*Math.floor(Math.log(I)/q),w=Math.floor(H/q),E=16*I-H,(h=new Cs).writeInt(this.scalarType),h.writeShort(I),h.writeShort(H),h.writeShort(w),h.writeShort(E),k=h.pos+16*I,x=null,le=[],a)for(V=a[re],h.writeString(re),h.writeInt(i(V)),h.writeInt(k),h.writeInt(V.length),le=le.concat(V),"head"===re&&(x=k),k+=V.length;k%4;)le.push(0),k++;return h.write(le),f=2981146554-i(h.data),h.pos=x+8,h.writeUInt32(f),h.data},i=function(a){var f,h,_,w;for(a=nf.call(a);a.length%4;)a.push(0);for(_=new Cs(a),h=0,f=0,w=a.length;f<w;f=f+=4)h+=_.readUInt32();return 4294967295&h},l}(),rg={}.hasOwnProperty,Ca=function(i,l){for(var a in l)rg.call(l,a)&&(i[a]=l[a]);function f(){this.constructor=i}return f.prototype=l.prototype,i.prototype=new f,i.__super__=l.prototype,i};Gr=function(){function i(l){var a;this.file=l,this.exists=!!(a=this.file.directory.tables[this.tag]),a&&(this.offset=a.offset,this.length=a.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i}();var ag=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ca(i,Gr),i.prototype.tag="head",i.prototype.parse=function(l){return l.pos=this.offset,this.version=l.readInt(),this.revision=l.readInt(),this.checkSumAdjustment=l.readInt(),this.magicNumber=l.readInt(),this.flags=l.readShort(),this.unitsPerEm=l.readShort(),this.created=l.readLongLong(),this.modified=l.readLongLong(),this.xMin=l.readShort(),this.yMin=l.readShort(),this.xMax=l.readShort(),this.yMax=l.readShort(),this.macStyle=l.readShort(),this.lowestRecPPEM=l.readShort(),this.fontDirectionHint=l.readShort(),this.indexToLocFormat=l.readShort(),this.glyphDataFormat=l.readShort()},i.prototype.encode=function(l){var a;return(a=new Cs).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(l),a.writeShort(this.glyphDataFormat),a.data},i}(),al=function(){function i(l,a){var f,h,_,w,x,q,k,E,H,V,I,le,re,fe,X,Se,Ce;switch(this.platformID=l.readUInt16(),this.encodingID=l.readShort(),this.offset=a+l.readInt(),H=l.pos,l.pos=this.offset,this.format=l.readUInt16(),this.length=l.readUInt16(),this.language=l.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(q=0;q<256;++q)this.codeMap[q]=l.readByte();break;case 4:for(I=l.readUInt16(),V=I/2,l.pos+=6,_=function(){var Ze,$e;for($e=[],q=Ze=0;0<=V?Ze<V:Ze>V;q=0<=V?++Ze:--Ze)$e.push(l.readUInt16());return $e}(),l.pos+=2,re=function(){var Ze,$e;for($e=[],q=Ze=0;0<=V?Ze<V:Ze>V;q=0<=V?++Ze:--Ze)$e.push(l.readUInt16());return $e}(),k=function(){var Ze,$e;for($e=[],q=Ze=0;0<=V?Ze<V:Ze>V;q=0<=V?++Ze:--Ze)$e.push(l.readUInt16());return $e}(),E=function(){var Ze,$e;for($e=[],q=Ze=0;0<=V?Ze<V:Ze>V;q=0<=V?++Ze:--Ze)$e.push(l.readUInt16());return $e}(),h=(this.length-l.pos+this.offset)/2,x=function(){var Ze,$e;for($e=[],q=Ze=0;0<=h?Ze<h:Ze>h;q=0<=h?++Ze:--Ze)$e.push(l.readUInt16());return $e}(),q=X=0,Ce=_.length;X<Ce;q=++X)for(fe=_[q],f=Se=le=re[q];le<=fe?Se<=fe:Se>=fe;f=le<=fe?++Se:--Se)0===E[q]?w=f+k[q]:0!==(w=x[E[q]/2+(f-le)-(V-q)]||0)&&(w+=k[q]),this.codeMap[f]=65535&w}l.pos=H}return i.encode=function(l,a){var f,h,_,w,x,q,k,E,H,V,I,le,re,fe,X,Se,Ce,$e,Zt,gt,ze,Te,Je,Q,se,xe,Ae,Qe,rt,ft,Ge,ct,Pt,At,J,ce,_e,ke,Oe,De,Ve,We,dt,Ut,jt;switch(Ae=new Cs,w=Object.keys(l).sort(function(Bt,et){return Bt-et}),a){case"macroman":for(re=0,fe=function(){var Bt=[];for(le=0;le<256;++le)Bt.push(0);return Bt}(),Se={0:0},_={},Qe=0,ct=w.length;Qe<ct;Qe++)null==Se[We=l[h=w[Qe]]]&&(Se[We]=++re),_[h]={old:l[h],new:Se[l[h]]},fe[h]=Se[l[h]];return Ae.writeUInt16(1),Ae.writeUInt16(0),Ae.writeUInt32(12),Ae.writeUInt16(0),Ae.writeUInt16(262),Ae.writeUInt16(0),Ae.write(fe),{charMap:_,subtable:Ae.data,maxGlyphID:re+1};case"unicode":for(se=[],H=[],Ce=0,Se={},f={},X=k=null,rt=0,Pt=w.length;rt<Pt;rt++)null==Se[$e=l[h=w[rt]]]&&(Se[$e]=++Ce),f[h]={old:$e,new:Se[$e]},x=Se[$e]-h,null!=X&&x===k||(X&&H.push(X),se.push(h),k=x),X=h;for(X&&H.push(X),H.push(65535),se.push(65535),Je=2*(Te=se.length),ze=2*Math.pow(Math.log(Te)/Math.LN2,2),V=Math.log(ze/2)/Math.LN2,gt=2*Te-ze,q=[],Zt=[],I=[],le=ft=0,At=se.length;ft<At;le=++ft){if(E=H[le],65535===(Q=se[le])){q.push(0),Zt.push(0);break}if(Q-(xe=f[Q].new)>=32768)for(q.push(0),Zt.push(2*(I.length+Te-le)),h=Ge=Q;Q<=E?Ge<=E:Ge>=E;h=Q<=E?++Ge:--Ge)I.push(f[h].new);else q.push(xe-Q),Zt.push(0)}for(Ae.writeUInt16(3),Ae.writeUInt16(1),Ae.writeUInt32(12),Ae.writeUInt16(4),Ae.writeUInt16(16+8*Te+2*I.length),Ae.writeUInt16(0),Ae.writeUInt16(Je),Ae.writeUInt16(ze),Ae.writeUInt16(V),Ae.writeUInt16(gt),De=0,J=H.length;De<J;De++)Ae.writeUInt16(h=H[De]);for(Ae.writeUInt16(0),Ve=0,ce=se.length;Ve<ce;Ve++)Ae.writeUInt16(h=se[Ve]);for(dt=0,_e=q.length;dt<_e;dt++)Ae.writeUInt16(x=q[dt]);for(Ut=0,ke=Zt.length;Ut<ke;Ut++)Ae.writeUInt16(Zt[Ut]);for(jt=0,Oe=I.length;jt<Oe;jt++)Ae.writeUInt16(re=I[jt]);return{charMap:f,subtable:Ae.data,maxGlyphID:Ce+1}}},i}(),tf=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ca(i,Gr),i.prototype.tag="cmap",i.prototype.parse=function(l){var a,f,h;for(l.pos=this.offset,this.version=l.readUInt16(),h=l.readUInt16(),this.tables=[],this.unicode=null,f=0;0<=h?f<h:f>h;f=0<=h?++f:--f)a=new al(l,this.offset),this.tables.push(a),a.isUnicode&&null==this.unicode&&(this.unicode=a);return!0},i.encode=function(l,a){var f,h;return null==a&&(a="macroman"),f=al.encode(l,a),(h=new Cs).writeUInt16(0),h.writeUInt16(1),f.table=h.data.concat(f.subtable),f},i}(),sg=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ca(i,Gr),i.prototype.tag="hhea",i.prototype.parse=function(l){return l.pos=this.offset,this.version=l.readInt(),this.ascender=l.readShort(),this.decender=l.readShort(),this.lineGap=l.readShort(),this.advanceWidthMax=l.readShort(),this.minLeftSideBearing=l.readShort(),this.minRightSideBearing=l.readShort(),this.xMaxExtent=l.readShort(),this.caretSlopeRise=l.readShort(),this.caretSlopeRun=l.readShort(),this.caretOffset=l.readShort(),l.pos+=8,this.metricDataFormat=l.readShort(),this.numberOfMetrics=l.readUInt16()},i}(),lg=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ca(i,Gr),i.prototype.tag="OS/2",i.prototype.parse=function(l){if(l.pos=this.offset,this.version=l.readUInt16(),this.averageCharWidth=l.readShort(),this.weightClass=l.readUInt16(),this.widthClass=l.readUInt16(),this.type=l.readShort(),this.ySubscriptXSize=l.readShort(),this.ySubscriptYSize=l.readShort(),this.ySubscriptXOffset=l.readShort(),this.ySubscriptYOffset=l.readShort(),this.ySuperscriptXSize=l.readShort(),this.ySuperscriptYSize=l.readShort(),this.ySuperscriptXOffset=l.readShort(),this.ySuperscriptYOffset=l.readShort(),this.yStrikeoutSize=l.readShort(),this.yStrikeoutPosition=l.readShort(),this.familyClass=l.readShort(),this.panose=function(){var a,f;for(f=[],a=0;a<10;++a)f.push(l.readByte());return f}(),this.charRange=function(){var a,f;for(f=[],a=0;a<4;++a)f.push(l.readInt());return f}(),this.vendorID=l.readString(4),this.selection=l.readShort(),this.firstCharIndex=l.readShort(),this.lastCharIndex=l.readShort(),this.version>0&&(this.ascent=l.readShort(),this.descent=l.readShort(),this.lineGap=l.readShort(),this.winAscent=l.readShort(),this.winDescent=l.readShort(),this.codePageRange=function(){var a,f;for(f=[],a=0;a<2;a=++a)f.push(l.readInt());return f}(),this.version>1))return this.xHeight=l.readShort(),this.capHeight=l.readShort(),this.defaultChar=l.readShort(),this.breakChar=l.readShort(),this.maxContext=l.readShort()},i}(),ug=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ca(i,Gr),i.prototype.tag="post",i.prototype.parse=function(l){var a,f,h;switch(l.pos=this.offset,this.format=l.readInt(),this.italicAngle=l.readInt(),this.underlinePosition=l.readShort(),this.underlineThickness=l.readShort(),this.isFixedPitch=l.readInt(),this.minMemType42=l.readInt(),this.maxMemType42=l.readInt(),this.minMemType1=l.readInt(),this.maxMemType1=l.readInt(),this.format){case 65536:case 196608:break;case 131072:var _;for(f=l.readUInt16(),this.glyphNameIndex=[],_=0;0<=f?_<f:_>f;_=0<=f?++_:--_)this.glyphNameIndex.push(l.readUInt16());for(this.names=[],h=[];l.pos<this.offset+this.length;)a=l.readByte(),h.push(this.names.push(l.readString(a)));return h;case 151552:return f=l.readUInt16(),this.offsets=l.read(f);case 262144:return this.map=function(){var w,x,q;for(q=[],_=w=0,x=this.file.maxp.numGlyphs;0<=x?w<x:w>x;_=0<=x?++w:--w)q.push(l.readUInt32());return q}.call(this)}},i}(),Kl=function(i,l){this.raw=i,this.length=i.length,this.platformID=l.platformID,this.encodingID=l.encodingID,this.languageID=l.languageID},cg=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ca(i,Gr),i.prototype.tag="name",i.prototype.parse=function(l){var a,f,h,_,w,x,q,k,E,H,V;for(l.pos=this.offset,l.readShort(),a=l.readShort(),x=l.readShort(),f=[],_=0;0<=a?_<a:_>a;_=0<=a?++_:--_)f.push({platformID:l.readShort(),encodingID:l.readShort(),languageID:l.readShort(),nameID:l.readShort(),length:l.readShort(),offset:this.offset+x+l.readShort()});for(q={},_=E=0,H=f.length;E<H;_=++E)l.pos=(h=f[_]).offset,k=l.readString(h.length),w=new Kl(k,h),null==q[V=h.nameID]&&(q[V]=[]),q[h.nameID].push(w);this.strings=q,this.copyright=q[0],this.fontFamily=q[1],this.fontSubfamily=q[2],this.uniqueSubfamily=q[3],this.fontName=q[4],this.version=q[5];try{this.postscriptName=q[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=q[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=q[7],this.manufacturer=q[8],this.designer=q[9],this.description=q[10],this.vendorUrl=q[11],this.designerUrl=q[12],this.license=q[13],this.licenseUrl=q[14],this.preferredFamily=q[15],this.preferredSubfamily=q[17],this.compatibleFull=q[18],this.sampleText=q[19]},i}(),dg=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ca(i,Gr),i.prototype.tag="maxp",i.prototype.parse=function(l){return l.pos=this.offset,this.version=l.readInt(),this.numGlyphs=l.readUInt16(),this.maxPoints=l.readUInt16(),this.maxContours=l.readUInt16(),this.maxCompositePoints=l.readUInt16(),this.maxComponentContours=l.readUInt16(),this.maxZones=l.readUInt16(),this.maxTwilightPoints=l.readUInt16(),this.maxStorage=l.readUInt16(),this.maxFunctionDefs=l.readUInt16(),this.maxInstructionDefs=l.readUInt16(),this.maxStackElements=l.readUInt16(),this.maxSizeOfInstructions=l.readUInt16(),this.maxComponentElements=l.readUInt16(),this.maxComponentDepth=l.readUInt16()},i}(),pg=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ca(i,Gr),i.prototype.tag="hmtx",i.prototype.parse=function(l){var a,f,h,w,x,q;for(l.pos=this.offset,this.metrics=[],a=0,x=this.file.hhea.numberOfMetrics;0<=x?a<x:a>x;a=0<=x?++a:--a)this.metrics.push({advance:l.readUInt16(),lsb:l.readInt16()});for(h=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var k,E;for(E=[],a=k=0;0<=h?k<h:k>h;a=0<=h?++k:--k)E.push(l.readInt16());return E}(),this.widths=function(){var k,E,H,V;for(V=[],k=0,E=(H=this.metrics).length;k<E;k++)V.push(H[k].advance);return V}.call(this),f=this.widths[this.widths.length-1],q=[],a=w=0;0<=h?w<h:w>h;a=0<=h?++w:--w)q.push(this.widths.push(f));return q},i.prototype.forGlyph=function(l){return l in this.metrics?this.metrics[l]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[l-this.metrics.length]}},i}(),nf=[].slice,fg=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ca(i,Gr),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(l){var a,f,h,_,w,x,q,k,E,H;return l in this.cache?this.cache[l]:(a=this.file.contents,f=(_=this.file.loca).indexOf(l),0===(h=_.lengthOf(l))?this.cache[l]=null:(a.pos=this.offset+f,w=(x=new Cs(a.read(h))).readShort(),k=x.readShort(),H=x.readShort(),q=x.readShort(),E=x.readShort(),this.cache[l]=-1===w?new mg(x,k,H,q,E):new gg(x,w,k,H,q,E),this.cache[l]))},i.prototype.encode=function(l,a,f){var h,_,w,x,q;for(w=[],_=[],x=0,q=a.length;x<q;x++)h=l[a[x]],_.push(w.length),h&&(w=w.concat(h.encode(f)));return _.push(w.length),{table:w,offsets:_}},i}(),gg=function(){function i(l,a,f,h,_,w){this.raw=l,this.numberOfContours=a,this.xMin=f,this.yMin=h,this.xMax=_,this.yMax=w,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i}(),mg=function(){function i(l,a,f,h,_){var w,x;for(this.raw=l,this.xMin=a,this.yMin=f,this.xMax=h,this.yMax=_,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],w=this.raw;x=w.readShort(),this.glyphOffsets.push(w.pos),this.glyphIDs.push(w.readUInt16()),32&x;)w.pos+=1&x?4:2,128&x?w.pos+=8:64&x?w.pos+=4:8&x&&(w.pos+=2)}return i.prototype.encode=function(){var l,a,f;for(a=new Cs(nf.call(this.raw.data)),l=0,f=this.glyphIDs.length;l<f;++l)a.pos=this.glyphOffsets[l];return a.data},i}(),hg=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ca(i,Gr),i.prototype.tag="loca",i.prototype.parse=function(l){var f;return l.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var h,_;for(_=[],f=0,h=this.length;f<h;f+=2)_.push(2*l.readUInt16());return _}.call(this):function(){var h,_;for(_=[],f=0,h=this.length;f<h;f+=4)_.push(l.readUInt32());return _}.call(this)},i.prototype.indexOf=function(l){return this.offsets[l]},i.prototype.lengthOf=function(l){return this.offsets[l+1]-this.offsets[l]},i.prototype.encode=function(l,a){for(var f=new Uint32Array(this.offsets.length),h=0,_=0,w=0;w<f.length;++w)if(f[w]=h,_<a.length&&a[_]==w){++_,f[w]=h;var q=this.offsets[w+1]-this.offsets[w];q>0&&(h+=q)}for(var k=new Array(4*f.length),E=0;E<f.length;++E)k[4*E+3]=255&f[E],k[4*E+2]=(65280&f[E])>>8,k[4*E+1]=(16711680&f[E])>>16,k[4*E]=(4278190080&f[E])>>24;return k},i}(),_g=function(){function i(l){this.font=l,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var l,a,h,_;for(a in h=this.font.cmap.tables[0].codeMap,l={},_=this.subset)l[a]=h[_[a]];return l},i.prototype.glyphsFor=function(l){var a,f,h,_,w,x,q;for(h={},w=0,x=l.length;w<x;w++)h[_=l[w]]=this.font.glyf.glyphFor(_);for(_ in a=[],h)null!=(f=h[_])&&f.compound&&a.push.apply(a,f.glyphIDs);if(a.length>0)for(_ in q=this.glyphsFor(a))h[_]=f=q[_];return h},i.prototype.encode=function(l,a){var f,h,_,w,q,k,E,H,V,I,le,re,fe,X;for(h in f=tf.encode(this.generateCmap(),"unicode"),w=this.glyphsFor(l),I={0:0},X=f.charMap)I[(q=X[h]).old]=q.new;for(le in V=f.maxGlyphID,w)le in I||(I[le]=V++);return E=function(Se){var Ce,Ze;for(Ce in Ze={},Se)Ze[Se[Ce]]=Ce;return Ze}(I),H=Object.keys(E).sort(function(Se,Ce){return Se-Ce}),re=function(){var Se,Ce,Ze;for(Ze=[],Se=0,Ce=H.length;Se<Ce;Se++)Ze.push(E[H[Se]]);return Ze}(),_=this.font.glyf.encode(w,re,I),k=this.font.loca.encode(_.offsets,re),fe={cmap:this.font.cmap.raw(),glyf:_.table,loca:k,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(a)},this.font.os2.exists&&(fe["OS/2"]=this.font.os2.raw()),this.font.directory.encode(fe)},i}();Vt.API.PDFObject=function(){var i;function l(){}return i=function(a,f){return(Array(f+1).join("0")+a).slice(-f)},l.convert=function(a){var h,_;if(Array.isArray(a))return"["+function(){var x,q,k;for(k=[],x=0,q=a.length;x<q;x++)k.push(l.convert(a[x]));return k}().join(" ")+"]";if("string"==typeof a)return"/"+a;if(a?.isString)return"("+a+")";if(a instanceof Date)return"(D:"+i(a.getUTCFullYear(),4)+i(a.getUTCMonth(),2)+i(a.getUTCDate(),2)+i(a.getUTCHours(),2)+i(a.getUTCMinutes(),2)+i(a.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(a)){for(h in _=["<<"],a)_.push("/"+h+" "+l.convert(a[h]));return _.push(">>"),_.join("\n")}return""+a},l}()}}]);